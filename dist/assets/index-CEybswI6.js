var WH=Object.defineProperty;var JH=(t,e,n)=>e in t?WH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var g_=(t,e,n)=>JH(t,typeof e!="symbol"?e+"":e,n);function XH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Iwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y_={exports:{}},Ed={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function QH(){if(LR)return Ed;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return Ed.Fragment=e,Ed.jsx=n,Ed.jsxs=n,Ed}var VR;function ZH(){return VR||(VR=1,y_.exports=QH()),y_.exports}var I=ZH(),v_={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR;function eG(){if(UR)return Ke;UR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function P(k,J,se){this.props=k,this.context=J,this.refs=w,this.updater=se||x}P.prototype.isReactComponent={},P.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function L(){}L.prototype=P.prototype;function D(k,J,se){this.props=k,this.context=J,this.refs=w,this.updater=se||x}var B=D.prototype=new L;B.constructor=D,S(B,P.prototype),B.isPureReactComponent=!0;var F=Array.isArray;function U(){}var N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(k,J,se){var ce=se.ref;return{$$typeof:t,type:k,key:J,ref:ce!==void 0?ce:null,props:se}}function z(k,J){return V(k.type,J,k.props)}function q(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function H(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return J[se]})}var $=/\/+/g;function ve(k,J){return typeof k=="object"&&k!==null&&k.key!=null?H(""+k.key):J.toString(36)}function Ee(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,J,se,ce,be){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var _e=!1;if(k===null)_e=!0;else switch(Te){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(k.$$typeof){case t:case e:_e=!0;break;case h:return _e=k._init,X(_e(k._payload),J,se,ce,be)}}if(_e)return be=be(k),_e=ce===""?"."+ve(k,0):ce,F(be)?(se="",_e!=null&&(se=_e.replace($,"$&/")+"/"),X(be,J,se,"",function(Ce){return Ce})):be!=null&&(q(be)&&(be=z(be,se+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+_e)),J.push(be)),1;_e=0;var Oe=ce===""?".":ce+":";if(F(k))for(var ie=0;ie<k.length;ie++)ce=k[ie],Te=Oe+ve(ce,ie),_e+=X(ce,J,se,Te,be);else if(ie=E(k),typeof ie=="function")for(k=ie.call(k),ie=0;!(ce=k.next()).done;)ce=ce.value,Te=Oe+ve(ce,ie++),_e+=X(ce,J,se,Te,be);else if(Te==="object"){if(typeof k.then=="function")return X(Ee(k),J,se,ce,be);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function te(k,J,se){if(k==null)return k;var ce=[],be=0;return X(k,ce,"","",function(Te){return J.call(se,Te,be++)}),ce}function de(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},K={map:te,forEach:function(k,J,se){te(k,function(){J.apply(this,arguments)},se)},count:function(k){var J=0;return te(k,function(){J++}),J},toArray:function(k){return te(k,function(J){return J})||[]},only:function(k){if(!q(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ke.Activity=p,Ke.Children=K,Ke.Component=P,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=D,Ke.StrictMode=r,Ke.Suspense=c,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Ke.cache=function(k){return function(){return k.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(k,J,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=S({},k.props),be=k.key;if(J!=null)for(Te in J.key!==void 0&&(be=""+J.key),J)!O.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(ce[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)ce.children=se;else if(1<Te){for(var _e=Array(Te),Oe=0;Oe<Te;Oe++)_e[Oe]=arguments[Oe+2];ce.children=_e}return V(k.type,be,ce)},Ke.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Ke.createElement=function(k,J,se){var ce,be={},Te=null;if(J!=null)for(ce in J.key!==void 0&&(Te=""+J.key),J)O.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=J[ce]);var _e=arguments.length-2;if(_e===1)be.children=se;else if(1<_e){for(var Oe=Array(_e),ie=0;ie<_e;ie++)Oe[ie]=arguments[ie+2];be.children=Oe}if(k&&k.defaultProps)for(ce in _e=k.defaultProps,_e)be[ce]===void 0&&(be[ce]=_e[ce]);return V(k,Te,be)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(k){return{$$typeof:u,render:k}},Ke.isValidElement=q,Ke.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:de}},Ke.memo=function(k,J){return{$$typeof:f,type:k,compare:J===void 0?null:J}},Ke.startTransition=function(k){var J=N.T,se={};N.T=se;try{var ce=k(),be=N.S;be!==null&&be(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(U,ue)}catch(Te){ue(Te)}finally{J!==null&&se.types!==null&&(J.types=se.types),N.T=J}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(k){return N.H.use(k)},Ke.useActionState=function(k,J,se){return N.H.useActionState(k,J,se)},Ke.useCallback=function(k,J){return N.H.useCallback(k,J)},Ke.useContext=function(k){return N.H.useContext(k)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(k,J){return N.H.useDeferredValue(k,J)},Ke.useEffect=function(k,J){return N.H.useEffect(k,J)},Ke.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(k,J,se){return N.H.useImperativeHandle(k,J,se)},Ke.useInsertionEffect=function(k,J){return N.H.useInsertionEffect(k,J)},Ke.useLayoutEffect=function(k,J){return N.H.useLayoutEffect(k,J)},Ke.useMemo=function(k,J){return N.H.useMemo(k,J)},Ke.useOptimistic=function(k,J){return N.H.useOptimistic(k,J)},Ke.useReducer=function(k,J,se){return N.H.useReducer(k,J,se)},Ke.useRef=function(k){return N.H.useRef(k)},Ke.useState=function(k){return N.H.useState(k)},Ke.useSyncExternalStore=function(k,J,se){return N.H.useSyncExternalStore(k,J,se)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.2.4",Ke}var BR;function Jc(){return BR||(BR=1,v_.exports=eG()),v_.exports}var A=Jc();const yi=zo(A),tG=XH({__proto__:null,default:yi},[A]);var b_={exports:{}},Td={},__={exports:{}},E_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function nG(){return FR||(FR=1,(function(t){function e(X,te){var de=X.length;X.push(te);e:for(;0<de;){var ue=de-1>>>1,K=X[ue];if(0<i(K,te))X[ue]=te,X[de]=K,de=ue;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var te=X[0],de=X.pop();if(de!==te){X[0]=de;e:for(var ue=0,K=X.length,k=K>>>1;ue<k;){var J=2*(ue+1)-1,se=X[J],ce=J+1,be=X[ce];if(0>i(se,de))ce<K&&0>i(be,se)?(X[ue]=be,X[ce]=de,ue=ce):(X[ue]=se,X[J]=de,ue=J);else if(ce<K&&0>i(be,de))X[ue]=be,X[ce]=de,ue=ce;else break e}}return te}function i(X,te){var de=X.sortIndex-te.sortIndex;return de!==0?de:X.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,p=null,g=3,E=!1,x=!1,S=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=X)r(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(f)}}function F(X){if(S=!1,B(X),!x)if(n(c)!==null)x=!0,U||(U=!0,H());else{var te=n(f);te!==null&&Ee(F,te.startTime-X)}}var U=!1,N=-1,O=5,V=-1;function z(){return w?!0:!(t.unstable_now()-V<O)}function q(){if(w=!1,U){var X=t.unstable_now();V=X;var te=!0;try{e:{x=!1,S&&(S=!1,L(N),N=-1),E=!0;var de=g;try{t:{for(B(X),p=n(c);p!==null&&!(p.expirationTime>X&&z());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var K=ue(p.expirationTime<=X);if(X=t.unstable_now(),typeof K=="function"){p.callback=K,B(X),te=!0;break t}p===n(c)&&r(c),B(X)}else r(c);p=n(c)}if(p!==null)te=!0;else{var k=n(f);k!==null&&Ee(F,k.startTime-X),te=!1}}break e}finally{p=null,g=de,E=!1}te=void 0}}finally{te?H():U=!1}}}var H;if(typeof D=="function")H=function(){D(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ve=$.port2;$.port1.onmessage=q,H=function(){ve.postMessage(null)}}else H=function(){P(q,0)};function Ee(X,te){N=P(function(){X(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var de=g;g=te;try{return X()}finally{g=de}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(X,te){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=g;g=X;try{return te()}finally{g=de}},t.unstable_scheduleCallback=function(X,te,de){var ue=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ue+de:ue):de=ue,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,X={id:h++,callback:te,priorityLevel:X,startTime:de,expirationTime:K,sortIndex:-1},de>ue?(X.sortIndex=de,e(f,X),n(c)===null&&X===n(f)&&(S?(L(N),N=-1):S=!0,Ee(F,de-ue))):(X.sortIndex=K,e(c,X),x||E||(x=!0,U||(U=!0,H()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var te=g;return function(){var de=g;g=te;try{return X.apply(this,arguments)}finally{g=de}}}})(E_)),E_}var jR;function rG(){return jR||(jR=1,__.exports=nG()),__.exports}var T_={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function iG(){if(zR)return lr;zR=1;var t=Jc();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},lr.flushSync=function(c){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=h,r.d.f()}},lr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},lr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},lr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:E}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},lr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},lr.requestFormReset=function(c){r.d.r(c)},lr.unstable_batchedUpdates=function(c,f){return c(f)},lr.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},lr.useFormStatus=function(){return a.H.useHostTransitionStatus()},lr.version="19.2.4",lr}var qR;function ZU(){if(qR)return T_.exports;qR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T_.exports=iG(),T_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR;function oG(){if(HR)return Td;HR=1;var t=rG(),e=Jc(),n=ZU();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,m=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return c(_),s;if(T===m)return c(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=T;else{for(var R=!1,j=_.child;j;){if(j===d){R=!0,d=_,m=T;break}if(j===m){R=!0,m=_,d=T;break}j=j.sibling}if(!R){for(j=T.child;j;){if(j===d){R=!0,d=T,m=_;break}if(j===m){R=!0,m=T,d=_;break}j=j.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case P:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case D:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case B:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return l=s.displayName||null,l!==null?l:ve(s.type)||"Memo";case O:l=s._payload,s=s._init;try{return ve(s(l))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function k(s){return{current:s}}function J(s){0>K||(s.current=ue[K],ue[K]=null,K--)}function se(s,l){K++,ue[K]=s.current,s.current=l}var ce=k(null),be=k(null),Te=k(null),_e=k(null);function Oe(s,l){switch(se(Te,l),se(be,s),se(ce,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?oR(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=oR(l),s=sR(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ce),se(ce,s)}function ie(){J(ce),J(be),J(Te)}function Ce(s){s.memoizedState!==null&&se(_e,s);var l=ce.current,d=sR(l,s.type);l!==d&&(se(be,s),se(ce,d))}function Ie(s){be.current===s&&(J(ce),J(be)),_e.current===s&&(J(_e),yd._currentValue=de)}var he,$e;function we(s){if(he===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);he=l&&l[1]||"",$e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+$e}var et=!1;function st(s,l){if(!s||et)return"";et=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var oe=le}Reflect.construct(s,[],me)}else{try{me.call()}catch(le){oe=le}s.call(me.prototype)}}else{try{throw Error()}catch(le){oe=le}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),R=T[0],j=T[1];if(R&&j){var Y=R.split(`
`),ne=j.split(`
`);for(_=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ne.length&&!ne[_].includes("DetermineComponentFrameRoot");)_++;if(m===Y.length||_===ne.length)for(m=Y.length-1,_=ne.length-1;1<=m&&0<=_&&Y[m]!==ne[_];)_--;for(;1<=m&&0<=_;m--,_--)if(Y[m]!==ne[_]){if(m!==1||_!==1)do if(m--,_--,0>_||Y[m]!==ne[_]){var fe=`
`+Y[m].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=m&&0<=_);break}}}finally{et=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?we(d):""}function Nt(s,l){switch(s.tag){case 26:case 27:case 5:return we(s.type);case 16:return we("Lazy");case 13:return s.child!==l&&l!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return st(s.type,!1);case 11:return st(s.type.render,!1);case 1:return st(s.type,!0);case 31:return we("Activity");default:return""}}function hn(s){try{var l="",d=null;do l+=Nt(s,d),d=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var bt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,Cr=t.unstable_cancelCallback,Qa=t.unstable_shouldYield,Br=t.unstable_requestPaint,ln=t.unstable_now,Pi=t.unstable_getCurrentPriorityLevel,no=t.unstable_ImmediatePriority,Ho=t.unstable_UserBlockingPriority,Fr=t.unstable_NormalPriority,Go=t.unstable_LowPriority,$o=t.unstable_IdlePriority,ro=t.log,Fs=t.unstable_setDisableYieldValue,Vn=null,Cn=null;function Ir(s){if(typeof ro=="function"&&Fs(s),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(Vn,s)}catch{}}var $t=Math.clz32?Math.clz32:yu,Za=Math.log,js=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(Za(s)/js|0)|0}var Se=256,qe=262144,ze=4194304;function at(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tt(s,l,d){var m=s.pendingLanes;if(m===0)return 0;var _=0,T=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var j=m&134217727;return j!==0?(m=j&~T,m!==0?_=at(m):(R&=j,R!==0?_=at(R):d||(d=j&~s,d!==0&&(_=at(d))))):(j=m&~T,j!==0?_=at(j):R!==0?_=at(R):d||(d=m&~s,d!==0&&(_=at(d)))),_===0?0:l!==0&&l!==_&&(l&T)===0&&(T=_&-_,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:_}function Ft(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ri(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(){var s=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),s}function io(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function el(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function E0(s,l,d,m,_,T){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var j=s.entanglements,Y=s.expirationTimes,ne=s.hiddenUpdates;for(d=R&~d;0<d;){var fe=31-$t(d),me=1<<fe;j[fe]=0,Y[fe]=-1;var oe=ne[fe];if(oe!==null)for(ne[fe]=null,fe=0;fe<oe.length;fe++){var le=oe[fe];le!==null&&(le.lane&=-536870913)}d&=~me}m!==0&&tl(s,m,0),T!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=T&~(R&~l))}function tl(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-$t(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function Tf(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var m=31-$t(d),_=1<<m;_&l|s[m]&l&&(s[m]|=l),d&=~_}}function xf(s,l){var d=l&-l;return d=(d&42)!==0?1:nl(d),(d&(s.suspendedLanes|l))!==0?0:d}function nl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ko(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function cp(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:PR(s.type))}function Mi(s,l){var d=te.p;try{return te.p=s,l()}finally{te.p=d}}var Ni=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ni,Un="__reactProps$"+Ni,oo="__reactContainer$"+Ni,vu="__reactEvents$"+Ni,T0="__reactListeners$"+Ni,fp="__reactHandles$"+Ni,dp="__reactResources$"+Ni,so="__reactMarker$"+Ni;function bu(s){delete s[pn],delete s[Un],delete s[vu],delete s[T0],delete s[fp]}function ao(s){var l=s[pn];if(l)return l;for(var d=s.parentNode;d;){if(l=d[oo]||d[pn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=hR(s);s!==null;){if(d=s[pn])return d;s=hR(s)}return l}s=d,d=s.parentNode}return null}function ti(s){if(s=s[pn]||s[oo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function jr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function lo(s){var l=s[dp];return l||(l=s[dp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function mn(s){s[so]=!0}var Sf=new Set,wf={};function uo(s,l){co(s,l),co(s+"Capture",l)}function co(s,l){for(wf[s]=l,s=0;s<l.length;s++)Sf.add(l[s])}var Af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cf={},If={};function hp(s){return bt.call(If,s)?!0:bt.call(Cf,s)?!1:Af.test(s)?If[s]=!0:(Cf[s]=!0,!1)}function _u(s,l,d){if(hp(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function zr(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function gn(s,l,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+m)}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zs(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pf(s,l,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,T=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(R){d=""+R,T.call(this,R)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Tt(s){if(!s._valueTracker){var l=zs(s)?"checked":"value";s._valueTracker=Pf(s,l,""+s[l])}}function rl(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return s&&(m=zs(s)?s.checked?"true":"false":s.value),s=m,s!==d?(l.setValue(s),!0):!1}function fo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var il=/[\n"\\]/g;function Pr(s){return s.replace(il,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Eu(s,l,d,m,_,T,R,j){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),l!=null?R==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Bn(l)):s.value!==""+Bn(l)&&(s.value=""+Bn(l)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),l!=null?Rf(s,R,Bn(l)):d!=null?Rf(s,R,Bn(d)):m!=null&&s.removeAttribute("value"),_==null&&T!=null&&(s.defaultChecked=!!T),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Bn(j):s.removeAttribute("name")}function pp(s,l,d,m,_,T,R,j){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){Tt(s);return}d=d!=null?""+Bn(d):"",l=l!=null?""+Bn(l):d,j||l===s.value||(s.value=l),s.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=j?s.checked:!!m,s.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Tt(s)}function Rf(s,l,d){l==="number"&&fo(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function qs(s,l,d,m){if(s=s.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=l.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&m&&(s[d].defaultSelected=!0)}else{for(d=""+Bn(d),l=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function mp(s,l,d){if(l!=null&&(l=""+Bn(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Bn(d):""}function Hs(s,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Ee(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Bn(l),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),Tt(s)}function Rr(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mf(s,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,d):typeof d!="number"||d===0||gp.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function Nf(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&Mf(s,_,m)}else for(var T in l)l.hasOwnProperty(T)&&Mf(s,T,l[T])}function Tu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(s){return Gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Di(){}var Df=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $s=null,ho=null;function ol(s){var l=ti(s);if(l&&(s=l.stateNode)){var d=s[Un]||null;e:switch(s=l.stateNode,l.type){case"input":if(Eu(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Pr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==s&&m.form===s.form){var _=m[Un]||null;if(!_)throw Error(r(90));Eu(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===s.form&&rl(m)}break e;case"textarea":mp(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&qs(s,!!d.multiple,l,!1)}}}var Su=!1;function Ks(s,l,d){if(Su)return s(l,d);Su=!0;try{var m=s(l);return m}finally{if(Su=!1,($s!==null||ho!==null)&&(cm(),$s&&(l=$s,s=ho,ho=$s=null,ol(l),s)))for(l=0;l<s.length;l++)ol(s[l])}}function Oi(s,l){var d=s.stateNode;if(d===null)return null;var m=d[Un]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(ri)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{sl=!1}var po=null,Of=null,al=null;function kf(){if(al)return al;var s,l=Of,d=l.length,m,_="value"in po?po.value:po.textContent,T=_.length;for(s=0;s<d&&l[s]===_[s];s++);var R=d-s;for(m=1;m<=R&&l[d-m]===_[T-m];m++);return al=_.slice(s,1<m?1-m:void 0)}function ll(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Yo(){return!0}function ki(){return!1}function Wn(s){function l(d,m,_,T,R){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(d=s[j],this[j]=d?d(T):T[j]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Yo:ki,this.isPropagationStopped=ki,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),l}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Wn(Wo),Ys=p({},Wo,{view:0,detail:0}),Lf=Wn(Ys),Ws,wu,go,Au=p({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==go&&(go&&s.type==="mousemove"?(Ws=s.screenX-go.screenX,wu=s.screenY-go.screenY):wu=Ws=0,go=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:wu}}),Vf=Wn(Au),ul=p({},Au,{dataTransfer:0}),vp=Wn(ul),bp=p({},Ys,{relatedTarget:0}),cl=Wn(bp),Uf=p({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),_p=Wn(Uf),Cu=p({},Wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ep=Wn(Cu),Tp=p({},Wo,{data:0}),yo=Wn(Tp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=wp[s])?!!l[s]:!1}function Js(){return Ap}var yr=p({},Ys,{key:function(s){if(s.key){var l=xp[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Sp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(s){return s.type==="keypress"?ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Cp=Wn(yr),Ip=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Wn(Ip),b=p({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),C=Wn(b),M=p({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=Wn(M),Z=p({},Au,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Wn(Z),xe=p({},Wo,{newState:0,oldState:0}),We=Wn(xe),un=[9,13,27,32],gt=ri&&"CompositionEvent"in window,Kt=null;ri&&"documentMode"in document&&(Kt=document.documentMode);var ii=ri&&"TextEvent"in window&&!Kt,vo=ri&&(!gt||Kt&&8<Kt&&11>=Kt),Li=" ",Vi=!1;function fl(s,l){switch(s){case"keyup":return un.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pu=!1;function b9(s,l){switch(s){case"compositionend":return Iu(l);case"keypress":return l.which!==32?null:(Vi=!0,Li);case"textInput":return s=l.data,s===Li&&Vi?null:s;default:return null}}function _9(s,l){if(Pu)return s==="compositionend"||!gt&&fl(s,l)?(s=kf(),al=Of=po=null,Pu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vo&&l.locale!=="ko"?null:l.data;default:return null}}var E9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gC(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!E9[s.type]:l==="textarea"}function yC(s,l,d,m){$s?ho?ho.push(m):ho=[m]:$s=m,l=ym(l,"onChange"),0<l.length&&(d=new mo("onChange","change",null,d,m),s.push({event:d,listeners:l}))}var Bf=null,Ff=null;function T9(s){ZP(s,0)}function Pp(s){var l=jr(s);if(rl(l))return s}function vC(s,l){if(s==="change")return l}var bC=!1;if(ri){var x0;if(ri){var S0="oninput"in document;if(!S0){var _C=document.createElement("div");_C.setAttribute("oninput","return;"),S0=typeof _C.oninput=="function"}x0=S0}else x0=!1;bC=x0&&(!document.documentMode||9<document.documentMode)}function EC(){Bf&&(Bf.detachEvent("onpropertychange",TC),Ff=Bf=null)}function TC(s){if(s.propertyName==="value"&&Pp(Ff)){var l=[];yC(l,Ff,s,ni(s)),Ks(T9,l)}}function x9(s,l,d){s==="focusin"?(EC(),Bf=l,Ff=d,Bf.attachEvent("onpropertychange",TC)):s==="focusout"&&EC()}function S9(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pp(Ff)}function w9(s,l){if(s==="click")return Pp(l)}function A9(s,l){if(s==="input"||s==="change")return Pp(l)}function C9(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var qr=typeof Object.is=="function"?Object.is:C9;function jf(s,l){if(qr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!bt.call(l,_)||!qr(s[_],l[_]))return!1}return!0}function xC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function SC(s,l){var d=xC(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=l&&m>=l)return{node:d,offset:l-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xC(d)}}function wC(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?wC(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function AC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=fo(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=fo(s.document)}return l}function w0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var I9=ri&&"documentMode"in document&&11>=document.documentMode,Ru=null,A0=null,zf=null,C0=!1;function CC(s,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;C0||Ru==null||Ru!==fo(m)||(m=Ru,"selectionStart"in m&&w0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zf&&jf(zf,m)||(zf=m,m=ym(A0,"onSelect"),0<m.length&&(l=new mo("onSelect","select",null,l,d),s.push({event:l,listeners:m}),l.target=Ru)))}function dl(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Mu={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},I0={},IC={};ri&&(IC=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function hl(s){if(I0[s])return I0[s];if(!Mu[s])return s;var l=Mu[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in IC)return I0[s]=l[d];return s}var PC=hl("animationend"),RC=hl("animationiteration"),MC=hl("animationstart"),P9=hl("transitionrun"),R9=hl("transitionstart"),M9=hl("transitioncancel"),NC=hl("transitionend"),DC=new Map,P0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");P0.push("scrollEnd");function Ui(s,l){DC.set(s,l),uo(l,[s])}var Rp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},oi=[],Nu=0,R0=0;function Mp(){for(var s=Nu,l=R0=Nu=0;l<s;){var d=oi[l];oi[l++]=null;var m=oi[l];oi[l++]=null;var _=oi[l];oi[l++]=null;var T=oi[l];if(oi[l++]=null,m!==null&&_!==null){var R=m.pending;R===null?_.next=_:(_.next=R.next,R.next=_),m.pending=_}T!==0&&OC(d,_,T)}}function Np(s,l,d,m){oi[Nu++]=s,oi[Nu++]=l,oi[Nu++]=d,oi[Nu++]=m,R0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function M0(s,l,d,m){return Np(s,l,d,m),Dp(s)}function pl(s,l){return Np(s,null,null,l),Dp(s)}function OC(s,l,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var _=!1,T=s.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(_=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,_&&l!==null&&(_=31-$t(d),s=T.hiddenUpdates,m=s[_],m===null?s[_]=[l]:m.push(l),l.lane=d|536870912),T):null}function Dp(s){if(50<cd)throw cd=0,Fb=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Du={};function N9(s,l,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(s,l,d,m){return new N9(s,l,d,m)}function N0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xo(s,l){var d=s.alternate;return d===null?(d=Hr(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function kC(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Op(s,l,d,m,_,T){var R=0;if(m=s,typeof s=="function")N0(s)&&(R=1);else if(typeof s=="string")R=VH(s,d,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Hr(31,d,l,_),s.elementType=V,s.lanes=T,s;case S:return ml(d.children,_,T,l);case w:R=8,_|=24;break;case P:return s=Hr(12,d,l,_|2),s.elementType=P,s.lanes=T,s;case F:return s=Hr(13,d,l,_),s.elementType=F,s.lanes=T,s;case U:return s=Hr(19,d,l,_),s.elementType=U,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:R=10;break e;case L:R=9;break e;case B:R=11;break e;case N:R=14;break e;case O:R=16,m=null;break e}R=29,d=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=Hr(R,d,l,_),l.elementType=s,l.type=m,l.lanes=T,l}function ml(s,l,d,m){return s=Hr(7,s,m,l),s.lanes=d,s}function D0(s,l,d){return s=Hr(6,s,null,l),s.lanes=d,s}function LC(s){var l=Hr(18,null,null,0);return l.stateNode=s,l}function O0(s,l,d){return l=Hr(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var VC=new WeakMap;function si(s,l){if(typeof s=="object"&&s!==null){var d=VC.get(s);return d!==void 0?d:(l={value:s,source:l,stack:hn(l)},VC.set(s,l),l)}return{value:s,source:l,stack:hn(l)}}var Ou=[],ku=0,kp=null,qf=0,ai=[],li=0,Xs=null,bo=1,_o="";function Qo(s,l){Ou[ku++]=qf,Ou[ku++]=kp,kp=s,qf=l}function UC(s,l,d){ai[li++]=bo,ai[li++]=_o,ai[li++]=Xs,Xs=s;var m=bo;s=_o;var _=32-$t(m)-1;m&=~(1<<_),d+=1;var T=32-$t(l)+_;if(30<T){var R=_-_%5;T=(m&(1<<R)-1).toString(32),m>>=R,_-=R,bo=1<<32-$t(l)+_|d<<_|m,_o=T+s}else bo=1<<T|d<<_|m,_o=s}function k0(s){s.return!==null&&(Qo(s,1),UC(s,1,0))}function L0(s){for(;s===kp;)kp=Ou[--ku],Ou[ku]=null,qf=Ou[--ku],Ou[ku]=null;for(;s===Xs;)Xs=ai[--li],ai[li]=null,_o=ai[--li],ai[li]=null,bo=ai[--li],ai[li]=null}function BC(s,l){ai[li++]=bo,ai[li++]=_o,ai[li++]=Xs,bo=l.id,_o=l.overflow,Xs=s}var Jn=null,jt=null,lt=!1,Qs=null,ui=!1,V0=Error(r(519));function Zs(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hf(si(l,s)),V0}function FC(s){var l=s.stateNode,d=s.type,m=s.memoizedProps;switch(l[pn]=s,l[Un]=m,d){case"dialog":Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":case"embed":Ze("load",l);break;case"video":case"audio":for(d=0;d<dd.length;d++)Ze(dd[d],l);break;case"source":Ze("error",l);break;case"img":case"image":case"link":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"input":Ze("invalid",l),pp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ze("invalid",l);break;case"textarea":Ze("invalid",l),Hs(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||rR(l.textContent,d)?(m.popover!=null&&(Ze("beforetoggle",l),Ze("toggle",l)),m.onScroll!=null&&Ze("scroll",l),m.onScrollEnd!=null&&Ze("scrollend",l),m.onClick!=null&&(l.onclick=Di),l=!0):l=!1,l||Zs(s,!0)}function jC(s){for(Jn=s.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Jn=Jn.return}}function Lu(s){if(s!==Jn)return!1;if(!lt)return jC(s),lt=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||t_(s.type,s.memoizedProps)),d=!d),d&&jt&&Zs(s),jC(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=dR(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=dR(s)}else l===27?(l=jt,ha(s.type)?(s=s_,s_=null,jt=s):jt=l):jt=Jn?fi(s.stateNode.nextSibling):null;return!0}function gl(){jt=Jn=null,lt=!1}function U0(){var s=Qs;return s!==null&&(Or===null?Or=s:Or.push.apply(Or,s),Qs=null),s}function Hf(s){Qs===null?Qs=[s]:Qs.push(s)}var B0=k(null),yl=null,Zo=null;function ea(s,l,d){se(B0,l._currentValue),l._currentValue=d}function es(s){s._currentValue=B0.current,J(B0)}function F0(s,l,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===d)break;s=s.return}}function j0(s,l,d,m){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var T=_.dependencies;if(T!==null){var R=_.child;T=T.firstContext;e:for(;T!==null;){var j=T;T=_;for(var Y=0;Y<l.length;Y++)if(j.context===l[Y]){T.lanes|=d,j=T.alternate,j!==null&&(j.lanes|=d),F0(T.return,d,s),m||(R=null);break e}T=j.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=d,T=R.alternate,T!==null&&(T.lanes|=d),F0(R,d,s),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===s){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function Vu(s,l,d,m){s=null;for(var _=l,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var j=_.type;qr(_.pendingProps.value,R.value)||(s!==null?s.push(j):s=[j])}}else if(_===_e.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(yd):s=[yd])}_=_.return}s!==null&&j0(l,s,d,m),l.flags|=262144}function Lp(s){for(s=s.firstContext;s!==null;){if(!qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vl(s){yl=s,Zo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Xn(s){return zC(yl,s)}function Vp(s,l){return yl===null&&vl(s),zC(s,l)}function zC(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Zo===null){if(s===null)throw Error(r(308));Zo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Zo=Zo.next=l;return d}var D9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},O9=t.unstable_scheduleCallback,k9=t.unstable_NormalPriority,yn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z0(){return{controller:new D9,data:new Map,refCount:0}}function Gf(s){s.refCount--,s.refCount===0&&O9(k9,function(){s.controller.abort()})}var $f=null,q0=0,Uu=0,Bu=null;function L9(s,l){if($f===null){var d=$f=[];q0=0,Uu=$b(),Bu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return q0++,l.then(qC,qC),l}function qC(){if(--q0===0&&$f!==null){Bu!==null&&(Bu.status="fulfilled");var s=$f;$f=null,Uu=0,Bu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function V9(s,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var HC=X.S;X.S=function(s,l){CP=ln(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&L9(s,l),HC!==null&&HC(s,l)};var bl=k(null);function H0(){var s=bl.current;return s!==null?s:Dt.pooledCache}function Up(s,l){l===null?se(bl,bl.current):se(bl,l.pool)}function GC(){var s=H0();return s===null?null:{parent:yn._currentValue,pool:s}}var Fu=Error(r(460)),G0=Error(r(474)),Bp=Error(r(542)),Fp={then:function(){}};function $C(s){return s=s.status,s==="fulfilled"||s==="rejected"}function KC(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Di,Di),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,WC(s),s;default:if(typeof l.status=="string")l.then(Di,Di);else{if(s=Dt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,WC(s),s}throw El=l,Fu}}function _l(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(El=d,Fu):d}}var El=null;function YC(){if(El===null)throw Error(r(459));var s=El;return El=null,s}function WC(s){if(s===Fu||s===Bp)throw Error(r(483))}var ju=null,Kf=0;function jp(s){var l=Kf;return Kf+=1,ju===null&&(ju=[]),KC(ju,s,l)}function Yf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function zp(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function JC(s){function l(Q,W){if(s){var ee=Q.deletions;ee===null?(Q.deletions=[W],Q.flags|=16):ee.push(W)}}function d(Q,W){if(!s)return null;for(;W!==null;)l(Q,W),W=W.sibling;return null}function m(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function _(Q,W){return Q=Xo(Q,W),Q.index=0,Q.sibling=null,Q}function T(Q,W,ee){return Q.index=ee,s?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<W?(Q.flags|=67108866,W):ee):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function j(Q,W,ee,pe){return W===null||W.tag!==6?(W=D0(ee,Q.mode,pe),W.return=Q,W):(W=_(W,ee),W.return=Q,W)}function Y(Q,W,ee,pe){var Ue=ee.type;return Ue===S?fe(Q,W,ee.props.children,pe,ee.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&_l(Ue)===W.type)?(W=_(W,ee.props),Yf(W,ee),W.return=Q,W):(W=Op(ee.type,ee.key,ee.props,null,Q.mode,pe),Yf(W,ee),W.return=Q,W)}function ne(Q,W,ee,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=O0(ee,Q.mode,pe),W.return=Q,W):(W=_(W,ee.children||[]),W.return=Q,W)}function fe(Q,W,ee,pe,Ue){return W===null||W.tag!==7?(W=ml(ee,Q.mode,pe,Ue),W.return=Q,W):(W=_(W,ee),W.return=Q,W)}function me(Q,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=D0(""+W,Q.mode,ee),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return ee=Op(W.type,W.key,W.props,null,Q.mode,ee),Yf(ee,W),ee.return=Q,ee;case x:return W=O0(W,Q.mode,ee),W.return=Q,W;case O:return W=_l(W),me(Q,W,ee)}if(Ee(W)||H(W))return W=ml(W,Q.mode,ee,null),W.return=Q,W;if(typeof W.then=="function")return me(Q,jp(W),ee);if(W.$$typeof===D)return me(Q,Vp(Q,W),ee);zp(Q,W)}return null}function oe(Q,W,ee,pe){var Ue=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ue!==null?null:j(Q,W,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return ee.key===Ue?Y(Q,W,ee,pe):null;case x:return ee.key===Ue?ne(Q,W,ee,pe):null;case O:return ee=_l(ee),oe(Q,W,ee,pe)}if(Ee(ee)||H(ee))return Ue!==null?null:fe(Q,W,ee,pe,null);if(typeof ee.then=="function")return oe(Q,W,jp(ee),pe);if(ee.$$typeof===D)return oe(Q,W,Vp(Q,ee),pe);zp(Q,ee)}return null}function le(Q,W,ee,pe,Ue){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(ee)||null,j(W,Q,""+pe,Ue);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:return Q=Q.get(pe.key===null?ee:pe.key)||null,Y(W,Q,pe,Ue);case x:return Q=Q.get(pe.key===null?ee:pe.key)||null,ne(W,Q,pe,Ue);case O:return pe=_l(pe),le(Q,W,ee,pe,Ue)}if(Ee(pe)||H(pe))return Q=Q.get(ee)||null,fe(W,Q,pe,Ue,null);if(typeof pe.then=="function")return le(Q,W,ee,jp(pe),Ue);if(pe.$$typeof===D)return le(Q,W,ee,Vp(W,pe),Ue);zp(W,pe)}return null}function Ne(Q,W,ee,pe){for(var Ue=null,dt=null,ke=W,Xe=W=0,rt=null;ke!==null&&Xe<ee.length;Xe++){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var ht=oe(Q,ke,ee[Xe],pe);if(ht===null){ke===null&&(ke=rt);break}s&&ke&&ht.alternate===null&&l(Q,ke),W=T(ht,W,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht,ke=rt}if(Xe===ee.length)return d(Q,ke),lt&&Qo(Q,Xe),Ue;if(ke===null){for(;Xe<ee.length;Xe++)ke=me(Q,ee[Xe],pe),ke!==null&&(W=T(ke,W,Xe),dt===null?Ue=ke:dt.sibling=ke,dt=ke);return lt&&Qo(Q,Xe),Ue}for(ke=m(ke);Xe<ee.length;Xe++)rt=le(ke,Q,Xe,ee[Xe],pe),rt!==null&&(s&&rt.alternate!==null&&ke.delete(rt.key===null?Xe:rt.key),W=T(rt,W,Xe),dt===null?Ue=rt:dt.sibling=rt,dt=rt);return s&&ke.forEach(function(va){return l(Q,va)}),lt&&Qo(Q,Xe),Ue}function Fe(Q,W,ee,pe){if(ee==null)throw Error(r(151));for(var Ue=null,dt=null,ke=W,Xe=W=0,rt=null,ht=ee.next();ke!==null&&!ht.done;Xe++,ht=ee.next()){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var va=oe(Q,ke,ht.value,pe);if(va===null){ke===null&&(ke=rt);break}s&&ke&&va.alternate===null&&l(Q,ke),W=T(va,W,Xe),dt===null?Ue=va:dt.sibling=va,dt=va,ke=rt}if(ht.done)return d(Q,ke),lt&&Qo(Q,Xe),Ue;if(ke===null){for(;!ht.done;Xe++,ht=ee.next())ht=me(Q,ht.value,pe),ht!==null&&(W=T(ht,W,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return lt&&Qo(Q,Xe),Ue}for(ke=m(ke);!ht.done;Xe++,ht=ee.next())ht=le(ke,Q,Xe,ht.value,pe),ht!==null&&(s&&ht.alternate!==null&&ke.delete(ht.key===null?Xe:ht.key),W=T(ht,W,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return s&&ke.forEach(function(YH){return l(Q,YH)}),lt&&Qo(Q,Xe),Ue}function Rt(Q,W,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:e:{for(var Ue=ee.key;W!==null;){if(W.key===Ue){if(Ue=ee.type,Ue===S){if(W.tag===7){d(Q,W.sibling),pe=_(W,ee.props.children),pe.return=Q,Q=pe;break e}}else if(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&_l(Ue)===W.type){d(Q,W.sibling),pe=_(W,ee.props),Yf(pe,ee),pe.return=Q,Q=pe;break e}d(Q,W);break}else l(Q,W);W=W.sibling}ee.type===S?(pe=ml(ee.props.children,Q.mode,pe,ee.key),pe.return=Q,Q=pe):(pe=Op(ee.type,ee.key,ee.props,null,Q.mode,pe),Yf(pe,ee),pe.return=Q,Q=pe)}return R(Q);case x:e:{for(Ue=ee.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(Q,W.sibling),pe=_(W,ee.children||[]),pe.return=Q,Q=pe;break e}else{d(Q,W);break}else l(Q,W);W=W.sibling}pe=O0(ee,Q.mode,pe),pe.return=Q,Q=pe}return R(Q);case O:return ee=_l(ee),Rt(Q,W,ee,pe)}if(Ee(ee))return Ne(Q,W,ee,pe);if(H(ee)){if(Ue=H(ee),typeof Ue!="function")throw Error(r(150));return ee=Ue.call(ee),Fe(Q,W,ee,pe)}if(typeof ee.then=="function")return Rt(Q,W,jp(ee),pe);if(ee.$$typeof===D)return Rt(Q,W,Vp(Q,ee),pe);zp(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(Q,W.sibling),pe=_(W,ee),pe.return=Q,Q=pe):(d(Q,W),pe=D0(ee,Q.mode,pe),pe.return=Q,Q=pe),R(Q)):d(Q,W)}return function(Q,W,ee,pe){try{Kf=0;var Ue=Rt(Q,W,ee,pe);return ju=null,Ue}catch(ke){if(ke===Fu||ke===Bp)throw ke;var dt=Hr(29,ke,null,Q.mode);return dt.lanes=pe,dt.return=Q,dt}finally{}}}var Tl=JC(!0),XC=JC(!1),ta=!1;function $0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function K0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function na(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ra(s,l,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=Dp(s),OC(s,null,d),l}return Np(s,m,l,d),Dp(s)}function Wf(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Tf(s,d)}}function Y0(s,l){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?_=T=R:T=T.next=R,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var W0=!1;function Jf(){if(W0){var s=Bu;if(s!==null)throw s}}function Xf(s,l,d,m){W0=!1;var _=s.updateQueue;ta=!1;var T=_.firstBaseUpdate,R=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var Y=j,ne=Y.next;Y.next=null,R===null?T=ne:R.next=ne,R=Y;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,j=fe.lastBaseUpdate,j!==R&&(j===null?fe.firstBaseUpdate=ne:j.next=ne,fe.lastBaseUpdate=Y))}if(T!==null){var me=_.baseState;R=0,fe=ne=Y=null,j=T;do{var oe=j.lane&-536870913,le=oe!==j.lane;if(le?(nt&oe)===oe:(m&oe)===oe){oe!==0&&oe===Uu&&(W0=!0),fe!==null&&(fe=fe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ne=s,Fe=j;oe=l;var Rt=d;switch(Fe.tag){case 1:if(Ne=Fe.payload,typeof Ne=="function"){me=Ne.call(Rt,me,oe);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Fe.payload,oe=typeof Ne=="function"?Ne.call(Rt,me,oe):Ne,oe==null)break e;me=p({},me,oe);break e;case 2:ta=!0}}oe=j.callback,oe!==null&&(s.flags|=64,le&&(s.flags|=8192),le=_.callbacks,le===null?_.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:j.tag,payload:j.payload,callback:j.callback,next:null},fe===null?(ne=fe=le,Y=me):fe=fe.next=le,R|=oe;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;le=j,j=le.next,le.next=null,_.lastBaseUpdate=le,_.shared.pending=null}}while(!0);fe===null&&(Y=me),_.baseState=Y,_.firstBaseUpdate=ne,_.lastBaseUpdate=fe,T===null&&(_.shared.lanes=0),la|=R,s.lanes=R,s.memoizedState=me}}function QC(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function ZC(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)QC(d[s],l)}var zu=k(null),qp=k(0);function eI(s,l){s=us,se(qp,s),se(zu,l),us=s|l.baseLanes}function J0(){se(qp,us),se(zu,zu.current)}function X0(){us=qp.current,J(zu),J(qp)}var Gr=k(null),ci=null;function ia(s){var l=s.alternate;se(cn,cn.current&1),se(Gr,s),ci===null&&(l===null||zu.current!==null||l.memoizedState!==null)&&(ci=s)}function Q0(s){se(cn,cn.current),se(Gr,s),ci===null&&(ci=s)}function tI(s){s.tag===22?(se(cn,cn.current),se(Gr,s),ci===null&&(ci=s)):oa()}function oa(){se(cn,cn.current),se(Gr,Gr.current)}function $r(s){J(Gr),ci===s&&(ci=null),J(cn)}var cn=k(0);function Hp(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||i_(d)||o_(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ts=0,Je=null,It=null,vn=null,Gp=!1,qu=!1,xl=!1,$p=0,Qf=0,Hu=null,U9=0;function en(){throw Error(r(321))}function Z0(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!qr(s[d],l[d]))return!1;return!0}function eb(s,l,d,m,_,T){return ts=T,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=s===null||s.memoizedState===null?UI:mb,xl=!1,T=d(m,_),xl=!1,qu&&(T=rI(l,d,m,_)),nI(s),T}function nI(s){X.H=td;var l=It!==null&&It.next!==null;if(ts=0,vn=It=Je=null,Gp=!1,Qf=0,Hu=null,l)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Lp(s)&&(bn=!0))}function rI(s,l,d,m){Je=s;var _=0;do{if(qu&&(Hu=null),Qf=0,qu=!1,25<=_)throw Error(r(301));if(_+=1,vn=It=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=BI,T=l(d,m)}while(qu);return T}function B9(){var s=X.H,l=s.useState()[0];return l=typeof l.then=="function"?Zf(l):l,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(Je.flags|=1024),l}function tb(){var s=$p!==0;return $p=0,s}function nb(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function rb(s){if(Gp){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Gp=!1}ts=0,vn=It=Je=null,qu=!1,Qf=$p=0,Hu=null}function vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Je.memoizedState=vn=s:vn=vn.next=s,vn}function fn(){if(It===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=vn===null?Je.memoizedState:vn.next;if(l!==null)vn=l,It=s;else{if(s===null)throw Je.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},vn===null?Je.memoizedState=vn=s:vn=vn.next=s}return vn}function Kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zf(s){var l=Qf;return Qf+=1,Hu===null&&(Hu=[]),s=KC(Hu,s,l),l=Je,(vn===null?l.memoizedState:vn.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?UI:mb),s}function Yp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zf(s);if(s.$$typeof===D)return Xn(s)}throw Error(r(438,String(s)))}function ib(s){var l=null,d=Je.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Kp(),Je.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),m=0;m<s;m++)d[m]=z;return l.index++,d}function ns(s,l){return typeof l=="function"?l(s):l}function Wp(s){var l=fn();return ob(l,It,s)}function ob(s,l,d){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=s.baseQueue,T=m.pending;if(T!==null){if(_!==null){var R=_.next;_.next=T.next,T.next=R}l.baseQueue=_=T,m.pending=null}if(T=s.baseState,_===null)s.memoizedState=T;else{l=_.next;var j=R=null,Y=null,ne=l,fe=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(nt&me)===me:(ts&me)===me){var oe=ne.revertLane;if(oe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===Uu&&(fe=!0);else if((ts&oe)===oe){ne=ne.next,oe===Uu&&(fe=!0);continue}else me={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(j=Y=me,R=T):Y=Y.next=me,Je.lanes|=oe,la|=oe;me=ne.action,xl&&d(T,me),T=ne.hasEagerState?ne.eagerState:d(T,me)}else oe={lane:me,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(j=Y=oe,R=T):Y=Y.next=oe,Je.lanes|=me,la|=me;ne=ne.next}while(ne!==null&&ne!==l);if(Y===null?R=T:Y.next=j,!qr(T,s.memoizedState)&&(bn=!0,fe&&(d=Bu,d!==null)))throw d;s.memoizedState=T,s.baseState=R,s.baseQueue=Y,m.lastRenderedState=T}return _===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function sb(s){var l=fn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var R=_=_.next;do T=s(T,R.action),R=R.next;while(R!==_);qr(T,l.memoizedState)||(bn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,m]}function iI(s,l,d){var m=Je,_=fn(),T=lt;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=l();var R=!qr((It||_).memoizedState,d);if(R&&(_.memoizedState=d,bn=!0),_=_.queue,ub(aI.bind(null,m,_,s),[s]),_.getSnapshot!==l||R||vn!==null&&vn.memoizedState.tag&1){if(m.flags|=2048,Gu(9,{destroy:void 0},sI.bind(null,m,_,d,l),null),Dt===null)throw Error(r(349));T||(ts&127)!==0||oI(m,l,d)}return d}function oI(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Je.updateQueue,l===null?(l=Kp(),Je.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function sI(s,l,d,m){l.value=d,l.getSnapshot=m,lI(l)&&uI(s)}function aI(s,l,d){return d(function(){lI(l)&&uI(s)})}function lI(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!qr(s,d)}catch{return!0}}function uI(s){var l=pl(s,2);l!==null&&kr(l,s,2)}function ab(s){var l=vr();if(typeof s=="function"){var d=s;if(s=d(),xl){Ir(!0);try{d()}finally{Ir(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},l}function cI(s,l,d,m){return s.baseState=d,ob(s,It,typeof m=="function"?m:ns)}function F9(s,l,d,m,_){if(Qp(s))throw Error(r(485));if(s=l.action,s!==null){var T={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};X.T!==null?d(!0):T.isTransition=!1,m(T),d=l.pending,d===null?(T.next=l.pending=T,fI(l,T)):(T.next=d.next,l.pending=d.next=T)}}function fI(s,l){var d=l.action,m=l.payload,_=s.state;if(l.isTransition){var T=X.T,R={};X.T=R;try{var j=d(_,m),Y=X.S;Y!==null&&Y(R,j),dI(s,l,j)}catch(ne){lb(s,l,ne)}finally{T!==null&&R.types!==null&&(T.types=R.types),X.T=T}}else try{T=d(_,m),dI(s,l,T)}catch(ne){lb(s,l,ne)}}function dI(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){hI(s,l,m)},function(m){return lb(s,l,m)}):hI(s,l,d)}function hI(s,l,d){l.status="fulfilled",l.value=d,pI(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,fI(s,d)))}function lb(s,l,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,pI(l),l=l.next;while(l!==m)}s.action=null}function pI(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function mI(s,l){return l}function gI(s,l){if(lt){var d=Dt.formState;if(d!==null){e:{var m=Je;if(lt){if(jt){t:{for(var _=jt,T=ui;_.nodeType!==8;){if(!T){_=null;break t}if(_=fi(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){jt=fi(_.nextSibling),m=_.data==="F!";break e}}Zs(m)}m=!1}m&&(l=d[0])}}return d=vr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mI,lastRenderedState:l},d.queue=m,d=kI.bind(null,Je,m),m.dispatch=d,m=ab(!1),T=pb.bind(null,Je,!1,m.queue),m=vr(),_={state:l,dispatch:null,action:s,pending:null},m.queue=_,d=F9.bind(null,Je,_,T,d),_.dispatch=d,m.memoizedState=s,[l,d,!1]}function yI(s){var l=fn();return vI(l,It,s)}function vI(s,l,d){if(l=ob(s,l,mI)[0],s=Wp(ns)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Zf(l)}catch(R){throw R===Fu?Bp:R}else m=l;l=fn();var _=l.queue,T=_.dispatch;return d!==l.memoizedState&&(Je.flags|=2048,Gu(9,{destroy:void 0},j9.bind(null,_,d),null)),[m,T,s]}function j9(s,l){s.action=l}function bI(s){var l=fn(),d=It;if(d!==null)return vI(l,d,s);fn(),l=l.memoizedState,d=fn();var m=d.queue.dispatch;return d.memoizedState=s,[l,m,!1]}function Gu(s,l,d,m){return s={tag:s,create:d,deps:m,inst:l,next:null},l=Je.updateQueue,l===null&&(l=Kp(),Je.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,l.lastEffect=s),s}function _I(){return fn().memoizedState}function Jp(s,l,d,m){var _=vr();Je.flags|=s,_.memoizedState=Gu(1|l,{destroy:void 0},d,m===void 0?null:m)}function Xp(s,l,d,m){var _=fn();m=m===void 0?null:m;var T=_.memoizedState.inst;It!==null&&m!==null&&Z0(m,It.memoizedState.deps)?_.memoizedState=Gu(l,T,d,m):(Je.flags|=s,_.memoizedState=Gu(1|l,T,d,m))}function EI(s,l){Jp(8390656,8,s,l)}function ub(s,l){Xp(2048,8,s,l)}function z9(s){Je.flags|=4;var l=Je.updateQueue;if(l===null)l=Kp(),Je.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function TI(s){var l=fn().memoizedState;return z9({ref:l,nextImpl:s}),function(){if((yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function xI(s,l){return Xp(4,2,s,l)}function SI(s,l){return Xp(4,4,s,l)}function wI(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function AI(s,l,d){d=d!=null?d.concat([s]):null,Xp(4,4,wI.bind(null,l,s),d)}function cb(){}function CI(s,l){var d=fn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Z0(l,m[1])?m[0]:(d.memoizedState=[s,l],s)}function II(s,l){var d=fn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Z0(l,m[1]))return m[0];if(m=s(),xl){Ir(!0);try{s()}finally{Ir(!1)}}return d.memoizedState=[m,l],m}function fb(s,l,d){return d===void 0||(ts&1073741824)!==0&&(nt&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=PP(),Je.lanes|=s,la|=s,d)}function PI(s,l,d,m){return qr(d,l)?d:zu.current!==null?(s=fb(s,d,m),qr(s,l)||(bn=!0),s):(ts&42)===0||(ts&1073741824)!==0&&(nt&261930)===0?(bn=!0,s.memoizedState=d):(s=PP(),Je.lanes|=s,la|=s,l)}function RI(s,l,d,m,_){var T=te.p;te.p=T!==0&&8>T?T:8;var R=X.T,j={};X.T=j,pb(s,!1,l,d);try{var Y=_(),ne=X.S;if(ne!==null&&ne(j,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var fe=V9(Y,m);ed(s,l,fe,Wr(s))}else ed(s,l,m,Wr(s))}catch(me){ed(s,l,{then:function(){},status:"rejected",reason:me},Wr())}finally{te.p=T,R!==null&&j.types!==null&&(R.types=j.types),X.T=R}}function q9(){}function db(s,l,d,m){if(s.tag!==5)throw Error(r(476));var _=MI(s).queue;RI(s,_,l,de,d===null?q9:function(){return NI(s),d(m)})}function MI(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function NI(s){var l=MI(s);l.next===null&&(l=s.alternate.memoizedState),ed(s,l.next.queue,{},Wr())}function hb(){return Xn(yd)}function DI(){return fn().memoizedState}function OI(){return fn().memoizedState}function H9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Wr();s=na(d);var m=ra(l,s,d);m!==null&&(kr(m,l,d),Wf(m,l,d)),l={cache:z0()},s.payload=l;return}l=l.return}}function G9(s,l,d){var m=Wr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Qp(s)?LI(l,d):(d=M0(s,l,d,m),d!==null&&(kr(d,s,m),VI(d,l,m)))}function kI(s,l,d){var m=Wr();ed(s,l,d,m)}function ed(s,l,d,m){var _={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Qp(s))LI(l,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var R=l.lastRenderedState,j=T(R,d);if(_.hasEagerState=!0,_.eagerState=j,qr(j,R))return Np(s,l,_,0),Dt===null&&Mp(),!1}catch{}finally{}if(d=M0(s,l,_,m),d!==null)return kr(d,s,m),VI(d,l,m),!0}return!1}function pb(s,l,d,m){if(m={lane:2,revertLane:$b(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Qp(s)){if(l)throw Error(r(479))}else l=M0(s,d,m,2),l!==null&&kr(l,s,2)}function Qp(s){var l=s.alternate;return s===Je||l!==null&&l===Je}function LI(s,l){qu=Gp=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function VI(s,l,d){if((d&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Tf(s,d)}}var td={readContext:Xn,use:Yp,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};td.useEffectEvent=en;var UI={readContext:Xn,use:Yp,useCallback:function(s,l){return vr().memoizedState=[s,l===void 0?null:l],s},useContext:Xn,useEffect:EI,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Jp(4194308,4,wI.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Jp(4194308,4,s,l)},useInsertionEffect:function(s,l){Jp(4,2,s,l)},useMemo:function(s,l){var d=vr();l=l===void 0?null:l;var m=s();if(xl){Ir(!0);try{s()}finally{Ir(!1)}}return d.memoizedState=[m,l],m},useReducer:function(s,l,d){var m=vr();if(d!==void 0){var _=d(l);if(xl){Ir(!0);try{d(l)}finally{Ir(!1)}}}else _=l;return m.memoizedState=m.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},m.queue=s,s=s.dispatch=G9.bind(null,Je,s),[m.memoizedState,s]},useRef:function(s){var l=vr();return s={current:s},l.memoizedState=s},useState:function(s){s=ab(s);var l=s.queue,d=kI.bind(null,Je,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:cb,useDeferredValue:function(s,l){var d=vr();return fb(d,s,l)},useTransition:function(){var s=ab(!1);return s=RI.bind(null,Je,s.queue,!0,!1),vr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var m=Je,_=vr();if(lt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Dt===null)throw Error(r(349));(nt&127)!==0||oI(m,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,EI(aI.bind(null,m,T,s),[s]),m.flags|=2048,Gu(9,{destroy:void 0},sI.bind(null,m,T,d,l),null),d},useId:function(){var s=vr(),l=Dt.identifierPrefix;if(lt){var d=_o,m=bo;d=(m&~(1<<32-$t(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=$p++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=U9++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:hb,useFormState:gI,useActionState:gI,useOptimistic:function(s){var l=vr();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=pb.bind(null,Je,!0,d),d.dispatch=l,[s,l]},useMemoCache:ib,useCacheRefresh:function(){return vr().memoizedState=H9.bind(null,Je)},useEffectEvent:function(s){var l=vr(),d={impl:s};return l.memoizedState=d,function(){if((yt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},mb={readContext:Xn,use:Yp,useCallback:CI,useContext:Xn,useEffect:ub,useImperativeHandle:AI,useInsertionEffect:xI,useLayoutEffect:SI,useMemo:II,useReducer:Wp,useRef:_I,useState:function(){return Wp(ns)},useDebugValue:cb,useDeferredValue:function(s,l){var d=fn();return PI(d,It.memoizedState,s,l)},useTransition:function(){var s=Wp(ns)[0],l=fn().memoizedState;return[typeof s=="boolean"?s:Zf(s),l]},useSyncExternalStore:iI,useId:DI,useHostTransitionStatus:hb,useFormState:yI,useActionState:yI,useOptimistic:function(s,l){var d=fn();return cI(d,It,s,l)},useMemoCache:ib,useCacheRefresh:OI};mb.useEffectEvent=TI;var BI={readContext:Xn,use:Yp,useCallback:CI,useContext:Xn,useEffect:ub,useImperativeHandle:AI,useInsertionEffect:xI,useLayoutEffect:SI,useMemo:II,useReducer:sb,useRef:_I,useState:function(){return sb(ns)},useDebugValue:cb,useDeferredValue:function(s,l){var d=fn();return It===null?fb(d,s,l):PI(d,It.memoizedState,s,l)},useTransition:function(){var s=sb(ns)[0],l=fn().memoizedState;return[typeof s=="boolean"?s:Zf(s),l]},useSyncExternalStore:iI,useId:DI,useHostTransitionStatus:hb,useFormState:bI,useActionState:bI,useOptimistic:function(s,l){var d=fn();return It!==null?cI(d,It,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:ib,useCacheRefresh:OI};BI.useEffectEvent=TI;function gb(s,l,d,m){l=s.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var yb={enqueueSetState:function(s,l,d){s=s._reactInternals;var m=Wr(),_=na(m);_.payload=l,d!=null&&(_.callback=d),l=ra(s,_,m),l!==null&&(kr(l,s,m),Wf(l,s,m))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var m=Wr(),_=na(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=ra(s,_,m),l!==null&&(kr(l,s,m),Wf(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Wr(),m=na(d);m.tag=2,l!=null&&(m.callback=l),l=ra(s,m,d),l!==null&&(kr(l,s,d),Wf(l,s,d))}};function FI(s,l,d,m,_,T,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,T,R):l.prototype&&l.prototype.isPureReactComponent?!jf(d,m)||!jf(_,T):!0}function jI(s,l,d,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==s&&yb.enqueueReplaceState(l,l.state,null)}function Sl(s,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(s=s.defaultProps){d===l&&(d=p({},d));for(var _ in s)d[_]===void 0&&(d[_]=s[_])}return d}function zI(s){Rp(s)}function qI(s){console.error(s)}function HI(s){Rp(s)}function Zp(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function GI(s,l,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function vb(s,l,d){return d=na(d),d.tag=3,d.payload={element:null},d.callback=function(){Zp(s,l)},d}function $I(s){return s=na(s),s.tag=3,s}function KI(s,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var T=m.value;s.payload=function(){return _(T)},s.callback=function(){GI(l,d,m)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){GI(l,d,m),typeof _!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function $9(s,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Vu(l,d,_,!0),d=Gr.current,d!==null){switch(d.tag){case 31:case 13:return ci===null?fm():d.alternate===null&&tn===0&&(tn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===Fp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),qb(s,m,_)),!1;case 22:return d.flags|=65536,m===Fp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),qb(s,m,_)),!1}throw Error(r(435,d.tag))}return qb(s,m,_),fm(),!1}if(lt)return l=Gr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==V0&&(s=Error(r(422),{cause:m}),Hf(si(s,d)))):(m!==V0&&(l=Error(r(423),{cause:m}),Hf(si(l,d))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,m=si(m,d),_=vb(s.stateNode,m,_),Y0(s,_),tn!==4&&(tn=2)),!1;var T=Error(r(520),{cause:m});if(T=si(T,d),ud===null?ud=[T]:ud.push(T),tn!==4&&(tn=2),l===null)return!0;m=si(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=_&-_,d.lanes|=s,s=vb(d.stateNode,m,s),Y0(d,s),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ua===null||!ua.has(T))))return d.flags|=65536,_&=-_,d.lanes|=_,_=$I(_),KI(_,s,d,m),Y0(d,_),!1}d=d.return}while(d!==null);return!1}var bb=Error(r(461)),bn=!1;function Qn(s,l,d,m){l.child=s===null?XC(l,null,d,m):Tl(l,s.child,d,m)}function YI(s,l,d,m,_){d=d.render;var T=l.ref;if("ref"in m){var R={};for(var j in m)j!=="ref"&&(R[j]=m[j])}else R=m;return vl(l),m=eb(s,l,d,R,T,_),j=tb(),s!==null&&!bn?(nb(s,l,_),rs(s,l,_)):(lt&&j&&k0(l),l.flags|=1,Qn(s,l,m,_),l.child)}function WI(s,l,d,m,_){if(s===null){var T=d.type;return typeof T=="function"&&!N0(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,JI(s,l,T,m,_)):(s=Op(d.type,null,m,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(T=s.child,!Cb(s,_)){var R=T.memoizedProps;if(d=d.compare,d=d!==null?d:jf,d(R,m)&&s.ref===l.ref)return rs(s,l,_)}return l.flags|=1,s=Xo(T,m),s.ref=l.ref,s.return=l,l.child=s}function JI(s,l,d,m,_){if(s!==null){var T=s.memoizedProps;if(jf(T,m)&&s.ref===l.ref)if(bn=!1,l.pendingProps=m=T,Cb(s,_))(s.flags&131072)!==0&&(bn=!0);else return l.lanes=s.lanes,rs(s,l,_)}return _b(s,l,d,m,_)}function XI(s,l,d,m){var _=m.children,T=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,s!==null){for(m=l.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~T}else m=0,l.child=null;return QI(s,l,T,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Up(l,T!==null?T.cachePool:null),T!==null?eI(l,T):J0(),tI(l);else return m=l.lanes=536870912,QI(s,l,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(Up(l,T.cachePool),eI(l,T),oa(),l.memoizedState=null):(s!==null&&Up(l,null),J0(),oa());return Qn(s,l,_,d),l.child}function nd(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function QI(s,l,d,m,_){var T=H0();return T=T===null?null:{parent:yn._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},s!==null&&Up(l,null),J0(),tI(l),s!==null&&Vu(s,l,m,!0),l.childLanes=_,null}function em(s,l){return l=nm({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function ZI(s,l,d){return Tl(l,s.child,null,d),s=em(l,l.pendingProps),s.flags|=2,$r(l),l.memoizedState=null,s}function K9(s,l,d){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(lt){if(m.mode==="hidden")return s=em(l,m),l.lanes=536870912,nd(null,s);if(Q0(l),(s=jt)?(s=fR(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:bo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},d=LC(s),d.return=l,l.child=d,Jn=l,jt=null)):s=null,s===null)throw Zs(l);return l.lanes=536870912,null}return em(l,m)}var T=s.memoizedState;if(T!==null){var R=T.dehydrated;if(Q0(l),_)if(l.flags&256)l.flags&=-257,l=ZI(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(bn||Vu(s,l,d,!1),_=(d&s.childLanes)!==0,bn||_){if(m=Dt,m!==null&&(R=xf(m,d),R!==0&&R!==T.retryLane))throw T.retryLane=R,pl(s,R),kr(m,s,R),bb;fm(),l=ZI(s,l,d)}else s=T.treeContext,jt=fi(R.nextSibling),Jn=l,lt=!0,Qs=null,ui=!1,s!==null&&BC(l,s),l=em(l,m),l.flags|=4096;return l}return s=Xo(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function tm(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function _b(s,l,d,m,_){return vl(l),d=eb(s,l,d,m,void 0,_),m=tb(),s!==null&&!bn?(nb(s,l,_),rs(s,l,_)):(lt&&m&&k0(l),l.flags|=1,Qn(s,l,d,_),l.child)}function eP(s,l,d,m,_,T){return vl(l),l.updateQueue=null,d=rI(l,m,d,_),nI(s),m=tb(),s!==null&&!bn?(nb(s,l,T),rs(s,l,T)):(lt&&m&&k0(l),l.flags|=1,Qn(s,l,d,T),l.child)}function tP(s,l,d,m,_){if(vl(l),l.stateNode===null){var T=Du,R=d.contextType;typeof R=="object"&&R!==null&&(T=Xn(R)),T=new d(m,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=yb,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=m,T.state=l.memoizedState,T.refs={},$0(l),R=d.contextType,T.context=typeof R=="object"&&R!==null?Xn(R):Du,T.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(gb(l,d,R,m),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&yb.enqueueReplaceState(T,T.state,null),Xf(l,m,T,_),Jf(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){T=l.stateNode;var j=l.memoizedProps,Y=Sl(d,j);T.props=Y;var ne=T.context,fe=d.contextType;R=Du,typeof fe=="object"&&fe!==null&&(R=Xn(fe));var me=d.getDerivedStateFromProps;fe=typeof me=="function"||typeof T.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,fe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j||ne!==R)&&jI(l,T,m,R),ta=!1;var oe=l.memoizedState;T.state=oe,Xf(l,m,T,_),Jf(),ne=l.memoizedState,j||oe!==ne||ta?(typeof me=="function"&&(gb(l,d,me,m),ne=l.memoizedState),(Y=ta||FI(l,d,Y,m,oe,ne,R))?(fe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ne),T.props=m,T.state=ne,T.context=R,m=Y):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{T=l.stateNode,K0(s,l),R=l.memoizedProps,fe=Sl(d,R),T.props=fe,me=l.pendingProps,oe=T.context,ne=d.contextType,Y=Du,typeof ne=="object"&&ne!==null&&(Y=Xn(ne)),j=d.getDerivedStateFromProps,(ne=typeof j=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==me||oe!==Y)&&jI(l,T,m,Y),ta=!1,oe=l.memoizedState,T.state=oe,Xf(l,m,T,_),Jf();var le=l.memoizedState;R!==me||oe!==le||ta||s!==null&&s.dependencies!==null&&Lp(s.dependencies)?(typeof j=="function"&&(gb(l,d,j,m),le=l.memoizedState),(fe=ta||FI(l,d,fe,m,oe,le,Y)||s!==null&&s.dependencies!==null&&Lp(s.dependencies))?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,le,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,le,Y)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=le),T.props=m,T.state=le,T.context=Y,m=fe):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),m=!1)}return T=m,tm(s,l),m=(l.flags&128)!==0,T||m?(T=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,s!==null&&m?(l.child=Tl(l,s.child,null,_),l.child=Tl(l,null,d,_)):Qn(s,l,d,_),l.memoizedState=T.state,s=l.child):s=rs(s,l,_),s}function nP(s,l,d,m){return gl(),l.flags|=256,Qn(s,l,d,m),l.child}var Eb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tb(s){return{baseLanes:s,cachePool:GC()}}function xb(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Yr),s}function rP(s,l,d){var m=l.pendingProps,_=!1,T=(l.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(cn.current&2)!==0),R&&(_=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,s===null){if(lt){if(_?ia(l):oa(),(s=jt)?(s=fR(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:bo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},d=LC(s),d.return=l,l.child=d,Jn=l,jt=null)):s=null,s===null)throw Zs(l);return o_(s)?l.lanes=32:l.lanes=536870912,null}var j=m.children;return m=m.fallback,_?(oa(),_=l.mode,j=nm({mode:"hidden",children:j},_),m=ml(m,_,d,null),j.return=l,m.return=l,j.sibling=m,l.child=j,m=l.child,m.memoizedState=Tb(d),m.childLanes=xb(s,R,d),l.memoizedState=Eb,nd(null,m)):(ia(l),Sb(l,j))}var Y=s.memoizedState;if(Y!==null&&(j=Y.dehydrated,j!==null)){if(T)l.flags&256?(ia(l),l.flags&=-257,l=wb(s,l,d)):l.memoizedState!==null?(oa(),l.child=s.child,l.flags|=128,l=null):(oa(),j=m.fallback,_=l.mode,m=nm({mode:"visible",children:m.children},_),j=ml(j,_,d,null),j.flags|=2,m.return=l,j.return=l,m.sibling=j,l.child=m,Tl(l,s.child,null,d),m=l.child,m.memoizedState=Tb(d),m.childLanes=xb(s,R,d),l.memoizedState=Eb,l=nd(null,m));else if(ia(l),o_(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var ne=R.dgst;R=ne,m=Error(r(419)),m.stack="",m.digest=R,Hf({value:m,source:null,stack:null}),l=wb(s,l,d)}else if(bn||Vu(s,l,d,!1),R=(d&s.childLanes)!==0,bn||R){if(R=Dt,R!==null&&(m=xf(R,d),m!==0&&m!==Y.retryLane))throw Y.retryLane=m,pl(s,m),kr(R,s,m),bb;i_(j)||fm(),l=wb(s,l,d)}else i_(j)?(l.flags|=192,l.child=s.child,l=null):(s=Y.treeContext,jt=fi(j.nextSibling),Jn=l,lt=!0,Qs=null,ui=!1,s!==null&&BC(l,s),l=Sb(l,m.children),l.flags|=4096);return l}return _?(oa(),j=m.fallback,_=l.mode,Y=s.child,ne=Y.sibling,m=Xo(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&65011712,ne!==null?j=Xo(ne,j):(j=ml(j,_,d,null),j.flags|=2),j.return=l,m.return=l,m.sibling=j,l.child=m,nd(null,m),m=l.child,j=s.child.memoizedState,j===null?j=Tb(d):(_=j.cachePool,_!==null?(Y=yn._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=GC(),j={baseLanes:j.baseLanes|d,cachePool:_}),m.memoizedState=j,m.childLanes=xb(s,R,d),l.memoizedState=Eb,nd(s.child,m)):(ia(l),d=s.child,s=d.sibling,d=Xo(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,s!==null&&(R=l.deletions,R===null?(l.deletions=[s],l.flags|=16):R.push(s)),l.child=d,l.memoizedState=null,d)}function Sb(s,l){return l=nm({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function nm(s,l){return s=Hr(22,s,null,l),s.lanes=0,s}function wb(s,l,d){return Tl(l,s.child,null,d),s=Sb(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function iP(s,l,d){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),F0(s.return,l,d)}function Ab(s,l,d,m,_,T){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_,treeForkCount:T}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=_,R.treeForkCount=T)}function oP(s,l,d){var m=l.pendingProps,_=m.revealOrder,T=m.tail;m=m.children;var R=cn.current,j=(R&2)!==0;if(j?(R=R&1|2,l.flags|=128):R&=1,se(cn,R),Qn(s,l,m,d),m=lt?qf:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iP(s,d,l);else if(s.tag===19)iP(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)s=d.alternate,s!==null&&Hp(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Ab(l,!1,_,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&Hp(s)===null){l.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}Ab(l,!0,d,null,T,m);break;case"together":Ab(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function rs(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),la|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Vu(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Xo(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Xo(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Cb(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Lp(s)))}function Y9(s,l,d){switch(l.tag){case 3:Oe(l,l.stateNode.containerInfo),ea(l,yn,s.memoizedState.cache),gl();break;case 27:case 5:Ce(l);break;case 4:Oe(l,l.stateNode.containerInfo);break;case 10:ea(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Q0(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ia(l),l.flags|=128,null):(d&l.child.childLanes)!==0?rP(s,l,d):(ia(l),s=rs(s,l,d),s!==null?s.sibling:null);ia(l);break;case 19:var _=(s.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Vu(s,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return oP(s,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),se(cn,cn.current),m)break;return null;case 22:return l.lanes=0,XI(s,l,d,l.pendingProps);case 24:ea(l,yn,s.memoizedState.cache)}return rs(s,l,d)}function sP(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)bn=!0;else{if(!Cb(s,d)&&(l.flags&128)===0)return bn=!1,Y9(s,l,d);bn=(s.flags&131072)!==0}else bn=!1,lt&&(l.flags&1048576)!==0&&UC(l,qf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=_l(l.elementType),l.type=s,typeof s=="function")N0(s)?(m=Sl(s,m),l.tag=1,l=tP(null,l,s,m,d)):(l.tag=0,l=_b(null,l,s,m,d));else{if(s!=null){var _=s.$$typeof;if(_===B){l.tag=11,l=YI(null,l,s,m,d);break e}else if(_===N){l.tag=14,l=WI(null,l,s,m,d);break e}}throw l=ve(s)||s,Error(r(306,l,""))}}return l;case 0:return _b(s,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Sl(m,l.pendingProps),tP(s,l,m,_,d);case 3:e:{if(Oe(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var T=l.memoizedState;_=T.element,K0(s,l),Xf(l,m,null,d);var R=l.memoizedState;if(m=R.cache,ea(l,yn,m),m!==T.cache&&j0(l,[yn],d,!0),Jf(),m=R.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=nP(s,l,m,d);break e}else if(m!==_){_=si(Error(r(424)),l),Hf(_),l=nP(s,l,m,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(jt=fi(s.firstChild),Jn=l,lt=!0,Qs=null,ui=!0,d=XC(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gl(),m===_){l=rs(s,l,d);break e}Qn(s,l,m,d)}l=l.child}return l;case 26:return tm(s,l),s===null?(d=yR(l.type,null,l.pendingProps,null))?l.memoizedState=d:lt||(d=l.type,s=l.pendingProps,m=vm(Te.current).createElement(d),m[pn]=l,m[Un]=s,Zn(m,d,s),mn(m),l.stateNode=m):l.memoizedState=yR(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ce(l),s===null&&lt&&(m=l.stateNode=pR(l.type,l.pendingProps,Te.current),Jn=l,ui=!0,_=jt,ha(l.type)?(s_=_,jt=fi(m.firstChild)):jt=_),Qn(s,l,l.pendingProps.children,d),tm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&lt&&((_=m=jt)&&(m=SH(m,l.type,l.pendingProps,ui),m!==null?(l.stateNode=m,Jn=l,jt=fi(m.firstChild),ui=!1,_=!0):_=!1),_||Zs(l)),Ce(l),_=l.type,T=l.pendingProps,R=s!==null?s.memoizedProps:null,m=T.children,t_(_,T)?m=null:R!==null&&t_(_,R)&&(l.flags|=32),l.memoizedState!==null&&(_=eb(s,l,B9,null,null,d),yd._currentValue=_),tm(s,l),Qn(s,l,m,d),l.child;case 6:return s===null&&lt&&((s=d=jt)&&(d=wH(d,l.pendingProps,ui),d!==null?(l.stateNode=d,Jn=l,jt=null,s=!0):s=!1),s||Zs(l)),null;case 13:return rP(s,l,d);case 4:return Oe(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Tl(l,null,m,d):Qn(s,l,m,d),l.child;case 11:return YI(s,l,l.type,l.pendingProps,d);case 7:return Qn(s,l,l.pendingProps,d),l.child;case 8:return Qn(s,l,l.pendingProps.children,d),l.child;case 12:return Qn(s,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ea(l,l.type,m.value),Qn(s,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,vl(l),_=Xn(_),m=m(_),l.flags|=1,Qn(s,l,m,d),l.child;case 14:return WI(s,l,l.type,l.pendingProps,d);case 15:return JI(s,l,l.type,l.pendingProps,d);case 19:return oP(s,l,d);case 31:return K9(s,l,d);case 22:return XI(s,l,d,l.pendingProps);case 24:return vl(l),m=Xn(yn),s===null?(_=H0(),_===null&&(_=Dt,T=z0(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=d),_=T),l.memoizedState={parent:m,cache:_},$0(l),ea(l,yn,_)):((s.lanes&d)!==0&&(K0(s,l),Xf(l,null,null,d),Jf()),_=s.memoizedState,T=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),ea(l,yn,m)):(m=T.cache,ea(l,yn,m),m!==_.cache&&j0(l,[yn],d,!0))),Qn(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function is(s){s.flags|=4}function Ib(s,l,d,m,_){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(DP())s.flags|=8192;else throw El=Fp,G0}else s.flags&=-16777217}function aP(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!TR(l))if(DP())s.flags|=8192;else throw El=Fp,G0}function rm(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?up():536870912,s.lanes|=l,Wu|=l)}function rd(s,l){if(!lt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function zt(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(l)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=d,l}function W9(s,l,d){var m=l.pendingProps;switch(L0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return zt(l),null;case 3:return d=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),es(yn),ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Lu(l)?is(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,U0())),zt(l),null;case 26:var _=l.type,T=l.memoizedState;return s===null?(is(l),T!==null?(zt(l),aP(l,T)):(zt(l),Ib(l,_,null,m,d))):T?T!==s.memoizedState?(is(l),zt(l),aP(l,T)):(zt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&is(l),zt(l),Ib(l,_,s,m,d)),null;case 27:if(Ie(l),d=Te.current,_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&is(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}s=ce.current,Lu(l)?FC(l):(s=pR(_,m,d),l.stateNode=s,is(l))}return zt(l),null;case 5:if(Ie(l),_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&is(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}if(T=ce.current,Lu(l))FC(l);else{var R=vm(Te.current);switch(T){case 1:T=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=R.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?R.createElement(_,{is:m.is}):R.createElement(_)}}T[pn]=l,T[Un]=m;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)T.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=T;e:switch(Zn(T,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&is(l)}}return zt(l),Ib(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&is(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=Te.current,Lu(l)){if(s=l.stateNode,d=l.memoizedProps,m=null,_=Jn,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}s[pn]=l,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||rR(s.nodeValue,d)),s||Zs(l,!0)}else s=vm(s).createTextNode(m),s[pn]=l,l.stateNode=s}return zt(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(m=Lu(l),d!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[pn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),s=!1}else d=U0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?($r(l),l):($r(l),null);if((l.flags&128)!==0)throw Error(r(558))}return zt(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Lu(l),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[pn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),_=!1}else _=U0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?($r(l),l):($r(l),null)}return $r(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==_&&(m.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),rm(l,l.updateQueue),zt(l),null);case 4:return ie(),s===null&&Jb(l.stateNode.containerInfo),zt(l),null;case 10:return es(l.type),zt(l),null;case 19:if(J(cn),m=l.memoizedState,m===null)return zt(l),null;if(_=(l.flags&128)!==0,T=m.rendering,T===null)if(_)rd(m,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(T=Hp(s),T!==null){for(l.flags|=128,rd(m,!1),s=T.updateQueue,l.updateQueue=s,rm(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)kC(d,s),d=d.sibling;return se(cn,cn.current&1|2),lt&&Qo(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&ln()>lm&&(l.flags|=128,_=!0,rd(m,!1),l.lanes=4194304)}else{if(!_)if(s=Hp(T),s!==null){if(l.flags|=128,_=!0,s=s.updateQueue,l.updateQueue=s,rm(l,s),rd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!lt)return zt(l),null}else 2*ln()-m.renderingStartTime>lm&&d!==536870912&&(l.flags|=128,_=!0,rd(m,!1),l.lanes=4194304);m.isBackwards?(T.sibling=l.child,l.child=T):(s=m.last,s!==null?s.sibling=T:l.child=T,m.last=T)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=ln(),s.sibling=null,d=cn.current,se(cn,_?d&1|2:d&1),lt&&Qo(l,m.treeForkCount),s):(zt(l),null);case 22:case 23:return $r(l),X0(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),d=l.updateQueue,d!==null&&rm(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),s!==null&&J(bl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),es(yn),zt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function J9(s,l){switch(L0(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return es(yn),ie(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ie(l),null;case 31:if(l.memoizedState!==null){if($r(l),l.alternate===null)throw Error(r(340));gl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if($r(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));gl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return J(cn),null;case 4:return ie(),null;case 10:return es(l.type),null;case 22:case 23:return $r(l),X0(),s!==null&&J(bl),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return es(yn),null;case 25:return null;default:return null}}function lP(s,l){switch(L0(l),l.tag){case 3:es(yn),ie();break;case 26:case 27:case 5:Ie(l);break;case 4:ie();break;case 31:l.memoizedState!==null&&$r(l);break;case 13:$r(l);break;case 19:J(cn);break;case 10:es(l.type);break;case 22:case 23:$r(l),X0(),s!==null&&J(bl);break;case 24:es(yn)}}function id(s,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&s)===s){m=void 0;var T=d.create,R=d.inst;m=T(),R.destroy=m}d=d.next}while(d!==_)}}catch(j){St(l,l.return,j)}}function sa(s,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var T=_.next;m=T;do{if((m.tag&s)===s){var R=m.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,_=l;var Y=d,ne=j;try{ne()}catch(fe){St(_,Y,fe)}}}m=m.next}while(m!==T)}}catch(fe){St(l,l.return,fe)}}function uP(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{ZC(l,d)}catch(m){St(s,s.return,m)}}}function cP(s,l,d){d.props=Sl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){St(s,l,m)}}function od(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(_){St(s,l,_)}}function Eo(s,l){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){St(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){St(s,l,_)}else d.current=null}function fP(s){var l=s.type,d=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){St(s,s.return,_)}}function Pb(s,l,d){try{var m=s.stateNode;vH(m,s.type,d,l),m[Un]=l}catch(_){St(s,s.return,_)}}function dP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ha(s.type)||s.tag===4}function Rb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ha(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mb(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Di));else if(m!==4&&(m===27&&ha(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Mb(s,l,d),s=s.sibling;s!==null;)Mb(s,l,d),s=s.sibling}function im(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(m!==4&&(m===27&&ha(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(im(s,l,d),s=s.sibling;s!==null;)im(s,l,d),s=s.sibling}function hP(s){var l=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Zn(l,m,d),l[pn]=s,l[Un]=d}catch(T){St(s,s.return,T)}}var os=!1,_n=!1,Nb=!1,pP=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function X9(s,l){if(s=s.containerInfo,Zb=wm,s=AC(s),w0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var R=0,j=-1,Y=-1,ne=0,fe=0,me=s,oe=null;t:for(;;){for(var le;me!==d||_!==0&&me.nodeType!==3||(j=R+_),me!==T||m!==0&&me.nodeType!==3||(Y=R+m),me.nodeType===3&&(R+=me.nodeValue.length),(le=me.firstChild)!==null;)oe=me,me=le;for(;;){if(me===s)break t;if(oe===d&&++ne===_&&(j=R),oe===T&&++fe===m&&(Y=R),(le=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=le}d=j===-1||Y===-1?null:{start:j,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(e_={focusedElem:s,selectionRange:d},wm=!1,Fn=l;Fn!==null;)if(l=Fn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Fn=s;else for(;Fn!==null;){switch(l=Fn,T=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)_=s[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,d=l,_=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Ne=Sl(d.type,_);s=m.getSnapshotBeforeUpdate(Ne,T),m.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){St(d,d.return,Fe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)r_(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":r_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Fn=s;break}Fn=l.return}}function mP(s,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:as(s,d),m&4&&id(5,d);break;case 1:if(as(s,d),m&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(R){St(d,d.return,R)}else{var _=Sl(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(R){St(d,d.return,R)}}m&64&&uP(d),m&512&&od(d,d.return);break;case 3:if(as(s,d),m&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ZC(s,l)}catch(R){St(d,d.return,R)}}break;case 27:l===null&&m&4&&hP(d);case 26:case 5:as(s,d),l===null&&m&4&&fP(d),m&512&&od(d,d.return);break;case 12:as(s,d);break;case 31:as(s,d),m&4&&vP(s,d);break;case 13:as(s,d),m&4&&bP(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=sH.bind(null,d),AH(s,d))));break;case 22:if(m=d.memoizedState!==null||os,!m){l=l!==null&&l.memoizedState!==null||_n,_=os;var T=_n;os=m,(_n=l)&&!T?ls(s,d,(d.subtreeFlags&8772)!==0):as(s,d),os=_,_n=T}break;case 30:break;default:as(s,d)}}function gP(s){var l=s.alternate;l!==null&&(s.alternate=null,gP(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&bu(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Mr=!1;function ss(s,l,d){for(d=d.child;d!==null;)yP(s,l,d),d=d.sibling}function yP(s,l,d){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Vn,d)}catch{}switch(d.tag){case 26:_n||Eo(d,l),ss(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_n||Eo(d,l);var m=Yt,_=Mr;ha(d.type)&&(Yt=d.stateNode,Mr=!1),ss(s,l,d),pd(d.stateNode),Yt=m,Mr=_;break;case 5:_n||Eo(d,l);case 6:if(m=Yt,_=Mr,Yt=null,ss(s,l,d),Yt=m,Mr=_,Yt!==null)if(Mr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(T){St(d,l,T)}else try{Yt.removeChild(d.stateNode)}catch(T){St(d,l,T)}break;case 18:Yt!==null&&(Mr?(s=Yt,uR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),rc(s)):uR(Yt,d.stateNode));break;case 4:m=Yt,_=Mr,Yt=d.stateNode.containerInfo,Mr=!0,ss(s,l,d),Yt=m,Mr=_;break;case 0:case 11:case 14:case 15:sa(2,d,l),_n||sa(4,d,l),ss(s,l,d);break;case 1:_n||(Eo(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&cP(d,l,m)),ss(s,l,d);break;case 21:ss(s,l,d);break;case 22:_n=(m=_n)||d.memoizedState!==null,ss(s,l,d),_n=m;break;default:ss(s,l,d)}}function vP(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{rc(s)}catch(d){St(l,l.return,d)}}}function bP(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rc(s)}catch(d){St(l,l.return,d)}}function Q9(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new pP),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new pP),l;default:throw Error(r(435,s.tag))}}function om(s,l){var d=Q9(s);l.forEach(function(m){if(!d.has(m)){d.add(m);var _=aH.bind(null,s,m);m.then(_,_)}})}function Nr(s,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],T=s,R=l,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(ha(j.type)){Yt=j.stateNode,Mr=!1;break e}break;case 5:Yt=j.stateNode,Mr=!1;break e;case 3:case 4:Yt=j.stateNode.containerInfo,Mr=!0;break e}j=j.return}if(Yt===null)throw Error(r(160));yP(T,R,_),Yt=null,Mr=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)_P(l,s),l=l.sibling}var Bi=null;function _P(s,l){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nr(l,s),Dr(s),m&4&&(sa(3,s,s.return),id(3,s),sa(5,s,s.return));break;case 1:Nr(l,s),Dr(s),m&512&&(_n||d===null||Eo(d,d.return)),m&64&&os&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Bi;if(Nr(l,s),Dr(s),m&512&&(_n||d===null||Eo(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){e:{m=s.type,d=s.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":T=_.getElementsByTagName("title")[0],(!T||T[so]||T[pn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(m),_.head.insertBefore(T,_.querySelector("head > title"))),Zn(T,m,d),T[pn]=s,mn(T),m=T;break e;case"link":var R=_R("link","href",_).get(m+(d.href||""));if(R){for(var j=0;j<R.length;j++)if(T=R[j],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(j,1);break t}}T=_.createElement(m),Zn(T,m,d),_.head.appendChild(T);break;case"meta":if(R=_R("meta","content",_).get(m+(d.content||""))){for(j=0;j<R.length;j++)if(T=R[j],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(j,1);break t}}T=_.createElement(m),Zn(T,m,d),_.head.appendChild(T);break;default:throw Error(r(468,m))}T[pn]=s,mn(T),m=T}s.stateNode=m}else ER(_,s.type,s.stateNode);else s.stateNode=bR(_,m,s.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?ER(_,s.type,s.stateNode):bR(_,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Pb(s,s.memoizedProps,d.memoizedProps)}break;case 27:Nr(l,s),Dr(s),m&512&&(_n||d===null||Eo(d,d.return)),d!==null&&m&4&&Pb(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Nr(l,s),Dr(s),m&512&&(_n||d===null||Eo(d,d.return)),s.flags&32){_=s.stateNode;try{Rr(_,"")}catch(Ne){St(s,s.return,Ne)}}m&4&&s.stateNode!=null&&(_=s.memoizedProps,Pb(s,_,d!==null?d.memoizedProps:_)),m&1024&&(Nb=!0);break;case 6:if(Nr(l,s),Dr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(Ne){St(s,s.return,Ne)}}break;case 3:if(Em=null,_=Bi,Bi=bm(l.containerInfo),Nr(l,s),Bi=_,Dr(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{rc(l.containerInfo)}catch(Ne){St(s,s.return,Ne)}Nb&&(Nb=!1,EP(s));break;case 4:m=Bi,Bi=bm(s.stateNode.containerInfo),Nr(l,s),Dr(s),Bi=m;break;case 12:Nr(l,s),Dr(s);break;case 31:Nr(l,s),Dr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,om(s,m)));break;case 13:Nr(l,s),Dr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(am=ln()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,om(s,m)));break;case 22:_=s.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,ne=os,fe=_n;if(os=ne||_,_n=fe||Y,Nr(l,s),_n=fe,os=ne,Dr(s),m&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||Y||os||_n||wl(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Y=d=l;try{if(T=Y.stateNode,_)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=Y.stateNode;var me=Y.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;j.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ne){St(Y,Y.return,Ne)}}}else if(l.tag===6){if(d===null){Y=l;try{Y.stateNode.nodeValue=_?"":Y.memoizedProps}catch(Ne){St(Y,Y.return,Ne)}}}else if(l.tag===18){if(d===null){Y=l;try{var le=Y.stateNode;_?cR(le,!0):cR(Y.stateNode,!1)}catch(Ne){St(Y,Y.return,Ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,om(s,d))));break;case 19:Nr(l,s),Dr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,om(s,m)));break;case 30:break;case 21:break;default:Nr(l,s),Dr(s)}}function Dr(s){var l=s.flags;if(l&2){try{for(var d,m=s.return;m!==null;){if(dP(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,T=Rb(s);im(s,T,_);break;case 5:var R=d.stateNode;d.flags&32&&(Rr(R,""),d.flags&=-33);var j=Rb(s);im(s,j,R);break;case 3:case 4:var Y=d.stateNode.containerInfo,ne=Rb(s);Mb(s,ne,Y);break;default:throw Error(r(161))}}catch(fe){St(s,s.return,fe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function EP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;EP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function as(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)mP(s,l.alternate,l),l=l.sibling}function wl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:sa(4,l,l.return),wl(l);break;case 1:Eo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&cP(l,l.return,d),wl(l);break;case 27:pd(l.stateNode);case 26:case 5:Eo(l,l.return),wl(l);break;case 22:l.memoizedState===null&&wl(l);break;case 30:wl(l);break;default:wl(l)}s=s.sibling}}function ls(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=s,T=l,R=T.flags;switch(T.tag){case 0:case 11:case 15:ls(_,T,d),id(4,T);break;case 1:if(ls(_,T,d),m=T,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ne){St(m,m.return,ne)}if(m=T,_=m.updateQueue,_!==null){var j=m.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)QC(Y[_],j)}catch(ne){St(m,m.return,ne)}}d&&R&64&&uP(T),od(T,T.return);break;case 27:hP(T);case 26:case 5:ls(_,T,d),d&&m===null&&R&4&&fP(T),od(T,T.return);break;case 12:ls(_,T,d);break;case 31:ls(_,T,d),d&&R&4&&vP(_,T);break;case 13:ls(_,T,d),d&&R&4&&bP(_,T);break;case 22:T.memoizedState===null&&ls(_,T,d),od(T,T.return);break;case 30:break;default:ls(_,T,d)}l=l.sibling}}function Db(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Gf(d))}function Ob(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Gf(s))}function Fi(s,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)TP(s,l,d,m),l=l.sibling}function TP(s,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Fi(s,l,d,m),_&2048&&id(9,l);break;case 1:Fi(s,l,d,m);break;case 3:Fi(s,l,d,m),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Gf(s)));break;case 12:if(_&2048){Fi(s,l,d,m),s=l.stateNode;try{var T=l.memoizedProps,R=T.id,j=T.onPostCommit;typeof j=="function"&&j(R,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){St(l,l.return,Y)}}else Fi(s,l,d,m);break;case 31:Fi(s,l,d,m);break;case 13:Fi(s,l,d,m);break;case 23:break;case 22:T=l.stateNode,R=l.alternate,l.memoizedState!==null?T._visibility&2?Fi(s,l,d,m):sd(s,l):T._visibility&2?Fi(s,l,d,m):(T._visibility|=2,$u(s,l,d,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&Db(R,l);break;case 24:Fi(s,l,d,m),_&2048&&Ob(l.alternate,l);break;default:Fi(s,l,d,m)}}function $u(s,l,d,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=s,R=l,j=d,Y=m,ne=R.flags;switch(R.tag){case 0:case 11:case 15:$u(T,R,j,Y,_),id(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?$u(T,R,j,Y,_):sd(T,R):(fe._visibility|=2,$u(T,R,j,Y,_)),_&&ne&2048&&Db(R.alternate,R);break;case 24:$u(T,R,j,Y,_),_&&ne&2048&&Ob(R.alternate,R);break;default:$u(T,R,j,Y,_)}l=l.sibling}}function sd(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,m=l,_=m.flags;switch(m.tag){case 22:sd(d,m),_&2048&&Db(m.alternate,m);break;case 24:sd(d,m),_&2048&&Ob(m.alternate,m);break;default:sd(d,m)}l=l.sibling}}var ad=8192;function Ku(s,l,d){if(s.subtreeFlags&ad)for(s=s.child;s!==null;)xP(s,l,d),s=s.sibling}function xP(s,l,d){switch(s.tag){case 26:Ku(s,l,d),s.flags&ad&&s.memoizedState!==null&&UH(d,Bi,s.memoizedState,s.memoizedProps);break;case 5:Ku(s,l,d);break;case 3:case 4:var m=Bi;Bi=bm(s.stateNode.containerInfo),Ku(s,l,d),Bi=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=ad,ad=16777216,Ku(s,l,d),ad=m):Ku(s,l,d));break;default:Ku(s,l,d)}}function SP(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ld(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fn=m,AP(m,s)}SP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wP(s),s=s.sibling}function wP(s){switch(s.tag){case 0:case 11:case 15:ld(s),s.flags&2048&&sa(9,s,s.return);break;case 3:ld(s);break;case 12:ld(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,sm(s)):ld(s);break;default:ld(s)}}function sm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fn=m,AP(m,s)}SP(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:sa(8,l,l.return),sm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,sm(l));break;default:sm(l)}s=s.sibling}}function AP(s,l){for(;Fn!==null;){var d=Fn;switch(d.tag){case 0:case 11:case 15:sa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Gf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Fn=m;else e:for(d=s;Fn!==null;){m=Fn;var _=m.sibling,T=m.return;if(gP(m),m===d){Fn=null;break e}if(_!==null){_.return=T,Fn=_;break e}Fn=T}}}var Z9={getCacheForType:function(s){var l=Xn(yn),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Xn(yn).controller.signal}},eH=typeof WeakMap=="function"?WeakMap:Map,yt=0,Dt=null,Qe=null,nt=0,xt=0,Kr=null,aa=!1,Yu=!1,kb=!1,us=0,tn=0,la=0,Al=0,Lb=0,Yr=0,Wu=0,ud=null,Or=null,Vb=!1,am=0,CP=0,lm=1/0,um=null,ua=null,In=0,ca=null,Ju=null,cs=0,Ub=0,Bb=null,IP=null,cd=0,Fb=null;function Wr(){return(yt&2)!==0&&nt!==0?nt&-nt:X.T!==null?$b():cp()}function PP(){if(Yr===0)if((nt&536870912)===0||lt){var s=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),Yr=s}else Yr=536870912;return s=Gr.current,s!==null&&(s.flags|=32),Yr}function kr(s,l,d){(s===Dt&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(Xu(s,0),fa(s,nt,Yr,!1)),el(s,d),((yt&2)===0||s!==Dt)&&(s===Dt&&((yt&2)===0&&(Al|=d),tn===4&&fa(s,nt,Yr,!1)),To(s))}function RP(s,l,d){if((yt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Ft(s,l),_=m?rH(s,l):zb(s,l,!0),T=m;do{if(_===0){Yu&&!m&&fa(s,l,0,!1);break}else{if(d=s.current.alternate,T&&!tH(d)){_=zb(s,l,!1),T=!1;continue}if(_===2){if(T=l,s.errorRecoveryDisabledLanes&T)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var j=s;_=ud;var Y=j.current.memoizedState.isDehydrated;if(Y&&(Xu(j,R).flags|=256),R=zb(j,R,!1),R!==2){if(kb&&!Y){j.errorRecoveryDisabledLanes|=T,Al|=T,_=4;break e}T=Or,Or=_,T!==null&&(Or===null?Or=T:Or.push.apply(Or,T))}_=R}if(T=!1,_!==2)continue}}if(_===1){Xu(s,0),fa(s,l,0,!0);break}e:{switch(m=s,T=_,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fa(m,l,Yr,!aa);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=am+300-ln(),10<_)){if(fa(m,l,Yr,!aa),tt(m,0,!0)!==0)break e;cs=l,m.timeoutHandle=aR(MP.bind(null,m,d,Or,um,Vb,l,Yr,Al,Wu,aa,T,"Throttled",-0,0),_);break e}MP(m,d,Or,um,Vb,l,Yr,Al,Wu,aa,T,null,-0,0)}}break}while(!0);To(s)}function MP(s,l,d,m,_,T,R,j,Y,ne,fe,me,oe,le){if(s.timeoutHandle=-1,me=l.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},xP(l,T,me);var Ne=(T&62914560)===T?am-ln():(T&4194048)===T?CP-ln():0;if(Ne=BH(me,Ne),Ne!==null){cs=T,s.cancelPendingCommit=Ne(BP.bind(null,s,l,T,d,m,_,R,j,Y,fe,me,null,oe,le)),fa(s,T,R,!ne);return}}BP(s,l,T,d,m,_,R,j,Y)}function tH(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],T=_.getSnapshot;_=_.value;try{if(!qr(T(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fa(s,l,d,m){l&=~Lb,l&=~Al,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var _=l;0<_;){var T=31-$t(_),R=1<<T;m[T]=-1,_&=~R}d!==0&&tl(s,d,l)}function cm(){return(yt&6)===0?(fd(0),!1):!0}function jb(){if(Qe!==null){if(xt===0)var s=Qe.return;else s=Qe,Zo=yl=null,rb(s),ju=null,Kf=0,s=Qe;for(;s!==null;)lP(s.alternate,s),s=s.return;Qe=null}}function Xu(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,EH(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),cs=0,jb(),Dt=s,Qe=d=Xo(s.current,null),nt=l,xt=0,Kr=null,aa=!1,Yu=Ft(s,l),kb=!1,Wu=Yr=Lb=Al=la=tn=0,Or=ud=null,Vb=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var _=31-$t(m),T=1<<_;l|=s[_],m&=~T}return us=l,Mp(),d}function NP(s,l){Je=null,X.H=td,l===Fu||l===Bp?(l=YC(),xt=3):l===G0?(l=YC(),xt=4):xt=l===bb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Kr=l,Qe===null&&(tn=1,Zp(s,si(l,s.current)))}function DP(){var s=Gr.current;return s===null?!0:(nt&4194048)===nt?ci===null:(nt&62914560)===nt||(nt&536870912)!==0?s===ci:!1}function OP(){var s=X.H;return X.H=td,s===null?td:s}function kP(){var s=X.A;return X.A=Z9,s}function fm(){tn=4,aa||(nt&4194048)!==nt&&Gr.current!==null||(Yu=!0),(la&134217727)===0&&(Al&134217727)===0||Dt===null||fa(Dt,nt,Yr,!1)}function zb(s,l,d){var m=yt;yt|=2;var _=OP(),T=kP();(Dt!==s||nt!==l)&&(um=null,Xu(s,l)),l=!1;var R=tn;e:do try{if(xt!==0&&Qe!==null){var j=Qe,Y=Kr;switch(xt){case 8:jb(),R=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(l=!0);var ne=xt;if(xt=0,Kr=null,Qu(s,j,Y,ne),d&&Yu){R=0;break e}break;default:ne=xt,xt=0,Kr=null,Qu(s,j,Y,ne)}}nH(),R=tn;break}catch(fe){NP(s,fe)}while(!0);return l&&s.shellSuspendCounter++,Zo=yl=null,yt=m,X.H=_,X.A=T,Qe===null&&(Dt=null,nt=0,Mp()),R}function nH(){for(;Qe!==null;)LP(Qe)}function rH(s,l){var d=yt;yt|=2;var m=OP(),_=kP();Dt!==s||nt!==l?(um=null,lm=ln()+500,Xu(s,l)):Yu=Ft(s,l);e:do try{if(xt!==0&&Qe!==null){l=Qe;var T=Kr;t:switch(xt){case 1:xt=0,Kr=null,Qu(s,l,T,1);break;case 2:case 9:if($C(T)){xt=0,Kr=null,VP(l);break}l=function(){xt!==2&&xt!==9||Dt!==s||(xt=7),To(s)},T.then(l,l);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:$C(T)?(xt=0,Kr=null,VP(l)):(xt=0,Kr=null,Qu(s,l,T,7));break;case 5:var R=null;switch(Qe.tag){case 26:R=Qe.memoizedState;case 5:case 27:var j=Qe;if(R?TR(R):j.stateNode.complete){xt=0,Kr=null;var Y=j.sibling;if(Y!==null)Qe=Y;else{var ne=j.return;ne!==null?(Qe=ne,dm(ne)):Qe=null}break t}}xt=0,Kr=null,Qu(s,l,T,5);break;case 6:xt=0,Kr=null,Qu(s,l,T,6);break;case 8:jb(),tn=6;break e;default:throw Error(r(462))}}iH();break}catch(fe){NP(s,fe)}while(!0);return Zo=yl=null,X.H=m,X.A=_,yt=d,Qe!==null?0:(Dt=null,nt=0,Mp(),tn)}function iH(){for(;Qe!==null&&!Qa();)LP(Qe)}function LP(s){var l=sP(s.alternate,s,us);s.memoizedProps=s.pendingProps,l===null?dm(s):Qe=l}function VP(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=eP(d,l,l.pendingProps,l.type,void 0,nt);break;case 11:l=eP(d,l,l.pendingProps,l.type.render,l.ref,nt);break;case 5:rb(l);default:lP(d,l),l=Qe=kC(l,us),l=sP(d,l,us)}s.memoizedProps=s.pendingProps,l===null?dm(s):Qe=l}function Qu(s,l,d,m){Zo=yl=null,rb(l),ju=null,Kf=0;var _=l.return;try{if($9(s,_,l,d,nt)){tn=1,Zp(s,si(d,s.current)),Qe=null;return}}catch(T){if(_!==null)throw Qe=_,T;tn=1,Zp(s,si(d,s.current)),Qe=null;return}l.flags&32768?(lt||m===1?s=!0:Yu||(nt&536870912)!==0?s=!1:(aa=s=!0,(m===2||m===9||m===3||m===6)&&(m=Gr.current,m!==null&&m.tag===13&&(m.flags|=16384))),UP(l,s)):dm(l)}function dm(s){var l=s;do{if((l.flags&32768)!==0){UP(l,aa);return}s=l.return;var d=W9(l.alternate,l,us);if(d!==null){Qe=d;return}if(l=l.sibling,l!==null){Qe=l;return}Qe=l=s}while(l!==null);tn===0&&(tn=5)}function UP(s,l){do{var d=J9(s.alternate,s);if(d!==null){d.flags&=32767,Qe=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=d}while(s!==null);tn=6,Qe=null}function BP(s,l,d,m,_,T,R,j,Y){s.cancelPendingCommit=null;do hm();while(In!==0);if((yt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=R0,E0(s,d,T,R,j,Y),s===Dt&&(Qe=Dt=null,nt=0),Ju=l,ca=s,cs=d,Ub=T,Bb=_,IP=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lH(Fr,function(){return HP(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,_=te.p,te.p=2,R=yt,yt|=4;try{X9(s,l,d)}finally{yt=R,te.p=_,X.T=m}}In=1,FP(),jP(),zP()}}function FP(){if(In===1){In=0;var s=ca,l=Ju,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var m=te.p;te.p=2;var _=yt;yt|=4;try{_P(l,s);var T=e_,R=AC(s.containerInfo),j=T.focusedElem,Y=T.selectionRange;if(R!==j&&j&&j.ownerDocument&&wC(j.ownerDocument.documentElement,j)){if(Y!==null&&w0(j)){var ne=Y.start,fe=Y.end;if(fe===void 0&&(fe=ne),"selectionStart"in j)j.selectionStart=ne,j.selectionEnd=Math.min(fe,j.value.length);else{var me=j.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),Ne=j.textContent.length,Fe=Math.min(Y.start,Ne),Rt=Y.end===void 0?Fe:Math.min(Y.end,Ne);!le.extend&&Fe>Rt&&(R=Rt,Rt=Fe,Fe=R);var Q=SC(j,Fe),W=SC(j,Rt);if(Q&&W&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var ee=me.createRange();ee.setStart(Q.node,Q.offset),le.removeAllRanges(),Fe>Rt?(le.addRange(ee),le.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),le.addRange(ee))}}}}for(me=[],le=j;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<me.length;j++){var pe=me[j];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}wm=!!Zb,e_=Zb=null}finally{yt=_,te.p=m,X.T=d}}s.current=l,In=2}}function jP(){if(In===2){In=0;var s=ca,l=Ju,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var m=te.p;te.p=2;var _=yt;yt|=4;try{mP(s,l.alternate,l)}finally{yt=_,te.p=m,X.T=d}}In=3}}function zP(){if(In===4||In===3){In=0,Br();var s=ca,l=Ju,d=cs,m=IP;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,Ju=ca=null,qP(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(ua=null),Ko(d),l=l.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Vn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,_=te.p,te.p=2,X.T=null;try{for(var T=s.onRecoverableError,R=0;R<m.length;R++){var j=m[R];T(j.value,{componentStack:j.stack})}}finally{X.T=l,te.p=_}}(cs&3)!==0&&hm(),To(s),_=s.pendingLanes,(d&261930)!==0&&(_&42)!==0?s===Fb?cd++:(cd=0,Fb=s):cd=0,fd(0)}}function qP(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Gf(l)))}function hm(){return FP(),jP(),zP(),HP()}function HP(){if(In!==5)return!1;var s=ca,l=Ub;Ub=0;var d=Ko(cs),m=X.T,_=te.p;try{te.p=32>d?32:d,X.T=null,d=Bb,Bb=null;var T=ca,R=cs;if(In=0,Ju=ca=null,cs=0,(yt&6)!==0)throw Error(r(331));var j=yt;if(yt|=4,wP(T.current),TP(T,T.current,R,d),yt=j,fd(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Vn,T)}catch{}return!0}finally{te.p=_,X.T=m,qP(s,l)}}function GP(s,l,d){l=si(d,l),l=vb(s.stateNode,l,2),s=ra(s,l,2),s!==null&&(el(s,2),To(s))}function St(s,l,d){if(s.tag===3)GP(s,s,d);else for(;l!==null;){if(l.tag===3){GP(l,s,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ua===null||!ua.has(m))){s=si(d,s),d=$I(2),m=ra(l,d,2),m!==null&&(KI(d,m,l,s),el(m,2),To(m));break}}l=l.return}}function qb(s,l,d){var m=s.pingCache;if(m===null){m=s.pingCache=new eH;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(kb=!0,_.add(d),s=oH.bind(null,s,l,d),l.then(s,s))}function oH(s,l,d){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Dt===s&&(nt&d)===d&&(tn===4||tn===3&&(nt&62914560)===nt&&300>ln()-am?(yt&2)===0&&Xu(s,0):Lb|=d,Wu===nt&&(Wu=0)),To(s)}function $P(s,l){l===0&&(l=up()),s=pl(s,l),s!==null&&(el(s,l),To(s))}function sH(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),$P(s,d)}function aH(s,l){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),$P(s,d)}function lH(s,l){return ft(s,l)}var pm=null,Zu=null,Hb=!1,mm=!1,Gb=!1,da=0;function To(s){s!==Zu&&s.next===null&&(Zu===null?pm=Zu=s:Zu=Zu.next=s),mm=!0,Hb||(Hb=!0,cH())}function fd(s,l){if(!Gb&&mm){Gb=!0;do for(var d=!1,m=pm;m!==null;){if(s!==0){var _=m.pendingLanes;if(_===0)var T=0;else{var R=m.suspendedLanes,j=m.pingedLanes;T=(1<<31-$t(42|s)+1)-1,T&=_&~(R&~j),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,JP(m,T))}else T=nt,T=tt(m,m===Dt?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Ft(m,T)||(d=!0,JP(m,T));m=m.next}while(d);Gb=!1}}function uH(){KP()}function KP(){mm=Hb=!1;var s=0;da!==0&&_H()&&(s=da);for(var l=ln(),d=null,m=pm;m!==null;){var _=m.next,T=YP(m,l);T===0?(m.next=null,d===null?pm=_:d.next=_,_===null&&(Zu=d)):(d=m,(s!==0||(T&3)!==0)&&(mm=!0)),m=_}In!==0&&In!==5||fd(s),da!==0&&(da=0)}function YP(s,l){for(var d=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var R=31-$t(T),j=1<<R,Y=_[R];Y===-1?((j&d)===0||(j&m)!==0)&&(_[R]=Ri(j,l)):Y<=l&&(s.expiredLanes|=j),T&=~j}if(l=Dt,d=nt,d=tt(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===l&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Cr(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Ft(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(m!==null&&Cr(m),Ko(d)){case 2:case 8:d=Ho;break;case 32:d=Fr;break;case 268435456:d=$o;break;default:d=Fr}return m=WP.bind(null,s),d=ft(d,m),s.callbackPriority=l,s.callbackNode=d,l}return m!==null&&m!==null&&Cr(m),s.callbackPriority=2,s.callbackNode=null,2}function WP(s,l){if(In!==0&&In!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(hm()&&s.callbackNode!==d)return null;var m=nt;return m=tt(s,s===Dt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(RP(s,m,l),YP(s,ln()),s.callbackNode!=null&&s.callbackNode===d?WP.bind(null,s):null)}function JP(s,l){if(hm())return null;RP(s,l,!0)}function cH(){TH(function(){(yt&6)!==0?ft(no,uH):KP()})}function $b(){if(da===0){var s=Uu;s===0&&(s=Se,Se<<=1,(Se&261888)===0&&(Se=256)),da=s}return da}function XP(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:xu(""+s)}function QP(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function fH(s,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var T=XP((_[Un]||null).action),R=m.submitter;R&&(l=(l=R[Un]||null)?XP(l.formAction):R.getAttribute("formAction"),l!==null&&(T=l,R=null));var j=new mo("action","action",null,m,_);s.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(da!==0){var Y=R?QP(_,R):new FormData(_);db(d,{pending:!0,data:Y,method:_.method,action:T},null,Y)}}else typeof T=="function"&&(j.preventDefault(),Y=R?QP(_,R):new FormData(_),db(d,{pending:!0,data:Y,method:_.method,action:T},T,Y))},currentTarget:_}]})}}for(var Kb=0;Kb<P0.length;Kb++){var Yb=P0[Kb],dH=Yb.toLowerCase(),hH=Yb[0].toUpperCase()+Yb.slice(1);Ui(dH,"on"+hH)}Ui(PC,"onAnimationEnd"),Ui(RC,"onAnimationIteration"),Ui(MC,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(P9,"onTransitionRun"),Ui(R9,"onTransitionStart"),Ui(M9,"onTransitionCancel"),Ui(NC,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),uo("onBeforeInput",["compositionend","keypress","textInput","paste"]),uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dd));function ZP(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],_=m.event;m=m.listeners;e:{var T=void 0;if(l)for(var R=m.length-1;0<=R;R--){var j=m[R],Y=j.instance,ne=j.currentTarget;if(j=j.listener,Y!==T&&_.isPropagationStopped())break e;T=j,_.currentTarget=ne;try{T(_)}catch(fe){Rp(fe)}_.currentTarget=null,T=Y}else for(R=0;R<m.length;R++){if(j=m[R],Y=j.instance,ne=j.currentTarget,j=j.listener,Y!==T&&_.isPropagationStopped())break e;T=j,_.currentTarget=ne;try{T(_)}catch(fe){Rp(fe)}_.currentTarget=null,T=Y}}}}function Ze(s,l){var d=l[vu];d===void 0&&(d=l[vu]=new Set);var m=s+"__bubble";d.has(m)||(eR(l,s,2,!1),d.add(m))}function Wb(s,l,d){var m=0;l&&(m|=4),eR(d,s,m,l)}var gm="_reactListening"+Math.random().toString(36).slice(2);function Jb(s){if(!s[gm]){s[gm]=!0,Sf.forEach(function(d){d!=="selectionchange"&&(pH.has(d)||Wb(d,!1,s),Wb(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[gm]||(l[gm]=!0,Wb("selectionchange",!1,l))}}function eR(s,l,d,m){switch(PR(l)){case 2:var _=zH;break;case 8:_=qH;break;default:_=f_}d=_.bind(null,l,d,s),_=void 0,!sl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(l,d,{capture:!0,passive:_}):s.addEventListener(l,d,!0):_!==void 0?s.addEventListener(l,d,{passive:_}):s.addEventListener(l,d,!1)}function Xb(s,l,d,m,_){var T=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var j=m.stateNode.containerInfo;if(j===_)break;if(R===4)for(R=m.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;j!==null;){if(R=ao(j),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){m=T=R;continue e}j=j.parentNode}}m=m.return}Ks(function(){var ne=T,fe=ni(d),me=[];e:{var oe=DC.get(s);if(oe!==void 0){var le=mo,Ne=s;switch(s){case"keypress":if(ll(d)===0)break e;case"keydown":case"keyup":le=Cp;break;case"focusin":Ne="focus",le=cl;break;case"focusout":Ne="blur",le=cl;break;case"beforeblur":case"afterblur":le=cl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=C;break;case PC:case RC:case MC:le=_p;break;case NC:le=G;break;case"scroll":case"scrollend":le=Lf;break;case"wheel":le=ae;break;case"copy":case"cut":case"paste":le=Ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Jo;break;case"toggle":case"beforetoggle":le=We}var Fe=(l&4)!==0,Rt=!Fe&&(s==="scroll"||s==="scrollend"),Q=Fe?oe!==null?oe+"Capture":null:oe;Fe=[];for(var W=ne,ee;W!==null;){var pe=W;if(ee=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ee===null||Q===null||(pe=Oi(W,Q),pe!=null&&Fe.push(hd(W,pe,ee))),Rt)break;W=W.return}0<Fe.length&&(oe=new le(oe,Ne,null,d,fe),me.push({event:oe,listeners:Fe}))}}if((l&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",oe&&d!==Df&&(Ne=d.relatedTarget||d.fromElement)&&(ao(Ne)||Ne[oo]))break e;if((le||oe)&&(oe=fe.window===fe?fe:(oe=fe.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(Ne=d.relatedTarget||d.toElement,le=ne,Ne=Ne?ao(Ne):null,Ne!==null&&(Rt=o(Ne),Fe=Ne.tag,Ne!==Rt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ne=null)):(le=null,Ne=ne),le!==Ne)){if(Fe=Vf,pe="onMouseLeave",Q="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=Jo,pe="onPointerLeave",Q="onPointerEnter",W="pointer"),Rt=le==null?oe:jr(le),ee=Ne==null?oe:jr(Ne),oe=new Fe(pe,W+"leave",le,d,fe),oe.target=Rt,oe.relatedTarget=ee,pe=null,ao(fe)===ne&&(Fe=new Fe(Q,W+"enter",Ne,d,fe),Fe.target=ee,Fe.relatedTarget=Rt,pe=Fe),Rt=pe,le&&Ne)t:{for(Fe=mH,Q=le,W=Ne,ee=0,pe=Q;pe;pe=Fe(pe))ee++;pe=0;for(var Ue=W;Ue;Ue=Fe(Ue))pe++;for(;0<ee-pe;)Q=Fe(Q),ee--;for(;0<pe-ee;)W=Fe(W),pe--;for(;ee--;){if(Q===W||W!==null&&Q===W.alternate){Fe=Q;break t}Q=Fe(Q),W=Fe(W)}Fe=null}else Fe=null;le!==null&&tR(me,oe,le,Fe,!1),Ne!==null&&Rt!==null&&tR(me,Rt,Ne,Fe,!0)}}e:{if(oe=ne?jr(ne):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var dt=vC;else if(gC(oe))if(bC)dt=A9;else{dt=S9;var ke=x9}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ne&&Tu(ne.elementType)&&(dt=vC):dt=w9;if(dt&&(dt=dt(s,ne))){yC(me,dt,d,fe);break e}ke&&ke(s,oe,ne),s==="focusout"&&ne&&oe.type==="number"&&ne.memoizedProps.value!=null&&Rf(oe,"number",oe.value)}switch(ke=ne?jr(ne):window,s){case"focusin":(gC(ke)||ke.contentEditable==="true")&&(Ru=ke,A0=ne,zf=null);break;case"focusout":zf=A0=Ru=null;break;case"mousedown":C0=!0;break;case"contextmenu":case"mouseup":case"dragend":C0=!1,CC(me,d,fe);break;case"selectionchange":if(I9)break;case"keydown":case"keyup":CC(me,d,fe)}var Xe;if(gt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Pu?fl(s,d)&&(rt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(vo&&d.locale!=="ko"&&(Pu||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Pu&&(Xe=kf()):(po=fe,Of="value"in po?po.value:po.textContent,Pu=!0)),ke=ym(ne,rt),0<ke.length&&(rt=new yo(rt,s,null,d,fe),me.push({event:rt,listeners:ke}),Xe?rt.data=Xe:(Xe=Iu(d),Xe!==null&&(rt.data=Xe)))),(Xe=ii?b9(s,d):_9(s,d))&&(rt=ym(ne,"onBeforeInput"),0<rt.length&&(ke=new yo("onBeforeInput","beforeinput",null,d,fe),me.push({event:ke,listeners:rt}),ke.data=Xe)),fH(me,s,ne,d,fe)}ZP(me,l)})}function hd(s,l,d){return{instance:s,listener:l,currentTarget:d}}function ym(s,l){for(var d=l+"Capture",m=[];s!==null;){var _=s,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=Oi(s,d),_!=null&&m.unshift(hd(s,_,T)),_=Oi(s,l),_!=null&&m.push(hd(s,_,T))),s.tag===3)return m;s=s.return}return[]}function mH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function tR(s,l,d,m,_){for(var T=l._reactName,R=[];d!==null&&d!==m;){var j=d,Y=j.alternate,ne=j.stateNode;if(j=j.tag,Y!==null&&Y===m)break;j!==5&&j!==26&&j!==27||ne===null||(Y=ne,_?(ne=Oi(d,T),ne!=null&&R.unshift(hd(d,ne,Y))):_||(ne=Oi(d,T),ne!=null&&R.push(hd(d,ne,Y)))),d=d.return}R.length!==0&&s.push({event:l,listeners:R})}var gH=/\r\n?/g,yH=/\u0000|\uFFFD/g;function nR(s){return(typeof s=="string"?s:""+s).replace(gH,`
`).replace(yH,"")}function rR(s,l){return l=nR(l),nR(s)===l}function Pt(s,l,d,m,_,T){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Rr(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Rr(s,""+m);break;case"className":zr(s,"class",m);break;case"tabIndex":zr(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(s,d,m);break;case"style":Nf(s,m,T);break;case"data":if(l!=="object"){zr(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=xu(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&Pt(s,l,"name",_.name,_,null),Pt(s,l,"formEncType",_.formEncType,_,null),Pt(s,l,"formMethod",_.formMethod,_,null),Pt(s,l,"formTarget",_.formTarget,_,null)):(Pt(s,l,"encType",_.encType,_,null),Pt(s,l,"method",_.method,_,null),Pt(s,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=xu(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=Di);break;case"onScroll":m!=null&&Ze("scroll",s);break;case"onScrollEnd":m!=null&&Ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=xu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":Ze("beforetoggle",s),Ze("toggle",s),_u(s,"popover",m);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_u(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=yp.get(d)||d,_u(s,d,m))}}function Qb(s,l,d,m,_,T){switch(d){case"style":Nf(s,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof m=="string"?Rr(s,m):(typeof m=="number"||typeof m=="bigint")&&Rr(s,""+m);break;case"onScroll":m!=null&&Ze("scroll",s);break;case"onScrollEnd":m!=null&&Ze("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),T=s[Un]||null,T=T!=null?T[d]:null,typeof T=="function"&&s.removeEventListener(l,T,_),typeof m=="function")){typeof T!="function"&&T!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,m,_);break e}d in s?s[d]=m:m===!0?s.setAttribute(d,""):_u(s,d,m)}}}function Zn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",s),Ze("load",s);var m=!1,_=!1,T;for(T in d)if(d.hasOwnProperty(T)){var R=d[T];if(R!=null)switch(T){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,T,R,d,null)}}_&&Pt(s,l,"srcSet",d.srcSet,d,null),m&&Pt(s,l,"src",d.src,d,null);return;case"input":Ze("invalid",s);var j=T=R=_=null,Y=null,ne=null;for(m in d)if(d.hasOwnProperty(m)){var fe=d[m];if(fe!=null)switch(m){case"name":_=fe;break;case"type":R=fe;break;case"checked":Y=fe;break;case"defaultChecked":ne=fe;break;case"value":T=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:Pt(s,l,m,fe,d,null)}}pp(s,T,j,Y,ne,R,_,!1);return;case"select":Ze("invalid",s),m=R=T=null;for(_ in d)if(d.hasOwnProperty(_)&&(j=d[_],j!=null))switch(_){case"value":T=j;break;case"defaultValue":R=j;break;case"multiple":m=j;default:Pt(s,l,_,j,d,null)}l=T,d=R,s.multiple=!!m,l!=null?qs(s,!!m,l,!1):d!=null&&qs(s,!!m,d,!0);return;case"textarea":Ze("invalid",s),T=_=m=null;for(R in d)if(d.hasOwnProperty(R)&&(j=d[R],j!=null))switch(R){case"value":m=j;break;case"defaultValue":_=j;break;case"children":T=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(s,l,R,j,d,null)}Hs(s,m,_,T);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(m=d[Y],m!=null))switch(Y){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Pt(s,l,Y,m,d,null)}return;case"dialog":Ze("beforetoggle",s),Ze("toggle",s),Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":Ze("load",s);break;case"video":case"audio":for(m=0;m<dd.length;m++)Ze(dd[m],s);break;case"image":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"embed":case"source":case"link":Ze("error",s),Ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(m=d[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,ne,m,d,null)}return;default:if(Tu(l)){for(fe in d)d.hasOwnProperty(fe)&&(m=d[fe],m!==void 0&&Qb(s,l,fe,m,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(m=d[j],m!=null&&Pt(s,l,j,m,d,null))}function vH(s,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,R=null,j=null,Y=null,ne=null,fe=null;for(le in d){var me=d[le];if(d.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Y=me;default:m.hasOwnProperty(le)||Pt(s,l,le,null,m,me)}}for(var oe in m){var le=m[oe];if(me=d[oe],m.hasOwnProperty(oe)&&(le!=null||me!=null))switch(oe){case"type":T=le;break;case"name":_=le;break;case"checked":ne=le;break;case"defaultChecked":fe=le;break;case"value":R=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==me&&Pt(s,l,oe,le,m,me)}}Eu(s,R,j,Y,ne,fe,T,_);return;case"select":le=R=j=oe=null;for(T in d)if(Y=d[T],d.hasOwnProperty(T)&&Y!=null)switch(T){case"value":break;case"multiple":le=Y;default:m.hasOwnProperty(T)||Pt(s,l,T,null,m,Y)}for(_ in m)if(T=m[_],Y=d[_],m.hasOwnProperty(_)&&(T!=null||Y!=null))switch(_){case"value":oe=T;break;case"defaultValue":j=T;break;case"multiple":R=T;default:T!==Y&&Pt(s,l,_,T,m,Y)}l=j,d=R,m=le,oe!=null?qs(s,!!d,oe,!1):!!m!=!!d&&(l!=null?qs(s,!!d,l,!0):qs(s,!!d,d?[]:"",!1));return;case"textarea":le=oe=null;for(j in d)if(_=d[j],d.hasOwnProperty(j)&&_!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(s,l,j,null,m,_)}for(R in m)if(_=m[R],T=d[R],m.hasOwnProperty(R)&&(_!=null||T!=null))switch(R){case"value":oe=_;break;case"defaultValue":le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==T&&Pt(s,l,R,_,m,T)}mp(s,oe,le);return;case"option":for(var Ne in d)if(oe=d[Ne],d.hasOwnProperty(Ne)&&oe!=null&&!m.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:Pt(s,l,Ne,null,m,oe)}for(Y in m)if(oe=m[Y],le=d[Y],m.hasOwnProperty(Y)&&oe!==le&&(oe!=null||le!=null))switch(Y){case"selected":s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Pt(s,l,Y,oe,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in d)oe=d[Fe],d.hasOwnProperty(Fe)&&oe!=null&&!m.hasOwnProperty(Fe)&&Pt(s,l,Fe,null,m,oe);for(ne in m)if(oe=m[ne],le=d[ne],m.hasOwnProperty(ne)&&oe!==le&&(oe!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Pt(s,l,ne,oe,m,le)}return;default:if(Tu(l)){for(var Rt in d)oe=d[Rt],d.hasOwnProperty(Rt)&&oe!==void 0&&!m.hasOwnProperty(Rt)&&Qb(s,l,Rt,void 0,m,oe);for(fe in m)oe=m[fe],le=d[fe],!m.hasOwnProperty(fe)||oe===le||oe===void 0&&le===void 0||Qb(s,l,fe,oe,m,le);return}}for(var Q in d)oe=d[Q],d.hasOwnProperty(Q)&&oe!=null&&!m.hasOwnProperty(Q)&&Pt(s,l,Q,null,m,oe);for(me in m)oe=m[me],le=d[me],!m.hasOwnProperty(me)||oe===le||oe==null&&le==null||Pt(s,l,me,oe,m,le)}function iR(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var _=d[m],T=_.transferSize,R=_.initiatorType,j=_.duration;if(T&&j&&iR(R)){for(R=0,j=_.responseEnd,m+=1;m<d.length;m++){var Y=d[m],ne=Y.startTime;if(ne>j)break;var fe=Y.transferSize,me=Y.initiatorType;fe&&iR(me)&&(Y=Y.responseEnd,R+=fe*(Y<j?1:(j-ne)/(Y-ne)))}if(--m,l+=8*(T+R)/(_.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Zb=null,e_=null;function vm(s){return s.nodeType===9?s:s.ownerDocument}function oR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sR(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function t_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var n_=null;function _H(){var s=window.event;return s&&s.type==="popstate"?s===n_?!1:(n_=s,!0):(n_=null,!1)}var aR=typeof setTimeout=="function"?setTimeout:void 0,EH=typeof clearTimeout=="function"?clearTimeout:void 0,lR=typeof Promise=="function"?Promise:void 0,TH=typeof queueMicrotask=="function"?queueMicrotask:typeof lR<"u"?function(s){return lR.resolve(null).then(s).catch(xH)}:aR;function xH(s){setTimeout(function(){throw s})}function ha(s){return s==="head"}function uR(s,l){var d=l,m=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(_),rc(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")pd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,pd(d);for(var T=d.firstChild;T;){var R=T.nextSibling,j=T.nodeName;T[so]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=R}}else d==="body"&&pd(s.ownerDocument.body);d=_}while(d);rc(l)}function cR(s,l){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function r_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":r_(d),bu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function SH(s,l,d,m){for(;s.nodeType===1;){var _=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[so])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=fi(s.nextSibling),s===null)break}return null}function wH(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=fi(s.nextSibling),s===null))return null;return s}function fR(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fi(s.nextSibling),s===null))return null;return s}function i_(s){return s.data==="$?"||s.data==="$~"}function o_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function AH(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function fi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var s_=null;function dR(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return fi(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function hR(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function pR(s,l,d){switch(l=vm(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function pd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);bu(s)}var di=new Map,mR=new Set;function bm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var fs=te.d;te.d={f:CH,r:IH,D:PH,C:RH,L:MH,m:NH,X:OH,S:DH,M:kH};function CH(){var s=fs.f(),l=cm();return s||l}function IH(s){var l=ti(s);l!==null&&l.tag===5&&l.type==="form"?NI(l):fs.r(s)}var ec=typeof document>"u"?null:document;function gR(s,l,d){var m=ec;if(m&&typeof l=="string"&&l){var _=Pr(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),mR.has(_)||(mR.add(_),s={rel:s,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),Zn(l,"link",s),mn(l),m.head.appendChild(l)))}}function PH(s){fs.D(s),gR("dns-prefetch",s,null)}function RH(s,l){fs.C(s,l),gR("preconnect",s,l)}function MH(s,l,d){fs.L(s,l,d);var m=ec;if(m&&s&&l){var _='link[rel="preload"][as="'+Pr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Pr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Pr(d.imageSizes)+'"]')):_+='[href="'+Pr(s)+'"]';var T=_;switch(l){case"style":T=tc(s);break;case"script":T=nc(s)}di.has(T)||(s=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),di.set(T,s),m.querySelector(_)!==null||l==="style"&&m.querySelector(md(T))||l==="script"&&m.querySelector(gd(T))||(l=m.createElement("link"),Zn(l,"link",s),mn(l),m.head.appendChild(l)))}}function NH(s,l){fs.m(s,l);var d=ec;if(d&&s){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(s)+'"]',T=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=nc(s)}if(!di.has(T)&&(s=p({rel:"modulepreload",href:s},l),di.set(T,s),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(gd(T)))return}m=d.createElement("link"),Zn(m,"link",s),mn(m),d.head.appendChild(m)}}}function DH(s,l,d){fs.S(s,l,d);var m=ec;if(m&&s){var _=lo(m).hoistableStyles,T=tc(s);l=l||"default";var R=_.get(T);if(!R){var j={loading:0,preload:null};if(R=m.querySelector(md(T)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},d),(d=di.get(T))&&a_(s,d);var Y=R=m.createElement("link");mn(Y),Zn(Y,"link",s),Y._p=new Promise(function(ne,fe){Y.onload=ne,Y.onerror=fe}),Y.addEventListener("load",function(){j.loading|=1}),Y.addEventListener("error",function(){j.loading|=2}),j.loading|=4,_m(R,l,m)}R={type:"stylesheet",instance:R,count:1,state:j},_.set(T,R)}}}function OH(s,l){fs.X(s,l);var d=ec;if(d&&s){var m=lo(d).hoistableScripts,_=nc(s),T=m.get(_);T||(T=d.querySelector(gd(_)),T||(s=p({src:s,async:!0},l),(l=di.get(_))&&l_(s,l),T=d.createElement("script"),mn(T),Zn(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(_,T))}}function kH(s,l){fs.M(s,l);var d=ec;if(d&&s){var m=lo(d).hoistableScripts,_=nc(s),T=m.get(_);T||(T=d.querySelector(gd(_)),T||(s=p({src:s,async:!0,type:"module"},l),(l=di.get(_))&&l_(s,l),T=d.createElement("script"),mn(T),Zn(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(_,T))}}function yR(s,l,d,m){var _=(_=Te.current)?bm(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=tc(d.href),d=lo(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=tc(d.href);var T=lo(_).hoistableStyles,R=T.get(s);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,R),(T=_.querySelector(md(s)))&&!T._p&&(R.instance=T,R.state.loading=5),di.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},di.set(s,d),T||LH(_,s,d,R.state))),l&&m===null)throw Error(r(528,""));return R}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=nc(d),d=lo(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function tc(s){return'href="'+Pr(s)+'"'}function md(s){return'link[rel="stylesheet"]['+s+"]"}function vR(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function LH(s,l,d,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Zn(l,"link",d),mn(l),s.head.appendChild(l))}function nc(s){return'[src="'+Pr(s)+'"]'}function gd(s){return"script[async]"+s}function bR(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+Pr(d.href)+'"]');if(m)return l.instance=m,mn(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),mn(m),Zn(m,"style",_),_m(m,d.precedence,s),l.instance=m;case"stylesheet":_=tc(d.href);var T=s.querySelector(md(_));if(T)return l.state.loading|=4,l.instance=T,mn(T),T;m=vR(d),(_=di.get(_))&&a_(m,_),T=(s.ownerDocument||s).createElement("link"),mn(T);var R=T;return R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),Zn(T,"link",m),l.state.loading|=4,_m(T,d.precedence,s),l.instance=T;case"script":return T=nc(d.src),(_=s.querySelector(gd(T)))?(l.instance=_,mn(_),_):(m=d,(_=di.get(T))&&(m=p({},d),l_(m,_)),s=s.ownerDocument||s,_=s.createElement("script"),mn(_),Zn(_,"link",m),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,_m(m,d.precedence,s));return l.instance}function _m(s,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,T=_,R=0;R<m.length;R++){var j=m[R];if(j.dataset.precedence===l)T=j;else if(T!==_)break}T?T.parentNode.insertBefore(s,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function a_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function l_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Em=null;function _R(s,l,d){if(Em===null){var m=new Map,_=Em=new Map;_.set(d,m)}else _=Em,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),_=0;_<d.length;_++){var T=d[_];if(!(T[so]||T[pn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(l)||"";R=s+R;var j=m.get(R);j?j.push(T):m.set(R,[T])}}return m}function ER(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function VH(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function TR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function UH(s,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=tc(m.href),T=l.querySelector(md(_));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Tm.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=T,mn(T);return}T=l.ownerDocument||l,m=vR(m),(_=di.get(_))&&a_(m,_),T=T.createElement("link"),mn(T);var R=T;R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),Zn(T,"link",m),d.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Tm.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var u_=0;function BH(s,l){return s.stylesheets&&s.count===0&&Sm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&Sm(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+l);0<s.imgBytes&&u_===0&&(u_=62500*bH());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Sm(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>u_?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var xm=null;function Sm(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,xm=new Map,l.forEach(FH,s),xm=null,Tm.call(s))}function FH(s,l){if(!(l.state.loading&4)){var d=xm.get(s);if(d)var m=d.get(null);else{d=new Map,xm.set(s,d);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var R=_[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),m=R)}m&&d.set(null,m)}_=l.instance,R=_.getAttribute("data-precedence"),T=d.get(R)||m,T===m&&d.set(null,_),d.set(R,_),this.count++,m=Tm.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),T?T.parentNode.insertBefore(_,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var yd={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jH(s,l,d,m,_,T,R,j,Y){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.hiddenUpdates=io(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function xR(s,l,d,m,_,T,R,j,Y,ne,fe,me){return s=new jH(s,l,d,R,Y,ne,fe,me,j),l=1,T===!0&&(l|=24),T=Hr(3,null,null,l),s.current=T,T.stateNode=s,l=z0(),l.refCount++,s.pooledCache=l,l.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:l},$0(T),s}function SR(s){return s?(s=Du,s):Du}function wR(s,l,d,m,_,T){_=SR(_),m.context===null?m.context=_:m.pendingContext=_,m=na(l),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=ra(s,m,l),d!==null&&(kr(d,s,l),Wf(d,s,l))}function AR(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function c_(s,l){AR(s,l),(s=s.alternate)&&AR(s,l)}function CR(s){if(s.tag===13||s.tag===31){var l=pl(s,67108864);l!==null&&kr(l,s,67108864),c_(s,67108864)}}function IR(s){if(s.tag===13||s.tag===31){var l=Wr();l=nl(l);var d=pl(s,l);d!==null&&kr(d,s,l),c_(s,l)}}var wm=!0;function zH(s,l,d,m){var _=X.T;X.T=null;var T=te.p;try{te.p=2,f_(s,l,d,m)}finally{te.p=T,X.T=_}}function qH(s,l,d,m){var _=X.T;X.T=null;var T=te.p;try{te.p=8,f_(s,l,d,m)}finally{te.p=T,X.T=_}}function f_(s,l,d,m){if(wm){var _=d_(m);if(_===null)Xb(s,l,m,Am,d),RR(s,m);else if(GH(_,s,l,d,m))m.stopPropagation();else if(RR(s,m),l&4&&-1<HH.indexOf(s)){for(;_!==null;){var T=ti(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=at(T.pendingLanes);if(R!==0){var j=T;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var Y=1<<31-$t(R);j.entanglements[1]|=Y,R&=~Y}To(T),(yt&6)===0&&(lm=ln()+500,fd(0))}}break;case 31:case 13:j=pl(T,2),j!==null&&kr(j,T,2),cm(),c_(T,2)}if(T=d_(m),T===null&&Xb(s,l,m,Am,d),T===_)break;_=T}_!==null&&m.stopPropagation()}else Xb(s,l,m,null,d)}}function d_(s){return s=ni(s),h_(s)}var Am=null;function h_(s){if(Am=null,s=ao(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=a(l),s!==null)return s;s=null}else if(d===31){if(s=u(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Am=s,null}function PR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case no:return 2;case Ho:return 8;case Fr:case Go:return 32;case $o:return 268435456;default:return 32}default:return 32}}var p_=!1,pa=null,ma=null,ga=null,vd=new Map,bd=new Map,ya=[],HH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RR(s,l){switch(s){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":vd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(l.pointerId)}}function _d(s,l,d,m,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[_]},l!==null&&(l=ti(l),l!==null&&CR(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function GH(s,l,d,m,_){switch(l){case"focusin":return pa=_d(pa,s,l,d,m,_),!0;case"dragenter":return ma=_d(ma,s,l,d,m,_),!0;case"mouseover":return ga=_d(ga,s,l,d,m,_),!0;case"pointerover":var T=_.pointerId;return vd.set(T,_d(vd.get(T)||null,s,l,d,m,_)),!0;case"gotpointercapture":return T=_.pointerId,bd.set(T,_d(bd.get(T)||null,s,l,d,m,_)),!0}return!1}function MR(s){var l=ao(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){s.blockedOn=l,Mi(s.priority,function(){IR(d)});return}}else if(l===31){if(l=u(d),l!==null){s.blockedOn=l,Mi(s.priority,function(){IR(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Cm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=d_(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Df=m,d.target.dispatchEvent(m),Df=null}else return l=ti(d),l!==null&&CR(l),s.blockedOn=d,!1;l.shift()}return!0}function NR(s,l,d){Cm(s)&&d.delete(l)}function $H(){p_=!1,pa!==null&&Cm(pa)&&(pa=null),ma!==null&&Cm(ma)&&(ma=null),ga!==null&&Cm(ga)&&(ga=null),vd.forEach(NR),bd.forEach(NR)}function Im(s,l){s.blockedOn===l&&(s.blockedOn=null,p_||(p_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$H)))}var Pm=null;function DR(s){Pm!==s&&(Pm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pm===s&&(Pm=null);for(var l=0;l<s.length;l+=3){var d=s[l],m=s[l+1],_=s[l+2];if(typeof m!="function"){if(h_(m||d)===null)continue;break}var T=ti(d);T!==null&&(s.splice(l,3),l-=3,db(T,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function rc(s){function l(Y){return Im(Y,s)}pa!==null&&Im(pa,s),ma!==null&&Im(ma,s),ga!==null&&Im(ga,s),vd.forEach(l),bd.forEach(l);for(var d=0;d<ya.length;d++){var m=ya[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ya.length&&(d=ya[0],d.blockedOn===null);)MR(d),d.blockedOn===null&&ya.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],T=d[m+1],R=_[Un]||null;if(typeof T=="function")R||DR(d);else if(R){var j=null;if(T&&T.hasAttribute("formAction")){if(_=T,R=T[Un]||null)j=R.formAction;else if(h_(_)!==null)continue}else j=R.action;typeof j=="function"?d[m+1]=j:(d.splice(m,3),m-=3),DR(d)}}}function OR(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(R){return _=R})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function m_(s){this._internalRoot=s}Rm.prototype.render=m_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Wr();wR(d,m,s,l,null,null)},Rm.prototype.unmount=m_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;wR(s.current,2,null,s,null,null),cm(),l[oo]=null}};function Rm(s){this._internalRoot=s}Rm.prototype.unstable_scheduleHydration=function(s){if(s){var l=cp();s={blockedOn:null,target:s,priority:l};for(var d=0;d<ya.length&&l!==0&&l<ya[d].priority;d++);ya.splice(d,0,s),d===0&&MR(s)}};var kR=e.version;if(kR!=="19.2.4")throw Error(r(527,kR,"19.2.4"));te.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var KH={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mm.isDisabled&&Mm.supportsFiber)try{Vn=Mm.inject(KH),Cn=Mm}catch{}}return Td.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,m="",_=zI,T=qI,R=HI;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=xR(s,1,!1,null,null,d,m,null,_,T,R,OR),s[oo]=l.current,Jb(s),new m_(l)},Td.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var m=!1,_="",T=zI,R=qI,j=HI,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),l=xR(s,1,!0,l,d??null,m,_,Y,T,R,j,OR),l.context=SR(null),d=l.current,m=Wr(),m=nl(m),_=na(m),_.callback=null,ra(d,_,m),d=m,l.current.lanes=d,el(l,d),To(l),s[oo]=l.current,Jb(s),new Rm(l)},Td.version="19.2.4",Td}var GR;function sG(){if(GR)return b_.exports;GR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b_.exports=oG(),b_.exports}var aG=sG();const lG=zo(aG),zS=A.createContext({});function qS(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const e4=typeof window<"u",t4=e4?A.useLayoutEffect:A.useEffect,iv=A.createContext(null);function HS(t,e){t.indexOf(e)===-1&&t.push(e)}function Mg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lo=(t,e,n)=>n>e?e:n<t?t:n;let GS=()=>{};const bs={},n4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function r4(t){return typeof t=="object"&&t!==null}const i4=t=>/^0[^.\s]+$/u.test(t);function $S(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ei=t=>t,uG=(t,e)=>n=>e(t(n)),Lh=(...t)=>t.reduce(uG),rh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class KS{constructor(){this.subscriptions=[]}add(e){return HS(this.subscriptions,e),()=>Mg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=t=>t*1e3,bi=t=>t/1e3;function o4(t,e){return e?t*(1e3/e):0}const s4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cG=1e-7,fG=12;function dG(t,e,n,r,i){let o,a,u=0;do a=e+(n-e)/2,o=s4(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>cG&&++u<fG);return a}function Vh(t,e,n,r){if(t===e&&n===r)return Ei;const i=o=>dG(o,0,1,t,n);return o=>o===0||o===1?o:s4(i(o),e,r)}const a4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l4=t=>e=>1-t(1-e),u4=Vh(.33,1.53,.69,.99),YS=l4(u4),c4=a4(YS),f4=t=>(t*=2)<1?.5*YS(t):.5*(2-Math.pow(2,-10*(t-1))),WS=t=>1-Math.sin(Math.acos(t)),d4=l4(WS),h4=a4(WS),hG=Vh(.42,0,1,1),pG=Vh(0,0,.58,1),p4=Vh(.42,0,.58,1),mG=t=>Array.isArray(t)&&typeof t[0]!="number",m4=t=>Array.isArray(t)&&typeof t[0]=="number",gG={linear:Ei,easeIn:hG,easeInOut:p4,easeOut:pG,circIn:WS,circInOut:h4,circOut:d4,backIn:YS,backInOut:c4,backOut:u4,anticipate:f4},yG=t=>typeof t=="string",$R=t=>{if(m4(t)){GS(t.length===4);const[e,n,r,i]=t;return Vh(e,n,r,i)}else if(yG(t))return gG[t];return t},Nm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,p=!1,g=!1)=>{const x=g&&i?n:r;return p&&a.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,f.process(h))}};return f}const bG=40;function g4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Nm.reduce((D,B)=>(D[B]=vG(o),D),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:E,postRender:x}=a,S=()=>{const D=bs.useManualTiming?i.timestamp:performance.now();n=!1,bs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,bG),1)),i.timestamp=D,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),E.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},w=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Nm.reduce((D,B)=>{const F=a[B];return D[B]=(U,N=!1,O=!1)=>(n||w(),F.schedule(U,N,O)),D},{}),cancel:D=>{for(let B=0;B<Nm.length;B++)a[Nm[B]].cancel(D)},state:i,steps:a}}const{schedule:Ut,cancel:ka,state:tr,steps:x_}=g4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let cg;function _G(){cg=void 0}const Er={now:()=>(cg===void 0&&Er.set(tr.isProcessing||bs.useManualTiming?tr.timestamp:performance.now()),cg),set:t=>{cg=t,queueMicrotask(_G)}},y4=t=>e=>typeof e=="string"&&e.startsWith(t),v4=y4("--"),EG=y4("var(--"),JS=t=>EG(t)?TG.test(t.split("/*")[0].trim()):!1,TG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function KR(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ih={...Xc,transform:t=>Lo(0,1,t)},Dm={...Xc,default:1},Gd=t=>Math.round(t*1e5)/1e5,XS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xG(t){return t==null}const SG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QS=(t,e)=>n=>!!(typeof n=="string"&&SG.test(n)&&n.startsWith(t)||e&&!xG(n)&&Object.prototype.hasOwnProperty.call(n,e)),b4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,u]=r.match(XS);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},wG=t=>Lo(0,255,t),S_={...Xc,transform:t=>Math.round(wG(t))},Vl={test:QS("rgb","red"),parse:b4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+S_.transform(t)+", "+S_.transform(e)+", "+S_.transform(n)+", "+Gd(ih.transform(r))+")"};function AG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kT={test:QS("#"),parse:AG,transform:Vl.transform},Uh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ba=Uh("deg"),Mo=Uh("%"),De=Uh("px"),CG=Uh("vh"),IG=Uh("vw"),YR={...Mo,parse:t=>Mo.parse(t)/100,transform:t=>Mo.transform(t*100)},mc={test:QS("hsl","hue"),parse:b4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mo.transform(Gd(e))+", "+Mo.transform(Gd(n))+", "+Gd(ih.transform(r))+")"},Tn={test:t=>Vl.test(t)||kT.test(t)||mc.test(t),parse:t=>Vl.test(t)?Vl.parse(t):mc.test(t)?mc.parse(t):kT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vl.transform(t):mc.transform(t),getAnimatableNone:t=>{const e=Tn.parse(t);return e.alpha=0,Tn.transform(e)}},PG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(XS))==null?void 0:e.length)||0)+(((n=t.match(PG))==null?void 0:n.length)||0)>0}const _4="number",E4="color",MG="var",NG="var(",WR="${}",DG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(DG,c=>(Tn.test(c)?(r.color.push(o),i.push(E4),n.push(Tn.parse(c))):c.startsWith(NG)?(r.var.push(o),i.push(MG),n.push(c)):(r.number.push(o),i.push(_4),n.push(parseFloat(c))),++o,WR)).split(WR);return{values:n,split:u,indexes:r,types:i}}function T4(t){return oh(t).values}function x4(t){const{split:e,types:n}=oh(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const u=n[a];u===_4?o+=Gd(i[a]):u===E4?o+=Tn.transform(i[a]):o+=i[a]}return o}}const OG=t=>typeof t=="number"?0:Tn.test(t)?Tn.getAnimatableNone(t):t;function kG(t){const e=T4(t);return x4(t)(e.map(OG))}const La={test:RG,parse:T4,createTransformer:x4,getAnimatableNone:kG};function w_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;i=w_(c,u,t+1/3),o=w_(c,u,t),a=w_(c,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Ng(t,e){return n=>n>0?e:t}const Xt=(t,e,n)=>t+(e-t)*n,A_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},VG=[kT,Vl,mc],UG=t=>VG.find(e=>e.test(t));function JR(t){const e=UG(t);if(!e)return!1;let n=e.parse(t);return e===mc&&(n=LG(n)),n}const XR=(t,e)=>{const n=JR(t),r=JR(e);if(!n||!r)return Ng(t,e);const i={...n};return o=>(i.red=A_(n.red,r.red,o),i.green=A_(n.green,r.green,o),i.blue=A_(n.blue,r.blue,o),i.alpha=Xt(n.alpha,r.alpha,o),Vl.transform(i))},LT=new Set(["none","hidden"]);function BG(t,e){return LT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FG(t,e){return n=>Xt(t,e,n)}function ZS(t){return typeof t=="number"?FG:typeof t=="string"?JS(t)?Ng:Tn.test(t)?XR:qG:Array.isArray(t)?S4:typeof t=="object"?Tn.test(t)?XR:jG:Ng}function S4(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>ZS(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function jG(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZS(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function zG(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],u=t.values[a]??0;n[i]=u,r[o]++}return n}const qG=(t,e)=>{const n=La.createTransformer(e),r=oh(t),i=oh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?LT.has(t)&&!i.values.length||LT.has(e)&&!r.values.length?BG(t,e):Lh(S4(zG(r,i),i.values),n):Ng(t,e)};function w4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xt(t,e,n):ZS(t)(t,e)}const HG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ut.update(e,n),stop:()=>ka(e),now:()=>tr.isProcessing?tr.timestamp:Er.now()}},A4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Dg=2e4;function ew(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Dg;)e+=n,r=t.next(e);return e>=Dg?1/0:e}function GG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ew(r),Dg);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:bi(i)}}const $G=5;function C4(t,e,n){const r=Math.max(e-$G,0);return o4(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C_=.001;function KG({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let i,o,a=1-e;a=Lo(rn.minDamping,rn.maxDamping,a),t=Lo(rn.minDuration,rn.maxDuration,bi(t)),a<1?(i=f=>{const h=f*a,p=h*t,g=h-n,E=VT(f,a),x=Math.exp(-p);return C_-g/E*x},o=f=>{const p=f*a*t,g=p*n+n,E=Math.pow(a,2)*Math.pow(f,2)*t,x=Math.exp(-p),S=VT(Math.pow(f,2),a);return(-i(f)+C_>0?-1:1)*((g-E)*x)/S}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-C_+h*p},o=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const u=5/t,c=WG(i,o,u);if(t=Ki(t),isNaN(c))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const YG=12;function WG(t,e,n){let r=n;for(let i=1;i<YG;i++)r=r-t(r)/e(r);return r}function VT(t,e){return t*Math.sqrt(1-e*e)}const JG=["duration","bounce"],XG=["stiffness","damping","mass"];function QR(t,e){return e.some(n=>t[n]!==void 0)}function QG(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!QR(t,XG)&&QR(t,JG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Lo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:rn.mass,stiffness:i,damping:o}}else{const n=KG(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function Og(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:E}=QG({...n,velocity:-bi(n.velocity||0)}),x=g||0,S=f/(2*Math.sqrt(c*h)),w=a-o,P=bi(Math.sqrt(c/h)),L=Math.abs(w)<5;r||(r=L?rn.restSpeed.granular:rn.restSpeed.default),i||(i=L?rn.restDelta.granular:rn.restDelta.default);let D;if(S<1){const F=VT(P,S);D=U=>{const N=Math.exp(-S*P*U);return a-N*((x+S*P*w)/F*Math.sin(F*U)+w*Math.cos(F*U))}}else if(S===1)D=F=>a-Math.exp(-P*F)*(w+(x+P*w)*F);else{const F=P*Math.sqrt(S*S-1);D=U=>{const N=Math.exp(-S*P*U),O=Math.min(F*U,300);return a-N*((x+S*P*w)*Math.sinh(O)+F*w*Math.cosh(O))/F}}const B={calculatedDuration:E&&p||null,next:F=>{const U=D(F);if(E)u.done=F>=p;else{let N=F===0?x:0;S<1&&(N=F===0?Ki(x):C4(D,F,U));const O=Math.abs(N)<=r,V=Math.abs(a-U)<=i;u.done=O&&V}return u.value=u.done?a:U,u},toString:()=>{const F=Math.min(ew(B),Dg),U=A4(N=>B.next(F*N).value,F,30);return F+"ms "+U},toTransition:()=>{}};return B}Og.applyToOptions=t=>{const e=GG(t,100,Og);return t.ease=e.ease,t.duration=Ki(e.duration),t.type="keyframes",t};function UT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},E=O=>u!==void 0&&O<u||c!==void 0&&O>c,x=O=>u===void 0?c:c===void 0||Math.abs(u-O)<Math.abs(c-O)?u:c;let S=n*e;const w=p+S,P=a===void 0?w:a(w);P!==w&&(S=P-p);const L=O=>-S*Math.exp(-O/r),D=O=>P+L(O),B=O=>{const V=L(O),z=D(O);g.done=Math.abs(V)<=f,g.value=g.done?P:z};let F,U;const N=O=>{E(g.value)&&(F=O,U=Og({keyframes:[g.value,x(g.value)],velocity:C4(D,O,g.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return N(0),{calculatedDuration:null,next:O=>{let V=!1;return!U&&F===void 0&&(V=!0,B(O),N(O)),F!==void 0&&O>=F?U.next(O-F):(!V&&B(O),g)}}}function ZG(t,e,n){const r=[],i=n||bs.mix||w4,o=t.length-1;for(let a=0;a<o;a++){let u=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ei:e;u=Lh(c,u)}r.push(u)}return r}function e8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(GS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=ZG(e,r,i),c=u.length,f=h=>{if(a&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=rh(t[p],t[p+1],h);return u[p](g)};return n?h=>f(Lo(t[0],t[o-1],h)):f}function t8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rh(0,e,r);t.push(Xt(n,1,i))}}function n8(t){const e=[0];return t8(e,t.length-1),e}function r8(t,e){return t.map(n=>n*e)}function i8(t,e){return t.map(()=>e||p4).splice(0,t.length-1)}function $d({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mG(r)?r.map($R):$R(r),o={done:!1,value:e[0]},a=r8(n&&n.length===e.length?n:n8(e),t),u=e8(a,e,{ease:Array.isArray(i)?i:i8(e,i)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const o8=t=>t!==null;function tw(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(o8),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const s8={decay:UT,inertia:UT,tween:$d,keyframes:$d,spring:Og};function I4(t){typeof t.type=="string"&&(t.type=s8[t.type])}class nw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const a8=t=>t/100;class rw extends nw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;I4(e);const{type:n=$d,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:u}=e;const c=n||$d;c!==$d&&typeof u[0]!="number"&&(this.mixKeyframes=Lh(a8,w4(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=ew(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:E,type:x,onUpdate:S,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-f*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?P<0:P>i;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,B=r;if(p){const O=Math.min(this.currentTime,i)/u;let V=Math.floor(O),z=O%1;!z&&O>=1&&(z=1),z===1&&V--,V=Math.min(V,p+1),!!(V%2)&&(g==="reverse"?(z=1-z,E&&(z-=E/u)):g==="mirror"&&(B=a)),D=Lo(0,1,z)*u}const F=L?{done:!1,value:h[0]}:B.next(D);o&&(F.value=o(F.value));let{done:U}=F;!L&&c!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return N&&x!==UT&&(F.value=tw(h,this.options,w,this.speed)),S&&S(F.value),N&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return bi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bi(e)}get time(){return bi(this.currentTime)}set time(e){var n;e=Ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bi(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=HG,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function l8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ul=t=>t*180/Math.PI,BT=t=>{const e=Ul(Math.atan2(t[1],t[0]));return FT(e)},u8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:BT,rotateZ:BT,skewX:t=>Ul(Math.atan(t[1])),skewY:t=>Ul(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},FT=t=>(t=t%360,t<0&&(t+=360),t),ZR=BT,eM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),c8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eM,scaleY:tM,scale:t=>(eM(t)+tM(t))/2,rotateX:t=>FT(Ul(Math.atan2(t[6],t[5]))),rotateY:t=>FT(Ul(Math.atan2(-t[2],t[0]))),rotateZ:ZR,rotate:ZR,skewX:t=>Ul(Math.atan(t[4])),skewY:t=>Ul(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jT(t){return t.includes("scale")?1:0}function zT(t,e){if(!t||t==="none")return jT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=c8,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=u8,i=u}if(!i)return jT(e);const o=r[e],a=i[1].split(",").map(d8);return typeof o=="function"?o(a):a[o]}const f8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zT(n,e)};function d8(t){return parseFloat(t.trim())}const Qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zc=new Set(Qc),nM=t=>t===Xc||t===De,h8=new Set(["x","y","z"]),p8=Qc.filter(t=>!h8.has(t));function m8(t){const e=[];return p8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zT(e,"x"),y:(t,{transform:e})=>zT(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const ql=new Set;let qT=!1,HT=!1,GT=!1;function P4(){if(HT){const t=Array.from(ql).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=m8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var u;(u=r.getValue(o))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}HT=!1,qT=!1,ql.forEach(t=>t.complete(GT)),ql.clear()}function R4(){ql.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(HT=!0)})}function g8(){GT=!0,R4(),P4(),GT=!1}class iw{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ql.add(this),qT||(qT=!0,Ut.read(R4),Ut.resolveKeyframes(P4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}l8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ql.delete(this)}cancel(){this.state==="scheduled"&&(ql.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const y8=t=>t.startsWith("--");function v8(t,e,n){y8(e)?t.style.setProperty(e,n):t.style[e]=n}const b8=$S(()=>window.ScrollTimeline!==void 0),_8={};function E8(t,e){const n=$S(t);return()=>_8[e]??n()}const M4=E8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ld=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ld([0,.65,.55,1]),circOut:Ld([.55,0,1,.45]),backIn:Ld([.31,.01,.66,-.59]),backOut:Ld([.33,1.53,.69,.99])};function N4(t,e){if(t)return typeof t=="function"?M4()?A4(t,e):"ease-out":m4(t)?Ld(t):Array.isArray(t)?t.map(n=>N4(n,e)||rM.easeOut):rM[t]}function T8(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const p=N4(u,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function D4(t){return typeof t=="function"&&"applyToOptions"in t}function x8({type:t,...e}){return D4(t)&&M4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O4 extends nw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,GS(typeof e.type!="string");const f=x8(e);this.animation=T8(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=tw(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):v8(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return bi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bi(e)}get time(){return bi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&b8()?(this.animation.timeline=e,Ei):n(this)}}const k4={anticipate:f4,backInOut:c4,circInOut:h4};function S8(t){return t in k4}function w8(t){typeof t.ease=="string"&&S8(t.ease)&&(t.ease=k4[t.ease])}const I_=10;class A8 extends O4{constructor(e){w8(e),I4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new rw({...a,autoplay:!1}),c=Math.max(I_,Er.now()-this.startTime),f=Lo(0,I_,c-I_);n.setWithVelocity(u.sample(Math.max(0,c-f)).value,u.sample(c).value,f),u.stop()}}const iM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url("));function C8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function I8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=iM(i,e),u=iM(o,e);return!a||!u?!1:C8(t)||(n==="spring"||D4(n))&&r}function $T(t){t.duration=0,t.type="keyframes"}const P8=new Set(["opacity","clipPath","filter","transform"]),R8=$S(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M8(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return R8()&&n&&P8.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const N8=40;class D8 extends nw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:u,name:c,motionValue:f,element:h,...p}){var x;super(),this.stop=()=>{var S,w;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Er.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:f,element:h,...p},E=(h==null?void 0:h.KeyframeResolver)||iw;this.keyframeResolver=new E(u,(S,w,P)=>this.onKeyframesResolved(S,w,g,!P),c,f,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){var w,P;this.keyframeResolver=void 0;const{name:o,type:a,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Er.now(),I8(e,o,a,u)||((bs.instantAnimations||!c)&&(h==null||h(tw(e,r,n))),e[0]=e[e.length-1],$T(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>N8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&M8(g),x=(P=(w=g.motionValue)==null?void 0:w.owner)==null?void 0:P.current,S=E?new A8({...g,element:x}):new rw(g);S.finished.then(()=>{this.notifyFinished()}).catch(Ei),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),g8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function L4(t,e,n,r=0,i=1){const o=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:u-o*r}const O8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k8(t){const e=O8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function V4(t,e,n=1){const[r,i]=k8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return n4(a)?parseFloat(a):a}return JS(i)?V4(i,e,n+1):i}const L8={type:"spring",stiffness:500,damping:25,restSpeed:10},V8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U8={type:"keyframes",duration:.8},B8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F8=(t,{keyframes:e})=>e.length>2?U8:Zc.has(t)?t.startsWith("scale")?V8(e[1]):L8:B8,j8=t=>t!==null;function z8(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(j8),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}function U4(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function ow(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?U4(n,t):n}function q8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const sw=(t,e,n,r={},i,o)=>a=>{const u=ow(r,t)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ki(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};q8(u)||Object.assign(h,F8(t,h)),h.duration&&(h.duration=Ki(h.duration)),h.repeatDelay&&(h.repeatDelay=Ki(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&($T(h),h.delay===0&&(p=!0)),(bs.instantAnimations||bs.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,$T(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,p&&!o&&e.get()!==void 0){const g=z8(h.keyframes,u);if(g!==void 0){Ut.update(()=>{h.onUpdate(g),h.onComplete()});return}}return u.isSync?new rw(h):new D8(h)};function oM(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aw(t,e,n,r){if(typeof e=="function"){const[i,o]=oM(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=oM(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Sc(t,e,n){const r=t.getProps();return aw(r,e,n!==void 0?n:r.custom,t)}const B4=new Set(["width","height","top","left","right","bottom",...Qc]),sM=30,H8=t=>!isNaN(parseFloat(t));class G8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new KS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sM);return o4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lc(t,e){return new G8(t,e)}const KT=t=>Array.isArray(t);function $8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lc(n))}function K8(t){return KT(t)?t[t.length-1]||0:t}function Y8(t,e){const n=Sc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const u=K8(o[a]);$8(t,a,u)}}const hr=t=>!!(t&&t.getVelocity);function W8(t){return!!(hr(t)&&t.add)}function YT(t,e){const n=t.getValue("willChange");if(W8(n))return n.add(e);if(!n&&bs.WillChange){const r=new bs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lw(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const J8="framerAppearId",F4="data-"+lw(J8);function j4(t){return t.props[F4]}function X8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:a,...u}=e;const c=t.getDefaultTransition();o=o?U4(o,c):c;const f=o==null?void 0:o.reduceMotion;r&&(o=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const E=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||p&&X8(p,g))continue;const S={delay:n,...ow(o||{},g)},w=E.get();if(w!==void 0&&!E.isAnimating&&!Array.isArray(x)&&x===w&&!S.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const B=j4(t);if(B){const F=window.MotionHandoffAnimation(B,g,Ut);F!==null&&(S.startTime=F,P=!0)}}YT(t,g);const L=f??t.shouldReduceMotion;E.start(sw(g,E,x,L&&B4.has(g)?{type:!1}:S,t,P));const D=E.animation;D&&h.push(D)}if(a){const g=()=>Ut.update(()=>{a&&Y8(t,a)});h.length?Promise.all(h).then(g):g()}return h}function WT(t,e,n={}){var c;const r=Sc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(z4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return Q8(t,e,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[o,a]:[a,o];return f().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function Q8(t,e,n=0,r=0,i=0,o=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(WT(c,e,{...a,delay:n+(typeof r=="function"?0:r)+L4(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Z8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>WT(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=WT(t,e,n);else{const i=typeof e=="function"?Sc(t,e,n.custom):e;r=Promise.all(z4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const e$={test:t=>t==="auto",parse:t=>t},q4=t=>e=>e.test(t),H4=[Xc,De,Mo,ba,IG,CG,e$],aM=t=>H4.find(q4(t));function t$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||i4(t):!0}const n$=new Set(["brightness","contrast","saturate","opacity"]);function r$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(XS)||[];if(!r)return t;const i=n.replace(r,"");let o=n$.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const i$=/\b([a-z-]*)\(.*?\)/gu,JT={...La,getAnimatableNone:t=>{const e=t.match(i$);return e?e.map(r$).join(" "):t}},lM={...Xc,transform:Math.round},o$={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:Dm,scaleX:Dm,scaleY:Dm,scaleZ:Dm,skew:ba,skewX:ba,skewY:ba,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:ih,originX:YR,originY:YR,originZ:De},uw={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,fontSize:De,backgroundPositionX:De,backgroundPositionY:De,...o$,zIndex:lM,fillOpacity:ih,strokeOpacity:ih,numOctaves:lM},s$={...uw,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:JT,WebkitFilter:JT},G4=t=>s$[t];function $4(t,e){let n=G4(t);return n!==JT&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a$=new Set(["auto","none","0"]);function l$(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!a$.has(o)&&oh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=$4(n,i)}class u$ extends iw{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),JS(p))){const g=V4(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!B4.has(r)||e.length!==2)return;const[i,o]=e,a=aM(i),u=aM(o),c=KR(i),f=KR(o);if(c!==f&&Sa[r]){this.needsMeasurement=!0;return}if(a!==u)if(nM(a)&&nM(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||t$(e[i]))&&r.push(i);r.length&&l$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const c$=new Set(["opacity","clipPath","filter","transform"]);function K4(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Y4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function XT(t){return r4(t)&&"offsetHeight"in t}const{schedule:cw}=g4(queueMicrotask,!1),zi={x:!1,y:!1};function W4(){return zi.x||zi.y}function f$(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function J4(t,e){const n=K4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function d$(t){return!(t.pointerType==="touch"||W4())}function h$(t,e,n={}){const[r,i,o]=J4(t,n);return r.forEach(a=>{let u=!1,c=!1,f;const h=()=>{a.removeEventListener("pointerleave",x)},p=w=>{f&&(f(w),f=void 0),h()},g=w=>{u=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),c&&(c=!1,p(w))},E=()=>{u=!0,window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",g,i)},x=w=>{if(w.pointerType!=="touch"){if(u){c=!0;return}p(w)}},S=w=>{if(!d$(w))return;c=!1;const P=e(a,w);typeof P=="function"&&(f=P,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",S,i),a.addEventListener("pointerdown",E,i)}),o}const X4=(t,e)=>e?t===e?!0:X4(t,e.parentElement):!1,fw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,p$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function m$(t){return p$.has(t.tagName)||t.isContentEditable===!0}const g$=new Set(["INPUT","SELECT","TEXTAREA"]);function y$(t){return g$.has(t.tagName)||t.isContentEditable===!0}const fg=new WeakSet;function uM(t){return e=>{e.key==="Enter"&&t(e)}}function P_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const v$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=uM(()=>{if(fg.has(n))return;P_(n,"down");const i=uM(()=>{P_(n,"up")}),o=()=>P_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function cM(t){return fw(t)&&!W4()}const fM=new WeakSet;function b$(t,e,n={}){const[r,i,o]=J4(t,n),a=u=>{const c=u.currentTarget;if(!cM(u)||fM.has(u))return;fg.add(c),n.stopPropagation&&fM.add(u);const f=e(c,u),h=(E,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),fg.has(c)&&fg.delete(c),cM(E)&&typeof f=="function"&&f(E,{success:x})},p=E=>{h(E,c===window||c===document||n.useGlobalTarget||X4(c,E.target))},g=E=>{h(E,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),XT(u)&&(u.addEventListener("focus",f=>v$(f,i)),!m$(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function dw(t){return r4(t)&&"ownerSVGElement"in t}const dg=new WeakMap;let _a;const Q4=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:dw(r)&&"getBBox"in r?r.getBBox()[e]:r[n],_$=Q4("inline","width","offsetWidth"),E$=Q4("block","height","offsetHeight");function T$({target:t,borderBoxSize:e}){var n;(n=dg.get(t))==null||n.forEach(r=>{r(t,{get width(){return _$(t,e)},get height(){return E$(t,e)}})})}function x$(t){t.forEach(T$)}function S$(){typeof ResizeObserver>"u"||(_a=new ResizeObserver(x$))}function w$(t,e){_a||S$();const n=K4(t);return n.forEach(r=>{let i=dg.get(r);i||(i=new Set,dg.set(r,i)),i.add(e),_a==null||_a.observe(r)}),()=>{n.forEach(r=>{const i=dg.get(r);i==null||i.delete(e),i!=null&&i.size||_a==null||_a.unobserve(r)})}}const hg=new Set;let gc;function A$(){gc=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};hg.forEach(e=>e(t))},window.addEventListener("resize",gc)}function C$(t){return hg.add(t),gc||A$(),()=>{hg.delete(t),!hg.size&&typeof gc=="function"&&(window.removeEventListener("resize",gc),gc=void 0)}}function dM(t,e){return typeof t=="function"?C$(t):w$(t,e)}function I$(t){return dw(t)&&t.tagName==="svg"}const P$=[...H4,Tn,La],R$=t=>P$.find(q4(t)),hM=()=>({translate:0,scale:1,origin:0,originPoint:0}),yc=()=>({x:hM(),y:hM()}),pM=()=>({min:0,max:0}),Pn=()=>({x:pM(),y:pM()}),M$=new WeakMap;function ov(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sh(t){return typeof t=="string"||Array.isArray(t)}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pw=["initial",...hw];function sv(t){return ov(t.animate)||pw.some(e=>sh(t[e]))}function Z4(t){return!!(sv(t)||t.variants)}function N$(t,e,n){for(const r in e){const i=e[r],o=n[r];if(hr(i))t.addValue(r,i);else if(hr(o))t.addValue(r,Lc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Lc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QT={current:null},e3={current:!1},D$=typeof window<"u";function O$(){if(e3.current=!0,!!D$)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>QT.current=t.matches;t.addEventListener("change",e),e()}else QT.current=!1}const mM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let kg={};function t3(t){kg=t}function k$(){return kg}class L${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:a,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=iw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Er.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ut.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=sv(n),this.isVariantNode=Z4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in g){const x=g[E];f[E]!==void 0&&hr(x)&&x.set(f[E])}}mount(e){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,M$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(e3.current||O$(),this.shouldReduceMotion=QT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&c$.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:u,times:c,ease:f,duration:h}=n.accelerate,p=new O4({element:this.current,name:e,keyframes:u,times:c,ease:f,duration:Ki(h)}),g=a(p);this.valueSubscriptions.set(e,()=>{g(),p.cancel()});return}const r=Zc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kg){const n=kg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mM.length;r++){const i=mM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=N$(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(n4(r)||i4(r))?r=parseFloat(r):!R$(r)&&La.test(n)&&(r=$4(e,n)),this.setBaseTarget(e,hr(r)?r.get():r)),hr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=aw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!hr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new KS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cw.render(this.render)}}class n3 extends L${constructor(){super(...arguments),this.KeyframeResolver=u$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}function r3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function V$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function R_(t){return t===void 0||t===1}function ZT({scale:t,scaleX:e,scaleY:n}){return!R_(t)||!R_(e)||!R_(n)}function Pl(t){return ZT(t)||i3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function i3(t){return gM(t.x)||gM(t.y)}function gM(t){return t&&t!=="0%"}function Lg(t,e,n){const r=t-n,i=e*r;return n+i}function yM(t,e,n,r,i){return i!==void 0&&(t=Lg(t,i,r)),Lg(t,n,r)+e}function ex(t,e=0,n=1,r,i){t.min=yM(t.min,e,n,r,i),t.max=yM(t.max,e,n,r,i)}function o3(t,{x:e,y:n}){ex(t.x,e.translate,e.scale,e.originPoint),ex(t.y,n.translate,n.scale,n.originPoint)}const vM=.999999999999,bM=1.0000000000001;function B$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let u=0;u<i;u++){o=n[u],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,o3(t,a)),r&&Pl(o.latestValues)&&bc(t,o.latestValues))}e.x<bM&&e.x>vM&&(e.x=1),e.y<bM&&e.y>vM&&(e.y=1)}function vc(t,e){t.min=t.min+e,t.max=t.max+e}function _M(t,e,n,r,i=.5){const o=Xt(t.min,t.max,i);ex(t,e,n,o,r)}function bc(t,e){_M(t.x,e.x,e.scaleX,e.scale,e.originX),_M(t.y,e.y,e.scaleY,e.scale,e.originY)}function s3(t,e){return r3(U$(t.getBoundingClientRect(),e))}function F$(t,e,n){const r=s3(t,n),{scroll:i}=e;return i&&(vc(r.x,i.offset.x),vc(r.y,i.offset.y)),r}const j$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z$=Qc.length;function q$(t,e,n){let r="",i=!0;for(let o=0;o<z$;o++){const a=Qc[o],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number")c=u===(a.startsWith("scale")?1:0);else{const f=parseFloat(u);c=a.startsWith("scale")?f===1:f===0}if(!c||n){const f=Y4(u,uw[a]);if(!c){i=!1;const h=j$[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function mw(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,u=!1;for(const c in e){const f=e[c];if(Zc.has(c)){a=!0;continue}else if(v4(c)){i[c]=f;continue}else{const h=Y4(f,uw[c]);c.startsWith("origin")?(u=!0,o[c]=h):r[c]=h}}if(e.transform||(a||n?r.transform=q$(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=o;r.transformOrigin=`${c} ${f} ${h}`}}function a3(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function EM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=EM(t,e.target.x),r=EM(t,e.target.y);return`${n}% ${r}%`}},H$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=La.parse(t);if(i.length>5)return r;const o=La.createTransformer(t),a=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const f=Xt(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),o(i)}},tx={borderRadius:{...xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xd,borderTopRightRadius:xd,borderBottomLeftRadius:xd,borderBottomRightRadius:xd,boxShadow:H$};function l3(t,{layout:e,layoutId:n}){return Zc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tx[t]||t==="opacity")}function gw(t,e,n){var a;const r=t.style,i=e==null?void 0:e.style,o={};if(!r)return o;for(const u in r)(hr(r[u])||i&&hr(i[u])||l3(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=r[u]);return o}function G$(t){return window.getComputedStyle(t)}class $$ extends n3{constructor(){super(...arguments),this.type="html",this.renderInstance=a3}readValueFromInstance(e,n){var r;if(Zc.has(n))return(r=this.projection)!=null&&r.isProjecting?jT(n):f8(e,n);{const i=G$(e),o=(v4(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return s3(e,n)}build(e,n,r){mw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return gw(e,n,r)}}const K$={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y$={offset:"strokeDashoffset",array:"strokeDasharray"};function W$(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?K$:Y$;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const J$=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function u3(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...u},c,f,h){if(mw(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox);for(const E of J$)p[E]!==void 0&&(g[E]=p[E],delete p[E]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&W$(p,i,o,a,!1)}const c3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),f3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X$(t,e,n,r){a3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(c3.has(i)?i:lw(i),e.attrs[i])}function d3(t,e,n){const r=gw(t,e,n);for(const i in t)if(hr(t[i])||hr(e[i])){const o=Qc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}class Q$ extends n3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zc.has(n)){const r=G4(n);return r&&r.default||0}return n=c3.has(n)?n:lw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return d3(e,n,r)}build(e,n,r){u3(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){X$(e,n,r,i)}mount(e){this.isSVGTag=f3(e.tagName),super.mount(e)}}const Z$=pw.length;function h3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?h3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Z$;n++){const r=pw[n],i=t.props[r];(sh(i)||i===!1)&&(e[r]=i)}return e}function p3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e7=[...hw].reverse(),t7=hw.length;function n7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Z8(t,n,r)))}function r7(t){let e=n7(t),n=TM(),r=!0;const i=c=>(f,h)=>{var g;const p=Sc(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:E,transitionEnd:x,...S}=p;f={...f,...S,...x}}return f};function o(c){e=c(t)}function a(c){const{props:f}=t,h=h3(t.parent)||{},p=[],g=new Set;let E={},x=1/0;for(let w=0;w<t7;w++){const P=e7[w],L=n[P],D=f[P]!==void 0?f[P]:h[P],B=sh(D),F=P===c?L.isActive:null;F===!1&&(x=w);let U=D===h[P]&&D!==f[P]&&B;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),L.protectedKeys={...E},!L.isActive&&F===null||!D&&!L.prevProp||ov(D)||typeof D=="boolean")continue;if(P==="exit"&&L.isActive&&F!==!0){L.prevResolvedValues&&(E={...E,...L.prevResolvedValues});continue}const N=i7(L.prevProp,D);let O=N||P===c&&L.isActive&&!U&&B||w>x&&B,V=!1;const z=Array.isArray(D)?D:[D];let q=z.reduce(i(P),{});F===!1&&(q={});const{prevResolvedValues:H={}}=L,$={...H,...q},ve=te=>{O=!0,g.has(te)&&(V=!0,g.delete(te)),L.needsAnimating[te]=!0;const de=t.getValue(te);de&&(de.liveStyle=!1)};for(const te in $){const de=q[te],ue=H[te];if(E.hasOwnProperty(te))continue;let K=!1;KT(de)&&KT(ue)?K=!p3(de,ue):K=de!==ue,K?de!=null?ve(te):g.add(te):de!==void 0&&g.has(te)?ve(te):L.protectedKeys[te]=!0}L.prevProp=D,L.prevResolvedValues=q,L.isActive&&(E={...E,...q}),r&&t.blockInitialAnimation&&(O=!1);const Ee=U&&N;O&&(!Ee||V)&&p.push(...z.map(te=>{const de={type:P};if(typeof te=="string"&&r&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,K=Sc(ue,te);if(ue.enteringChildren&&K){const{delayChildren:k}=K.transition||{};de.delay=L4(ue.enteringChildren,t,k)}}return{animation:te,options:de}}))}if(g.size){const w={};if(typeof f.initial!="boolean"){const P=Sc(t,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(w.transition=P.transition)}g.forEach(P=>{const L=t.getBaseTarget(P),D=t.getValue(P);D&&(D.liveStyle=!0),w[P]=L??null}),p.push({animation:w})}let S=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function u(c,f){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var E;return(E=g.animationState)==null?void 0:E.setActive(c,f)}),n[c].isActive=f;const h=a(c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=TM()}}}function i7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!p3(e,t):!1}function Cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TM(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}function xM(t,e){t.min=e.min,t.max=e.max}function ji(t,e){xM(t.x,e.x),xM(t.y,e.y)}function SM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const m3=1e-4,o7=1-m3,s7=1+m3,g3=.01,a7=0-g3,l7=0+g3;function Tr(t){return t.max-t.min}function u7(t,e,n){return Math.abs(t-e)<=n}function wM(t,e,n,r=.5){t.origin=r,t.originPoint=Xt(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=Xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o7&&t.scale<=s7||isNaN(t.scale))&&(t.scale=1),(t.translate>=a7&&t.translate<=l7||isNaN(t.translate))&&(t.translate=0)}function Kd(t,e,n,r){wM(t.x,e.x,n.x,r?r.originX:void 0),wM(t.y,e.y,n.y,r?r.originY:void 0)}function AM(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function c7(t,e,n){AM(t.x,e.x,n.x),AM(t.y,e.y,n.y)}function CM(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function Vg(t,e,n){CM(t.x,e.x,n.x),CM(t.y,e.y,n.y)}function IM(t,e,n,r,i){return t-=e,t=Lg(t,1/n,r),i!==void 0&&(t=Lg(t,1/i,r)),t}function f7(t,e=0,n=1,r=.5,i,o=t,a=t){if(Mo.test(e)&&(e=parseFloat(e),e=Xt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Xt(o.min,o.max,r);t===o&&(u-=e),t.min=IM(t.min,e,n,u,i),t.max=IM(t.max,e,n,u,i)}function PM(t,e,[n,r,i],o,a){f7(t,e[n],e[r],e[i],e.scale,o,a)}const d7=["x","scaleX","originX"],h7=["y","scaleY","originY"];function RM(t,e,n,r){PM(t.x,e,d7,n?n.x:void 0,r?r.x:void 0),PM(t.y,e,h7,n?n.y:void 0,r?r.y:void 0)}function MM(t){return t.translate===0&&t.scale===1}function y3(t){return MM(t.x)&&MM(t.y)}function NM(t,e){return t.min===e.min&&t.max===e.max}function p7(t,e){return NM(t.x,e.x)&&NM(t.y,e.y)}function DM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function v3(t,e){return DM(t.x,e.x)&&DM(t.y,e.y)}function OM(t){return Tr(t.x)/Tr(t.y)}function kM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ao(t){return[t("x"),t("y")]}function m7(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:E,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),E&&(r+=`skewX(${E}deg) `),x&&(r+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const b3=["TopLeft","TopRight","BottomLeft","BottomRight"],g7=b3.length,LM=t=>typeof t=="string"?parseFloat(t):t,VM=t=>typeof t=="number"||De.test(t);function y7(t,e,n,r,i,o){i?(t.opacity=Xt(0,n.opacity??1,v7(r)),t.opacityExit=Xt(e.opacity??1,0,b7(r))):o&&(t.opacity=Xt(e.opacity??1,n.opacity??1,r));for(let a=0;a<g7;a++){const u=`border${b3[a]}Radius`;let c=UM(e,u),f=UM(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||VM(c)===VM(f)?(t[u]=Math.max(Xt(LM(c),LM(f),r),0),(Mo.test(f)||Mo.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Xt(e.rotate||0,n.rotate||0,r))}function UM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v7=_3(0,.5,d4),b7=_3(.5,.95,Ei);function _3(t,e,n){return r=>r<t?0:r>e?1:n(rh(t,e,r))}function _7(t,e,n){const r=hr(t)?t:Lc(t);return r.start(sw("",r,e,n)),r.animation}function ah(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const E7=(t,e)=>t.depth-e.depth;class T7{constructor(){this.children=[],this.isDirty=!1}add(e){HS(this.children,e),this.isDirty=!0}remove(e){Mg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(E7),this.isDirty=!1,this.children.forEach(e)}}function x7(t,e){const n=Er.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(ka(r),t(o-e))};return Ut.setup(r,!0),()=>ka(r)}function pg(t){return hr(t)?t.get():t}class S7{constructor(){this.members=[]}add(e){HS(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Mg(this.members,r)}e.scheduleRender()}remove(e){if(Mg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i],a=o.instance;if(o.isPresent!==!1&&(!a||a.isConnected!==!1)){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,o=e.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const mg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},M_=["","X","Y","Z"],w7=1e3;let A7=0;function N_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=j4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E3(r)}function T3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=A7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P7),this.nodes.forEach(D7),this.nodes.forEach(O7),this.nodes.forEach(R7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new T7)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new KS),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=dw(a)&&!I$(a),this.instance=a;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{p=window.innerWidth}),t(a,()=>{const E=window.innerWidth;E!==p&&(p=E,this.root.updateBlockedByResize=!0,h&&h(),h=x7(g,250),mg.hasAnimatedSinceResize&&(mg.hasAnimatedSinceResize=!1,this.nodes.forEach(jM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||B7,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=f.getProps(),P=!this.targetLayout||!v3(this.targetLayout,E),L=!p&&g;if(this.options.layoutRoot||this.resumeFrom||L||p&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...ow(x,"layout"),onPlay:S,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(h,L)}else p||jM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k7),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N7),this.nodes.forEach(C7),this.nodes.forEach(I7)):this.nodes.forEach(FM),this.clearAllSnapshots();const u=Er.now();tr.delta=Lo(0,1e3/60,u-tr.timestamp),tr.timestamp=u,tr.isProcessing=!0,x_.update.process(tr),x_.preRender.process(tr),x_.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M7),this.sharedNodes.forEach(L7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tr(this.snapshot.measuredBox.x)&&!Tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!y3(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||Pl(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),F7(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Pn();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(j7))){const{scroll:h}=this.root;h&&(vc(u.x,h.offset.x),vc(u.y,h.offset.y))}return u}removeElementScroll(a){var c;const u=Pn();if(ji(u,a),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ji(u,a),vc(u.x,p.offset.x),vc(u.y,p.offset.y))}return u}applyTransform(a,u=!1){const c=Pn();ji(c,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bc(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Pl(h.latestValues)&&bc(c,h.latestValues)}return Pl(this.latestValues)&&bc(c,this.latestValues),c}removeTransform(a){const u=Pn();ji(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Pl(f.latestValues))continue;ZT(f.latestValues)&&f.updateSnapshot();const h=Pn(),p=f.measurePageBox();ji(h,p),RM(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Pl(this.latestValues)&&RM(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var E;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!this.layout||!(h||p))return;this.resolvedRelativeTargetAt=tr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),o3(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ZT(this.parent.latestValues)||i3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,u,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Vg(this.relativeTargetOrigin,u,c),ji(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ji(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;B$(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pn());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SM(this.prevProjectionDelta.x,this.projectionDelta.x),SM(this.prevProjectionDelta.y,this.projectionDelta.y)),Kd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!kM(this.projectionDelta.x,this.prevProjectionDelta.x)||!kM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yc(),this.projectionDelta=yc(),this.projectionDeltaWithTransform=yc()}setAnimationOrigin(a,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=Pn(),E=c?c.source:void 0,x=this.layout?this.layout.source:void 0,S=E!==x,w=this.getStack(),P=!w||w.members.length<=1,L=!!(S&&!P&&this.options.crossfade===!0&&!this.path.some(U7));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const F=B/1e3;zM(p.x,a.x,F),zM(p.y,a.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V7(this.relativeTarget,this.relativeTargetOrigin,g,F),D&&p7(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Pn()),ji(D,this.relativeTarget)),S&&(this.animationValues=h,y7(h,f,this.latestValues,F,L,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{mg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lc(0)),this.currentAnimation=_7(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=a;if(!(!u||!c||!f)){if(this!==a&&this.layout&&f&&x3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Pn();const p=Tr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Tr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}ji(u,c),bc(u,h),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new S7),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&N_("z",a,f,this.animationValues);for(let h=0;h<M_.length;h++)N_(`rotate${M_[h]}`,a,f,this.animationValues),N_(`skew${M_[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}applyProjectionStyles(a,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=pg(u==null?void 0:u.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=pg(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Pl(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=m7(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),a.transform=p;const{x:g,y:E}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,f.animationValues?a.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in tx){if(h[x]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:P}=tx[x],L=p==="none"?h[x]:S(h[x],f);if(w){const D=w.length;for(let B=0;B<D;B++)a[w[B]]=L}else P?this.options.visualElement.renderState.vars[x]=L:a[x]=L}this.options.layoutId&&(a.pointerEvents=f===this?pg(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(BM),this.root.sharedNodes.clear()}}}function C7(t){t.updateLayout()}function I7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Ao(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],E=Tr(g);g.min=r[p].min,g.max=g.min+E}):x3(o,e.layoutBox,r)&&Ao(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],E=Tr(r[p]);g.max=g.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+E)});const u=yc();Kd(u,r,e.layoutBox);const c=yc();a?Kd(c,t.applyTransform(i,!0),e.measuredBox):Kd(c,r,e.layoutBox);const f=!y3(u);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:E}=p;if(g&&E){const x=Pn();Vg(x,e.layoutBox,g.layoutBox);const S=Pn();Vg(S,r,E.layoutBox),v3(x,S)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function P7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function R7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function M7(t){t.clearSnapshot()}function BM(t){t.clearMeasurements()}function FM(t){t.isLayoutDirty=!1}function N7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D7(t){t.resolveTargetDelta()}function O7(t){t.calcProjection()}function k7(t){t.resetSkewAndRotation()}function L7(t){t.removeLeadSnapshot()}function zM(t,e,n){t.translate=Xt(e.translate,0,n),t.scale=Xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qM(t,e,n,r){t.min=Xt(e.min,n.min,r),t.max=Xt(e.max,n.max,r)}function V7(t,e,n,r){qM(t.x,e.x,n.x,r),qM(t.y,e.y,n.y,r)}function U7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B7={duration:.45,ease:[.4,0,.1,1]},HM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GM=HM("applewebkit/")&&!HM("chrome/")?Math.round:Ei;function $M(t){t.min=GM(t.min),t.max=GM(t.max)}function F7(t){$M(t.x),$M(t.y)}function x3(t,e,n){return t==="position"||t==="preserve-aspect"&&!u7(OM(e),OM(n),.2)}function j7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const z7=T3({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),D_={current:void 0},S3=T3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!D_.current){const t=new z7({});t.mount(window),t.setOptions({layoutScroll:!0}),D_.current=t}return D_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yw=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function KM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function q7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=KM(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():KM(t[i],null)}}}}function H7(...t){return A.useCallback(q7(...t),t)}class G7 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=XT(r)&&r.offsetWidth||0,o=XT(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function $7({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:o}){var g;const a=A.useId(),u=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=A.useContext(yw),h=((g=t.props)==null?void 0:g.ref)??(t==null?void 0:t.ref),p=H7(u,h);return A.useInsertionEffect(()=>{const{width:E,height:x,top:S,left:w,right:P,bottom:L}=c.current;if(e||o===!1||!u.current||!E||!x)return;const D=n==="left"?`left: ${w}`:`right: ${P}`,B=r==="bottom"?`bottom: ${L}`:`top: ${S}`;u.current.dataset.motionPopId=a;const F=document.createElement("style");f&&(F.nonce=f);const U=i??document.head;return U.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${x}px !important;
            ${D}px !important;
            ${B}px !important;
          }
        `),()=>{U.contains(F)&&U.removeChild(F)}},[e]),I.jsx(G7,{isPresent:e,childRef:u,sizeRef:c,pop:o,children:o===!1?t:A.cloneElement(t,{ref:p})})}const K7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:u,anchorY:c,root:f})=>{const h=qS(Y7),p=A.useId();let g=!0,E=A.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const S of h.values())if(!S)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return o&&g&&(E={...E}),A.useMemo(()=>{h.forEach((x,S)=>h.set(S,!1))},[n]),A.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),t=I.jsx($7,{pop:a==="popLayout",isPresent:n,anchorX:u,anchorY:c,root:f,children:t}),I.jsx(iv.Provider,{value:E,children:t})};function Y7(){return new Map}function w3(t=!0){const e=A.useContext(iv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{if(t)return i(o)},[t]);const a=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Om=t=>t.key||"";function YM(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const W7=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:u="left",anchorY:c="top",root:f})=>{const[h,p]=w3(a),g=A.useMemo(()=>YM(t),[t]),E=a&&!h?[]:g.map(Om),x=A.useRef(!0),S=A.useRef(g),w=qS(()=>new Map),P=A.useRef(new Set),[L,D]=A.useState(g),[B,F]=A.useState(g);t4(()=>{x.current=!1,S.current=g;for(let O=0;O<B.length;O++){const V=Om(B[O]);E.includes(V)?(w.delete(V),P.current.delete(V)):w.get(V)!==!0&&w.set(V,!1)}},[B,E.length,E.join("-")]);const U=[];if(g!==L){let O=[...g];for(let V=0;V<B.length;V++){const z=B[V],q=Om(z);E.includes(q)||(O.splice(V,0,z),U.push(z))}return o==="wait"&&U.length&&(O=U),F(YM(O)),D(g),null}const{forceRender:N}=A.useContext(zS);return I.jsx(I.Fragment,{children:B.map(O=>{const V=Om(O),z=a&&!h?!1:g===B||E.includes(V),q=()=>{if(P.current.has(V))return;if(P.current.add(V),w.has(V))w.set(V,!0);else return;let H=!0;w.forEach($=>{$||(H=!1)}),H&&(N==null||N(),F(S.current),a&&(p==null||p()),r&&r())};return I.jsx(K7,{isPresent:z,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:f,onExitComplete:z?void 0:q,anchorX:u,anchorY:c,children:O},V)})})},A3=A.createContext({strict:!1}),WM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let JM=!1;function J7(){if(JM)return;const t={};for(const e in WM)t[e]={isEnabled:n=>WM[e].some(r=>!!n[r])};t3(t),JM=!0}function C3(){return J7(),k$()}function X7(t){const e=C3();for(const n in t)e[n]={...e[n],...t[n]};t3(e)}const Q7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Ug(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q7.has(t)}let I3=t=>!Ug(t);function Z7(t){typeof t=="function"&&(I3=e=>e.startsWith("on")?!Ug(e):t(e))}try{Z7(require("@emotion/is-prop-valid").default)}catch{}function eK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(I3(i)||n===!0&&Ug(i)||!e&&!Ug(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const av=A.createContext({});function tK(t,e){if(sv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sh(n)?n:void 0,animate:sh(r)?r:void 0}}return t.inherit!==!1?e:{}}function nK(t){const{initial:e,animate:n}=tK(t,A.useContext(av));return A.useMemo(()=>({initial:e,animate:n}),[XM(e),XM(n)])}function XM(t){return Array.isArray(t)?t.join(" "):t}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P3(t,e,n){for(const r in e)!hr(e[r])&&!l3(r,n)&&(t[r]=e[r])}function rK({transformTemplate:t},e){return A.useMemo(()=>{const n=vw();return mw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iK(t,e){const n=t.style||{},r={};return P3(r,n,t),Object.assign(r,rK(t,e)),r}function oK(t,e){const n={},r=iK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const R3=()=>({...vw(),attrs:{}});function sK(t,e,n,r){const i=A.useMemo(()=>{const o=R3();return u3(o,e,f3(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};P3(o,t.style,t),i.style={...o,...i.style}}return i}const aK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bw(t){return typeof t!="string"||t.includes("-")?!1:!!(aK.indexOf(t)>-1||/[A-Z]/u.test(t))}function lK(t,e,n,{latestValues:r},i,o=!1,a){const c=(a??bw(t)?sK:oK)(e,r,i,t),f=eK(e,typeof t=="string",o),h=t!==A.Fragment?{...f,...c,ref:n}:{},{children:p}=e,g=A.useMemo(()=>hr(p)?p.get():p,[p]);return A.createElement(t,{...h,children:g})}function uK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:cK(n,r,i,t),renderState:e()}}function cK(t,e,n,r){const i={},o=r(t,{});for(const g in o)i[g]=pg(o[g]);let{initial:a,animate:u}=t;const c=sv(t),f=Z4(t);e&&f&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const p=h?u:a;if(p&&typeof p!="boolean"&&!ov(p)){const g=Array.isArray(p)?p:[p];for(let E=0;E<g.length;E++){const x=aw(t,g[E]);if(x){const{transitionEnd:S,transition:w,...P}=x;for(const L in P){let D=P[L];if(Array.isArray(D)){const B=h?D.length-1:0;D=D[B]}D!==null&&(i[L]=D)}for(const L in S)i[L]=S[L]}}}return i}const M3=t=>(e,n)=>{const r=A.useContext(av),i=A.useContext(iv),o=()=>uK(t,e,r,i);return n?o():qS(o)},fK=M3({scrapeMotionValuesFromProps:gw,createRenderState:vw}),dK=M3({scrapeMotionValuesFromProps:d3,createRenderState:R3}),hK=Symbol.for("motionComponentSymbol");function pK(t,e,n){const r=A.useRef(n);A.useInsertionEffect(()=>{r.current=n});const i=A.useRef(null);return A.useCallback(o=>{var u;o&&((u=t.onMount)==null||u.call(t,o)),e&&(o?e.mount(o):e.unmount());const a=r.current;if(typeof a=="function")if(o){const c=a(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[e])}const N3=A.createContext({});function lc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mK(t,e,n,r,i,o){var D,B;const{visualElement:a}=A.useContext(av),u=A.useContext(A3),c=A.useContext(iv),f=A.useContext(yw),h=f.reducedMotion,p=f.skipAnimations,g=A.useRef(null),E=A.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:p,isSVG:o}),E.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const x=g.current,S=A.useContext(N3);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&gK(g.current,n,i,S);const w=A.useRef(!1);A.useInsertionEffect(()=>{x&&w.current&&x.update(n,c)});const P=n[F4],L=A.useRef(!!P&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,P))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,P)));return t4(()=>{E.current=!0,x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),L.current&&x.animationState&&x.animationState.animateChanges())}),A.useEffect(()=>{x&&(!L.current&&x.animationState&&x.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,P)}),L.current=!1),x.enteringChildren=void 0)}),x}function gK(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D3(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||u&&lc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function D3(t){if(t)return t.options.allowProjection!==!1?t.projection:D3(t.parent)}function O_(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&X7(r);const o=n?n==="svg":bw(t),a=o?dK:fK;function u(f,h){let p;const g={...A.useContext(yw),...f,layoutId:yK(f)},{isStatic:E}=g,x=nK(f),S=a(f,E);if(!E&&e4){vK();const w=bK(g);p=w.MeasureLayout,x.visualElement=mK(t,S,g,i,w.ProjectionNode,o)}return I.jsxs(av.Provider,{value:x,children:[p&&x.visualElement?I.jsx(p,{visualElement:x.visualElement,...g}):null,lK(t,f,pK(S,x.visualElement,h),S,E,e,o)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(u);return c[hK]=t,c}function yK({layoutId:t}){const e=A.useContext(zS).id;return e&&t!==void 0?e+"-"+t:t}function vK(t,e){A.useContext(A3).strict}function bK(t){const e=C3(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function _K(t,e){if(typeof Proxy>"u")return O_;const n=new Map,r=(o,a)=>O_(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,O_(a,void 0,t,e)),n.get(a))})}const EK=(t,e)=>e.isSVG??bw(t)?new Q$(e):new $$(e,{allowProjection:t!==A.Fragment});class TK extends Ga{constructor(e){super(e),e.animationState||(e.animationState=r7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ov(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let xK=0;class SK extends Ga{constructor(){super(...arguments),this.id=xK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wK={animation:{Feature:TK},exit:{Feature:SK}};function Bh(t){return{point:{x:t.pageX,y:t.pageY}}}const AK=t=>e=>fw(e)&&t(e,Bh(e));function Yd(t,e,n,r){return ah(t,e,AK(n),r)}const O3=({current:t})=>t?t.ownerDocument.defaultView:null,QM=(t,e)=>Math.abs(t-e);function CK(t,e){const n=QM(t.x,e.x),r=QM(t.y,e.y);return Math.sqrt(n**2+r**2)}const ZM=new Set(["auto","scroll"]);class k3{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=L_(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=CK(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!S)return;const{point:w}=E,{timestamp:P}=tr;this.history.push({...w,timestamp:P});const{onStart:L,onMove:D}=this.handlers;x||(L&&L(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=k_(x,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:P}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=L_(E.type==="pointercancel"?this.lastMoveEventInfo:k_(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(E,L),w&&w(E,L)},!fw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=Bh(e),f=k_(c,this.transformPagePoint),{point:h}=f,{timestamp:p}=tr;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,L_(f,this.history)),this.removeListeners=Lh(Yd(this.contextWindow,"pointermove",this.handlePointerMove),Yd(this.contextWindow,"pointerup",this.handlePointerUp),Yd(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(ZM.has(r.overflowX)||ZM.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,i),Ut.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ka(this.updatePoint)}}function k_(t,e){return e?{point:e(t.point)}:t}function eN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function L_({point:t},e){return{point:t,delta:eN(t,L3(e)),offset:eN(t,IK(e)),velocity:PK(e,.1)}}function IK(t){return t[0]}function L3(t){return t[t.length-1]}function PK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=L3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ki(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Ki(e)*2&&(r=t[1]);const o=bi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function RK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xt(n,t,r.max):Math.min(t,n)),t}function tN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MK(t,{top:e,left:n,bottom:r,right:i}){return{x:tN(t.x,n,i),y:tN(t.y,e,r)}}function nN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NK(t,e){return{x:nN(t.x,e.x),y:nN(t.y,e.y)}}function DK(t,e){let n=.5;const r=Tr(t),i=Tr(e);return i>r?n=rh(e.min,e.max-r,t.min):r>i&&(n=rh(t.min,t.max-i,e.min)),Lo(0,1,n)}function OK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nx=.35;function kK(t=nx){return t===!1?t=0:t===!0&&(t=nx),{x:rN(t,"left","right"),y:rN(t,"top","bottom")}}function rN(t,e,n){return{min:iN(t,e),max:iN(t,n)}}function iN(t,e){return typeof t=="number"?t:t[e]||0}const LK=new WeakMap;class VK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{n&&this.snapToCursor(Bh(p).point),this.stopAnimation()},a=(p,g)=>{const{drag:E,dragPropagation:x,onDragStart:S}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f$(E),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ao(P=>{let L=this.getAxisMotionValue(P).get()||0;if(Mo.test(L)){const{projection:D}=this.visualElement;if(D&&D.layout){const B=D.layout.layoutBox[P];B&&(L=Tr(B)*(parseFloat(L)/100))}}this.originPoint[P]=L}),S&&Ut.update(()=>S(p,g),!1,!0),YT(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:S,onDrag:w}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=g;if(x&&this.currentDirection===null){this.currentDirection=BK(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),w&&Ut.update(()=>w(p,g),!1,!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new k3(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:O3(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Ut.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!km(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=RK(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&lc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MK(r.layoutBox,e):this.constraints=!1,this.elastic=kK(n),i!==this.constraints&&!lc(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Ao(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=OK(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=F$(r,i.root,this.visualElement.getTransformPagePoint());let a=NK(i.layout.layoutBox,o);if(n){const u=n(V$(a));this.hasMutatedConstraints=!!u,u&&(a=r3(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Ao(h=>{if(!km(h,n,this.currentDirection))return;let p=c&&c[h]||{};a&&(p={min:0,max:0});const g=i?200:1e6,E=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,x)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return YT(this.visualElement,e),r.start(sw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ao(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ao(n=>{const{drag:r}=this.getProps();if(!km(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[n],c=o.get()||0;o.set(e[n]-Xt(a,u,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ao(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=DK({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ao(a=>{if(!km(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];u.set(Xt(c,f,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;LK.set(this.visualElement,this);const e=this.visualElement.current,n=Yd(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps(),g=f.target,E=g!==e&&y$(g);h&&p&&!E&&this.start(f)});let r;const i=()=>{const{dragConstraints:f}=this.getProps();lc(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),r||(r=UK(e,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ut.read(i);const u=ah(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ao(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=nx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function oN(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function UK(t,e,n){const r=dM(t,oN(n)),i=dM(e,oN(n));return()=>{r(),i()}}function km(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FK extends Ga{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new VK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const V_=t=>(e,n)=>{t&&Ut.update(()=>t(e,n),!1,!0)};class jK extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new k3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:V_(e),onStart:V_(n),onMove:V_(r),onEnd:(o,a)=>{delete this.session,i&&Ut.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Yd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let U_=!1;class zK extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),U_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),mg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),U_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Ut.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;U_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function V3(t){const[e,n]=w3(),r=A.useContext(zS);return I.jsx(zK,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(N3),isPresent:e,safeToRemove:n})}const qK={pan:{Feature:jK},drag:{Feature:FK,ProjectionNode:S3,MeasureLayout:V3}};function sN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ut.postRender(()=>o(e,Bh(e)))}class HK extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=h$(e,(n,r)=>(sN(this.node,r,"Start"),i=>sN(this.node,i,"End"))))}unmount(){}}class GK extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lh(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ut.postRender(()=>o(e,Bh(e)))}class $K extends Ga{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=b$(e,(i,o)=>(aN(this.node,o,"Start"),(a,{success:u})=>aN(this.node,a,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const rx=new WeakMap,B_=new WeakMap,KK=t=>{const e=rx.get(t.target);e&&e(t)},YK=t=>{t.forEach(KK)};function WK({root:t,...e}){const n=t||document;B_.has(n)||B_.set(n,{});const r=B_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YK,{root:t,...e})),r[i]}function JK(t,e,n){const r=WK(e);return rx.set(t,n),r.observe(t),()=>{rx.delete(t),r.unobserve(t)}}const XK={some:0,all:1};class QK extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:XK[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return JK(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZK(e,n))&&this.startObserver()}unmount(){}}function ZK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eY={inView:{Feature:QK},tap:{Feature:$K},focus:{Feature:GK},hover:{Feature:HK}},tY={layout:{ProjectionNode:S3,MeasureLayout:V3}},nY={...wK,...eY,...qK,...tY},Ti=_K(nY,EK);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=t=>{const e=iY(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},c)=>A.createElement("svg",{ref:c,...oY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:U3("lucide",i),...!o&&!sY(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,h])=>A.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(aY,{ref:o,iconNode:e,className:U3(`lucide-${rY(lN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=lN(t),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_w=kt("award",lY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ew=kt("book-open",uY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],fY=kt("bot",cY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],gg=kt("brain",dY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],pY=kt("chart-no-axes-column",hY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B3=kt("chevron-left",mY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lh=kt("chevron-right",gY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wd=kt("circle-check-big",yY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wc=kt("circle-x",vY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tw=kt("clock",bY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],EY=kt("globe",_Y);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],xY=kt("headphones",TY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],F3=kt("highlighter",SY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],j3=kt("info",wY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],F_=kt("key",AY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],IY=kt("lightbulb",CY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],RY=kt("lock",PY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z3=kt("log-out",MY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],uN=kt("message-circle",NY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],OY=kt("monitor",DY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LY=kt("rotate-ccw",kY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UY=kt("settings",VY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],FY=kt("smartphone",BY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],xw=kt("trophy",jY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cN=kt("user",zY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HY=kt("x",qY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$Y=kt("zap",GY),KY="modulepreload",YY=function(t){return"/"+t},fN={},WY=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(n.map(f=>{if(f=YY(f),f in fN)return;fN[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":KY,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((E,x)=>{g.addEventListener("load",E),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}function JY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XY(t){A.useEffect(t,[])}var QY=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Ac(t,e){var n={},r=n.volume,i=r===void 0?1:r,o=n.playbackRate,a=o===void 0?1:o,u=n.soundEnabled,c=u===void 0?!0:u,f=n.interrupt,h=f===void 0?!1:f,p=n.onload,g=JY(n,QY),E=yi.useRef(null),x=yi.useRef(!1),S=yi.useState(null),w=S[0],P=S[1],L=yi.useState(null),D=L[0],B=L[1],F=function(){typeof p=="function"&&p.call(this),x.current&&P(this.duration()*1e3),B(this)};XY(function(){return WY(()=>import("./howler-CYHPNmus.js").then(z=>z.h),[]).then(function(z){if(!x.current){var q;E.current=(q=z.Howl)!==null&&q!==void 0?q:z.default.Howl,x.current=!0,new E.current(Bg({src:Array.isArray(t)?t:[t],volume:i,rate:a,onload:F},g))}}),function(){x.current=!1}}),yi.useEffect(function(){E.current&&D&&B(new E.current(Bg({src:Array.isArray(t)?t:[t],volume:i,onload:F},g)))},[JSON.stringify(t)]),yi.useEffect(function(){D&&(D.volume(i),g.sprite||D.rate(a))},[D,i,a]);var U=yi.useCallback(function(z){typeof z>"u"&&(z={}),!(!D||!c&&!z.forceSoundEnabled)&&(h&&D.stop(),z.playbackRate&&D.rate(z.playbackRate),D.play(z.id))},[D,c,h]),N=yi.useCallback(function(z){D&&D.stop(z)},[D]),O=yi.useCallback(function(z){D&&D.pause(z)},[D]),V=[U,{sound:D,stop:N,pause:O,duration:w}];return V}const q3=()=>{const[t,e]=A.useState({}),[n,r]=A.useState(!1),i=A.useCallback(()=>{r(f=>!f)},[]),o=A.useCallback((f,h,p)=>{if(!n)return;const g=window.getSelection();if(!g||g.rangeCount===0||g.isCollapsed)return;const E=g.getRangeAt(0),x=g.toString();let S=E.commonAncestorContainer;S.nodeType===3&&(S=S.parentElement);const w=E.cloneRange();let P=g.anchorNode;for(;P&&P.nodeName!=="P";)P=P.parentNode;if(!P)return;w.selectNodeContents(P),w.setEnd(E.startContainer,E.startOffset);const L=w.toString().length,D=L+x.length,B={start:L,end:D,text:x};e(F=>{const U=F[f]||{},O=[...U[h]||[],B];return{...F,[f]:{...U,[h]:O}}}),g.removeAllRanges()},[n]),a=A.useCallback((f,h,p)=>{e(g=>{const E=g[f]||{},x=E[h]||[];return{...g,[f]:{...E,[h]:x.filter(S=>S.start!==p.start||S.end!==p.end)}}})},[]),u=(f,h,p)=>{const E=(t[h]||{})[p]||[];if(E.length===0)return f;const x=[...E].sort((L,D)=>L.start-D.start),S=[];if(x.length>0){let L=x[0];for(let D=1;D<x.length;D++){const B=x[D];B.start<L.end?(L.end=Math.max(L.end,B.end),L.text=f.substring(L.start,L.end)):(S.push(L),L=B)}S.push(L)}const w=[];let P=0;return S.forEach((L,D)=>{L.start>P&&w.push(I.jsxs("span",{children:[" ",f.substring(P,L.start)," "]},`text-${D}`)),w.push(I.jsx("span",{className:"bg-yellow-200 text-slate-900 rounded-sm cursor-pointer hover:bg-yellow-300 transition-colors",onClick:B=>{},children:f.substring(L.start,L.end)},`highlight-${D}`)),P=L.end}),P<f.length&&w.push(I.jsxs("span",{children:[" ",f.substring(P)," "]},"text-end")),w},c=A.useCallback(f=>{e(h=>({...h,[f]:{}}))},[]);return{highlights:t,isHighlighterActive:n,toggleHighlighter:i,addHighlight:o,removeHighlight:a,clearHighlights:c,renderHighlightedText:u}};var Sw={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!e.OffscreenCanvas)return!1;try{var K=new OffscreenCanvas(1,1),k=K.getContext("2d");k.fillRect(0,0,1,1);var J=K.transferToImageBitmap();k.createPattern(J,"no-repeat")}catch{return!1}return!0})();function c(){}function f(K){var k=n.exports.Promise,J=k!==void 0?k:e.Promise;return typeof J=="function"?new J(K):(K(c,c),null)}var h=(function(K,k){return{transform:function(J){if(K)return J;if(k.has(J))return k.get(J);var se=new OffscreenCanvas(J.width,J.height),ce=se.getContext("2d");return ce.drawImage(J,0,0),k.set(J,se),se},clear:function(){k.clear()}}})(u,new Map),p=(function(){var K=Math.floor(16.666666666666668),k,J,se={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(be){var Te=Math.random();return se[Te]=requestAnimationFrame(function _e(Oe){ce===Oe||ce+K-1<Oe?(ce=Oe,delete se[Te],be()):se[Te]=requestAnimationFrame(_e)}),Te},J=function(be){se[be]&&cancelAnimationFrame(se[be])}):(k=function(be){return setTimeout(be,K)},J=function(be){return clearTimeout(be)}),{frame:k,cancel:J}})(),g=(function(){var K,k,J={};function se(ce){function be(Te,_e){ce.postMessage({options:Te||{},callback:_e})}ce.init=function(_e){var Oe=_e.transferControlToOffscreen();ce.postMessage({canvas:Oe},[Oe])},ce.fire=function(_e,Oe,ie){if(k)return be(_e,null),k;var Ce=Math.random().toString(36).slice(2);return k=f(function(Ie){function he($e){$e.data.callback===Ce&&(delete J[Ce],ce.removeEventListener("message",he),k=null,h.clear(),ie(),Ie())}ce.addEventListener("message",he),be(_e,Ce),J[Ce]=he.bind(null,{data:{callback:Ce}})}),k},ce.reset=function(){ce.postMessage({reset:!0});for(var _e in J)J[_e](),delete J[_e]}}return function(){if(K)return K;if(!r&&o){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{K=new Worker(URL.createObjectURL(new Blob([ce])))}catch(be){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",be),null}se(K)}return K}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(K,k){return k?k(K):K}function S(K){return K!=null}function w(K,k,J){return x(K&&S(K[k])?K[k]:E[k],J)}function P(K){return K<0?0:Math.floor(K)}function L(K,k){return Math.floor(Math.random()*(k-K))+K}function D(K){return parseInt(K,16)}function B(K){return K.map(F)}function F(K){var k=String(K).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:D(k.substring(0,2)),g:D(k.substring(2,4)),b:D(k.substring(4,6))}}function U(K){var k=w(K,"origin",Object);return k.x=w(k,"x",Number),k.y=w(k,"y",Number),k}function N(K){K.width=document.documentElement.clientWidth,K.height=document.documentElement.clientHeight}function O(K){var k=K.getBoundingClientRect();K.width=k.width,K.height=k.height}function V(K){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=K,k}function z(K,k,J,se,ce,be,Te,_e,Oe){K.save(),K.translate(k,J),K.rotate(be),K.scale(se,ce),K.arc(0,0,1,Te,_e,Oe),K.restore()}function q(K){var k=K.angle*(Math.PI/180),J=K.spread*(Math.PI/180);return{x:K.x,y:K.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:K.startVelocity*.5+Math.random()*K.startVelocity,angle2D:-k+(.5*J-Math.random()*J),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:K.color,shape:K.shape,tick:0,totalTicks:K.ticks,decay:K.decay,drift:K.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:K.gravity*3,ovalScalar:.6,scalar:K.scalar,flat:K.flat}}function H(K,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.velocity*=k.decay,k.flat?(k.wobble=0,k.wobbleX=k.x+10*k.scalar,k.wobbleY=k.y+10*k.scalar,k.tiltSin=0,k.tiltCos=0,k.random=1):(k.wobble+=k.wobbleSpeed,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble),k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2);var J=k.tick++/k.totalTicks,se=k.x+k.random*k.tiltCos,ce=k.y+k.random*k.tiltSin,be=k.wobbleX+k.random*k.tiltCos,Te=k.wobbleY+k.random*k.tiltSin;if(K.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-J)+")",K.beginPath(),a&&k.shape.type==="path"&&typeof k.shape.path=="string"&&Array.isArray(k.shape.matrix))K.fill(te(k.shape.path,k.shape.matrix,k.x,k.y,Math.abs(be-se)*.1,Math.abs(Te-ce)*.1,Math.PI/10*k.wobble));else if(k.shape.type==="bitmap"){var _e=Math.PI/10*k.wobble,Oe=Math.abs(be-se)*.1,ie=Math.abs(Te-ce)*.1,Ce=k.shape.bitmap.width*k.scalar,Ie=k.shape.bitmap.height*k.scalar,he=new DOMMatrix([Math.cos(_e)*Oe,Math.sin(_e)*Oe,-Math.sin(_e)*ie,Math.cos(_e)*ie,k.x,k.y]);he.multiplySelf(new DOMMatrix(k.shape.matrix));var $e=K.createPattern(h.transform(k.shape.bitmap),"no-repeat");$e.setTransform(he),K.globalAlpha=1-J,K.fillStyle=$e,K.fillRect(k.x-Ce/2,k.y-Ie/2,Ce,Ie),K.globalAlpha=1}else if(k.shape==="circle")K.ellipse?K.ellipse(k.x,k.y,Math.abs(be-se)*k.ovalScalar,Math.abs(Te-ce)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):z(K,k.x,k.y,Math.abs(be-se)*k.ovalScalar,Math.abs(Te-ce)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var we=Math.PI/2*3,et=4*k.scalar,st=8*k.scalar,Nt=k.x,hn=k.y,bt=5,ft=Math.PI/bt;bt--;)Nt=k.x+Math.cos(we)*st,hn=k.y+Math.sin(we)*st,K.lineTo(Nt,hn),we+=ft,Nt=k.x+Math.cos(we)*et,hn=k.y+Math.sin(we)*et,K.lineTo(Nt,hn),we+=ft;else K.moveTo(Math.floor(k.x),Math.floor(k.y)),K.lineTo(Math.floor(k.wobbleX),Math.floor(ce)),K.lineTo(Math.floor(be),Math.floor(Te)),K.lineTo(Math.floor(se),Math.floor(k.wobbleY));return K.closePath(),K.fill(),k.tick<k.totalTicks}function $(K,k,J,se,ce){var be=k.slice(),Te=K.getContext("2d"),_e,Oe,ie=f(function(Ce){function Ie(){_e=Oe=null,Te.clearRect(0,0,se.width,se.height),h.clear(),ce(),Ce()}function he(){r&&!(se.width===i.width&&se.height===i.height)&&(se.width=K.width=i.width,se.height=K.height=i.height),!se.width&&!se.height&&(J(K),se.width=K.width,se.height=K.height),Te.clearRect(0,0,se.width,se.height),be=be.filter(function($e){return H(Te,$e)}),be.length?_e=p.frame(he):Ie()}_e=p.frame(he),Oe=Ie});return{addFettis:function(Ce){return be=be.concat(Ce),ie},canvas:K,promise:ie,reset:function(){_e&&p.cancel(_e),Oe&&Oe()}}}function ve(K,k){var J=!K,se=!!w(k||{},"resize"),ce=!1,be=w(k,"disableForReducedMotion",Boolean),Te=o&&!!w(k||{},"useWorker"),_e=Te?g():null,Oe=J?N:O,ie=K&&_e?!!K.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ie;function he(we,et,st){for(var Nt=w(we,"particleCount",P),hn=w(we,"angle",Number),bt=w(we,"spread",Number),ft=w(we,"startVelocity",Number),Cr=w(we,"decay",Number),Qa=w(we,"gravity",Number),Br=w(we,"drift",Number),ln=w(we,"colors",B),Pi=w(we,"ticks",Number),no=w(we,"shapes"),Ho=w(we,"scalar"),Fr=!!w(we,"flat"),Go=U(we),$o=Nt,ro=[],Fs=K.width*Go.x,Vn=K.height*Go.y;$o--;)ro.push(q({x:Fs,y:Vn,angle:hn,spread:bt,startVelocity:ft,color:ln[$o%ln.length],shape:no[L(0,no.length)],ticks:Pi,decay:Cr,gravity:Qa,drift:Br,scalar:Ho,flat:Fr}));return Ie?Ie.addFettis(ro):(Ie=$(K,ro,Oe,et,st),Ie.promise)}function $e(we){var et=be||w(we,"disableForReducedMotion",Boolean),st=w(we,"zIndex",Number);if(et&&Ce)return f(function(ft){ft()});J&&Ie?K=Ie.canvas:J&&!K&&(K=V(st),document.body.appendChild(K)),se&&!ie&&Oe(K);var Nt={width:K.width,height:K.height};_e&&!ie&&_e.init(K),ie=!0,_e&&(K.__confetti_initialized=!0);function hn(){if(_e){var ft={getBoundingClientRect:function(){if(!J)return K.getBoundingClientRect()}};Oe(ft),_e.postMessage({resize:{width:ft.width,height:ft.height}});return}Nt.width=Nt.height=null}function bt(){Ie=null,se&&(ce=!1,e.removeEventListener("resize",hn)),J&&K&&(document.body.contains(K)&&document.body.removeChild(K),K=null,ie=!1)}return se&&!ce&&(ce=!0,e.addEventListener("resize",hn,!1)),_e?_e.fire(we,Nt,bt):he(we,Nt,bt)}return $e.reset=function(){_e&&_e.reset(),Ie&&Ie.reset()},$e}var Ee;function X(){return Ee||(Ee=ve(null,{useWorker:!0,resize:!0})),Ee}function te(K,k,J,se,ce,be,Te){var _e=new Path2D(K),Oe=new Path2D;Oe.addPath(_e,new DOMMatrix(k));var ie=new Path2D;return ie.addPath(Oe,new DOMMatrix([Math.cos(Te)*ce,Math.sin(Te)*ce,-Math.sin(Te)*be,Math.cos(Te)*be,J,se])),ie}function de(K){if(!a)throw new Error("path confetti are not supported in this browser");var k,J;typeof K=="string"?k=K:(k=K.path,J=K.matrix);var se=new Path2D(k),ce=document.createElement("canvas"),be=ce.getContext("2d");if(!J){for(var Te=1e3,_e=Te,Oe=Te,ie=0,Ce=0,Ie,he,$e=0;$e<Te;$e+=2)for(var we=0;we<Te;we+=2)be.isPointInPath(se,$e,we,"nonzero")&&(_e=Math.min(_e,$e),Oe=Math.min(Oe,we),ie=Math.max(ie,$e),Ce=Math.max(Ce,we));Ie=ie-_e,he=Ce-Oe;var et=10,st=Math.min(et/Ie,et/he);J=[st,0,0,st,-Math.round(Ie/2+_e)*st,-Math.round(he/2+Oe)*st]}return{type:"path",path:k,matrix:J}}function ue(K){var k,J=1,se="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof K=="string"?k=K:(k=K.text,J="scalar"in K?K.scalar:J,ce="fontFamily"in K?K.fontFamily:ce,se="color"in K?K.color:se);var be=10*J,Te=""+be+"px "+ce,_e=new OffscreenCanvas(be,be),Oe=_e.getContext("2d");Oe.font=Te;var ie=Oe.measureText(k),Ce=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),Ie=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),he=2,$e=ie.actualBoundingBoxLeft+he,we=ie.actualBoundingBoxAscent+he;Ce+=he+he,Ie+=he+he,_e=new OffscreenCanvas(Ce,Ie),Oe=_e.getContext("2d"),Oe.font=Te,Oe.fillStyle=se,Oe.fillText(k,$e,we);var et=1/J;return{type:"bitmap",bitmap:_e.transferToImageBitmap(),matrix:[et,0,0,et,-Ce*et/2,-Ie*et/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=ve,n.exports.shapeFromPath=de,n.exports.shapeFromText=ue})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Sw,!1);const uh=Sw.exports;Sw.exports.create;const ZY=({type:t})=>(A.useEffect(()=>{t==="correct"&&uh({particleCount:100,spread:70,origin:{y:.6}})},[t]),I.jsx(W7,{children:t&&I.jsxs(Ti.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-6 rounded-2xl shadow-2xl flex flex-col items-center gap-4 ${t==="correct"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[t==="correct"?I.jsx(Wd,{size:48}):I.jsx(wc,{size:48}),I.jsx("span",{className:"text-2xl font-bold",children:t==="correct"?"Excellent!":"Try Again"})]})})),eW=({isOpen:t,level:e,onClose:n})=>(A.useEffect(()=>{if(t){const i=Date.now()+3e3,o=()=>{uh({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#FFD700","#FFA500"]}),uh({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#FFD700","#FFA500"]}),Date.now()<i&&requestAnimationFrame(o)};o()}},[t]),t?I.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:I.jsx(Ti.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-indigo-900 to-purple-800 p-1 rounded-3xl shadow-2xl max-w-sm w-full",children:I.jsxs("div",{className:"bg-slate-900 rounded-[22px] p-8 text-center relative overflow-hidden",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),I.jsx(Ti.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-6 inline-block p-4 bg-yellow-400/20 rounded-full text-yellow-400 border border-yellow-400/50",children:I.jsx(_w,{size:64})}),I.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-wide",children:"Level Up!"}),I.jsxs("p",{className:"text-indigo-200 mb-8",children:["You reached Level ",I.jsx("span",{className:"text-yellow-400 font-bold text-xl",children:e})]}),I.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 text-slate-900 font-bold py-3 rounded-xl hover:brightness-110 transition-all active:scale-95",children:"Awesome!"})]})})}):null);var Rl=(t=>(t.MULTIPLE_CHOICE="MULTIPLE_CHOICE",t.TRUE_FALSE="TRUE_FALSE",t))(Rl||{});const Ll=["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.5-flash"],tW=[{id:"p1",title:"Blended Learning: A New Approach",topic:"Modern Education",estimatedTime:10,content:`
# Blended Learning: A New Approach

Blended learning is a way of studying that combines online video materials and traditional classroom methods. It requires the physical presence of both teacher and student, with some elements of student control over time, place, path, or pace.

In a blended learning course, students might attend a class taught by a teacher in a traditional classroom setting, while also independently completing online components of the course outside of the classroom. In this case, in-class time may be replaced by online learning experiences, and online learning would act as a complement to the in-class materials.

This approach allows for more personalized education. Teachers can use data from online tests to help students who are struggling. Meanwhile, students who master the material quickly can move on to more challenging tasks.
    `,questions:[{id:"q1_1",text:"What is the main definition of blended learning?",type:Rl.MULTIPLE_CHOICE,difficulty:"easy",options:[{id:"A",text:"Studying only through online videos."},{id:"B",text:"Traditional classroom methods without technology."},{id:"C",text:"A combination of online materials and traditional classroom methods."},{id:"D",text:"Homeschooling with a tutor."}],correctAnswerId:"C",explanation:'The text states that blended learning "combines online video materials and traditional classroom methods".'},{id:"q1_2",text:"In blended learning, students have no control over their learning pace.",type:Rl.TRUE_FALSE,difficulty:"medium",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text mentions "some elements of student control over time, place, path, or pace".'},{id:"q1_3",text:"How can teachers benefit from blended learning according to the text?",type:Rl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They can work fewer hours."},{id:"B",text:"They can use data to help struggling students."},{id:"C",text:"They do not need to prepare lesson plans."},{id:"D",text:"They can replace in-class time completely."}],correctAnswerId:"B",explanation:'The passage says: "Teachers can use data from online tests to help students who are struggling."'}]},{id:"p2",title:"Mobile Devices in the Classroom",topic:"Technology",estimatedTime:8,content:`
# Mobile Devices in the Classroom

For many years, schools banned mobile phones, regarding them as distractions. However, in the unit "New Ways to Learn", we explore how mobile devices can actually support education.

Smartphones and tablets provide instant access to the internet, allowing students to search for information, access digital textbooks, and use educational apps. Apps like Quizlet or Kahoot turn learning into a game, making it more engaging.

However, there are challenges. Not all students can afford expensive devices, leading to a digital divide. Furthermore, without proper rules, students might use devices for social media instead of learning. Therefore, strict guidelines are necessary for mobile learning to be effective.
    `,questions:[{id:"q2_1",text:"Schools have always encouraged the use of mobile phones.",type:Rl.TRUE_FALSE,difficulty:"easy",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text says: "For many years, schools banned mobile phones, regarding them as distractions."'},{id:"q2_2",text:"What is mentioned as a benefit of mobile devices?",type:Rl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They prevent students from playing games."},{id:"B",text:"They allow instant access to information and educational apps."},{id:"C",text:"They are cheap for everyone."},{id:"D",text:"They replace teachers completely."}],correctAnswerId:"B",explanation:'The text states they "provide instant access to the internet... and use educational apps".'},{id:"q2_3",text:"What is a major challenge mentioned in the text?",type:Rl.MULTIPLE_CHOICE,difficulty:"hard",options:[{id:"A",text:"Digital divide due to cost."},{id:"B",text:"Lack of electricity."},{id:"C",text:"Teachers do not know how to use phones."},{id:"D",text:"Screens are too small."}],correctAnswerId:"A",explanation:'The text mentions: "Not all students can afford expensive devices, leading to a digital divide."'}]}],nW={totalPoints:0,level:1,completedPassages:[],streakDays:1,lastActiveDate:new Date().toISOString(),accuracy:0,totalQuestionsAnswered:0,weakTopics:[]},j_={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},H3=`
# APPS OF THE FUTURE

How many times a day do you tap the icon of your favourite social media site or play a game on your smartphone? When your parents were young, apps didnt even exist, but now we cant imagine our lives without them. So what will apps be like in the future?

**A new way to learn**

Apps are being used in education. They are useful because students can use them anytime, anywhere and on any device. They present information in bite-sized chunks, which people find easy to understand and remember. Lessons can also be turned into games, making learning fun! Soon, apps will be the new normal.

**Augmented Reality (AR)**

Inside AR apps, the real world is mixed with the digital one. These apps are downloaded and teachers use them to make learning more interesting. These apps capture students attention and help them concentrate and interact with their lessons. Students can experience the material and become more interested in the subject. At the same time, they can explore the topic taught at their own pace.

In the future, apps will be able to do a lot of things for us. Some people think this will have a lot of benefits, others think it will make us lazy or that we will forget how to do things for ourselves. Whatever your opinion on modern technology, one thing is certain: the apps of the future will change our lives.
`,Cc=[{id:"lq1",question:"The first apps appeared over 50 years ago.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"DS"},{id:"lq2",question:"You can only use educational apps on smartphones.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq7",question:"How do educational apps present information?",options:[{id:"A",text:"In long academic texts"},{id:"B",text:"Through live video lessons"},{id:"C",text:"In bite-sized chunks"},{id:"D",text:"In printed worksheets"}],correctAnswerId:"C"},{id:"lq3",question:"Some apps already use augmented reality.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"T"},{id:"lq4",question:"AR apps make lessons boring.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq5",question:"Everyone believes apps will make us lazy.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq8",question:"According to the text, what is certain about the apps of the future?",options:[{id:"A",text:"They will completely replace teachers."},{id:"B",text:"They will disappear in the future."},{id:"C",text:"They will change our lives."},{id:"D",text:"They will make everyone lazy."}],correctAnswerId:"C"},{id:"lq6",question:"The authors purpose is to ",options:[{id:"A",text:"give us information about how apps are developing."},{id:"B",text:"explain predictions about future technology in education."},{id:"C",text:"inform us how to use the apps more efficiently."},{id:"D",text:"give us tips on choosing apps."}],correctAnswerId:"A"}],rW=Object.prototype.toString,iW=t=>rW.call(t)==="[object Error]",oW=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function sW(t){if(!(t&&iW(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:oW.has(n)}function aW(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Lm(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class G3 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function lW(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function dN(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function uW({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var E,x,S,w;const o=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(o instanceof G3)throw o.originalError;const a=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,u=i.maxRetryTime??Number.POSITIVE_INFINITY,c=Object.freeze({error:o,attemptNumber:e,retriesLeft:a,retriesConsumed:n});if(await i.onFailedAttempt(c),dN(r,u)<=0)throw o;const f=await i.shouldConsumeRetry(c),h=dN(r,u);if(h<=0||a<=0)throw o;if(o instanceof TypeError&&!sW(o)){if(f)throw o;return(E=i.signal)==null||E.throwIfAborted(),!1}if(!await i.shouldRetry(c))throw o;if(!f)return(x=i.signal)==null||x.throwIfAborted(),!1;const p=lW(n,i),g=Math.min(p,h);return(S=i.signal)==null||S.throwIfAborted(),g>0&&await new Promise((P,L)=>{var F,U;const D=()=>{var N;clearTimeout(B),(N=i.signal)==null||N.removeEventListener("abort",D),L(i.signal.reason)},B=setTimeout(()=>{var N;(N=i.signal)==null||N.removeEventListener("abort",D),P()},g);i.unref&&((F=B.unref)==null||F.call(B)),(U=i.signal)==null||U.addEventListener("abort",D,{once:!0})}),(w=i.signal)==null||w.throwIfAborted(),!0}async function cW(t,e={}){var o,a,u;if(e={...e},aW(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Lm("factor",e.factor,{min:0,allowInfinity:!1}),Lm("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Lm("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Lm("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(o=e.signal)==null||o.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(a=e.signal)==null||a.throwIfAborted();const c=await t(n);return(u=e.signal)==null||u.throwIfAborted(),c}catch(c){await uW({error:c,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var fW={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dW,hW;function pW(){return{geminiUrl:dW,vertexUrl:hW}}function mW(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=pW();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ms{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];v(h,e.slice(o+1),n[f])}else for(const f of c)v(f,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function gW(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}ix(t,i,o,0,a)}}function ix(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),u=t;if(a in u&&Array.isArray(u[a]))for(const c of u[a])ix(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,u=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=a[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);v(a,p,h)}for(const f of u)delete a[f]}}else{const a=t;o in a&&ix(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yW(t){const e={},n=y(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function vW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],_W(a)),e}function bW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],EW(a)),e}function _W(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>TW(a))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function EW(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xW(a))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function TW(t){const e={},n=y(t,["video"]);return n!=null&&v(e,["video"],PW(n)),e}function xW(t){const e={},n=y(t,["_self"]);return n!=null&&v(e,["video"],RW(n)),e}function SW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function wW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function AW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],CW(a)),e}function CW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function $3(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],IW(a)),e}function IW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function PW(t){const e={},n=y(t,["uri"]);n!=null&&v(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],ww(r));const i=y(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function RW(t){const e={},n=y(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],ww(r));const i=y(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hN||(hN={}));var pN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(pN||(pN={}));var mN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(mN||(mN={}));var wa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wa||(wa={}));var gN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gN||(gN={}));var yN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yN||(yN={}));var vN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vN||(vN={}));var bN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bN||(bN={}));var _N;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_N||(_N={}));var EN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(EN||(EN={}));var TN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(TN||(TN={}));var xN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(xN||(xN={}));var SN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(SN||(SN={}));var wN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wN||(wN={}));var AN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(AN||(AN={}));var CN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(CN||(CN={}));var IN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(IN||(IN={}));var PN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(PN||(PN={}));var RN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(RN||(RN={}));var MN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(MN||(MN={}));var NN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(NN||(NN={}));var Fg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Fg||(Fg={}));var DN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DN||(DN={}));var ON;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ON||(ON={}));var kN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kN||(kN={}));var ox;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ox||(ox={}));var LN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(LN||(LN={}));var VN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(VN||(VN={}));var sx;(function(t){t.COLLECTION="COLLECTION"})(sx||(sx={}));var UN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(UN||(UN={}));var BN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BN||(BN={}));var FN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(FN||(FN={}));var jN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jN||(jN={}));var zN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(zN||(zN={}));var qN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qN||(qN={}));var HN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(HN||(HN={}));var GN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(GN||(GN={}));var $N;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($N||($N={}));var KN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(KN||(KN={}));var YN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(YN||(YN={}));var WN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(WN||(WN={}));var JN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JN||(JN={}));var XN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(XN||(XN={}));var QN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(QN||(QN={}));var ZN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ZN||(ZN={}));var eD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(eD||(eD={}));var tD;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tD||(tD={}));var nD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(nD||(nD={}));var rD;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rD||(rD={}));var iD;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(iD||(iD={}));var oD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oD||(oD={}));var sD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sD||(sD={}));var aD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(aD||(aD={}));var lD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lD||(lD={}));var uD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(uD||(uD={}));var cD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(cD||(cD={}));var _c;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_c||(_c={}));class ax{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sd{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[E,x]of Object.entries(g))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(E);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,E]of Object.entries(p))g!=="inlineData"&&(E!==null||E!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class fD{}class dD{}class MW{}class NW{}class DW{}class OW{}class hD{}class pD{}class mD{}class kW{}class jg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jg;let i;const o=e;return n?i=bW(o):i=vW(o),Object.assign(r,i),r}}class gD{}class yD{}class vD{}class bD{}class LW{}class VW{}class UW{}class Aw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Aw,o=AW(e);return Object.assign(r,o),r}}class BW{}class FW{}class jW{}class zW{}class _D{}class qW{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class HW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Cw,o=$3(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function K3(t,e){const n=pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Y3(t){return Array.isArray(t)?t.map(e=>zg(e)):[zg(t)]}function zg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function W3(t){const e=zg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J3(t){const e=zg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ED(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function X3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ED(e)):[ED(t)]}function lx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TD(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xD(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pr(t){if(t==null)throw new Error("ContentUnion is required");return lx(t)?t:{role:"user",parts:X3(t)}}function Iw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=pr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=pr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pr(n)):[pr(e)]}function xi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TD(t)||xD(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pr(t)]}const e=[],n=[],r=lx(t[0]);for(const i of t){const o=lx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(TD(i)||xD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:X3(n)}),e}function GW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(wa).includes(n[0].toUpperCase())?n[0].toUpperCase():wa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(wa).includes(r.toUpperCase())?r.toUpperCase():wa.TYPE_UNSPECIFIED})}}function Ic(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&GW(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(wa).includes(u.toUpperCase())?u.toUpperCase():wa.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ic(u);else if(r.includes(a)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Ic(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(u))c[f]=Ic(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Pw(t){return Ic(t)}function Rw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Mw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ef(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ic(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ic(e.response));return t}function tf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $W(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ns(t,e){if(typeof e!="string")throw new Error("name must be a string");return $W(t,e,"cachedContents")}function Q3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $a(t){return ww(t)}function KW(t){return t!=null&&typeof t=="object"&&"name"in t}function YW(t){return t!=null&&typeof t=="object"&&"video"in t}function WW(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z3(t){var e;let n;if(KW(t)&&(n=t.name),!(WW(t)&&(n=t.uri,n===void 0))&&!(YW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tB(t){for(const e of["models","tunedModels","publisherModels"])if(JW(t,e))return t[e];return[]}function JW(t,e){return t!==null&&typeof t=="object"&&e in t}function XW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function QW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=XW(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function nB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ZW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eJ(t){const e={},n=y(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>OJ(a))),v(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["inlinedEmbedContentResponses"],o)}return e}function tJ(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function nJ(t){const e={},n=y(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function yg(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&v(e,["state"],iB(i));const o=y(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const a=y(t,["metadata","endTime"]);a!=null&&v(e,["endTime"],a);const u=y(t,["metadata","updateTime"]);u!=null&&v(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&v(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&v(e,["dest"],eJ(rB(f))),e}function ux(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["state"]);i!=null&&v(e,["state"],iB(i));const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["createTime"]);a!=null&&v(e,["createTime"],a);const u=y(t,["startTime"]);u!=null&&v(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&v(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&v(e,["src"],rJ(p));const g=y(t,["outputConfig"]);g!=null&&v(e,["dest"],tJ(rB(g)));const E=y(t,["completionStats"]);return E!=null&&v(e,["completionStats"],E),e}function rJ(t){const e={},n=y(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function iJ(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>DJ(t,a))),v(n,["requests","requests"],o)}return n}function oJ(t){const e={},n=y(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sJ(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function aJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function lJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function uJ(t){const e={},n=y(t,["content"]);n!=null&&v(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],cJ(r));const i=y(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=y(t,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const u=y(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&v(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(E=>E)),v(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&v(e,["urlContextMetadata"],p),e}function cJ(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function oB(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jJ(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function fJ(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dJ(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],nJ(ZW(i))),n}function SD(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],iJ(t,nB(t,i)));const o=y(e,["config"]);return o!=null&&fJ(o,n),n}function hJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["inputConfig"],oJ(nB(t,i)));const o=y(e,["config"]);return o!=null&&dJ(o,n),n}function pJ(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function mJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],TJ(t,i));const o=y(e,["config"]);return o!=null&&pJ(o,n),n}function gJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function yJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function vJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function bJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function _J(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=Iw(t,r);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(v(n,["_self"],EJ(i,n)),gW(n,{"requests[].*":"requests[].request.*"})),n}function EJ(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TJ(t,e){const n={},r=y(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],_J(t,i)),n}function xJ(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function SJ(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wJ(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AJ(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],oB(pr(i)));const o=y(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=y(e,["topP"]);a!=null&&v(r,["topP"],a);const u=y(e,["topK"]);u!=null&&v(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const E=y(e,["presencePenalty"]);E!=null&&v(r,["presencePenalty"],E);const x=y(e,["frequencyPenalty"]);x!=null&&v(r,["frequencyPenalty"],x);const S=y(e,["seed"]);S!=null&&v(r,["seed"],S);const w=y(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const P=y(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],Pw(P));const L=y(e,["responseJsonSchema"]);if(L!=null&&v(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=y(e,["safetySettings"]);if(n!==void 0&&D!=null){let $=D;Array.isArray($)&&($=$.map(ve=>zJ(ve))),v(n,["safetySettings"],$)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let $=tf(B);Array.isArray($)&&($=$.map(ve=>HJ(ef(ve)))),v(n,["tools"],$)}const F=y(e,["toolConfig"]);if(n!==void 0&&F!=null&&v(n,["toolConfig"],qJ(F)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&v(n,["cachedContent"],Ns(t,U));const N=y(e,["responseModalities"]);N!=null&&v(r,["responseModalities"],N);const O=y(e,["mediaResolution"]);O!=null&&v(r,["mediaResolution"],O);const V=y(e,["speechConfig"]);if(V!=null&&v(r,["speechConfig"],Rw(V)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=y(e,["thinkingConfig"]);z!=null&&v(r,["thinkingConfig"],z);const q=y(e,["imageConfig"]);q!=null&&v(r,["imageConfig"],NJ(q));const H=y(e,["enableEnhancedCivicAnswers"]);if(H!=null&&v(r,["enableEnhancedCivicAnswers"],H),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function CJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>uJ(f))),v(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=y(t,["responseId"]);a!=null&&v(e,["responseId"],a);const u=y(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function IJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function PJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],nf(t,r)),n}function RJ(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function MJ(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function NJ(t){const e={},n=y(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function DJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["request","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let u=xi(i);Array.isArray(u)&&(u=u.map(c=>oB(c))),v(n,["request","contents"],u)}const o=y(e,["metadata"]);o!=null&&v(n,["metadata"],o);const a=y(e,["config"]);return a!=null&&v(n,["request","generationConfig"],AJ(t,a,y(n,["request"],{}))),n}function OJ(t){const e={},n=y(t,["response"]);n!=null&&v(e,["response"],CJ(n));const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["error"]);return i!=null&&v(e,["error"],i),e}function kJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function LJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function VJ(t){const e={},n=y(t,["config"]);return n!=null&&kJ(n,e),e}function UJ(t){const e={},n=y(t,["config"]);return n!=null&&LJ(n,e),e}function BJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>yg(a))),v(e,["batchJobs"],o)}return e}function FJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ux(a))),v(e,["batchJobs"],o)}return e}function jJ(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],xJ(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],SJ(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],sJ(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function zJ(t){const e={},n=y(t,["category"]);if(n!=null&&v(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function qJ(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],wJ(r)),e}function HJ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],RJ(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],MJ(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _s;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(_s||(_s={}));class uu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GJ extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=SD(this.apiClient,e),r=n._url,i=Ae("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const E=p.request;E.systemInstruction=g,p.request=E}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=hJ(this.apiClient,e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ux(h))}else{const f=SD(this.apiClient,e);return u=Ae("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>yg(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mJ(this.apiClient,e);return o=Ae("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>yg(c))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=PJ(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ux(h))}else{const f=IJ(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>yg(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=lJ(this.apiClient,e);a=Ae("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=aJ(this.apiClient,e);a=Ae("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=UJ(e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=FJ(h),g=new _D;return Object.assign(g,p),g})}else{const f=VJ(e);return u=Ae("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=BJ(h),g=new _D;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=yJ(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>bJ(h))}else{const f=gJ(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>vJ(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $J(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function wD(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mX(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function KJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let h=xi(a);Array.isArray(h)&&(h=h.map(p=>wD(p))),v(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],wD(pr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>yX(p))),v(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],gX(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function YJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let p=xi(a);Array.isArray(p)&&(p=p.map(g=>g)),v(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],pr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>vX(g))),v(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function WJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],K3(t,r));const i=y(e,["config"]);return i!=null&&KJ(i,n),n}function JJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],K3(t,r));const i=y(e,["config"]);return i!=null&&YJ(i,n),n}function XJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function QJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function ZJ(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function eX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function tX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function nX(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rX(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iX(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&v(e,["response"],a);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function sX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function aX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function lX(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function uX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function cX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function fX(t){const e={},n=y(t,["config"]);return n!=null&&uX(n,e),e}function dX(t){const e={},n=y(t,["config"]);return n!=null&&cX(n,e),e}function hX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function pX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function mX(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],tX(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],nX(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],$J(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function gX(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],rX(r)),e}function yX(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],aX(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],lX(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function vX(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>iX(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function bX(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function _X(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function EX(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ns(t,r));const i=y(e,["config"]);return i!=null&&bX(i,n),n}function TX(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ns(t,r));const i=y(e,["config"]);return i!=null&&_X(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xX extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=JJ(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=WJ(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=sX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=oX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=QJ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=eX(h),g=new vD;return Object.assign(g,p),g})}else{const f=XJ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ZJ(h),g=new vD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=TX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=EX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=dX(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=pX(h),g=new bD;return Object.assign(g,p),g})}else{const f=fX(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=hX(h),g=new bD;return Object.assign(g,p),g})}}}function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t){return this instanceof He?(this.v=t,this):new He(t)}function Yi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(x){return Promise.resolve(x).then(E,p)}}function u(E,x){r[E]&&(i[E]=function(S){return new Promise(function(w,P){o.push([E,S,w,P])>1||c(E,S)})},x&&(i[E]=x(i[E])))}function c(E,x){try{f(r[E](x))}catch(S){g(o[0][3],S)}}function f(E){E.value instanceof He?Promise.resolve(E.value.v).then(h,p):g(o[0][2],E)}function h(E){c("next",E)}function p(E){c("throw",E)}function g(E,x){E(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Wi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof AD=="function"?AD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SX(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sB(n)}function sB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wX(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function CD(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!sB(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class AX{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new CX(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class CX{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),wX(o)}async sendMessage(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,f=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const E=f?[f]:[];this.recordHistory(r,E,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?CD(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Yi(this,arguments,function*(){var i,o,a,u,c,f;const h=[];try{for(var p=!0,g=Wi(e),E;E=yield He(g.next()),i=E.done,!i;p=!0){u=E.value,p=!1;const x=u;if(SX(x)){const S=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;S!==void 0&&h.push(S)}yield yield He(x)}}catch(x){o={error:x}}finally{try{!p&&!i&&(a=g.return)&&(yield He(a.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...CD(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ch extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ch.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IX(t){const e={},n=y(t,["file"]);return n!=null&&v(e,["file"],n),e}function PX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function RX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],Z3(n)),e}function MX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function NX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],Z3(n)),e}function DX(t){const e={},n=y(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function OX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function kX(t){const e={},n=y(t,["config"]);return n!=null&&OX(n,e),e}function LX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["files"],o)}return e}function VX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UX extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kX(e);return o=Ae("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=LX(c),h=new BW;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IX(e);return o=Ae("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=PX(c),h=new FW;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=NX(e);return o=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RX(e);return o=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=MX(c),h=new jW;return Object.assign(h,f),h})}}async registerFilesInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DX(e);return o=Ae("files:register",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=VX(c),h=new zW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vg(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function BX(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tQ(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function FX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function jX(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zX(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&v(e,["response"],a);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function qX(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=y(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=y(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&v(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&v(e,["responseLogprobs"],g);const E=y(t,["responseMimeType"]);E!=null&&v(e,["responseMimeType"],E);const x=y(t,["responseModalities"]);x!=null&&v(e,["responseModalities"],x);const S=y(t,["responseSchema"]);S!=null&&v(e,["responseSchema"],S);const w=y(t,["routingConfig"]);w!=null&&v(e,["routingConfig"],w);const P=y(t,["seed"]);P!=null&&v(e,["seed"],P);const L=y(t,["speechConfig"]);L!=null&&v(e,["speechConfig"],L);const D=y(t,["stopSequences"]);D!=null&&v(e,["stopSequences"],D);const B=y(t,["temperature"]);B!=null&&v(e,["temperature"],B);const F=y(t,["thinkingConfig"]);F!=null&&v(e,["thinkingConfig"],F);const U=y(t,["topK"]);U!=null&&v(e,["topK"],U);const N=y(t,["topP"]);if(N!=null&&v(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function GX(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function $X(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Mw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],BX(pr(x)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let U=tf(S);Array.isArray(U)&&(U=U.map(N=>rQ(ef(N)))),v(e,["setup","tools"],U)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],nQ(w));const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&v(e,["setup","outputAudioTranscription"],L);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function KX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],qX(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Mw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],pr(x));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let N=tf(S);Array.isArray(N)&&(N=N.map(O=>iQ(ef(O)))),v(e,["setup","tools"],N)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],w);const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&v(e,["setup","outputAudioTranscription"],L);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);e!==void 0&&F!=null&&v(e,["setup","proactivity"],F);const U=y(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&v(e,["setup","explicitVadSignal"],U),n}function YX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],$X(i,n)),n}function WX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],KX(i,n)),n}function JX(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function XX(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function QX(t){const e={},n=y(t,["media"]);if(n!=null){let f=Y3(n);Array.isArray(f)&&(f=f.map(h=>vg(h))),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],vg(J3(r)));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],vg(W3(o)));const a=y(t,["text"]);a!=null&&v(e,["text"],a);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function ZX(t){const e={},n=y(t,["media"]);if(n!=null){let f=Y3(n);Array.isArray(f)&&(f=f.map(h=>h)),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],J3(r));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],W3(o));const a=y(t,["text"]);a!=null&&v(e,["text"],a);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function eQ(t){const e={},n=y(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const a=y(t,["usageMetadata"]);a!=null&&v(e,["usageMetadata"],oQ(a));const u=y(t,["goAway"]);u!=null&&v(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);c!=null&&v(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);f!=null&&v(e,["voiceActivityDetectionSignal"],f);const h=y(t,["voiceActivity"]);return h!=null&&v(e,["voiceActivity"],sQ(h)),e}function tQ(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],FX(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],jX(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],vg(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function nQ(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rQ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],HX(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],GX(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function iQ(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>zX(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function oQ(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const a=y(t,["thoughtsTokenCount"]);a!=null&&v(e,["thoughtsTokenCount"],a);const u=y(t,["totalTokenCount"]);u!=null&&v(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["promptTokensDetails"],E)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["cacheTokensDetails"],E)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["responseTokensDetails"],E)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["toolUsePromptTokensDetails"],E)}const g=y(t,["trafficType"]);return g!=null&&v(e,["trafficType"],g),e}function sQ(t){const e={},n=y(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aQ(t,e){const n={},r=y(t,["data"]);if(r!=null&&v(n,["data"],r),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function lQ(t,e){const n={},r=y(t,["content"]);r!=null&&v(n,["content"],r);const i=y(t,["citationMetadata"]);i!=null&&v(n,["citationMetadata"],uQ(i));const o=y(t,["tokenCount"]);o!=null&&v(n,["tokenCount"],o);const a=y(t,["finishReason"]);a!=null&&v(n,["finishReason"],a);const u=y(t,["avgLogprobs"]);u!=null&&v(n,["avgLogprobs"],u);const c=y(t,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const f=y(t,["index"]);f!=null&&v(n,["index"],f);const h=y(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const p=y(t,["safetyRatings"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(x=>x)),v(n,["safetyRatings"],E)}const g=y(t,["urlContextMetadata"]);return g!=null&&v(n,["urlContextMetadata"],g),n}function uQ(t,e){const n={},r=y(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["citations"],i)}return n}function cQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let a=xi(o);Array.isArray(a)&&(a=a.map(u=>u)),v(r,["contents"],a)}return r}function fQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(n,["tokensInfo"],o)}return n}function dQ(t,e){const n={},r=y(t,["values"]);r!=null&&v(n,["values"],r);const i=y(t,["statistics"]);return i!=null&&v(n,["statistics"],hQ(i)),n}function hQ(t,e){const n={},r=y(t,["truncated"]);r!=null&&v(n,["truncated"],r);const i=y(t,["token_count"]);return i!=null&&v(n,["tokenCount"],i),n}function lv(t,e){const n={},r=y(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>TZ(a))),v(n,["parts"],o)}const i=y(t,["role"]);return i!=null&&v(n,["role"],i),n}function pQ(t,e){const n={},r=y(t,["controlType"]);r!=null&&v(n,["controlType"],r);const i=y(t,["enableControlImageComputation"]);return i!=null&&v(n,["computeControl"],i),n}function mQ(t,e){const n={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function gQ(t,e,n){const r={},i=y(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],pr(i));const o=y(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>cB(c))),v(e,["tools"],u)}const a=y(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],aZ(a)),r}function yQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=xi(o);Array.isArray(u)&&(u=u.map(c=>lv(c))),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&mQ(a),r}function vQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=xi(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&gQ(a,r),r}function bQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);i!=null&&v(n,["totalTokens"],i);const o=y(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function _Q(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);return i!=null&&v(n,["totalTokens"],i),n}function EQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function TQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function xQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function SQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function wQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const x=y(t,["language"]);e!==void 0&&x!=null&&v(e,["parameters","language"],x);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const P=y(t,["addWatermark"]);e!==void 0&&P!=null&&v(e,["parameters","addWatermark"],P);const L=y(t,["labels"]);e!==void 0&&L!=null&&v(e,["labels"],L);const D=y(t,["editMode"]);e!==void 0&&D!=null&&v(e,["parameters","editMode"],D);const B=y(t,["baseSteps"]);return e!==void 0&&B!=null&&v(e,["parameters","editConfig","baseSteps"],B),r}function AQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>IZ(f))),v(r,["instances[0]","referenceImages"],c)}const u=y(e,["config"]);return u!=null&&wQ(u,r),r}function CQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>uv(a))),v(n,["generatedImages"],o)}return n}function IQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["requests[]","title"],o);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function PQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["instances[]","title"],o);const a=y(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const u=y(t,["mimeType"]);e!==void 0&&u!=null&&v(e,["instances[]","mimeType"],u);const c=y(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),r}function RQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let c=Iw(t,o);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["requests[]","content"],c)}const a=y(e,["config"]);a!=null&&IQ(a,r);const u=y(e,["model"]);return u!==void 0&&v(r,["requests[]","model"],pt(t,u)),r}function MQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Iw(t,o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["instances[]","content"],u)}const a=y(e,["config"]);return a!=null&&PQ(a,r),r}function NQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),v(n,["embeddings"],a)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function DQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>dQ(u))),v(n,["embeddings"],a)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function OQ(t,e){const n={},r=y(t,["endpoint"]);r!=null&&v(n,["name"],r);const i=y(t,["deployedModelId"]);return i!=null&&v(n,["deployedModelId"],i),n}function kQ(t,e){const n={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["fileUri"]);r!=null&&v(n,["fileUri"],r);const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function LQ(t,e){const n={},r=y(t,["id"]);r!=null&&v(n,["id"],r);const i=y(t,["args"]);i!=null&&v(n,["args"],i);const o=y(t,["name"]);if(o!=null&&v(n,["name"],o),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function VQ(t,e){const n={},r=y(t,["allowedFunctionNames"]);r!=null&&v(n,["allowedFunctionNames"],r);const i=y(t,["mode"]);if(i!=null&&v(n,["mode"],i),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function UQ(t,e){const n={},r=y(t,["description"]);r!=null&&v(n,["description"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["parameters"]);o!=null&&v(n,["parameters"],o);const a=y(t,["parametersJsonSchema"]);a!=null&&v(n,["parametersJsonSchema"],a);const u=y(t,["response"]);u!=null&&v(n,["response"],u);const c=y(t,["responseJsonSchema"]);if(c!=null&&v(n,["responseJsonSchema"],c),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function BQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],lv(pr(o)));const a=y(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const x=y(e,["presencePenalty"]);x!=null&&v(i,["presencePenalty"],x);const S=y(e,["frequencyPenalty"]);S!=null&&v(i,["frequencyPenalty"],S);const w=y(e,["seed"]);w!=null&&v(i,["seed"],w);const P=y(e,["responseMimeType"]);P!=null&&v(i,["responseMimeType"],P);const L=y(e,["responseSchema"]);L!=null&&v(i,["responseSchema"],Pw(L));const D=y(e,["responseJsonSchema"]);if(D!=null&&v(i,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=y(e,["safetySettings"]);if(n!==void 0&&B!=null){let ve=B;Array.isArray(ve)&&(ve=ve.map(Ee=>PZ(Ee))),v(n,["safetySettings"],ve)}const F=y(e,["tools"]);if(n!==void 0&&F!=null){let ve=tf(F);Array.isArray(ve)&&(ve=ve.map(Ee=>LZ(ef(Ee)))),v(n,["tools"],ve)}const U=y(e,["toolConfig"]);if(n!==void 0&&U!=null&&v(n,["toolConfig"],kZ(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=y(e,["cachedContent"]);n!==void 0&&N!=null&&v(n,["cachedContent"],Ns(t,N));const O=y(e,["responseModalities"]);O!=null&&v(i,["responseModalities"],O);const V=y(e,["mediaResolution"]);V!=null&&v(i,["mediaResolution"],V);const z=y(e,["speechConfig"]);if(z!=null&&v(i,["speechConfig"],Rw(z)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=y(e,["thinkingConfig"]);q!=null&&v(i,["thinkingConfig"],q);const H=y(e,["imageConfig"]);H!=null&&v(i,["imageConfig"],dZ(H));const $=y(e,["enableEnhancedCivicAnswers"]);if($!=null&&v(i,["enableEnhancedCivicAnswers"],$),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function FQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],pr(o));const a=y(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const x=y(e,["presencePenalty"]);x!=null&&v(i,["presencePenalty"],x);const S=y(e,["frequencyPenalty"]);S!=null&&v(i,["frequencyPenalty"],S);const w=y(e,["seed"]);w!=null&&v(i,["seed"],w);const P=y(e,["responseMimeType"]);P!=null&&v(i,["responseMimeType"],P);const L=y(e,["responseSchema"]);L!=null&&v(i,["responseSchema"],Pw(L));const D=y(e,["responseJsonSchema"]);D!=null&&v(i,["responseJsonSchema"],D);const B=y(e,["routingConfig"]);B!=null&&v(i,["routingConfig"],B);const F=y(e,["modelSelectionConfig"]);F!=null&&v(i,["modelConfig"],F);const U=y(e,["safetySettings"]);if(n!==void 0&&U!=null){let de=U;Array.isArray(de)&&(de=de.map(ue=>ue)),v(n,["safetySettings"],de)}const N=y(e,["tools"]);if(n!==void 0&&N!=null){let de=tf(N);Array.isArray(de)&&(de=de.map(ue=>cB(ef(ue)))),v(n,["tools"],de)}const O=y(e,["toolConfig"]);n!==void 0&&O!=null&&v(n,["toolConfig"],O);const V=y(e,["labels"]);n!==void 0&&V!=null&&v(n,["labels"],V);const z=y(e,["cachedContent"]);n!==void 0&&z!=null&&v(n,["cachedContent"],Ns(t,z));const q=y(e,["responseModalities"]);q!=null&&v(i,["responseModalities"],q);const H=y(e,["mediaResolution"]);H!=null&&v(i,["mediaResolution"],H);const $=y(e,["speechConfig"]);$!=null&&v(i,["speechConfig"],Rw($));const ve=y(e,["audioTimestamp"]);ve!=null&&v(i,["audioTimestamp"],ve);const Ee=y(e,["thinkingConfig"]);Ee!=null&&v(i,["thinkingConfig"],Ee);const X=y(e,["imageConfig"]);if(X!=null&&v(i,["imageConfig"],hZ(X)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const te=y(e,["modelArmorConfig"]);return n!==void 0&&te!=null&&v(n,["modelArmorConfig"],te),i}function ID(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=xi(o);Array.isArray(u)&&(u=u.map(c=>lv(c))),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&v(r,["generationConfig"],BQ(t,a,r)),r}function PD(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=xi(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&v(r,["generationConfig"],FQ(t,a,r)),r}function RD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>lQ(h))),v(n,["candidates"],f)}const o=y(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const a=y(t,["promptFeedback"]);a!=null&&v(n,["promptFeedback"],a);const u=y(t,["responseId"]);u!=null&&v(n,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function MD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),v(n,["candidates"],h)}const o=y(t,["createTime"]);o!=null&&v(n,["createTime"],o);const a=y(t,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const u=y(t,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=y(t,["responseId"]);c!=null&&v(n,["responseId"],c);const f=y(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function jQ(t,e,n){const r={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=y(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const h=y(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const p=y(t,["language"]);e!==void 0&&p!=null&&v(e,["parameters","language"],p);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const E=y(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&v(e,["parameters","outputOptions","compressionQuality"],E),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(t,["imageSize"]);if(e!==void 0&&x!=null&&v(e,["parameters","sampleImageSize"],x),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function zQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const x=y(t,["language"]);e!==void 0&&x!=null&&v(e,["parameters","language"],x);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const P=y(t,["addWatermark"]);e!==void 0&&P!=null&&v(e,["parameters","addWatermark"],P);const L=y(t,["labels"]);e!==void 0&&L!=null&&v(e,["labels"],L);const D=y(t,["imageSize"]);e!==void 0&&D!=null&&v(e,["parameters","sampleImageSize"],D);const B=y(t,["enhancePrompt"]);return e!==void 0&&B!=null&&v(e,["parameters","enhancePrompt"],B),r}function qQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["config"]);return a!=null&&jQ(a,r),r}function HQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["config"]);return a!=null&&zQ(a,r),r}function GQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>rZ(u))),v(n,["generatedImages"],a)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],lB(o)),n}function $Q(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>uv(u))),v(n,["generatedImages"],a)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],uB(o)),n}function KQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=y(t,["durationSeconds"]);if(e!==void 0&&o!=null&&v(e,["parameters","durationSeconds"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=y(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const c=y(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const h=y(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(t,["lastFrame"]);e!==void 0&&p!=null&&v(e,["instances[0]","lastFrame"],cv(p));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(x=>WZ(x))),v(e,["instances[0]","referenceImages"],E)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function YQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=y(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const u=y(t,["durationSeconds"]);e!==void 0&&u!=null&&v(e,["parameters","durationSeconds"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const h=y(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&v(e,["parameters","pubsubTopic"],g);const E=y(t,["negativePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","negativePrompt"],E);const x=y(t,["enhancePrompt"]);e!==void 0&&x!=null&&v(e,["parameters","enhancePrompt"],x);const S=y(t,["generateAudio"]);e!==void 0&&S!=null&&v(e,["parameters","generateAudio"],S);const w=y(t,["lastFrame"]);e!==void 0&&w!=null&&v(e,["instances[0]","lastFrame"],eo(w));const P=y(t,["referenceImages"]);if(e!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(F=>JZ(F))),v(e,["instances[0]","referenceImages"],B)}const L=y(t,["mask"]);e!==void 0&&L!=null&&v(e,["instances[0]","mask"],YZ(L));const D=y(t,["compressionQuality"]);return e!==void 0&&D!=null&&v(e,["parameters","compressionQuality"],D),r}function WQ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const a=y(t,["error"]);a!=null&&v(n,["error"],a);const u=y(t,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],ZQ(u)),n}function JQ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const a=y(t,["error"]);a!=null&&v(n,["error"],a);const u=y(t,["response"]);return u!=null&&v(n,["response"],eZ(u)),n}function XQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["image"]);a!=null&&v(r,["instances[0]","image"],cv(a));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],fB(u));const c=y(e,["source"]);c!=null&&tZ(c,r);const f=y(e,["config"]);return f!=null&&KQ(f,r),r}function QQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["image"]);a!=null&&v(r,["instances[0]","image"],eo(a));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],dB(u));const c=y(e,["source"]);c!=null&&nZ(c,r);const f=y(e,["config"]);return f!=null&&YQ(f,r),r}function ZQ(t,e){const n={},r=y(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>oZ(u))),v(n,["generatedVideos"],a)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function eZ(t,e){const n={},r=y(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>sZ(u))),v(n,["generatedVideos"],a)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function tZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],cv(o));const a=y(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],fB(a)),r}function nZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],eo(o));const a=y(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],dB(a)),r}function rZ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],pZ(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);return o!=null&&v(n,["safetyAttributes"],lB(o)),n}function uv(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],aB(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);o!=null&&v(n,["safetyAttributes"],uB(o));const a=y(t,["prompt"]);return a!=null&&v(n,["enhancedPrompt"],a),n}function iZ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["mask"],aB(r));const i=y(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(n,["labels"],o)}return n}function oZ(t,e){const n={},r=y(t,["video"]);return r!=null&&v(n,["video"],$Z(r)),n}function sZ(t,e){const n={},r=y(t,["_self"]);return r!=null&&v(n,["video"],KZ(r)),n}function aZ(t,e){const n={},r=y(t,["modelSelectionConfig"]);r!=null&&v(n,["modelConfig"],r);const i=y(t,["responseJsonSchema"]);i!=null&&v(n,["responseJsonSchema"],i);const o=y(t,["audioTimestamp"]);o!=null&&v(n,["audioTimestamp"],o);const a=y(t,["candidateCount"]);a!=null&&v(n,["candidateCount"],a);const u=y(t,["enableAffectiveDialog"]);u!=null&&v(n,["enableAffectiveDialog"],u);const c=y(t,["frequencyPenalty"]);c!=null&&v(n,["frequencyPenalty"],c);const f=y(t,["logprobs"]);f!=null&&v(n,["logprobs"],f);const h=y(t,["maxOutputTokens"]);h!=null&&v(n,["maxOutputTokens"],h);const p=y(t,["mediaResolution"]);p!=null&&v(n,["mediaResolution"],p);const g=y(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const E=y(t,["responseLogprobs"]);E!=null&&v(n,["responseLogprobs"],E);const x=y(t,["responseMimeType"]);x!=null&&v(n,["responseMimeType"],x);const S=y(t,["responseModalities"]);S!=null&&v(n,["responseModalities"],S);const w=y(t,["responseSchema"]);w!=null&&v(n,["responseSchema"],w);const P=y(t,["routingConfig"]);P!=null&&v(n,["routingConfig"],P);const L=y(t,["seed"]);L!=null&&v(n,["seed"],L);const D=y(t,["speechConfig"]);D!=null&&v(n,["speechConfig"],D);const B=y(t,["stopSequences"]);B!=null&&v(n,["stopSequences"],B);const F=y(t,["temperature"]);F!=null&&v(n,["temperature"],F);const U=y(t,["thinkingConfig"]);U!=null&&v(n,["thinkingConfig"],U);const N=y(t,["topK"]);N!=null&&v(n,["topK"],N);const O=y(t,["topP"]);if(O!=null&&v(n,["topP"],O),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function lZ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function uZ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function cZ(t,e){const n={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=y(t,["enableWidget"]);return r!=null&&v(n,["enableWidget"],r),n}function fZ(t,e){const n={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=y(t,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],r),n}function dZ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);if(i!=null&&v(n,["imageSize"],i),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function hZ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);i!=null&&v(n,["imageSize"],i);const o=y(t,["personGeneration"]);o!=null&&v(n,["personGeneration"],o);const a=y(t,["outputMimeType"]);a!=null&&v(n,["imageOutputOptions","mimeType"],a);const u=y(t,["outputCompressionQuality"]);return u!=null&&v(n,["imageOutputOptions","compressionQuality"],u),n}function pZ(t,e){const n={},r=y(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],$a(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function aB(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["imageBytes"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function cv(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],$a(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function eo(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["imageBytes"]);i!=null&&v(n,["bytesBase64Encoded"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function mZ(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],eB(t,c)),i}function gZ(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],eB(t,c)),i}function yZ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&mZ(t,i,r),r}function vZ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&gZ(t,i,r),r}function bZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let a=tB(o);Array.isArray(a)&&(a=a.map(u=>cx(u))),v(n,["models"],a)}return n}function _Z(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let a=tB(o);Array.isArray(a)&&(a=a.map(u=>fx(u))),v(n,["models"],a)}return n}function EZ(t,e){const n={},r=y(t,["maskMode"]);r!=null&&v(n,["maskMode"],r);const i=y(t,["segmentationClasses"]);i!=null&&v(n,["maskClasses"],i);const o=y(t,["maskDilation"]);return o!=null&&v(n,["dilation"],o),n}function cx(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const a=y(t,["version"]);a!=null&&v(n,["version"],a);const u=y(t,["_self"]);u!=null&&v(n,["tunedModelInfo"],VZ(u));const c=y(t,["inputTokenLimit"]);c!=null&&v(n,["inputTokenLimit"],c);const f=y(t,["outputTokenLimit"]);f!=null&&v(n,["outputTokenLimit"],f);const h=y(t,["supportedGenerationMethods"]);h!=null&&v(n,["supportedActions"],h);const p=y(t,["temperature"]);p!=null&&v(n,["temperature"],p);const g=y(t,["maxTemperature"]);g!=null&&v(n,["maxTemperature"],g);const E=y(t,["topP"]);E!=null&&v(n,["topP"],E);const x=y(t,["topK"]);x!=null&&v(n,["topK"],x);const S=y(t,["thinking"]);return S!=null&&v(n,["thinking"],S),n}function fx(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const a=y(t,["versionId"]);a!=null&&v(n,["version"],a);const u=y(t,["deployedModels"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>OQ(E))),v(n,["endpoints"],g)}const c=y(t,["labels"]);c!=null&&v(n,["labels"],c);const f=y(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],UZ(f));const h=y(t,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const p=y(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),v(n,["checkpoints"],g)}return n}function TZ(t,e){const n={},r=y(t,["mediaResolution"]);r!=null&&v(n,["mediaResolution"],r);const i=y(t,["codeExecutionResult"]);i!=null&&v(n,["codeExecutionResult"],i);const o=y(t,["executableCode"]);o!=null&&v(n,["executableCode"],o);const a=y(t,["fileData"]);a!=null&&v(n,["fileData"],kQ(a));const u=y(t,["functionCall"]);u!=null&&v(n,["functionCall"],LQ(u));const c=y(t,["functionResponse"]);c!=null&&v(n,["functionResponse"],c);const f=y(t,["inlineData"]);f!=null&&v(n,["inlineData"],aQ(f));const h=y(t,["text"]);h!=null&&v(n,["text"],h);const p=y(t,["thought"]);p!=null&&v(n,["thought"],p);const g=y(t,["thoughtSignature"]);g!=null&&v(n,["thoughtSignature"],g);const E=y(t,["videoMetadata"]);return E!=null&&v(n,["videoMetadata"],E),n}function xZ(t,e){const n={},r=y(t,["productImage"]);return r!=null&&v(n,["image"],eo(r)),n}function SZ(t,e,n){const r={},i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["baseSteps"]);e!==void 0&&o!=null&&v(e,["parameters","baseSteps"],o);const a=y(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const u=y(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const h=y(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","compressionQuality"],g);const E=y(t,["enhancePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E);const x=y(t,["labels"]);return e!==void 0&&x!=null&&v(e,["labels"],x),r}function wZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&CZ(o,r);const a=y(e,["config"]);return a!=null&&SZ(a,r),r}function AZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uv(o))),v(n,["generatedImages"],i)}return n}function CZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["personImage"]);e!==void 0&&o!=null&&v(e,["instances[0]","personImage","image"],eo(o));const a=y(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>xZ(c))),v(e,["instances[0]","productImages"],u)}return r}function IZ(t,e){const n={},r=y(t,["referenceImage"]);r!=null&&v(n,["referenceImage"],eo(r));const i=y(t,["referenceId"]);i!=null&&v(n,["referenceId"],i);const o=y(t,["referenceType"]);o!=null&&v(n,["referenceType"],o);const a=y(t,["maskImageConfig"]);a!=null&&v(n,["maskImageConfig"],EZ(a));const u=y(t,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],pQ(u));const c=y(t,["styleImageConfig"]);c!=null&&v(n,["styleImageConfig"],c);const f=y(t,["subjectImageConfig"]);return f!=null&&v(n,["subjectImageConfig"],f),n}function lB(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function uB(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function PZ(t,e){const n={},r=y(t,["category"]);if(r!=null&&v(n,["category"],r),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(t,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function RZ(t,e){const n={},r=y(t,["image"]);return r!=null&&v(n,["image"],eo(r)),n}function MZ(t,e,n){const r={},i=y(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const o=y(t,["maxPredictions"]);e!==void 0&&o!=null&&v(e,["parameters","maxPredictions"],o);const a=y(t,["confidenceThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","confidenceThreshold"],a);const u=y(t,["maskDilation"]);e!==void 0&&u!=null&&v(e,["parameters","maskDilation"],u);const c=y(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const f=y(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),r}function NZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&OZ(o,r);const a=y(e,["config"]);return a!=null&&MZ(a,r),r}function DZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iZ(o))),v(n,["generatedMasks"],i)}return n}function OZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],eo(o));const a=y(t,["scribbleImage"]);return e!==void 0&&a!=null&&v(e,["instances[0]","scribble"],RZ(a)),r}function kZ(t,e){const n={},r=y(t,["retrievalConfig"]);r!=null&&v(n,["retrievalConfig"],r);const i=y(t,["functionCallingConfig"]);return i!=null&&v(n,["functionCallingConfig"],VQ(i)),n}function LZ(t,e){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["computerUse"]);r!=null&&v(n,["computerUse"],r);const i=y(t,["fileSearch"]);i!=null&&v(n,["fileSearch"],i);const o=y(t,["codeExecution"]);if(o!=null&&v(n,["codeExecution"],o),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),v(n,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(n,["googleMaps"],cZ(u));const c=y(t,["googleSearch"]);c!=null&&v(n,["googleSearch"],fZ(c));const f=y(t,["googleSearchRetrieval"]);f!=null&&v(n,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(n,["urlContext"],h),n}function cB(t,e){const n={},r=y(t,["retrieval"]);r!=null&&v(n,["retrieval"],r);const i=y(t,["computerUse"]);if(i!=null&&v(n,["computerUse"],i),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(t,["codeExecution"]);o!=null&&v(n,["codeExecution"],o);const a=y(t,["enterpriseWebSearch"]);a!=null&&v(n,["enterpriseWebSearch"],a);const u=y(t,["functionDeclarations"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>UQ(E))),v(n,["functionDeclarations"],g)}const c=y(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],f);const h=y(t,["googleSearchRetrieval"]);h!=null&&v(n,["googleSearchRetrieval"],h);const p=y(t,["urlContext"]);return p!=null&&v(n,["urlContext"],p),n}function VZ(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function UZ(t,e){const n={},r=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function BZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),r}function FZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),r}function jZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","name"],pt(t,i));const o=y(e,["config"]);return o!=null&&BZ(o,r),r}function zZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["config"]);return o!=null&&FZ(o,r),r}function qZ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&v(e,["parameters","safetySetting"],o);const a=y(t,["personGeneration"]);e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a);const u=y(t,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const c=y(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const f=y(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const h=y(t,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=y(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=y(t,["labels"]);e!==void 0&&g!=null&&v(e,["labels"],g);const E=y(t,["numberOfImages"]);e!==void 0&&E!=null&&v(e,["parameters","sampleCount"],E);const x=y(t,["mode"]);return e!==void 0&&x!=null&&v(e,["parameters","mode"],x),r}function HZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["image"]);o!=null&&v(r,["instances[0]","image"],eo(o));const a=y(e,["upscaleFactor"]);a!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],a);const u=y(e,["config"]);return u!=null&&qZ(u,r),r}function GZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>uv(a))),v(n,["generatedImages"],o)}return n}function $Z(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["encodedVideo"]);i!=null&&v(n,["videoBytes"],$a(i));const o=y(t,["encoding"]);return o!=null&&v(n,["mimeType"],o),n}function KZ(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["videoBytes"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function YZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["_self"],eo(r));const i=y(t,["maskMode"]);return i!=null&&v(n,["maskMode"],i),n}function WZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],cv(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function JZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],eo(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function fB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["encodedVideo"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["encoding"],o),n}function dB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["bytesBase64Encoded"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XZ(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function QZ(t){const e={},n=y(t,["config"]);return n!=null&&XZ(n,e),e}function ZZ(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function eee(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&ZZ(r,e),e}function tee(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function nee(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function ree(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],oee(a)),e}function iee(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&nee(i,e),e}function oee(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function see(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function aee(t){const e={},n=y(t,["config"]);return n!=null&&see(n,e),e}function lee(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["fileSearchStores"],o)}return e}function hB(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),v(e,["customMetadata"],u)}const a=y(t,["chunkingConfig"]);return e!==void 0&&a!=null&&v(e,["chunkingConfig"],a),n}function uee(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&hB(r,e),e}function cee(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fee="Content-Type",dee="X-Server-Timeout",hee="User-Agent",dx="x-goog-api-client",pee="1.41.0",mee=`google-genai-sdk/${pee}`,gee="v1beta1",yee="v1beta",vee=5,bee=[408,429,500,502,503,504];class _ee{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gee}else{if(!this.clientOptions.apiKey)throw new ch({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yee,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===sx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Eee(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ND(i),new ax(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ND(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Yi(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield He(i.read());if(f){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),w=S.status,P=S.code,L=`got status: ${w}. ${JSON.stringify(x)}`;if(P>=400&&P<600)throw new ch({message:L,status:P})}}catch(x){if(x.name==="ApiError")throw x}a+=p;let g=-1,E=0;for(;;){g=-1,E=0;for(const w of c){const P=a.indexOf(w);P!==-1&&(g===-1||P<g)&&(g=P,E=w.length)}if(g===-1)break;const x=a.substring(0,g);a=a.substring(g+E);const S=x.trim();if(S.startsWith(u)){const w=S.substring(u.length).trim();try{const P=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new ax(P))}catch(P){throw new Error(`exception parsing stream chunk ${w}. ${P}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return cW(async()=>{const a=await fetch(e,n);if(a.ok)return a;throw bee.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new G3(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:vee)-1})}getDefaultHeaders(){const e={},n=mee+" "+this.clientOptions.userAgentExtra;return e[hee]=n,e[dx]=n,e[fee]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(dee,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=Ae("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),u=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&hB(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var u;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function ND(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ch({message:i,status:n}):new Error(i)}}function Eee(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tee="mcp_used/unknown";let xee=!1;function pB(t){for(const e of t)if(See(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xee}function mB(t){var e;const n=(e=t[dx])!==null&&e!==void 0?e:"";t[dx]=(n+` ${Tee}`).trimStart()}function See(t){return t!==null&&typeof t=="object"&&t instanceof Nw}function wee(t){return Yi(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield He(n.listTools({cursor:i}));for(const u of a.tools)yield yield He(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Nw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Nw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Wi(wee(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;a.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),QW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Aee(t,e,n){const r=new HW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Cee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Ree(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(D=>{f=D}),p=e.callbacks,g=function(){f({})},E=this.apiClient,x={onopen:g,onmessage:D=>{Aee(E,p.onmessage,D)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(c,Pee(a),x);S.connect(),await h;const L={setup:{model:pt(this.apiClient,e.model)}};return S.send(JSON.stringify(L)),new Iee(S,this.apiClient)}}class Iee{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=XX(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=JX(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_c.PLAY)}pause(){this.sendPlaybackControl(_c.PAUSE)}stop(){this.sendPlaybackControl(_c.STOP)}resetContext(){this.sendPlaybackControl(_c.RESET_CONTEXT)}close(){this.conn.close()}}function Pee(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ree(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mee="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Nee(t,e,n){const r=new qW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=eQ(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Dee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Cee(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&pB(e.config.tools)&&mB(p);const g=Vee(p);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),z=this.apiClient.getLocation(),q=this.apiClient.getApiKey(),H=!!V&&!!z||!!q;this.apiClient.getCustomBaseUrl()&&!H?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const V=this.apiClient.getApiKey();let z="BidiGenerateContent",q="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${z}?${q}=${V}`}let E=()=>{};const x=new Promise(V=>{E=V}),S=e.callbacks,w=function(){var V;(V=S==null?void 0:S.onopen)===null||V===void 0||V.call(S),E({})},P=this.apiClient,L={onopen:w,onmessage:V=>{Nee(P,S.onmessage,V)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(V){}},D=this.webSocketFactory.create(h,Lee(g),L);D.connect(),await x;let B=pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const V=this.apiClient.getProject(),z=this.apiClient.getLocation();V&&z&&(B=`projects/${V}/locations/${z}/`+B)}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fg.AUDIO]}:e.config.responseModalities=[Fg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],N=[];for(const V of U)if(this.isCallableTool(V)){const z=V;N.push(await z.tool())}else N.push(V);N.length>0&&(e.config.tools=N);const O={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=WX(this.apiClient,O):F=YX(this.apiClient,O),delete F.config,D.send(JSON.stringify(F)),new kee(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Oee={turnComplete:!0};class kee{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xi(n.turns),e.isVertexAI()||(r=r.map(i=>lv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Mee)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Oee),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZX(e)}:n={realtimeInput:QX(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Lee(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Vee(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD=10;function OD(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pc(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Pc(t){return"callTool"in t&&typeof t.callTool=="function"}function Uee(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pc(i)))!==null&&r!==void 0?r:!1}function kD(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Pc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function LD(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bee extends Ms{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Uee(n)||OD(n.config))return await this.generateContentInternal(c);const f=kD(n);if(f.length>0){const S=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const g=xi(c.contents),E=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:DD;let x=0;for(;x<E&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,w=[];for(const P of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Pc(P)){const D=await P.callTool(h.functionCalls);w.push(...D)}x++,p={role:"user",parts:w},c.contents=xi(c.contents),c.contents.push(S),c.contents.push(p),LD(c.config)&&(g.push(S),g.push(p))}return LD(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(n),OD(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=kD(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new uu(_s.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>Pc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&pB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),mB(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pc(a)){const u=a,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:DD;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Yi(this,arguments,function*(){for(var g,E,x,S,w,P;u<o;){a&&(u++,a=!1);const F=yield He(f.processParamsMaybeAddMcpUsage(p)),U=yield He(f.generateContentStreamInternal(F)),N=[],O=[];try{for(var L=!0,D=(E=void 0,Wi(U)),B;B=yield He(D.next()),g=B.done,!g;L=!0){S=B.value,L=!1;const V=S;if(yield yield He(V),V.candidates&&(!((w=V.candidates[0])===null||w===void 0)&&w.content)){O.push(V.candidates[0].content);for(const z of(P=V.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(u<o&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const q=yield He(h.get(z.functionCall.name).callTool([z.functionCall]));N.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(V){E={error:V}}finally{try{!L&&!g&&(x=D.return)&&(yield He(x.call(D)))}finally{if(E)throw E.error}}if(N.length>0){a=!0;const V=new Sd;V.candidates=[{content:{role:"user",parts:N}}],yield yield He(V);const z=[];z.push(...O),z.push({role:"user",parts:N});const q=xi(p.contents).concat(z);p.contents=q}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=PD(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=MD(h),g=new Sd;return Object.assign(g,p),g})}else{const f=ID(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=RD(h),g=new Sd;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=PD(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Yi(this,arguments,function*(){var g,E,x,S;try{for(var w=!0,P=Wi(p),L;L=yield He(P.next()),g=L.done,!g;w=!0){S=L.value,w=!1;const D=S,B=MD(yield He(D.json()),e);B.sdkHttpResponse={headers:D.headers};const F=new Sd;Object.assign(F,B),yield yield He(F)}}catch(D){E={error:D}}finally{try{!w&&!g&&(x=P.return)&&(yield He(x.call(P)))}finally{if(E)throw E.error}}})})}else{const f=ID(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Yi(this,arguments,function*(){var g,E,x,S;try{for(var w=!0,P=Wi(p),L;L=yield He(P.next()),g=L.done,!g;w=!0){S=L.value,w=!1;const D=S,B=RD(yield He(D.json()),e);B.sdkHttpResponse={headers:D.headers};const F=new Sd;Object.assign(F,B),yield yield He(F)}}catch(D){E={error:D}}finally{try{!w&&!g&&(x=P.return)&&(yield He(x.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=MQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=DQ(h),g=new fD;return Object.assign(g,p),g})}else{const f=RQ(this.apiClient,e);return u=Ae("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=NQ(h),g=new fD;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=HQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=$Q(h),g=new dD;return Object.assign(g,p),g})}else{const f=qQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=GQ(h),g=new dD;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=AQ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=CQ(c),h=new MW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=HZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=GZ(c),h=new NW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=wZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=AZ(c),h=new DW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=NZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=DZ(c),h=new OW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=uZ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>fx(h))}else{const f=lZ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>cx(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=vZ(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=_Z(h),g=new hD;return Object.assign(g,p),g})}else{const f=yZ(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=bZ(h),g=new hD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=zZ(this.apiClient,e);return u=Ae("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>fx(h))}else{const f=jZ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>cx(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=TQ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=SQ(h),g=new pD;return Object.assign(g,p),g})}else{const f=EQ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=xQ(h),g=new pD;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=vQ(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=_Q(h),g=new mD;return Object.assign(g,p),g})}else{const f=yQ(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=bQ(h),g=new mD;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=cQ(this.apiClient,e);return o=Ae("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=fQ(c),h=new kW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=QQ(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=JQ(h),g=new jg;return Object.assign(g,p),g})}else{const f=XQ(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const p=WQ(h),g=new jg;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fee extends Ms{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=wW(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=SW(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=yW(e);return o=Ae("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jee(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function zee(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xee(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function qee(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const a=y(e,["uses"]);n!==void 0&&a!=null&&v(n,["uses"],a);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],Jee(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function Hee(t,e){const n={},r=y(e,["config"]);return r!=null&&v(n,["config"],qee(t,r,n)),n}function Gee(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function $ee(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kee(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Yee(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Wee(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Mw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],zee(pr(x)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let U=tf(S);Array.isArray(U)&&(U=U.map(N=>Zee(ef(N)))),v(e,["setup","tools"],U)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],Qee(w));const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const L=y(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&v(e,["setup","outputAudioTranscription"],L);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jee(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],Wee(i,n)),n}function Xee(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],Gee(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],$ee(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],jee(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function Qee(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zee(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],Kee(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],Yee(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ete(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function tte(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=ete(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class nte extends Ms{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Hee(this.apiClient,e);o=Ae("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=tte(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rte(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function ite(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&rte(r,e),e}function ote(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function ste(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function ate(t){const e={},n=y(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&ste(r,e),e}function lte(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ute extends Ms{constructor(e){super(),this.apiClient=e,this.list=async n=>new uu(_s.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ote(e);return o=Ae("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ite(e);i=Ae("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ate(e);return o=Ae("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lte(c),h=new LW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cte extends Ms{constructor(e,n=new ute(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new uu(_s.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QZ(e);return o=Ae("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tee(e);return o=Ae("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eee(e);i=Ae("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aee(e);return o=Ae("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lee(c),h=new VW;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uee(e);return o=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=cee(c),h=new UW;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iee(e);return o=Ae("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ree(c),h=new Aw;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const fte=()=>gB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const px=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Si extends Error{}class Sr extends Si{constructor(e,n,r,i){super(`${Sr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new fv({message:r,cause:px(n)});const o=n;return e===400?new vB(e,o,r,i):e===401?new bB(e,o,r,i):e===403?new _B(e,o,r,i):e===404?new EB(e,o,r,i):e===409?new TB(e,o,r,i):e===422?new xB(e,o,r,i):e===429?new SB(e,o,r,i):e>=500?new wB(e,o,r,i):new Sr(e,o,r,i)}}class mx extends Sr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class fv extends Sr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yB extends fv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vB extends Sr{}class bB extends Sr{}class _B extends Sr{}class EB extends Sr{}class TB extends Sr{}class xB extends Sr{}class SB extends Sr{}class wB extends Sr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dte=/^[a-z][a-z0-9+.-]*:/i,hte=t=>dte.test(t);let gx=t=>(gx=Array.isArray,gx(t));const pte=gx;let mte=pte;const VD=mte;function gte(t){if(!t)return!0;for(const e in t)return!1;return!0}function yte(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vte=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Si(`${t} must be an integer`);if(e<0)throw new Si(`${t} must be a positive integer`);return e},bte=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _te=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ete(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Tte=()=>{var t,e,n,r,i;const o=Ete();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uc,"X-Stainless-OS":BD(Deno.build.os),"X-Stainless-Arch":UD(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uc,"X-Stainless-OS":BD((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":UD((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=xte();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function xte(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const UD=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",BD=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Vm;const Ste=()=>Vm??(Vm=Tte());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wte(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function AB(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Ate(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return AB({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function CB(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Cte(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ite=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IB=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function z_(t,e,n){return IB(),new File(t,e??"unknown_file",n)}function Pte(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Rte=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PB=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Mte=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&PB(t),Nte=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Dte(t,e,n){if(IB(),t=await t,Mte(t))return t instanceof File?t:z_([await t.arrayBuffer()],t.name);if(Nte(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),z_(await yx(i),e,n)}const r=await yx(t);if(e||(e=Pte(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return z_(r,e,n)}async function yx(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(PB(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(Rte(t))try{for(var u=!0,c=Wi(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;a.push(...await yx(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Ote(t)}`)}return a}function Ote(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RB{constructor(e){this._client=e}}RB._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MB(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FD=Object.freeze(Object.create(null)),kte=(t=MB)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((h,p,g)=>{var E,x,S;/[?#]/.test(p)&&(i=!0);const w=r[g];let P=(i?encodeURIComponent:t)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((S=Object.getPrototypeOf((x=Object.getPrototypeOf((E=w.hasOwnProperty)!==null&&E!==void 0?E:FD))!==null&&x!==void 0?x:FD))===null||S===void 0?void 0:S.toString))&&(P=w+"",o.push({start:h.length+p.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":P)},""),u=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,E)=>{const x=" ".repeat(E.start-h),S="^".repeat(E.length);return h=E.start+E.length,g+x+S},"");throw new Si(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${a}
${p}`)}return a}),Um=kte(MB);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NB extends RB{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=qg(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Si("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Si("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Um`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Um`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Um`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,u=qg(o,["api_version"]);return this._client.get(Um`/${a}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}NB._key=Object.freeze(["interactions"]);class DB extends NB{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lte(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Bm;function Dw(t){let e;return(Bm??(e=new globalThis.TextEncoder,Bm=e.encode.bind(e)))(t)}let Fm;function jD(t){let e;return(Fm??(e=new globalThis.TextDecoder,Fm=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Dw(e):e;this.buffer=Lte([this.buffer,n]);const r=[];let i;for(;(i=Vte(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(jD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=jD(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}dv.NEWLINE_CHARS=new Set([`
`,"\r"]);dv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Vte(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Ute(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hg={off:0,error:200,warn:300,info:400,debug:500},zD=(t,e,n)=>{if(t){if(yte(Hg,t))return t;br(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Hg))}`)}};function Vd(){}function jm(t,e,n){return!e||Hg[t]>Hg[n]?Vd:e[t].bind(e)}const Bte={error:Vd,warn:Vd,info:Vd,debug:Vd};let qD=new WeakMap;function br(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Bte;const i=qD.get(n);if(i&&i[0]===r)return i[1];const o={error:jm("error",n,r),warn:jm("warn",n,r),info:jm("info",n,r),debug:jm("debug",n,r)};return qD.set(n,[r,o]),o}const Ml=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ec{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?br(r):console;function a(){return Yi(this,arguments,function*(){var c,f,h,p;if(i)throw new Si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,x=Wi(Fte(e,n)),S;S=yield He(x.next()),c=S.done,!c;E=!0){p=S.value,E=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield He(JSON.parse(w.data))}catch(P){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),P}}}catch(w){f={error:w}}finally{try{!E&&!c&&(h=x.return)&&(yield He(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(w){if(hx(w))return yield He(void 0);throw w}finally{g||n.abort()}})}return new Ec(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Yi(this,arguments,function*(){var c,f,h,p;const g=new dv,E=CB(e);try{for(var x=!0,S=Wi(E),w;w=yield He(S.next()),c=w.done,!c;x=!0){p=w.value,x=!1;const P=p;for(const L of g.decode(P))yield yield He(L)}}catch(P){f={error:P}}finally{try{!x&&!c&&(h=S.return)&&(yield He(h.call(S)))}finally{if(f)throw f.error}}for(const P of g.flush())yield yield He(P)})}function a(){return Yi(this,arguments,function*(){var c,f,h,p;if(i)throw new Si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,x=Wi(o()),S;S=yield He(x.next()),c=S.done,!c;E=!0){p=S.value,E=!1;const w=p;g||w&&(yield yield He(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!E&&!c&&(h=x.return)&&(yield He(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(w){if(hx(w))return yield He(void 0);throw w}finally{g||n.abort()}})}return new Ec(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Ec(()=>i(e),this.controller,this.client),new Ec(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return AB({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Dw(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Fte(t,e){return Yi(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Si("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Si("Attempted to iterate over a response with no body");const u=new zte,c=new dv,f=CB(t.body);try{for(var h=!0,p=Wi(jte(f)),g;g=yield He(p.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const E=a;for(const x of c.decode(E)){const S=u.decode(x);S&&(yield yield He(S))}}}catch(E){i={error:E}}finally{try{!h&&!r&&(o=p.return)&&(yield He(o.call(p)))}finally{if(i)throw i.error}}for(const E of c.flush()){const x=u.decode(E);x&&(yield yield He(x))}})}function jte(t){return Yi(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var u=!0,c=Wi(t),f;f=yield He(c.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Dw(h):h;let g=new Uint8Array(a.length+p.length);g.set(a),g.set(p,a.length),a=g;let E;for(;(E=Ute(a))!==-1;)yield yield He(a.slice(0,E)),a=a.slice(E)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield He(i.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield He(a))})}class zte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=qte(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function qte(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hte(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var u;if(e.options.stream)return br(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ec.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return br(t).debug(`[${r}] response parsed`,Ml({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends Promise{constructor(e,n,r=Hte){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Ow(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OB=Symbol("brand.privateNullableHeaders");function*Gte(t){if(!t)return;if(OB in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VD(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=VD(r[1])?r[1]:[r[1]];let a=!1;for(const u of o)u!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,u])}}const wd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of Gte(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),a===null?(e.delete(o),n.add(u)):(e.append(o,a),n.delete(u))}}return{[OB]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=fW)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kB;class hv{constructor(e){var n,r,i,o,a,u,c,{baseURL:f=q_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=q_("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=qg(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:hv.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(a=(o=zD(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:zD(q_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:x,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=E.fetch)!==null&&c!==void 0?c:wte(),this.encoder=Ite,this._options=E,this.apiKey=h,this.apiVersion=p,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=wd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return wd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Si(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${uc}`}defaultIdempotencyKey(){return`stainless-node-retry-${fte()}`}makeStatusError(e,n,r,i){return Sr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=hte(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return gte(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Ow(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(br(this).debug(`[${g}] sending request`,Ml({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new mx;const S=new AbortController,w=await this.fetchWithTimeout(h,f,p,S).catch(px),P=Date.now();if(w instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new mx;const B=hx(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return br(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${D}`),br(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${D})`,Ml({retryOfRequestLogID:r,url:h,durationMs:P-x,message:w.message})),this.retryRequest(u,n,r??g);throw br(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),br(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Ml({retryOfRequestLogID:r,url:h,durationMs:P-x,message:w.message})),B?new yB:new fv({cause:w})}const L=`[${g}${E}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${P-x}ms`;if(!w.ok){const D=await this.shouldRetry(w);if(n&&D){const V=`retrying, ${n} attempts remaining`;return await Cte(w.body),br(this).info(`${L} - ${V}`),br(this).debug(`[${g}] response error (${V})`,Ml({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:P-x})),this.retryRequest(u,n,r??g,w.headers)}const B=D?"error; no more retries left":"error; not retryable";br(this).info(`${L} - ${B}`);const F=await w.text().catch(V=>px(V).message),U=bte(F),N=U?void 0:F;throw br(this).debug(`[${g}] response error (${B})`,Ml({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:N,durationMs:Date.now()-x})),this.makeStatusError(w.status,U,N,w.headers)}return br(this).info(L),br(this).debug(`[${g}] response start`,Ml({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:P-x})),{response:w,options:u,controller:S,requestLogID:g,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:u}=o,c=qg(o,["signal","method"]),f=this._makeAbort(i);a&&a.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(a=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,f)}return await _te(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=a,p=this.buildURL(c,f,h);"timeout"in a&&vte("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:E}=this.buildBody({options:a}),x=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:x},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let u=wd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Ste()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(u),u.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=wd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Ate(e)}:this.encoder({body:e,headers:r})}}hv.DEFAULT_TIMEOUT=6e4;class $n extends hv{constructor(){super(...arguments),this.interactions=new DB(this)}}kB=$n;$n.GeminiNextGenAPIClient=kB;$n.GeminiNextGenAPIClientError=Si;$n.APIError=Sr;$n.APIConnectionError=fv;$n.APIConnectionTimeoutError=yB;$n.APIUserAbortError=mx;$n.NotFoundError=EB;$n.ConflictError=TB;$n.RateLimitError=SB;$n.BadRequestError=vB;$n.AuthenticationError=bB;$n.InternalServerError=wB;$n.PermissionDeniedError=_B;$n.UnprocessableEntityError=xB;$n.toFile=Dte;$n.Interactions=DB;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $te(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Kte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Yte(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Wte(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Jte(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const a=y(t,["learningRateMultiplier"]);if(a!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(y(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(y(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&v(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(y(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(y(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(y(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(y(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(y(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Xte(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec"],H_(U))}else if(i==="PREFERENCE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec"],H_(U))}else if(i==="DISTILLATION"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["distillationSpec"],H_(U))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const a=y(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(u==="PREFERENCE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(u==="DISTILLATION"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],U)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="PREFERENCE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="DISTILLATION"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(f==="PREFERENCE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(f==="DISTILLATION"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],U)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(h==="PREFERENCE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(h==="DISTILLATION"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],U)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const U=y(t,["tuningMode"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","tuningMode"],U)}const g=y(t,["customBaseModel"]);e!==void 0&&g!=null&&v(e,["customBaseModel"],g);let E=y(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const U=y(t,["batchSize"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let x=y(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRate"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const S=y(t,["labels"]);e!==void 0&&S!=null&&v(e,["labels"],S);const w=y(t,["beta"]);e!==void 0&&w!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],w);const P=y(t,["baseTeacherModel"]);e!==void 0&&P!=null&&v(e,["distillationSpec","baseTeacherModel"],P);const L=y(t,["tunedTeacherModelSource"]);e!==void 0&&L!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],L);const D=y(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const B=y(t,["outputUri"]);e!==void 0&&B!=null&&v(e,["outputUri"],B);const F=y(t,["encryptionSpec"]);return e!==void 0&&F!=null&&v(e,["encryptionSpec"],F),r}function Qte(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&une(o);const a=y(t,["config"]);return a!=null&&Jte(a,n),n}function Zte(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&cne(o,n,e);const a=y(t,["config"]);return a!=null&&Xte(a,n,e),n}function ene(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function tne(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function nne(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function rne(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function ine(t,e){const n={},r=y(t,["config"]);return r!=null&&nne(r,n),n}function one(t,e){const n={},r=y(t,["config"]);return r!=null&&rne(r,n),n}function sne(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>LB(u))),v(n,["tuningJobs"],a)}return n}function ane(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>vx(u))),v(n,["tuningJobs"],a)}return n}function lne(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["model"],r);const i=y(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function une(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function cne(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["distillationSpec","promptDatasetUri"],a)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["distillationSpec","promptDatasetUri"],a)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function LB(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],Q3(o));const a=y(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=y(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&v(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&v(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&v(n,["tunedModel"],lne(g)),n}function vx(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],Q3(o));const a=y(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=y(t,["startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&v(n,["error"],h);const p=y(t,["description"]);p!=null&&v(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const E=y(t,["tunedModel"]);E!=null&&v(n,["tunedModel"],E);const x=y(t,["preTunedModel"]);x!=null&&v(n,["preTunedModel"],x);const S=y(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const w=y(t,["preferenceOptimizationSpec"]);w!=null&&v(n,["preferenceOptimizationSpec"],w);const P=y(t,["distillationSpec"]);P!=null&&v(n,["distillationSpec"],P);const L=y(t,["tuningDataStats"]);L!=null&&v(n,["tuningDataStats"],L);const D=y(t,["encryptionSpec"]);D!=null&&v(n,["encryptionSpec"],D);const B=y(t,["partnerModelTuningSpec"]);B!=null&&v(n,["partnerModelTuningSpec"],B);const F=y(t,["customBaseModel"]);F!=null&&v(n,["customBaseModel"],F);const U=y(t,["experiment"]);U!=null&&v(n,["experiment"],U);const N=y(t,["labels"]);N!=null&&v(n,["labels"],N);const O=y(t,["outputUri"]);O!=null&&v(n,["outputUri"],O);const V=y(t,["pipelineJob"]);V!=null&&v(n,["pipelineJob"],V);const z=y(t,["serviceAccount"]);z!=null&&v(n,["serviceAccount"],z);const q=y(t,["tunedModelDisplayName"]);q!=null&&v(n,["tunedModelDisplayName"],q);const H=y(t,["veoTuningSpec"]);return H!=null&&v(n,["veoTuningSpec"],H),n}function fne(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["metadata"]);o!=null&&v(n,["metadata"],o);const a=y(t,["done"]);a!=null&&v(n,["done"],a);const u=y(t,["error"]);return u!=null&&v(n,["error"],u),n}function H_(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dne extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:ox.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=tne(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>vx(h))}else{const f=ene(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>LB(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=one(e);return u=Ae("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ane(h),g=new gD;return Object.assign(g,p),g})}else{const f=ine(e);return u=Ae("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=sne(h),g=new gD;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Kte(e);return u=Ae("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Wte(h),g=new yD;return Object.assign(g,p),g})}else{const f=$te(e);return u=Ae("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Yte(h),g=new yD;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Zte(e,e);return o=Ae("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>vx(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qte(e);return o=Ae("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>fne(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hne{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pne=1024*1024*8,mne=3,gne=1e3,yne=2,Gg="x-goog-upload-status";async function vne(t,e,n){var r;const i=await VB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function bne(t,e,n){var r;const i=await VB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$3(o),u=new Cw;return Object.assign(u,a),u}async function VB(t,e,n){var r,i;let o=0,a=0,u=new ax(new Response),c="upload";for(o=t.size;a<o;){const f=Math.min(pne,o-a),h=t.slice(a,a+f);a+f>=o&&(c+=", finalize");let p=0,g=gne;for(;p<mne&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Gg]));)p++,await Ene(g),g=g*yne;if(a+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Gg])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function _ne(t){return{size:t.size,type:t.type}}function Ene(t){return new Promise(e=>setTimeout(e,t))}class Tne{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vne(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bne(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _ne(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xne{create(e,n,r){return new Sne(e,n,r)}}class Sne{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HD="x-goog-api-key";class wne{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(HD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(HD,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ane="gl-node/";class Cne{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new $n({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=mW(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new wne(this.apiKey);this.apiClient=new _ee({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ane+"web",uploader:new Tne,downloader:new hne}),this.models=new Bee(this.apiClient),this.live=new Dee(this.apiClient,i,new xne),this.batches=new GJ(this.apiClient),this.chats=new AX(this.models,this.apiClient),this.caches=new xX(this.apiClient),this.files=new UX(this.apiClient),this.operations=new Fee(this.apiClient),this.authTokens=new nte(this.apiClient),this.tunings=new dne(this.apiClient),this.fileSearchStores=new cte(this.apiClient)}}class Ine{constructor(e,n=Ll[0]){this.apiKey=e,this.preferredModel=n}async callModelWithFallback(e,n=-1,r){var a,u;if(!this.apiKey)throw new Error("API Key is missing");const i=n===-1?this.preferredModel:Ll[n];let o=-1;n===-1?o=Ll.indexOf(this.preferredModel)+1:o=n+1;try{return(await new Cne({apiKey:this.apiKey}).models.generateContent({model:i,contents:e,config:{systemInstruction:r,temperature:.3}})).text||null}catch(c){if(console.error(`Error calling ${i}:`,c),(((a=c.message)==null?void 0:a.includes("429"))||((u=c.message)==null?void 0:u.includes("503")))&&o>0&&o<Ll.length)return console.log(`Falling back to ${Ll[o]}...`),this.callModelWithFallback(e,o,r);throw c}}async getTutorHelp(e,n){const r=`
      Context Passage:
      ${n}

      Student Question: ${e}

      You are a helpful and encouraging English Tutor for Grade 10 students. 
      Answer the student's question based ONLY on the context provided.
      Keep your answer simple, clear, and encouraging. Use emojis occasionally.
      If the answer isn't in the text, say so politely.
    `;return await this.callModelWithFallback(r,-1,"You are a helpful English tutor.")||"I'm sorry, I couldn't generate a response at the moment. Please check your connection or API key."}async generateQuiz(e){const n=`
      Create a short reading passage (about 150 words) suitable for Grade 10 English students about the topic: "${e}" related to "New Ways to Learn" (e.g., online learning, blended learning, educational apps).
      
      Then create 3 questions based on this passage:
      1. One True/False question.
      2. Two Multiple Choice questions (4 options A,B,C,D).

      Return the result in strictly valid JSON format with this schema:
      {
        "title": "Title of passage",
        "content": "Full text content...",
        "questions": [
          {
            "text": "Question text",
            "type": "TRUE_FALSE" or "MULTIPLE_CHOICE",
            "options": [{"id": "A", "text": "Option text"}],
            "correctAnswerId": "A" or "true",
            "explanation": "Why this is correct",
            "difficulty": "medium"
          }
        ]
      }
      DO NOT add markdown formatting (like \`\`\`json) around the response. Just the raw JSON string.
    `;try{const r=await this.callModelWithFallback(n);return(r==null?void 0:r.replace(/```json/g,"").replace(/```/g,"").trim())||null}catch(r){throw console.error("Failed to generate quiz",r),r}}}function UB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UB(t))&&(r&&(r+=" "),r+=e);return r}var Pne=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kw(t){if(typeof t!="string")return!1;var e=Pne;return e.includes(t)}var Rne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mne=new Set(Rne);function BB(t){return typeof t!="string"?!1:Mne.has(t)}function FB(t){return typeof t=="string"&&t.startsWith("data-")}function Vo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(BB(n)||FB(n))&&(e[n]=t[n]);return e}function fh(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Vo(e)}return typeof t=="object"&&!Array.isArray(t)?Vo(t):null}function wi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(BB(n)||FB(n)||kw(n))&&(e[n]=t[n]);return e}var Nne=["children","width","height","viewBox","className","style","title","desc"];function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(null,arguments)}function Dne(t,e){if(t==null)return{};var n,r,i=One(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function One(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lw=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:f}=t,h=Dne(t,Nne),p=o||{width:r,height:i,x:0,y:0},g=At("recharts-surface",a);return A.createElement("svg",bx({},wi(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,c),A.createElement("desc",null,f),n)}),kne=["children","className"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(null,arguments)}function Lne(t,e){if(t==null)return{};var n,r,i=Vne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wr=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Lne(t,kne),o=At("recharts-layer",r);return A.createElement("g",_x({className:o},wi(i),{ref:e}),n)}),Vw=ZU(),jB=A.createContext(null),Une=()=>A.useContext(jB);function Lt(t){return function(){return t}}const zB=Math.cos,$g=Math.sin,to=Math.sqrt,Kg=Math.PI,pv=2*Kg,Ex=Math.PI,Tx=2*Ex,Nl=1e-6,Bne=Tx-Nl;function qB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fne(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qB;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qB:Fne(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,f=i-n,h=a-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Nl)if(!(Math.abs(p*c-f*h)>Nl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-a,x=i-u,S=c*c+f*f,w=E*E+x*x,P=Math.sqrt(S),L=Math.sqrt(g),D=o*Math.tan((Ex-Math.acos((S+g-w)/(2*P*L)))/2),B=D/L,F=D/P;Math.abs(B-1)>Nl&&this._append`L${e+B*h},${n+B*p}`,this._append`A${o},${o},0,0,${+(p*E>h*x)},${this._x1=e+F*c},${this._y1=n+F*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Nl||Math.abs(this._y1-h)>Nl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%Tx+Tx),g>Bne?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Nl&&this._append`A${r},${r},0,${+(g>=Ex)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Uw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new jne(e)}function Bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HB(t){this._context=t}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mv(t){return new HB(t)}function GB(t){return t[0]}function $B(t){return t[1]}function KB(t,e){var n=Lt(!0),r=null,i=mv,o=null,a=Uw(u);t=typeof t=="function"?t:t===void 0?GB:Lt(t),e=typeof e=="function"?e:e===void 0?$B:Lt(e);function u(c){var f,h=(c=Bw(c)).length,p,g=!1,E;for(r==null&&(o=i(E=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(E)return o=null,E+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Lt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function zm(t,e,n){var r=null,i=Lt(!0),o=null,a=mv,u=null,c=Uw(f);t=typeof t=="function"?t:t===void 0?GB:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$B:Lt(+n);function f(p){var g,E,x,S=(p=Bw(p)).length,w,P=!1,L,D=new Array(S),B=new Array(S);for(o==null&&(u=a(L=c())),g=0;g<=S;++g){if(!(g<S&&i(w=p[g],g,p))===P)if(P=!P)E=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=g-1;x>=E;--x)u.point(D[x],B[x]);u.lineEnd(),u.areaEnd()}P&&(D[g]=+t(w,g,p),B[g]=+e(w,g,p),u.point(r?+r(w,g,p):D[g],n?+n(w,g,p):B[g]))}if(L)return u=null,L+""||null}function h(){return KB().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Lt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Lt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Lt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Lt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Lt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Lt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Lt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(u=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=u=null:u=a(o=p),f):o},f}class YB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zne(t){return new YB(t,!0)}function qne(t){return new YB(t,!1)}const Fw={draw(t,e){const n=to(e/Kg);t.moveTo(n,0),t.arc(0,0,n,0,pv)}},Hne={draw(t,e){const n=to(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},WB=to(1/3),Gne=WB*2,$ne={draw(t,e){const n=to(e/Gne),r=n*WB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kne={draw(t,e){const n=to(e),r=-n/2;t.rect(r,r,n,n)}},Yne=.8908130915292852,JB=$g(Kg/10)/$g(7*Kg/10),Wne=$g(pv/10)*JB,Jne=-zB(pv/10)*JB,Xne={draw(t,e){const n=to(e*Yne),r=Wne*n,i=Jne*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=pv*o/5,u=zB(a),c=$g(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},G_=to(3),Qne={draw(t,e){const n=-to(e/(G_*3));t.moveTo(0,n*2),t.lineTo(-G_*n,-n),t.lineTo(G_*n,-n),t.closePath()}},hi=-.5,pi=to(3)/2,xx=1/to(12),Zne=(xx/2+1)*3,ere={draw(t,e){const n=to(e/Zne),r=n/2,i=n*xx,o=r,a=n*xx+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(hi*r-pi*i,pi*r+hi*i),t.lineTo(hi*o-pi*a,pi*o+hi*a),t.lineTo(hi*u-pi*c,pi*u+hi*c),t.lineTo(hi*r+pi*i,hi*i-pi*r),t.lineTo(hi*o+pi*a,hi*a-pi*o),t.lineTo(hi*u+pi*c,hi*c-pi*u),t.closePath()}};function tre(t,e){let n=null,r=Uw(i);t=typeof t=="function"?t:Lt(t||Fw),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Yg(){}function Wg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function XB(t){this._context=t}XB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nre(t){return new XB(t)}function QB(t){this._context=t}QB.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rre(t){return new QB(t)}function ZB(t){this._context=t}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ire(t){return new ZB(t)}function e5(t){this._context=t}e5.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ore(t){return new e5(t)}function GD(t){return t<0?-1:1}function $D(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(GD(o)+GD(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function KD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Jg(t){this._context=t}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$_(this,this._t0,KD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$_(this,KD(this,n=$D(this,t,e)),n);break;default:$_(this,this._t0,n=$D(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function t5(t){this._context=new n5(t)}(t5.prototype=Object.create(Jg.prototype)).point=function(t,e){Jg.prototype.point.call(this,e,t)};function n5(t){this._context=t}n5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function sre(t){return new Jg(t)}function are(t){return new t5(t)}function r5(t){this._context=t}r5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YD(t),i=YD(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function lre(t){return new r5(t)}function gv(t,e){this._context=t,this._t=e}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ure(t){return new gv(t,.5)}function cre(t){return new gv(t,0)}function fre(t){return new gv(t,1)}function Jl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dre(t,e){return t[e]}function hre(t){const e=[];return e.key=t,e}function pre(){var t=Lt([]),e=Sx,n=Jl,r=dre;function i(o){var a=Array.from(t.apply(this,arguments),hre),u,c=a.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(a[u][f]=[0,+r(p,a[u].key,f,o)]).data=p;for(u=0,h=Bw(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Sx:typeof o=="function"?o:Lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Jl,i):n},i}function mre(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Jl(t,e)}}function gre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Jl(t,e)}}function yre(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,f=0;u<a;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,E=(p-g)/2,x=0;x<u;++x){var S=t[e[x]],w=S[r][1]||0,P=S[r-1][1]||0;E+=w-P}c+=p,f+=E*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Jl(t,e)}}var K_={},Y_={},WD;function vre(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Y_)),Y_}var W_={},JD;function i5(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(W_)),W_}var J_={},XD;function jw(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(J_)),J_}var X_={},Q_={},QD;function bre(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Q_)),Q_}var ZD;function zw(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bre(),n=jw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<a;){const p=i[u];f?p==="\\"&&u+1<a?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,u++}return c&&o.push(c),o}t.toPath=r})(X_)),X_}var eO;function qw(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vre(),n=i5(),r=jw(),i=zw();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return a(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function a(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=o})(K_)),K_}var Z_,tO;function _re(){return tO||(tO=1,Z_=qw().get),Z_}var Ere=_re();const Xl=zo(Ere);var Tre=4;function Aa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tre,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function on(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,a)=>{var u=n[a-1];return typeof u=="string"?i+u+o:u!==void 0?i+Aa(u)+o:i+o},"")}var or=t=>t===0?0:t>0?1:-1,Uo=t=>typeof t=="number"&&t!=+t,Ql=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!Uo(t),Bo=t=>Ve(t)||typeof t=="string",xre=0,dh=t=>{var e=++xre;return"".concat(t||"").concat(e)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var o;if(Ql(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Uo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},o5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Rn(t,e,n){return Ve(t)&&Ve(e)?Aa(t+n*(e-t)):e}function Sre(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Xl(r,e))===n)}var Gn=t=>t===null||typeof t>"u",Fh=t=>Gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Io(t){return t!=null}function rf(){}var wre=["type","size","sizeType"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pre(t,e){if(t==null)return{};var n,r,i=Rre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s5={symbolCircle:Fw,symbolCross:Hne,symbolDiamond:$ne,symbolSquare:Kne,symbolStar:Xne,symbolTriangle:Qne,symbolWye:ere},Mre=Math.PI/180,Nre=t=>{var e="symbol".concat(Fh(t));return s5[e]||Fw},Dre=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Mre;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ore=(t,e)=>{s5["symbol".concat(Fh(t))]=e},Hw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Pre(t,wre),o=rO(rO({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var u=()=>{var g=Nre(a),E=tre().type(g).size(Dre(n,r,a)),x=E();if(x!==null)return x},{className:c,cx:f,cy:h}=o,p=wi(o);return Ve(f)&&Ve(h)&&Ve(n)?A.createElement("path",wx({},p,{className:At("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};Hw.registerSymbol=Ore;var a5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,kre=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{kw(i)&&(r[i]=(o=>n[i](n,o)))}),r},Lre=(t,e,n)=>r=>(t(e,n,r),null),jh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];kw(i)&&typeof o=="function"&&(r||(r={}),r[i]=Lre(o,e,n))}),r};function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ar(t,e){var n=Vre({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(null,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return(e=qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,Gre={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function $re(t){var{data:e,iconType:n,inactiveColor:r}=t,i=gi/2,o=gi/6,a=gi/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var f;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:gi,y2:i,className:"recharts-legend-icon"})}if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(gi,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var h=jre({},e);return delete h.legendIcon,A.cloneElement(e.legendIcon,h)}return A.createElement(Hw,{fill:u,cx:i,cy:i,size:gi,sizeType:"diameter",type:c})}function Kre(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=t,u={x:0,y:0,width:gi,height:gi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||i,E=At({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?o:h.color,S=g?g(h.value,h,p):h.value;return A.createElement("li",Xg({className:E,style:c,key:"legend-item-".concat(p)},jh(t,h,p)),A.createElement(Lw,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},A.createElement($re,{data:h,iconType:a,inactiveColor:o})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},S))})}var Yre=t=>{var e=ar(t,Gre),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:o},A.createElement(Kre,Xg({},e,{payload:n})))},eE={},tE={},sO;function Wre(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a,o,n);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e})(tE)),tE}var nE={},aO;function Jre(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(nE)),nE}var rE={},lO;function l5(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(rE)),rE}var iE={},oE={},sE={},uO;function Xre(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(sE)),sE}var cO;function Gw(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xre();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(oE)),oE}var aE={},fO;function Qre(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(aE)),aE}var dO;function Zre(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gw(),n=Qre();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(iE)),iE}var lE={},uE={},hO;function eie(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(uE)),uE}var cE={},fE={},dE={},hE={},pO;function u5(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(hE)),hE}var pE={},mO;function c5(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(pE)),pE}var mE={},gO;function f5(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(mE)),mE}var yO;function tie(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u5(),n=c5(),r=f5();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function E(x,S,w,P,L,D){const B=g(x,S,w,P,L,D);return B!==void 0?!!B:o(x,S,E,D)},new Map)}function o(h,p,g,E){if(p===h)return!0;switch(typeof p){case"object":return a(h,p,g,E);case"function":return Object.keys(p).length>0?o(h,{...p},g,E):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function a(h,p,g,E){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,E);if(p instanceof Map)return u(h,p,g,E);if(p instanceof Set)return f(h,p,g,E);const x=Object.keys(p);if(h==null||n.isPrimitive(h))return x.length===0;if(x.length===0)return!0;if(E!=null&&E.has(p))return E.get(p)===h;E==null||E.set(p,h);try{for(let S=0;S<x.length;S++){const w=x[S];if(!n.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!g(h[w],p[w],w,h,p,E))return!1}return!0}finally{E==null||E.delete(p)}}function u(h,p,g,E){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,S]of p.entries()){const w=h.get(x);if(g(w,S,x,h,p,E)===!1)return!1}return!0}function c(h,p,g,E){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let S=0;S<p.length;S++){const w=p[S];let P=!1;for(let L=0;L<h.length;L++){if(x.has(L))continue;const D=h[L];let B=!1;if(g(D,w,S,h,p,E)&&(B=!0),B){x.add(L),P=!0;break}}if(!P)return!1}return!0}function f(h,p,g,E){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,E):!1}t.isMatchWith=i,t.isSetMatch=f})(dE)),dE}var vO;function d5(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tie();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(fE)),fE}var gE={},yE={},vE={},bO;function nie(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(vE)),vE}var bE={},_O;function $w(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(bE)),bE}var _E={},EO;function h5(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",E="[object Object]",x="[object Error]",S="[object DataView]",w="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",D="[object Uint32Array]",B="[object BigUint64Array]",F="[object Int8Array]",U="[object Int16Array]",N="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=x,t.float32ArrayTag=V,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=U,t.int32ArrayTag=N,t.int8ArrayTag=F,t.mapTag=c,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=L,t.uint32ArrayTag=D,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=P})(_E)),_E}var EE={},TO;function rie(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(EE)),EE}var xO;function p5(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nie(),n=$w(),r=h5(),i=c5(),o=rie();function a(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,E=new Map,x=void 0){const S=x==null?void 0:x(h,p,g,E);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const w=new Array(h.length);E.set(h,w);for(let P=0;P<h.length;P++)w[P]=u(h[P],P,g,E,x);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;E.set(h,w);for(const[P,L]of h)w.set(P,u(L,P,g,E,x));return w}if(h instanceof Set){const w=new Set;E.set(h,w);for(const P of h)w.add(u(P,void 0,g,E,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,w);for(let P=0;P<h.length;P++)w[P]=u(h[P],P,g,E,x);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,w),c(w,h,g,E,x),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return E.set(h,w),c(w,h,g,E,x),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return E.set(h,w),c(w,h,g,E,x),w}if(h instanceof Error){const w=new h.constructor;return E.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,g,E,x),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return E.set(h,w),c(w,h,g,E,x),w}if(h instanceof Number){const w=new Number(h.valueOf());return E.set(h,w),c(w,h,g,E,x),w}if(h instanceof String){const w=new String(h.valueOf());return E.set(h,w),c(w,h,g,E,x),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return E.set(h,w),c(w,h,g,E,x),w}return h}function c(h,p,g=h,E,x){const S=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<S.length;w++){const P=S[w],L=Object.getOwnPropertyDescriptor(h,P);(L==null||L.writable)&&(h[P]=u(p[P],P,g,E,x))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c})(yE)),yE}var SO;function iie(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(gE)),gE}var wO;function oie(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=iie();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(cE)),cE}var TE={},xE={},SE={},AO;function sie(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p5(),n=$w(),r=h5();function i(o,a){return e.cloneDeepWith(o,(u,c,f,h)=>{const p=a==null?void 0:a(u,c,f,h);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),e.copyProperties(g,o,f,h),g}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(g,o),g}case r.argumentsTag:{const g={};return e.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(SE)),SE}var CO;function aie(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sie();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(xE)),xE}var wE={},AE={},IO;function m5(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(AE)),AE}var CE={},PO;function lie(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(CE)),CE}var RO;function uie(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=m5(),r=lie(),i=zw();function o(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=a;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=o})(wE)),wE}var MO;function cie(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=jw(),r=aie(),i=qw(),o=uie();function a(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a})(TE)),TE}var NO;function fie(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=eie(),r=oie(),i=cie();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(lE)),lE}var DO;function die(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wre(),n=Jre(),r=l5(),i=Zre(),o=fie();function a(u,c=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(c),1)):[]}t.uniqBy=a})(eE)),eE}var IE,OO;function hie(){return OO||(OO=1,IE=die().uniqBy),IE}var pie=hie();const kO=zo(pie);function g5(t,e,n){return e===!0?kO(t,n):typeof e=="function"?kO(t,e):t}var PE={exports:{}},RE={},ME={exports:{}},NE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function mie(){if(LO)return NE;LO=1;var t=Jc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(p,g){var E=g(),x=r({inst:{value:E,getSnapshot:g}}),S=x[0].inst,w=x[1];return o(function(){S.value=E,S.getSnapshot=g,c(S)&&w({inst:S})},[p,E,g]),i(function(){return c(S)&&w({inst:S}),p(function(){c(S)&&w({inst:S})})},[p]),a(E),E}function c(p){var g=p.getSnapshot;p=p.value;try{var E=g();return!n(p,E)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return NE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,NE}var VO;function gie(){return VO||(VO=1,ME.exports=mie()),ME.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO;function yie(){if(UO)return RE;UO=1;var t=Jc(),e=gie();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return RE.useSyncExternalStoreWithSelector=function(f,h,p,g,E){var x=o(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=u(function(){function P(U){if(!L){if(L=!0,D=U,U=g(U),E!==void 0&&S.hasValue){var N=S.value;if(E(N,U))return B=N}return B=U}if(N=B,r(D,U))return N;var O=g(U);return E!==void 0&&E(N,O)?(D=U,N):(D=U,B=O)}var L=!1,D,B,F=p===void 0?null:p;return[function(){return P(h())},F===null?void 0:function(){return P(F())}]},[h,p,g,E]);var w=i(f,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},RE}var BO;function vie(){return BO||(BO=1,PE.exports=yie()),PE.exports}var bie=vie(),Kw=A.createContext(null),_ie=t=>t,Bt=()=>{var t=A.useContext(Kw);return t?t.store.dispatch:_ie},bg=()=>{},Eie=()=>bg,Tie=(t,e)=>t===e;function Le(t){var e=A.useContext(Kw),n=A.useMemo(()=>e?r=>{if(r!=null)return t(r)}:bg,[e,t]);return bie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Eie,e?e.store.getState:bg,e?e.store.getState:bg,n,Tie)}function xie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Sie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function wie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FO=t=>Array.isArray(t)?t:[t];function Aie(t){const e=Array.isArray(t[0])?t[0]:t;return wie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Cie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Iie=class{constructor(t){this.value=t}deref(){return this.value}},Pie=typeof WeakRef<"u"?WeakRef:Iie,Rie=0,jO=1;function qm(){return{s:Rie,v:void 0,o:null,p:null}}function y5(t,e={}){let n=qm();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var p;let u=n;const{length:c}=arguments;for(let g=0,E=c;g<E;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(x);w===void 0?(u=qm(),S.set(x,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(x);w===void 0?(u=qm(),S.set(x,u)):u=w}}const f=u;let h;if(u.s===jO)h=u.v;else if(h=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Pie(h):h}return f.s=jO,f.v=h,h}return a.clearCache=()=>{n=qm(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Mie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),xie(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:E=y5,argsMemoizeOptions:x=[]}=h,S=FO(g),w=FO(x),P=Aie(i),L=p(function(){return o++,f.apply(null,arguments)},...S),D=E(function(){a++;const F=Cie(P,arguments);return u=L.apply(null,F),u},...w);return Object.assign(D,{resultFunc:f,memoizedResultFunc:L,dependencies:P,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var re=Mie(y5),Nie=Object.assign((t,e=re)=>{Sie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>Nie}),DE={},OE={},kE={},zO;function Die(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(kE)),kE}var LE={},VE={},qO;function v5(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(VE)),VE}var HO;function Oie(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(LE)),LE}var GO;function kie(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Die(),n=Oie(),r=zw();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const f=(E,x)=>{let S=E;for(let w=0;w<x.length&&S!=null;++w)S=S[x[w]];return S},h=(E,x)=>x==null||E==null?x:typeof E=="object"&&"key"in E?Object.hasOwn(x,E.key)?x[E.key]:f(x,E.path):typeof E=="function"?E(x):Array.isArray(E)?f(x,E):typeof x=="object"?x[E]:x,p=a.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:p.map(x=>h(x,E))})).slice().sort((E,x)=>{for(let S=0;S<p.length;S++){const w=e.compareValues(E.criteria[S],x.criteria[S],u[S]);if(w!==0)return w}return 0}).map(E=>E.original)}t.orderBy=i})(OE)),OE}var UE={},$O;function Lie(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e})(UE)),UE}var BE={},KO;function b5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m5(),n=Gw(),r=u5(),i=f5();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],a):!1}t.isIterateeCall=o})(BE)),BE}var YO;function Vie(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kie(),n=Lie(),r=b5();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(DE)),DE}var FE,WO;function Uie(){return WO||(WO=1,FE=Vie().sortBy),FE}var Bie=Uie();const yv=zo(Bie);var _5=t=>t.legend.settings,Fie=t=>t.legend.size,jie=t=>t.legend.payload,zie=re([jie,_5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?yv(r,n):r});function qie(){return Le(zie)}var Hm=1;function E5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Hm||Math.abs(a.left-e.left)>Hm||Math.abs(a.top-e.top)>Hm||Math.abs(a.width-e.width)>Hm)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Hie=typeof Symbol=="function"&&Symbol.observable||"@@observable",JO=Hie,jE=()=>Math.random().toString(36).substring(7).split("").join("."),Gie={INIT:`@@redux/INIT${jE()}`,REPLACE:`@@redux/REPLACE${jE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jE()}`},Qg=Gie;function Yw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function T5(t,e,n){if(typeof t!="function")throw new Error(er(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(er(1));return n(T5)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function f(){a===o&&(a=new Map,o.forEach((w,P)=>{a.set(P,w)}))}function h(){if(c)throw new Error(er(3));return i}function p(w){if(typeof w!="function")throw new Error(er(4));if(c)throw new Error(er(5));let P=!0;f();const L=u++;return a.set(L,w),function(){if(P){if(c)throw new Error(er(6));P=!1,f(),a.delete(L),o=null}}}function g(w){if(!Yw(w))throw new Error(er(7));if(typeof w.type>"u")throw new Error(er(8));if(typeof w.type!="string")throw new Error(er(17));if(c)throw new Error(er(9));try{c=!0,i=r(i,w)}finally{c=!1}return(o=a).forEach(L=>{L()}),w}function E(w){if(typeof w!="function")throw new Error(er(10));r=w,g({type:Qg.REPLACE})}function x(){const w=p;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(er(11));function L(){const B=P;B.next&&B.next(h())}return L(),{unsubscribe:w(L)}},[JO](){return this}}}return g({type:Qg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:E,[JO]:x}}function $ie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Qg.INIT})>"u")throw new Error(er(12));if(typeof n(void 0,{type:Qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function x5(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{$ie(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],E=a[p],x=g(E,u);if(typeof x>"u")throw u&&u.type,new Error(er(14));f[p]=x,c=c||x!==E}return c=c||r.length!==Object.keys(a).length,c?f:a}}function Zg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Kie(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(er(15))};const a={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(a));return o=Zg(...u)(i.dispatch),{...i,dispatch:o}}}function S5(t){return Yw(t)&&"type"in t&&typeof t.type=="string"}var w5=Symbol.for("immer-nothing"),XO=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object,Vc=Xr.getPrototypeOf,ey="constructor",vv="prototype",Ax="configurable",ty="enumerable",_g="writable",hh="value",Es=t=>!!t&&!!t[Ar];function Qi(t){var e;return t?A5(t)||_v(t)||!!t[XO]||!!((e=t[ey])!=null&&e[XO])||Ev(t)||Tv(t):!1}var Yie=Xr[vv][ey].toString(),QO=new WeakMap;function A5(t){if(!t||!Ww(t))return!1;const e=Vc(t);if(e===null||e===Xr[vv])return!0;const n=Xr.hasOwnProperty.call(e,ey)&&e[ey];if(n===Object)return!0;if(!cc(n))return!1;let r=QO.get(n);return r===void 0&&(r=Function.toString.call(n),QO.set(n,r)),r===Yie}function bv(t,e,n=!0){zh(t)===0?(n?Reflect.ownKeys(t):Xr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function zh(t){const e=t[Ar];return e?e.type_:_v(t)?1:Ev(t)?2:Tv(t)?3:0}var ZO=(t,e,n=zh(t))=>n===2?t.has(e):Xr[vv].hasOwnProperty.call(t,e),Cx=(t,e,n=zh(t))=>n===2?t.get(e):t[e],ny=(t,e,n,r=zh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Wie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var _v=Array.isArray,Ev=t=>t instanceof Map,Tv=t=>t instanceof Set,Ww=t=>typeof t=="object",cc=t=>typeof t=="function",zE=t=>typeof t=="boolean";function Jie(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ds=t=>t.copy_||t.base_,Jw=t=>t.modified_?t.copy_:t.base_;function Ix(t,e){if(Ev(t))return new Map(t);if(Tv(t))return new Set(t);if(_v(t))return Array[vv].slice.call(t);const n=A5(t);if(e===!0||e==="class_only"&&!n){const r=Xr.getOwnPropertyDescriptors(t);delete r[Ar];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u[_g]===!1&&(u[_g]=!0,u[Ax]=!0),(u.get||u.set)&&(r[a]={[Ax]:!0,[_g]:!0,[ty]:u[ty],[hh]:t[a]})}return Xr.create(Vc(t),r)}else{const r=Vc(t);if(r!==null&&n)return{...t};const i=Xr.create(r);return Xr.assign(i,t)}}function Xw(t,e=!1){return xv(t)||Es(t)||!Qi(t)||(zh(t)>1&&Xr.defineProperties(t,{set:Gm,add:Gm,clear:Gm,delete:Gm}),Xr.freeze(t),e&&bv(t,(n,r)=>{Xw(r,!0)},!1)),t}function Xie(){qi(2)}var Gm={[hh]:Xie};function xv(t){return t===null||!Ww(t)?!0:Xr.isFrozen(t)}var ry="MapSet",Px="Patches",e2="ArrayMethods",C5={};function Zl(t){const e=C5[t];return e||qi(0,t),e}var t2=t=>!!C5[t],ph,I5=()=>ph,Qie=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:t2(ry)?Zl(ry):void 0,arrayMethodsPlugin_:t2(e2)?Zl(e2):void 0});function n2(t,e){e&&(t.patchPlugin_=Zl(Px),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Rx(t){Mx(t),t.drafts_.forEach(Zie),t.drafts_=null}function Mx(t){t===ph&&(ph=t.parent_)}var r2=t=>ph=Qie(ph,t);function Zie(t){const e=t[Ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function i2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ar].modified_&&(Rx(e),qi(4)),Qi(t)&&(t=o2(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ar].base_,t,e)}else t=o2(e,n);return eoe(e,t,!0),Rx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==w5?t:void 0}function o2(t,e){if(xv(e))return e;const n=e[Ar];if(!n)return iy(e,t.handledSet_,t);if(!Sv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);M5(n,t)}return n.copy_}function eoe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Xw(e,n)}function P5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Sv=(t,e)=>t.scope_===e,toe=[];function R5(t,e,n,r){const i=ds(t),o=t.type_;if(r!==void 0&&Cx(i,r,o)===e){ny(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;bv(i,(c,f)=>{if(Es(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const a=t.draftLocations_.get(e)??toe;for(const u of a)ny(i,u,n,o)}function noe(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Sv(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const a=Jw(o);R5(t,o.draft_??o,a,n),M5(o,i)})}function M5(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}P5(t)}}function roe(t,e,n){const{scope_:r}=t;if(Es(n)){const i=n[Ar];Sv(i,r)&&i.callbacks_.push(function(){Eg(t);const a=Jw(i);R5(t,n,a,e)})}else Qi(n)&&t.callbacks_.push(function(){const o=ds(t);t.type_===3?o.has(n)&&iy(n,r.handledSet_,r):Cx(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&iy(Cx(t.copy_,e,t.type_),r.handledSet_,r)})}function iy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Es(t)||e.has(t)||!Qi(t)||xv(t)||(e.add(t),bv(t,(r,i)=>{if(Es(i)){const o=i[Ar];if(Sv(o,n)){const a=Jw(o);ny(t,r,a,t.type_),P5(o)}}else Qi(i)&&iy(i,e,n)})),t}function ioe(t,e){const n=_v(t),r={type_:n?1:0,scope_:e?e.scope_:I5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=oy;n&&(i=[r],o=mh);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,[u,r]}var oy={get(t,e){if(e===Ar)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ds(t);if(!ZO(i,e,t.type_))return ooe(t,i,e);const o=i[e];if(t.finalized_||!Qi(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Jie(e))return o;if(o===qE(t.base_,e)){Eg(t);const a=t.type_===1?+e:e,u=Dx(t.scope_,o,t,a);return t.copy_[a]=u}return o},has(t,e){return e in ds(t)},ownKeys(t){return Reflect.ownKeys(ds(t))},set(t,e,n){const r=N5(ds(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qE(ds(t),e),o=i==null?void 0:i[Ar];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Wie(n,i)&&(n!==void 0||ZO(t.base_,e,t.type_)))return!0;Eg(t),Nx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),roe(t,e,n)),!0},deleteProperty(t,e){return Eg(t),qE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Nx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ds(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[_g]:!0,[Ax]:t.type_!==1||e!=="length",[ty]:r[ty],[hh]:n[e]}},defineProperty(){qi(11)},getPrototypeOf(t){return Vc(t.base_)},setPrototypeOf(){qi(12)}},mh={};for(let t in oy){let e=oy[t];mh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}mh.deleteProperty=function(t,e){return mh.set.call(this,t,e,void 0)};mh.set=function(t,e,n){return oy.set.call(this,t[0],e,n,t[0])};function qE(t,e){const n=t[Ar];return(n?ds(n):t)[e]}function ooe(t,e,n){var i;const r=N5(e,n);return r?hh in r?r[hh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function N5(t,e){if(!(e in t))return;let n=Vc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Vc(n)}}function Nx(t){t.modified_||(t.modified_=!0,t.parent_&&Nx(t.parent_))}function Eg(t){t.copy_||(t.assigned_=new Map,t.copy_=Ix(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var soe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(cc(n)&&!cc(r)){const a=r;r=n;const u=this;return function(f=a,...h){return u.produce(f,p=>r.call(this,p,...h))}}cc(r)||qi(6),i!==void 0&&!cc(i)&&qi(7);let o;if(Qi(n)){const a=r2(this),u=Dx(a,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?Rx(a):Mx(a)}return n2(a,i),i2(o,a)}else if(!n||!Ww(n)){if(o=r(n),o===void 0&&(o=n),o===w5&&(o=void 0),this.autoFreeze_&&Xw(o,!0),i){const a=[],u=[];Zl(Px).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:u}),i(a,u)}return o}else qi(1,n)},this.produceWithPatches=(n,r)=>{if(cc(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},zE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),zE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),zE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qi(e)||qi(8),Es(e)&&(e=Ji(e));const n=r2(this),r=Dx(n,e,void 0);return r[Ar].isManual_=!0,Mx(n),r}finishDraft(e,n){const r=e&&e[Ar];(!r||!r.isManual_)&&qi(9);const{scope_:i}=r;return n2(i,n),i2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Zl(Px).applyPatches_;return Es(e)?i(e,n):this.produce(e,o=>i(o,n))}};function Dx(t,e,n,r){const[i,o]=Ev(e)?Zl(ry).proxyMap_(e,n):Tv(e)?Zl(ry).proxySet_(e,n):ioe(e,n);return((n==null?void 0:n.scope_)??I5()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?noe(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function Ji(t){return Es(t)||qi(10,t),D5(t)}function D5(t){if(!Qi(t)||xv(t))return t;const e=t[Ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ix(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ix(t,!0);return bv(n,(i,o)=>{ny(n,i,D5(o))},r),e&&(e.finalized_=!1),n}var aoe=new soe,O5=aoe.produce;function k5(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var loe=k5(),uoe=k5,coe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zg:Zg.apply(null,arguments)};function Ai(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Qr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>S5(r)&&r.type===t,n}var L5=class Ud extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ud(...e[0].concat(this)):new Ud(...e.concat(this))}};function s2(t){return Qi(t)?O5(t,()=>{}):t}function $m(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function foe(t){return typeof t=="boolean"}var doe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new L5;return n&&(foe(n)?a.push(loe):a.push(uoe(n.extraArgument))),a},V5="RTK_autoBatch",Wt=()=>t=>({payload:t,meta:{[V5]:!0}}),a2=t=>e=>{setTimeout(e,t)},U5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a2(10):t.type==="callback"?t.queueNotification:a2(t.timeout),f=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[V5]),o=!i,o&&(a||(a=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},hoe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new L5(t);return r&&i.push(U5(typeof r=="object"?r:void 0)),i};function poe(t){const e=doe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Yw(n))u=x5(n);else throw new Error(Qr(1));let c;typeof r=="function"?c=r(e):c=e();let f=Zg;i&&(f=coe({trace:!1,...typeof i=="object"&&i}));const h=Kie(...c),p=hoe(h);let g=typeof a=="function"?a(p):p();const E=f(...g);return T5(u,o,E)}function B5(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Qr(28));if(u in e)throw new Error(Qr(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function moe(t){return typeof t=="function"}function goe(t,e){let[n,r,i]=B5(e),o;if(moe(t))o=()=>s2(t());else{const u=s2(t);o=()=>u}function a(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Es(h)){const E=p(h,c);return E===void 0?h:E}else{if(Qi(h))return O5(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return a.getInitialState=o,a}var yoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",voe=(t=21)=>{let e="",n=t;for(;n--;)e+=yoe[Math.random()*64|0];return e},boe=Symbol.for("rtk-slice-createasyncthunk");function _oe(t,e){return`${t}/${e}`}function Eoe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[boe];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Qr(11));const u=(typeof i.reducers=="function"?i.reducers(xoe()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,F){const U=typeof B=="string"?B:B.type;if(!U)throw new Error(Qr(12));if(U in f.sliceCaseReducersByType)throw new Error(Qr(13));return f.sliceCaseReducersByType[U]=F,h},addMatcher(B,F){return f.sliceMatchers.push({matcher:B,reducer:F}),h},exposeAction(B,F){return f.actionCreators[B]=F,h},exposeCaseReducer(B,F){return f.sliceCaseReducersByName[B]=F,h}};c.forEach(B=>{const F=u[B],U={reducerName:B,type:_oe(o,B),createNotation:typeof i.reducers=="function"};woe(F)?Coe(U,F,h,e):Soe(U,F,h)});function p(){const[B={},F=[],U=void 0]=typeof i.extraReducers=="function"?B5(i.extraReducers):[i.extraReducers],N={...B,...f.sliceCaseReducersByType};return goe(i.initialState,O=>{for(let V in N)O.addCase(V,N[V]);for(let V of f.sliceMatchers)O.addMatcher(V.matcher,V.reducer);for(let V of F)O.addMatcher(V.matcher,V.reducer);U&&O.addDefaultCase(U)})}const g=B=>B,E=new Map,x=new WeakMap;let S;function w(B,F){return S||(S=p()),S(B,F)}function P(){return S||(S=p()),S.getInitialState()}function L(B,F=!1){function U(O){let V=O[B];return typeof V>"u"&&F&&(V=$m(x,U,P)),V}function N(O=g){const V=$m(E,F,()=>new WeakMap);return $m(V,O,()=>{const z={};for(const[q,H]of Object.entries(i.selectors??{}))z[q]=Toe(H,O,()=>$m(x,O,P),F);return z})}return{reducerPath:B,getSelectors:N,get selectors(){return N(U)},selectSlice:U}}const D={name:o,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...L(a),injectInto(B,{reducerPath:F,...U}={}){const N=F??a;return B.inject({reducerPath:N,reducer:w},U),{...D,...L(N,!0)}}};return D}}function Toe(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var Ur=Eoe();function xoe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Soe({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!Aoe(r))throw new Error(Qr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Ai(t,a):Ai(t))}function woe(t){return t._reducerDefinitionType==="asyncThunk"}function Aoe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Coe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Qr(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,o,h);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:a||Km,pending:u||Km,rejected:c||Km,settled:f||Km})}function Km(){}var Ioe="task",F5="listener",j5="completed",Qw="cancelled",Poe=`task-${Qw}`,Roe=`task-${j5}`,Ox=`${F5}-${Qw}`,Moe=`${F5}-${j5}`,wv=class{constructor(t){g_(this,"name","TaskAbortError");g_(this,"message");this.code=t,this.message=`${Ioe} ${Qw} (reason: ${t})`}},Zw=(t,e)=>{if(typeof t!="function")throw new TypeError(Qr(32))},sy=()=>{},z5=(t,e=sy)=>(t.catch(e),t),q5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Hl=t=>{if(t.aborted)throw new wv(t.reason)};function H5(t,e){let n=sy;return new Promise((r,i)=>{const o=()=>i(new wv(t.reason));if(t.aborted){o();return}n=q5(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=sy})}var Noe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof wv?"cancelled":"rejected",error:n}}finally{e==null||e()}},ay=t=>e=>z5(H5(t,e).then(n=>(Hl(t),n))),G5=t=>{const e=ay(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Rc}=Object,l2={},Av="listenerMiddleware",Doe=(t,e)=>{const n=r=>q5(t,()=>r.abort(t.reason));return(r,i)=>{Zw(r);const o=new AbortController;n(o);const a=Noe(async()=>{Hl(t),Hl(o.signal);const u=await r({pause:ay(o.signal),delay:G5(o.signal),signal:o.signal});return Hl(o.signal),u},()=>o.abort(Roe));return i!=null&&i.autoJoin&&e.push(a.catch(sy)),{result:ay(t)(a),cancel(){o.abort(Poe)}}}},Ooe=(t,e)=>{const n=async(r,i)=>{Hl(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await H5(e,Promise.race(u));return Hl(e),c}finally{o()}};return(r,i)=>z5(n(r,i))},$5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ai(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Qr(21));return Zw(o),{predicate:i,type:e,effect:o}},K5=Rc(t=>{const{type:e,predicate:n,effect:r}=$5(t);return{id:voe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qr(22))}}},{withTypes:()=>K5}),u2=(t,e)=>{const{type:n,effect:r,predicate:i}=$5(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},kx=t=>{t.pending.forEach(e=>{e.abort(Ox)})},koe=(t,e)=>()=>{for(const n of e.keys())kx(n);t.clear()},c2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Y5=Rc(Ai(`${Av}/add`),{withTypes:()=>Y5}),Loe=Ai(`${Av}/removeAll`),W5=Rc(Ai(`${Av}/remove`),{withTypes:()=>W5}),Voe=(...t)=>{console.error(`${Av}/error`,...t)},qh=(t={})=>{const e=new Map,n=new Map,r=E=>{const x=n.get(E)??0;n.set(E,x+1)},i=E=>{const x=n.get(E)??1;x===1?n.delete(E):n.set(E,x-1)},{extra:o,onError:a=Voe}=t;Zw(a);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),x=>{E.unsubscribe(),x!=null&&x.cancelActive&&kx(E)}),c=E=>{const x=u2(e,E)??K5(E);return u(x)};Rc(c,{withTypes:()=>c});const f=E=>{const x=u2(e,E);return x&&(x.unsubscribe(),E.cancelActive&&kx(x)),!!x};Rc(f,{withTypes:()=>f});const h=async(E,x,S,w)=>{const P=new AbortController,L=Ooe(c,P.signal),D=[];try{E.pending.add(P),r(E),await Promise.resolve(E.effect(x,Rc({},S,{getOriginalState:w,condition:(B,F)=>L(B,F).then(Boolean),take:L,delay:G5(P.signal),pause:ay(P.signal),extra:o,signal:P.signal,fork:Doe(P.signal,D),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((B,F,U)=>{B!==P&&(B.abort(Ox),U.delete(B))})},cancel:()=>{P.abort(Ox),E.pending.delete(P)},throwIfCancelled:()=>{Hl(P.signal)}})))}catch(B){B instanceof wv||c2(a,B,{raisedBy:"effect"})}finally{await Promise.all(D),P.abort(Moe),i(E),E.pending.delete(P)}},p=koe(e,n);return{middleware:E=>x=>S=>{if(!S5(S))return x(S);if(Y5.match(S))return c(S.payload);if(Loe.match(S)){p();return}if(W5.match(S))return f(S.payload);let w=E.getState();const P=()=>{if(w===l2)throw new Error(Qr(23));return w};let L;try{if(L=x(S),e.size>0){const D=E.getState(),B=Array.from(e.values());for(const F of B){let U=!1;try{U=F.predicate(S,D,w)}catch(N){U=!1,c2(a,N,{raisedBy:"predicate"})}U&&h(F,S,E,P)}}}finally{w=l2}return L},startListening:c,stopListening:f,clearListeners:p}};function Qr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Uoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},J5=Ur({name:"chartLayout",initialState:Uoe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Boe,setLayout:Foe,setChartSize:joe,setScale:zoe}=J5.actions,qoe=J5.reducer;function X5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vt(t){return Number.isFinite(t)}function Va(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e,n){return Gn(t)||Gn(e)?n:Bo(e)?Xl(t,e,n):typeof e=="function"?e(t):n}var Koe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&Ve(t[o]))return Tc(Tc({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&Ve(t[a]))return Tc(Tc({},t),{},{[a]:t[a]+(i||0)})}return t},Ka=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Yoe=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Woe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,u=0;u<n;++u){var c=t[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=Uo(h)?p:h;g>=0?(f[0]=o,o+=g,f[1]=o):(f[0]=a,a+=g,f[1]=a)}}}},Joe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var u=t[a],c=u==null?void 0:u[i];if(c!=null){var f=Uo(c[1])?c[0]:c[1];f>=0?(c[0]=o,o+=f,c[1]=o):(c[0]=0,c[1]=0)}}}},Xoe={sign:Woe,expand:mre,none:Jl,silhouette:gre,wiggle:yre,positive:Joe},Qoe=(t,e,n)=>{var r,i=(r=Xoe[n])!==null&&r!==void 0?r:Jl,o=pre().keys(e).value((u,c)=>Number(Gt(u,c,0))).order(Sx).offset(i),a=o(t);return a.forEach((u,c)=>{u.forEach((f,h)=>{var p=Gt(t[h],e[c],0);Array.isArray(p)&&p.length===2&&Ve(p[0])&&Ve(p[1])&&(f[0]=p[0],f[1]=p[1])})}),a};function Zoe(t){return t==null?void 0:String(t)}var d2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var u=Gt(o,e.dataKey,e.scale.domain()[a]);if(Gn(u))return null;var c=e.scale.map(u);return Ve(c)?c-i/2+r:null},ese=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},tse=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},nse=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],rse=(t,e,n)=>{if(t!=null)return nse(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:a}=o,u=a.reduce((c,f)=>{var h=X5(f,e,n),p=tse(h);return!vt(p[0])||!vt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ly=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=yv(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],f=i[a-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function m2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Tc(Tc({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Cv(t,e){if(t)return String(t);if(typeof e=="string")return e}var ise=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ose=(t,e)=>e==="centric"?t.angle:t.radius,Ds=t=>t.layout.width,Os=t=>t.layout.height,sse=t=>t.layout.scale,Q5=t=>t.layout.margin,Iv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Pv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Z5="data-recharts-item-index",e6="data-recharts-item-id",Hh=60;function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return typeof e=="symbol"?e:e+""}function use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cse=t=>t.brush.height;function fse(t){var e=Pv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hh;return n+i}return n},0)}function dse(t){var e=Pv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hh;return n+i}return n},0)}function hse(t){var e=Iv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function pse(t){var e=Iv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var On=re([Ds,Os,Q5,cse,fse,dse,hse,pse,_5,Fie],(t,e,n,r,i,o,a,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+a,bottom:(n.bottom||0)+u},g=Ym(Ym({},p),h),E=g.bottom;g.bottom+=r,g=Koe(g,c,f);var x=t-g.left-g.right,S=e-g.top-g.bottom;return Ym(Ym({brushBottom:E},g),{},{width:Math.max(x,0),height:Math.max(S,0)})}),mse=re(On,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),eA=re(Ds,Os,(t,e)=>({x:0,y:0,width:t,height:e})),gse=A.createContext(null),ei=()=>A.useContext(gse)!=null,Rv=t=>t.brush,Mv=re([Rv,On,Q5],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),HE={},GE={},$E={},y2;function yse(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},p=()=>{f&&h(),S()};let g=null;const E=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},x=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{x(),a=void 0,u=null},w=()=>{h()},P=function(...L){if(i!=null&&i.aborted)return;a=this,u=L;const D=g==null;E(),c&&D&&h()};return P.schedule=E,P.cancel=S,P.flush=w,i==null||i.addEventListener("abort",S,{once:!0}),P}t.debounce=e})($E)),$E}var v2;function vse(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yse();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);a&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:f}),E=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,S),h)},x=()=>(g.flush(),h);return E.cancel=g.cancel,E.flush=x,E}t.debounce=n})(GE)),GE}var b2;function bse(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vse();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})(HE)),HE}var KE,_2;function _se(){return _2||(_2=1,KE=bse().throttle),KE}var Ese=_se();const Tse=zo(Ese);var E2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Po={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},t6=(t,e,n)=>{var{width:r=Po.width,height:i=Po.height,aspect:o,maxHeight:a}=n,u=Ql(r)?t:Number(r),c=Ql(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:u,calculatedHeight:c}},xse={width:0,height:0,overflow:"visible"},Sse={width:0,overflowX:"visible"},wse={height:0,overflowY:"visible"},Ase={},Cse=t=>{var{width:e,height:n}=t,r=Ql(e),i=Ql(n);return r&&i?xse:r?Sse:i?wse:Ase};function Ise(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i=Po.width,o=Po.height):i===void 0?i=r&&r>0?void 0:Po.width:o===void 0&&(o=r&&r>0?void 0:Po.height),{width:i,height:o}}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n6=A.createContext(Po.initialDimension);function Nse(t){return Va(t.width)&&Va(t.height)}function r6(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Nse(i)?A.createElement(n6.Provider,{value:i},e):null}var tA=()=>A.useContext(n6),Dse=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Po.initialDimension,width:i,height:o,minWidth:a=Po.minWidth,minHeight:u,maxHeight:c,children:f,debounce:h=Po.debounce,id:p,className:g,onResize:E,style:x={}}=t,S=A.useRef(null),w=A.useRef();w.current=E,A.useImperativeHandle(e,()=>S.current);var[P,L]=A.useState({containerWidth:r.width,containerHeight:r.height}),D=A.useCallback((O,V)=>{L(z=>{var q=Math.round(O),H=Math.round(V);return z.containerWidth===q&&z.containerHeight===H?z:{containerWidth:q,containerHeight:H}})},[]);A.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return rf;var O=H=>{var $,ve=H[0];if(ve!=null){var{width:Ee,height:X}=ve.contentRect;D(Ee,X),($=w.current)===null||$===void 0||$.call(w,Ee,X)}};h>0&&(O=Tse(O,h,{trailing:!0,leading:!1}));var V=new ResizeObserver(O),{width:z,height:q}=S.current.getBoundingClientRect();return D(z,q),V.observe(S.current),()=>{V.disconnect()}},[D,h]);var{containerWidth:B,containerHeight:F}=P;E2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:N}=t6(B,F,{width:i,height:o,aspect:n,maxHeight:c});return E2(U!=null&&U>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,N,i,o,a,u,n),A.createElement("div",{id:p?"".concat(p):void 0,className:At("recharts-responsive-container",g),style:x2(x2({},x),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:S},A.createElement("div",{style:Cse({width:i,height:o})},A.createElement(r6,{width:U,height:N},f)))}),uy=A.forwardRef((t,e)=>{var n=tA();if(Va(n.width)&&Va(n.height))return t.children;var{width:r,height:i}=Ise({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=t6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(o)&&Ve(a)?A.createElement(r6,{width:o,height:a},t.children):A.createElement(Dse,Lx({},t,{width:r,height:i,ref:e}))});function nA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Nv=()=>{var t,e=ei(),n=Le(mse),r=Le(Mv),i=(t=Le(Rv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ose={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kse=()=>{var t;return(t=Le(On))!==null&&t!==void 0?t:Ose},i6=()=>Le(Ds),o6=()=>Le(Os),Lse=()=>Le(t=>t.layout.margin),Et=t=>t.layout.layoutType,of=()=>Le(Et),s6=()=>{var t=of();if(t==="horizontal"||t==="vertical")return t},a6=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Vse=()=>{var t=of();return t!==void 0},Gh=t=>{var e=Bt(),n=ei(),{width:r,height:i}=t,o=tA(),a=r,u=i;return o&&(a=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&Va(a)&&Va(u)&&e(joe({width:a,height:u}))},[e,n,a,u]),null},l6=Symbol.for("immer-nothing"),S2=Symbol.for("immer-draftable"),Zr=Symbol.for("immer-state");function Hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gh=Object.getPrototypeOf;function Uc(t){return!!t&&!!t[Zr]}function eu(t){var e;return t?u6(t)||Array.isArray(t)||!!t[S2]||!!((e=t.constructor)!=null&&e[S2])||$h(t)||Ov(t):!1}var Use=Object.prototype.constructor.toString(),w2=new WeakMap;function u6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=w2.get(n);return r===void 0&&(r=Function.toString.call(n),w2.set(n,r)),r===Use}function cy(t,e,n=!0){Dv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dv(t){const e=t[Zr];return e?e.type_:Array.isArray(t)?1:$h(t)?2:Ov(t)?3:0}function Vx(t,e){return Dv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function c6(t,e,n){const r=Dv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Bse(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $h(t){return t instanceof Map}function Ov(t){return t instanceof Set}function Dl(t){return t.copy_||t.base_}function Ux(t,e){if($h(t))return new Map(t);if(Ov(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=u6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Zr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(gh(t),r)}else{const r=gh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function rA(t,e=!1){return kv(t)||Uc(t)||!eu(t)||(Dv(t)>1&&Object.defineProperties(t,{set:Wm,add:Wm,clear:Wm,delete:Wm}),Object.freeze(t),e&&Object.values(t).forEach(n=>rA(n,!0))),t}function Fse(){Hi(2)}var Wm={value:Fse};function kv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var jse={};function tu(t){const e=jse[t];return e||Hi(0,t),e}var yh;function f6(){return yh}function zse(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A2(t,e){e&&(tu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Bx(t){Fx(t),t.drafts_.forEach(qse),t.drafts_=null}function Fx(t){t===yh&&(yh=t.parent_)}function C2(t){return yh=zse(yh,t)}function qse(t){const e=t[Zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Zr].modified_&&(Bx(e),Hi(4)),eu(t)&&(t=fy(e,t),e.parent_||dy(e,t)),e.patches_&&tu("Patches").generateReplacementPatches_(n[Zr].base_,t,e.patches_,e.inversePatches_)):t=fy(e,n,[]),Bx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==l6?t:void 0}function fy(t,e,n){if(kv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Zr];if(!i)return cy(e,(o,a)=>P2(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return dy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,u=!1;i.type_===3&&(a=new Set(o),o.clear(),u=!0),cy(a,(c,f)=>P2(t,i,o,c,f,n,u),r),dy(t,o,!1),n&&t.patches_&&tu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function P2(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const u=kv(i);if(!(u&&!a)){if(Uc(i)){const c=o&&e&&e.type_!==3&&!Vx(e.assigned_,r)?o.concat(r):void 0,f=fy(t,i,c);if(c6(n,r,f),Uc(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(eu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;fy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&($h(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&dy(t,i)}}}function dy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rA(e,n)}function Hse(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:f6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=iA;n&&(i=[r],o=vh);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var iA={get(t,e){if(e===Zr)return t;const n=Dl(t);if(!Vx(n,e))return Gse(t,n,e);const r=n[e];return t.finalized_||!eu(r)?r:r===YE(t.base_,e)?(WE(t),t.copy_[e]=zx(r,t)):r},has(t,e){return e in Dl(t)},ownKeys(t){return Reflect.ownKeys(Dl(t))},set(t,e,n){const r=d6(Dl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=YE(Dl(t),e),o=i==null?void 0:i[Zr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Bse(n,i)&&(n!==void 0||Vx(t.base_,e)))return!0;WE(t),jx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return YE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,WE(t),jx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Dl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Hi(11)},getPrototypeOf(t){return gh(t.base_)},setPrototypeOf(){Hi(12)}},vh={};cy(iA,(t,e)=>{vh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vh.deleteProperty=function(t,e){return vh.set.call(this,t,e,void 0)};vh.set=function(t,e,n){return iA.set.call(this,t[0],e,n,t[0])};function YE(t,e){const n=t[Zr];return(n?Dl(n):t)[e]}function Gse(t,e,n){var i;const r=d6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function d6(t,e){if(!(e in t))return;let n=gh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gh(n)}}function jx(t){t.modified_||(t.modified_=!0,t.parent_&&jx(t.parent_))}function WE(t){t.copy_||(t.copy_=Ux(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $se=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...f){return a.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Hi(6),r!==void 0&&typeof r!="function"&&Hi(7);let i;if(eu(e)){const o=C2(this),a=zx(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?Bx(o):Fx(o)}return A2(o,r),I2(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===l6&&(i=void 0),this.autoFreeze_&&rA(i,!0),r){const o=[],a=[];tu("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Hi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){eu(t)||Hi(8),Uc(t)&&(t=Kse(t));const e=C2(this),n=zx(t,void 0);return n[Zr].isManual_=!0,Fx(e),n}finishDraft(t,e){const n=t&&t[Zr];(!n||!n.isManual_)&&Hi(9);const{scope_:r}=n;return A2(r,e),I2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=tu("Patches").applyPatches_;return Uc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function zx(t,e){const n=$h(t)?tu("MapSet").proxyMap_(t,e):Ov(t)?tu("MapSet").proxySet_(t,e):Hse(t,e);return(e?e.scope_:f6()).drafts_.push(n),n}function Kse(t){return Uc(t)||Hi(10,t),h6(t)}function h6(t){if(!eu(t)||kv(t))return t;const e=t[Zr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ux(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ux(t,!0);return cy(n,(i,o)=>{c6(n,i,h6(o))},r),e&&(e.finalized_=!1),n}var Yse=new $se;Yse.produce;var Wse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p6=Ur({name:"legend",initialState:Wse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Wt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ji(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Wt()},removeLegendPayload:{reducer(t,e){var n=Ji(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Wt()}}}),{setLegendSize:R2,setLegendSettings:Jse,addLegendPayload:m6,replaceLegendPayload:g6,removeLegendPayload:y6}=p6.actions,Xse=p6.reducer,Qse=["contextPayload"];function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(null,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t,e){if(t==null)return{};var n,r,i=rae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iae(t){return t.value}function oae(t){var{contextPayload:e}=t,n=nae(t,Qse),r=g5(e,t.payloadUniqBy,iae),i=Bc(Bc({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(Yre,i)}function sae(t,e,n,r,i,o){var{layout:a,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bc(Bc({},f),h)}function aae(t){var e=Bt();return A.useEffect(()=>{e(Jse(t))},[e,t]),null}function lae(t){var e=Bt();return A.useEffect(()=>(e(R2(t)),()=>{e(R2({width:0,height:0}))}),[e,t]),null}function uae(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var cae={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function v6(t){var e=ar(t,cae),n=qie(),r=Une(),i=Lse(),{width:o,height:a,wrapperStyle:u,portal:c}=e,[f,h]=E5([n]),p=i6(),g=o6();if(p==null||g==null)return null;var E=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=uae(e.layout,a,o,E),S=c?u:Bc(Bc({position:"absolute",width:(x==null?void 0:x.width)||o||"auto",height:(x==null?void 0:x.height)||a||"auto"},sae(u,e,i,p,g,f)),u),w=c??r;if(w==null||n==null)return null;var P=A.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:h},A.createElement(aae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&A.createElement(lae,{width:f.width,height:f.height}),A.createElement(oae,qx({},e,x,{margin:i,chartWidth:p,chartHeight:g,contextPayload:n})));return Vw.createPortal(P,w)}v6.displayName="Legend";function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(null,arguments)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t){return Array.isArray(t)&&Bo(t[0])&&Bo(t[1])?t.join(" ~ "):t}var ic={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},mae=t=>{var{separator:e=ic.separator,contentStyle:n,itemStyle:r,labelStyle:i=ic.labelStyle,payload:o,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=ic.accessibilityLayer}=t,E=()=>{if(o&&o.length){var F={padding:0,margin:0},U=(u?yv(o,u):o).map((N,O)=>{if(N.type==="none")return null;var V=N.formatter||a||pae,{value:z,name:q}=N,H=z,$=q;if(V){var ve=V(z,q,N,O,o);if(Array.isArray(ve))[H,$]=ve;else if(ve!=null)H=ve;else return null}var Ee=Ad(Ad({},ic.itemStyle),{},{color:N.color||ic.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Ee},Bo($)?A.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Bo($)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:F},U)}return null},x=Ad(Ad({},ic.contentStyle),n),S=Ad({margin:0},i),w=!Gn(h),P=w?h:"",L=At("recharts-default-tooltip",c),D=At("recharts-tooltip-label",f);w&&p&&o!==void 0&&o!==null&&(P=p(h,o));var B=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Hx({className:L,style:x},B),A.createElement("p",{className:D,style:S},A.isValidElement(P)?P:"".concat(P)),E())},Cd="recharts-tooltip-wrapper",gae={visibility:"hidden"};function yae(t){var{coordinate:e,translateX:n,translateY:r}=t;return At(Cd,{["".concat(Cd,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Cd,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Cd,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Cd,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function D2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&Ve(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?h:p;var g=c[r];if(g==null)return 0;if(a[r]){var E=h,x=g;return E<x?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var S=p+u,w=g+f;return S>w?Math.max(h,g):Math.max(p,g)}function vae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:u,useTranslate3d:c,viewBox:f}=t,h,p,g;return u.height>0&&u.width>0&&n?(p=D2({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=D2({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=vae({translateX:p,translateY:g,useTranslate3d:c})):h=gae,{cssProperties:h,cssClasses:yae({translateX:p,translateY:g,coordinate:n})}}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){Gx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gx(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tae extends A.PureComponent{constructor(){super(...arguments),Gx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:E,wrapperStyle:x,lastBoundingBox:S,innerRef:w,hasPortalFromProps:P}=this.props,L=typeof f=="number"?f:f.x,D=typeof f=="number"?f:f.y,{cssClasses:B,cssProperties:F}=bae({allowEscapeViewBox:n,coordinate:a,offsetLeft:L,offsetTop:D,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:E}),U=P?{}:Jm(Jm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=Jm(Jm({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:N,ref:w},o)}}var b6=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(null,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xae(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2={curveBasisClosed:rre,curveBasisOpen:ire,curveBasis:nre,curveBumpX:zne,curveBumpY:qne,curveLinearClosed:ore,curveLinear:mv,curveMonotoneX:sre,curveMonotoneY:are,curveNatural:lre,curveStep:ure,curveStepAfter:fre,curveStepBefore:cre},hy=t=>vt(t.x)&&vt(t.y),U2=t=>t.base!=null&&hy(t.base)&&hy(t),Id=t=>t.x,Pd=t=>t.y,Aae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Fh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=V2["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return V2[n]||mv},B2={connectNulls:!1,type:"linear"},Cae=t=>{var{type:e=B2.type,points:n=[],baseLine:r,layout:i,connectNulls:o=B2.connectNulls}=t,a=Aae(e,i),u=o?n.filter(hy):n;if(Array.isArray(r)){var c,f=n.map((x,S)=>L2(L2({},x),{},{base:r[S]}));i==="vertical"?c=zm().y(Pd).x1(Id).x0(x=>x.base.x):c=zm().x(Id).y1(Pd).y0(x=>x.base.y);var h=c.defined(U2).curve(a),p=o?f.filter(U2):f;return h(p)}var g;i==="vertical"&&Ve(r)?g=zm().y(Pd).x1(Id).x0(r):Ve(r)?g=zm().x(Id).y1(Pd).y0(r):g=KB().x(Id).y(Pd);var E=g.defined(hy).curve(a);return E(u)},oA=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=of();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?Cae(a):r;return A.createElement("path",$x({},Vo(t),kre(t),{className:At("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Iae=["x","y","top","left","width","height","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(null,arguments)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return(e=Mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dae(t,e){if(t==null)return{};var n,r,i=Oae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kae=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Lae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,c=Dae(t,Iae),f=Pae({x:e,y:n,top:r,left:i,width:o,height:a},c);return!Ve(e)||!Ve(n)||!Ve(o)||!Ve(a)||!Ve(r)||!Ve(i)?null:A.createElement("path",Kx({},wi(f),{className:At("recharts-cross",u),d:kae(e,n,o,a,r,i)}))};function Vae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return(e=Bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_6=(t,e,n)=>t.map(r=>"".concat(jae(r)," ").concat(e,"ms ").concat(n)).join(","),zae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bh=(t,e)=>Object.keys(e).reduce((n,r)=>z2(z2({},n),{},{[r]:t(r,e[r])}),{});function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var py=(t,e,n)=>t+(e-t)*n,Yx=t=>{var{from:e,to:n}=t;return e!==n},E6=(t,e,n)=>{var r=bh((i,o)=>{if(Yx(o)){var[a,u]=t(o.from,o.to,o.velocity);return Mn(Mn({},o),{},{from:a,velocity:u})}return o},e);return n<1?bh((i,o)=>Yx(o)&&r[i]!=null?Mn(Mn({},o),{},{velocity:py(o.velocity,r[i].velocity,n),from:py(o.from,r[i].from,n)}):o,e):E6(t,r,n-1)};function $ae(t,e,n,r,i,o){var a,u=r.reduce((g,E)=>Mn(Mn({},g),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),c=()=>bh((g,E)=>E.from,u),f=()=>!Object.values(u).filter(Yx).length,h=null,p=g=>{a||(a=g);var E=g-a,x=E/n.dt;u=E6(n,u,x),i(Mn(Mn(Mn({},t),e),c())),a=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function Kae(t,e,n,r,i,o,a){var u=null,c=i.reduce((p,g)=>{var E=t[g],x=e[g];return E==null||x==null?p:Mn(Mn({},p),{},{[g]:[E,x]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,E=bh((S,w)=>py(...w,n(g)),c);if(o(Mn(Mn(Mn({},t),e),E)),g<1)u=a.setTimeout(h);else{var x=bh((S,w)=>py(...w,n(1)),c);o(Mn(Mn(Mn({},t),e),x))}};return()=>(u=a.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const Yae=(t,e,n,r,i,o)=>{var a=zae(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?$ae(t,e,n,a,i,o):Kae(t,e,n,r,a,i,o)};var my=1e-4,T6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],x6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),H2=(t,e)=>n=>{var r=T6(t,e);return x6(r,n)},Wae=(t,e)=>n=>{var r=T6(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return x6(i,n)},Jae=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Xae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Jae(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Qae=(t,e,n,r)=>{var i=H2(t,n),o=H2(e,r),a=Wae(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var E=i(p)-h,x=a(p);if(Math.abs(E-h)<my||x<my)return o(p);p=u(p-E/x)}return o(p)};return c.isStepper=!1,c},G2=function(){return Qae(...Xae(...arguments))},Zae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var f=-(a-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+a;return Math.abs(g-u)<my&&Math.abs(p)<my?[u,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},ele=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G2(t);case"spring":return Zae();default:if(t.split("(")[0]==="cubic-bezier")return G2(t)}return typeof t=="function"?t:null};function tle(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class nle{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function rle(){return tle(new nle)}var ile=A.createContext(rle);function ole(t,e){var n=A.useContext(ile);return A.useMemo(()=>e??n(t),[t,e,n])}var sle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Lv={isSsr:sle()},ale={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$2={t:0},JE={t:1};function Vv(t){var e=ar(t,ale),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!Lv.isSsr:n,p=ole(e.animationId,e.animationManager),[g,E]=A.useState(h?$2:JE),x=A.useRef(null);return A.useEffect(()=>{h||E(JE)},[h]),A.useEffect(()=>{if(!h||!r)return rf;var S=Yae($2,JE,ele(o),i,E,p.getTimeoutController()),w=()=>{x.current=S()};return p.start([c,a,w,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[h,r,i,o,a,c,u,p]),f(g.t)}function Uv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(dh(e)),r=A.useRef(t);return r.current!==t&&(n.current=dh(e),r.current=t),n.current}var lle=["radius"],ule=["radius"],K2,Y2,W2,J2,X2,Q2,Z2,ek,tk,nk;function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return(e=fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=dle(t,"string");return typeof e=="symbol"?e:e+""}function dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(null,arguments)}function ok(t,e){if(t==null)return{};var n,r,i=hle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sk=(t,e,n,r,i)=>{var o=Aa(n),a=Aa(r),u=Math.min(Math.abs(o)/2,Math.abs(a)/2),c=a>=0?1:-1,f=o>=0?1:-1,h=a>=0&&o>=0||a<0&&o<0?1:0,p;if(u>0&&Array.isArray(i)){for(var g=[0,0,0,0],E=0,x=4;E<x;E++){var S,w=(S=i[E])!==null&&S!==void 0?S:0;g[E]=w>u?u:w}p=on(K2||(K2=xo(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=on(Y2||(Y2=xo(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=on(W2||(W2=xo(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=on(J2||(J2=xo(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=on(X2||(X2=xo(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=on(Q2||(Q2=xo(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=on(Z2||(Z2=xo(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=on(ek||(ek=xo(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var P=Math.min(u,i);p=on(tk||(tk=xo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*P,P,P,h,t+f*P,e,t+n-f*P,e,P,P,h,t+n,e+c*P,t+n,e+r-c*P,P,P,h,t+n-f*P,e+r,t+f*P,e+r,P,P,h,t,e+r-c*P)}else p=on(nk||(nk=xo(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},ak={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S6=t=>{var e=ar(t,ak),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:o,y:a,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:E,isAnimationActive:x,isUpdateAnimationActive:S}=e,w=A.useRef(u),P=A.useRef(c),L=A.useRef(o),D=A.useRef(a),B=A.useMemo(()=>({x:o,y:a,width:u,height:c,radius:f}),[o,a,u,c,f]),F=Uv(B,"rectangle-");if(o!==+o||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var U=At("recharts-rectangle",h);if(!S){var N=wi(e),{radius:O}=N,V=ok(N,lle);return A.createElement("path",gy({},V,{x:Aa(o),y:Aa(a),width:Aa(u),height:Aa(c),radius:typeof f=="number"?f:void 0,className:U,d:sk(o,a,u,c,f)}))}var z=w.current,q=P.current,H=L.current,$=D.current,ve="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),X=_6(["strokeDasharray"],g,typeof p=="string"?p:ak.animationEasing);return A.createElement(Vv,{animationId:F,key:F,canBegin:r>0,duration:g,easing:p,isActive:S,begin:E},te=>{var de=Rn(z,u,te),ue=Rn(q,c,te),K=Rn(H,o,te),k=Rn($,a,te);n.current&&(w.current=de,P.current=ue,L.current=K,D.current=k);var J;x?te>0?J={transition:X,strokeDasharray:Ee}:J={strokeDasharray:ve}:J={strokeDasharray:Ee};var se=wi(e),{radius:ce}=se,be=ok(se,ule);return A.createElement("path",gy({},be,{radius:typeof f=="number"?f:void 0,className:U,d:sk(K,k,de,ue,f),ref:n,style:ik(ik({},J),e.style)}))})};function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ple(t,e,n){return(e=mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mle(t){var e=gle(t,"string");return typeof e=="symbol"?e:e+""}function gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yy=Math.PI/180,yle=t=>t*180/Math.PI,Sn=(t,e,n,r)=>({x:t+Math.cos(-yy*r)*n,y:e+Math.sin(-yy*r)*n}),w6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vle=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},ble=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=vle({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:yle(c),angleInRadian:c}},_le=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Ele=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},Tle=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=ble({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:f}=_le(e),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?uk(uk({},e),{},{radius:i,angle:Ele(h,e)}):null};function A6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Sn(e,n,r,i),u=Sn(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var ck,fk,dk,hk,pk,mk,gk;function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(null,arguments)}function Bl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xle=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Xm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,f=u*(a?1:-1)+r,h=Math.asin(u/f)/yy,p=c?i:i+o*h,g=Sn(e,n,f,p),E=Sn(e,n,r,p),x=c?i-o*h:i,S=Sn(e,n,f*Math.cos(h*yy),x);return{center:g,circleTangency:E,lineTangency:S,theta:h}},C6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=xle(o,a),c=o+u,f=Sn(e,n,i,o),h=Sn(e,n,i,c),p=on(ck||(ck=Bl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>c),h.x,h.y);if(r>0){var g=Sn(e,n,r,o),E=Sn(e,n,r,c);p+=on(fk||(fk=Bl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),E.x,E.y,r,r,+(Math.abs(u)>180),+(o<=c),g.x,g.y)}else p+=on(dk||(dk=Bl(["L ",","," Z"])),e,n);return p},Sle=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=or(f-c),{circleTangency:p,lineTangency:g,theta:E}=Xm({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:x,lineTangency:S,theta:w}=Xm({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),P=u?Math.abs(c-f):Math.abs(c-f)-E-w;if(P<0)return a?on(hk||(hk=Bl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):C6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var L=on(pk||(pk=Bl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(P>180),+(h<0),x.x,x.y,o,o,+(h<0),S.x,S.y);if(r>0){var{circleTangency:D,lineTangency:B,theta:F}=Xm({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:U,lineTangency:N,theta:O}=Xm({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),V=u?Math.abs(c-f):Math.abs(c-f)-F-O;if(V<0&&o===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=on(mk||(mk=Bl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,o,o,+(h<0),U.x,U.y,r,r,+(V>180),+(h>0),D.x,D.y,o,o,+(h<0),B.x,B.y)}else L+=on(gk||(gk=Bl(["L",",","Z"])),e,n);return L},wle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I6=t=>{var e=ar(t,wle),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(o<i||f===h)return null;var g=At("recharts-sector",p),E=o-i,x=gr(a,E,0,!0),S;return x>0&&Math.abs(f-h)<360?S=Sle({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,E/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):S=C6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),A.createElement("path",Wx({},wi(e),{className:g,d:S}))};function Ale(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(a5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:u}=e,c=Sn(r,i,o,u),f=Sn(r,i,a,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return A6(e)}}var XE={},QE={},ZE={},yk;function Cle(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(ZE)),ZE}var vk;function Ile(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cle();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(QE)),QE}var bk;function Ple(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b5(),n=Ile();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=a;return c}t.range=r})(XE)),XE}var eT,_k;function Rle(){return _k||(_k=1,eT=Ple().range),eT}var Mle=Rle();const P6=zo(Mle);function Ia(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sA(t){let e,n,r;t.length!==2?(e=Ia,n=(u,c)=>Ia(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ia||t===Nle?t:Dle,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:a,right:o}}function Dle(){return 0}function R6(t){return t===null?NaN:+t}function*Ole(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const kle=sA(Ia),Kh=kle.right;sA(R6).center;class Ek extends Map{constructor(e,n=Ule){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Tk(this,e))}has(e){return super.has(Tk(this,e))}set(e,n){return super.set(Lle(this,e),n)}delete(e){return super.delete(Vle(this,e))}}function Tk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Lle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ule(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ble(t=Ia){if(t===Ia)return M6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function M6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fle=Math.sqrt(50),jle=Math.sqrt(10),zle=Math.sqrt(2);function vy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Fle?10:o>=jle?5:o>=zle?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?vy(t,e,n*2):[u,c,f]}function Jx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?vy(e,t,n):vy(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function Xx(t,e,n){return e=+e,t=+t,n=+n,vy(t,e,n)[2]}function Qx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xx(e,t,n):Xx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Sk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function N6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?M6:Ble(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),E=Math.max(n,Math.floor(e-f*p/c+g)),x=Math.min(r,Math.floor(e+(c-f)*p/c+g));N6(t,e,E,x,i)}const o=t[e];let a=n,u=r;for(Rd(t,n,e),i(t[r],o)>0&&Rd(t,n,r);a<u;){for(Rd(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Rd(t,n,u):(++u,Rd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Rd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qle(t,e,n){if(t=Float64Array.from(Ole(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Sk(t);if(e>=1)return xk(t);var r,i=(r-1)*e,o=Math.floor(i),a=xk(N6(t,o).subarray(0,o+1)),u=Sk(t.subarray(o+1));return a+(u-a)*(i-o)}}function Hle(t,e,n=R6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Gle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zx=Symbol("implicit");function aA(){var t=new Ek,e=[],n=[],r=Zx;function i(o){let a=t.get(o);if(a===void 0){if(r!==Zx)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ek;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return aA(e,n).unknown(r)},Ii.apply(i,arguments),i}function lA(){var t=aA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,E=i<r,x=E?i:r,S=E?r:i;o=(S-x)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),x+=(S-x-o*(g-c))*h,a=o*(1-c),u&&(x=Math.round(x),a=Math.round(a));var w=Gle(g).map(function(P){return x+o*P});return n(E?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return lA(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Ii.apply(p(),arguments)}function D6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return D6(e())},t}function $le(){return D6(lA.apply(null,arguments).paddingInner(1))}function uA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function O6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yh(){}var _h=.7,by=1/_h,Mc="\\s*([+-]?\\d+)\\s*",Eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kle=/^#([0-9a-f]{3,8})$/,Yle=new RegExp(`^rgb\\(${Mc},${Mc},${Mc}\\)$`),Wle=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),Jle=new RegExp(`^rgba\\(${Mc},${Mc},${Mc},${Eh}\\)$`),Xle=new RegExp(`^rgba\\(${No},${No},${No},${Eh}\\)$`),Qle=new RegExp(`^hsl\\(${Eh},${No},${No}\\)$`),Zle=new RegExp(`^hsla\\(${Eh},${No},${No},${Eh}\\)$`),wk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uA(Yh,Th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ak,formatHex:Ak,formatHex8:eue,formatHsl:tue,formatRgb:Ck,toString:Ck});function Ak(){return this.rgb().formatHex()}function eue(){return this.rgb().formatHex8()}function tue(){return k6(this).formatHsl()}function Ck(){return this.rgb().formatRgb()}function Th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kle.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ik(e):n===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yle.exec(t))?new Vr(e[1],e[2],e[3],1):(e=Wle.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jle.exec(t))?Qm(e[1],e[2],e[3],e[4]):(e=Xle.exec(t))?Qm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qle.exec(t))?Mk(e[1],e[2]/100,e[3]/100,1):(e=Zle.exec(t))?Mk(e[1],e[2]/100,e[3]/100,e[4]):wk.hasOwnProperty(t)?Ik(wk[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function Ik(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function Qm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vr(t,e,n,r)}function nue(t){return t instanceof Yh||(t=Th(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function eS(t,e,n,r){return arguments.length===1?nue(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uA(Vr,eS,O6(Yh,{brighter(t){return t=t==null?by:Math.pow(by,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(Gl(this.r),Gl(this.g),Gl(this.b),_y(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pk,formatHex:Pk,formatHex8:rue,formatRgb:Rk,toString:Rk}));function Pk(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function rue(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rk(){const t=_y(this.opacity);return`${t===1?"rgb(":"rgba("}${Gl(this.r)}, ${Gl(this.g)}, ${Gl(this.b)}${t===1?")":`, ${t})`}`}function _y(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fl(t){return t=Gl(t),(t<16?"0":"")+t.toString(16)}function Mk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gi(t,e,n,r)}function k6(t){if(t instanceof Gi)return new Gi(t.h,t.s,t.l,t.opacity);if(t instanceof Yh||(t=Th(t)),!t)return new Gi;if(t instanceof Gi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Gi(a,u,c,t.opacity)}function iue(t,e,n,r){return arguments.length===1?k6(t):new Gi(t,e,n,r??1)}function Gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uA(Gi,iue,O6(Yh,{brighter(t){return t=t==null?by:Math.pow(by,t),new Gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new Gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vr(tT(t>=240?t-240:t+120,i,r),tT(t,i,r),tT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gi(Nk(this.h),Zm(this.s),Zm(this.l),_y(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_y(this.opacity);return`${t===1?"hsl(":"hsla("}${Nk(this.h)}, ${Zm(this.s)*100}%, ${Zm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Nk(t){return t=(t||0)%360,t<0?t+360:t}function Zm(t){return Math.max(0,Math.min(1,t||0))}function tT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cA=t=>()=>t;function oue(t,e){return function(n){return t+n*e}}function sue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function aue(t){return(t=+t)==1?L6:function(e,n){return n-e?sue(e,n,t):cA(isNaN(e)?n:e)}}function L6(t,e){var n=e-t;return n?oue(t,n):cA(isNaN(t)?e:t)}const Dk=(function t(e){var n=aue(e);function r(i,o){var a=n((i=eS(i)).r,(o=eS(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=L6(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function lue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function uue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=sf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function fue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ey(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function due(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nT=new RegExp(tS.source,"g");function hue(t){return function(){return t}}function pue(t){return function(e){return t(e)+""}}function mue(t,e){var n=tS.lastIndex=nT.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=tS.exec(t))&&(i=nT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Ey(r,i)})),n=nT.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?pue(c[0].x):hue(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function sf(t,e){var n=typeof e,r;return e==null||n==="boolean"?cA(e):(n==="number"?Ey:n==="string"?(r=Th(e))?(e=r,Dk):mue:e instanceof Th?Dk:e instanceof Date?fue:uue(e)?lue:Array.isArray(e)?cue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?due:Ey)(t,e)}function fA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gue(t,e){e===void 0&&(e=t,t=sf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function yue(t){return function(){return t}}function Ty(t){return+t}var Ok=[0,1];function xr(t){return t}function nS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yue(isNaN(e)?NaN:.5)}function vue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bue(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=nS(i,r),o=n(a,o)):(r=nS(r,i),o=n(o,a)),function(u){return o(r(u))}}function _ue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=nS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=Kh(t,u,1,r)-1;return o[c](i[c](u))}}function Wh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=Ok,e=Ok,n=sf,r,i,o,a=xr,u,c,f;function h(){var g=Math.min(t.length,e.length);return a!==xr&&(a=vue(t[0],t[g-1])),u=g>2?_ue:bue,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=u(e,t.map(r),Ey)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Ty),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=fA,h()},p.clamp=function(g){return arguments.length?(a=g?!0:xr,h()):a!==xr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,E){return r=g,i=E,h()}}function dA(){return Bv()(xr,xr)}function Eue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xy(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fc(t){return t=xy(Math.abs(t)),t?t[1]:NaN}function Tue(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function xue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Sue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xh(t){if(!(e=Sue.exec(t)))throw new Error("invalid format: "+t);var e;return new hA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xh.prototype=hA.prototype;function hA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Sy;function Aue(t,e){var n=xy(t,e);if(!n)return Sy=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Sy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xy(t,Math.max(0,e+o-1))[0]}function kk(t,e){var n=xy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Lk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Eue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kk(t*100,e),r:kk,s:Aue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Uk=Array.prototype.map,Bk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cue(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:Tue(Uk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Vk:xue(Uk.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=xh(p);var E=p.fill,x=p.align,S=p.sign,w=p.symbol,P=p.zero,L=p.width,D=p.comma,B=p.precision,F=p.trim,U=p.type;U==="n"?(D=!0,U="g"):Lk[U]||(B===void 0&&(B=12),F=!0,U="g"),(P||E==="0"&&x==="=")&&(P=!0,E="0",x="=");var N=(g&&g.prefix!==void 0?g.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():""),O=(w==="$"?r:/[%p]/.test(U)?a:"")+(g&&g.suffix!==void 0?g.suffix:""),V=Lk[U],z=/[defgprs%]/.test(U);B=B===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function q(H){var $=N,ve=O,Ee,X,te;if(U==="c")ve=V(H)+ve,H="";else{H=+H;var de=H<0||1/H<0;if(H=isNaN(H)?c:V(Math.abs(H),B),F&&(H=wue(H)),de&&+H==0&&S!=="+"&&(de=!1),$=(de?S==="("?S:u:S==="-"||S==="("?"":S)+$,ve=(U==="s"&&!isNaN(H)&&Sy!==void 0?Bk[8+Sy/3]:"")+ve+(de&&S==="("?")":""),z){for(Ee=-1,X=H.length;++Ee<X;)if(te=H.charCodeAt(Ee),48>te||te>57){ve=(te===46?i+H.slice(Ee+1):H.slice(Ee))+ve,H=H.slice(0,Ee);break}}}D&&!P&&(H=e(H,1/0));var ue=$.length+H.length+ve.length,K=ue<L?new Array(L-ue+1).join(E):"";switch(D&&P&&(H=e(K+H,K.length?L-ve.length:1/0),K=""),x){case"<":H=$+H+ve+K;break;case"=":H=$+K+H+ve;break;case"^":H=K.slice(0,ue=K.length>>1)+$+H+ve+K.slice(ue);break;default:H=K+$+H+ve;break}return o(H)}return q.toString=function(){return p+""},q}function h(p,g){var E=Math.max(-8,Math.min(8,Math.floor(Fc(g)/3)))*3,x=Math.pow(10,-E),S=f((p=xh(p),p.type="f",p),{suffix:Bk[8+E/3]});return function(w){return S(x*w)}}return{format:f,formatPrefix:h}}var eg,pA,V6;Iue({thousands:",",grouping:[3],currency:["$",""]});function Iue(t){return eg=Cue(t),pA=eg.format,V6=eg.formatPrefix,eg}function Pue(t){return Math.max(0,-Fc(Math.abs(t)))}function Rue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(e)/3)))*3-Fc(Math.abs(t)))}function Mue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fc(e)-Fc(t))+1}function U6(t,e,n,r){var i=Qx(t,e,n),o;switch(r=xh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Rue(i,a))&&(r.precision=o),V6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Mue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Pue(i))&&(r.precision=o-(r.type==="%")*2);break}}return pA(r)}function Ya(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return U6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,h=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=Xx(a,u,n),f===c)return r[i]=a,r[o]=u,e(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function B6(){var t=dA();return t.copy=function(){return Wh(t,B6())},Ii.apply(t,arguments),Ya(t)}function F6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ty),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return F6(t).unknown(e)},t=arguments.length?Array.from(t,Ty):[0,1],Ya(n)}function j6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Fk(t){return Math.log(t)}function jk(t){return Math.exp(t)}function Nue(t){return-Math.log(-t)}function Due(t){return-Math.exp(-t)}function Oue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kue(t){return t===10?Oue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zk(t){return(e,n)=>-t(-e,n)}function mA(t){const e=t(Fk,jk),n=e.domain;let r=10,i,o;function a(){return i=Lue(r),o=kue(r),n()[0]<0?(i=zk(i),o=zk(o),t(Nue,Due)):t(Fk,jk),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),E=i(h),x,S;const w=u==null?10:+u;let P=[];if(!(r%1)&&E-g<w){if(g=Math.floor(g),E=Math.ceil(E),f>0){for(;g<=E;++g)for(x=1;x<r;++x)if(S=g<0?x/o(-g):x*o(g),!(S<f)){if(S>h)break;P.push(S)}}else for(;g<=E;++g)for(x=r-1;x>=1;--x)if(S=g>0?x/o(-g):x*o(g),!(S<f)){if(S>h)break;P.push(S)}P.length*2<w&&(P=Jx(f,h,w))}else P=Jx(g,E,Math.min(E-g,w)).map(o);return p?P.reverse():P},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=xh(c)).precision==null&&(c.trim=!0),c=pA(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(j6(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function z6(){const t=mA(Bv()).domain([1,10]);return t.copy=()=>Wh(t,z6()).base(t.base()),Ii.apply(t,arguments),t}function qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gA(t){var e=1,n=t(qk(e),Hk(e));return n.constant=function(r){return arguments.length?t(qk(e=+r),Hk(e)):e},Ya(n)}function q6(){var t=gA(Bv());return t.copy=function(){return Wh(t,q6()).constant(t.constant())},Ii.apply(t,arguments)}function Gk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uue(t){return t<0?-t*t:t*t}function yA(t){var e=t(xr,xr),n=1;function r(){return n===1?t(xr,xr):n===.5?t(Vue,Uue):t(Gk(n),Gk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ya(e)}function vA(){var t=yA(Bv());return t.copy=function(){return Wh(t,vA()).exponent(t.exponent())},Ii.apply(t,arguments),t}function Bue(){return vA.apply(null,arguments).exponent(.5)}function $k(t){return Math.sign(t)*t*t}function Fue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function H6(){var t=dA(),e=[0,1],n=!1,r;function i(o){var a=Fue(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert($k(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ty)).map($k)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return H6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ii.apply(i,arguments),Ya(i)}function G6(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=Hle(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Kh(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ia),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return G6().domain(t).range(e).unknown(r)},Ii.apply(o,arguments)}function $6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Kh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return $6().domain([t,e]).range(i).unknown(o)},Ii.apply(Ya(a),arguments)}function K6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return K6().domain(t).range(e).unknown(n)},Ii.apply(i,arguments)}const rT=new Date,iT=new Date;function kn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<a);return c},i.filter=o=>kn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(rT.setTime(+o),iT.setTime(+a),t(rT),t(iT),Math.floor(n(rT,iT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const wy=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wy);wy.range;const ps=1e3,_i=ps*60,ms=_i*60,Ts=ms*24,bA=Ts*7,Kk=Ts*30,oT=Ts*365,jl=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCSeconds());jl.range;const _A=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getMinutes());_A.range;const EA=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCMinutes());EA.range;const TA=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*_i)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getHours());TA.range;const xA=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCHours());xA.range;const Jh=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_i)/Ts,t=>t.getDate()-1);Jh.range;const Fv=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);Fv.range;const Y6=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));Y6.range;function cu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_i)/bA)}const jv=cu(0),Ay=cu(1),jue=cu(2),zue=cu(3),jc=cu(4),que=cu(5),Hue=cu(6);jv.range;Ay.range;jue.range;zue.range;jc.range;que.range;Hue.range;function fu(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bA)}const zv=fu(0),Cy=fu(1),Gue=fu(2),$ue=fu(3),zc=fu(4),Kue=fu(5),Yue=fu(6);zv.range;Cy.range;Gue.range;$ue.range;zc.range;Kue.range;Yue.range;const SA=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SA.range;const wA=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wA.range;const xs=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xs.range;const Ss=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ss.range;function W6(t,e,n,r,i,o){const a=[[jl,1,ps],[jl,5,5*ps],[jl,15,15*ps],[jl,30,30*ps],[o,1,_i],[o,5,5*_i],[o,15,15*_i],[o,30,30*_i],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[r,1,Ts],[r,2,2*Ts],[n,1,bA],[e,1,Kk],[e,3,3*Kk],[t,1,oT]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const E=p&&typeof p.range=="function"?p:c(f,h,p),x=E?E.range(f,+h+1):[];return g?x.reverse():x}function c(f,h,p){const g=Math.abs(h-f)/p,E=sA(([,,w])=>w).right(a,g);if(E===a.length)return t.every(Qx(f/oT,h/oT,p));if(E===0)return wy.every(Math.max(Qx(f,h,p),1));const[x,S]=a[g/a[E-1][2]<a[E][2]/g?E-1:E];return x.every(S)}return[u,c]}const[Wue,Jue]=W6(Ss,wA,zv,Y6,xA,EA),[Xue,Que]=W6(xs,SA,jv,Jh,TA,_A);function sT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Md(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=Nd(i),h=Dd(i),p=Nd(o),g=Dd(o),E=Nd(a),x=Dd(a),S=Nd(u),w=Dd(u),P=Nd(c),L=Dd(c),D={a:te,A:de,b:ue,B:K,c:null,d:Zk,e:Zk,f:Tce,g:Nce,G:Oce,H:bce,I:_ce,j:Ece,L:J6,m:xce,M:Sce,p:k,q:J,Q:nL,s:rL,S:wce,u:Ace,U:Cce,V:Ice,w:Pce,W:Rce,x:null,X:null,y:Mce,Y:Dce,Z:kce,"%":tL},B={a:se,A:ce,b:be,B:Te,c:null,d:eL,e:eL,f:Bce,g:Wce,G:Xce,H:Lce,I:Vce,j:Uce,L:Q6,m:Fce,M:jce,p:_e,q:Oe,Q:nL,s:rL,S:zce,u:qce,U:Hce,V:Gce,w:$ce,W:Kce,x:null,X:null,y:Yce,Y:Jce,Z:Qce,"%":tL},F={a:z,A:q,b:H,B:$,c:ve,d:Xk,e:Xk,f:mce,g:Jk,G:Wk,H:Qk,I:Qk,j:fce,L:pce,m:cce,M:dce,p:V,q:uce,Q:yce,s:vce,S:hce,u:ice,U:oce,V:sce,w:rce,W:ace,x:Ee,X,y:Jk,Y:Wk,Z:lce,"%":gce};D.x=U(n,D),D.X=U(r,D),D.c=U(e,D),B.x=U(n,B),B.X=U(r,B),B.c=U(e,B);function U(ie,Ce){return function(Ie){var he=[],$e=-1,we=0,et=ie.length,st,Nt,hn;for(Ie instanceof Date||(Ie=new Date(+Ie));++$e<et;)ie.charCodeAt($e)===37&&(he.push(ie.slice(we,$e)),(Nt=Yk[st=ie.charAt(++$e)])!=null?st=ie.charAt(++$e):Nt=st==="e"?" ":"0",(hn=Ce[st])&&(st=hn(Ie,Nt)),he.push(st),we=$e+1);return he.push(ie.slice(we,$e)),he.join("")}}function N(ie,Ce){return function(Ie){var he=Md(1900,void 0,1),$e=O(he,ie,Ie+="",0),we,et;if($e!=Ie.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(we=aT(Md(he.y,0,1)),et=we.getUTCDay(),we=et>4||et===0?Cy.ceil(we):Cy(we),we=Fv.offset(we,(he.V-1)*7),he.y=we.getUTCFullYear(),he.m=we.getUTCMonth(),he.d=we.getUTCDate()+(he.w+6)%7):(we=sT(Md(he.y,0,1)),et=we.getDay(),we=et>4||et===0?Ay.ceil(we):Ay(we),we=Jh.offset(we,(he.V-1)*7),he.y=we.getFullYear(),he.m=we.getMonth(),he.d=we.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),et="Z"in he?aT(Md(he.y,0,1)).getUTCDay():sT(Md(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(et+5)%7:he.w+he.U*7-(et+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,aT(he)):sT(he)}}function O(ie,Ce,Ie,he){for(var $e=0,we=Ce.length,et=Ie.length,st,Nt;$e<we;){if(he>=et)return-1;if(st=Ce.charCodeAt($e++),st===37){if(st=Ce.charAt($e++),Nt=F[st in Yk?Ce.charAt($e++):st],!Nt||(he=Nt(ie,Ie,he))<0)return-1}else if(st!=Ie.charCodeAt(he++))return-1}return he}function V(ie,Ce,Ie){var he=f.exec(Ce.slice(Ie));return he?(ie.p=h.get(he[0].toLowerCase()),Ie+he[0].length):-1}function z(ie,Ce,Ie){var he=E.exec(Ce.slice(Ie));return he?(ie.w=x.get(he[0].toLowerCase()),Ie+he[0].length):-1}function q(ie,Ce,Ie){var he=p.exec(Ce.slice(Ie));return he?(ie.w=g.get(he[0].toLowerCase()),Ie+he[0].length):-1}function H(ie,Ce,Ie){var he=P.exec(Ce.slice(Ie));return he?(ie.m=L.get(he[0].toLowerCase()),Ie+he[0].length):-1}function $(ie,Ce,Ie){var he=S.exec(Ce.slice(Ie));return he?(ie.m=w.get(he[0].toLowerCase()),Ie+he[0].length):-1}function ve(ie,Ce,Ie){return O(ie,e,Ce,Ie)}function Ee(ie,Ce,Ie){return O(ie,n,Ce,Ie)}function X(ie,Ce,Ie){return O(ie,r,Ce,Ie)}function te(ie){return a[ie.getDay()]}function de(ie){return o[ie.getDay()]}function ue(ie){return c[ie.getMonth()]}function K(ie){return u[ie.getMonth()]}function k(ie){return i[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function se(ie){return a[ie.getUTCDay()]}function ce(ie){return o[ie.getUTCDay()]}function be(ie){return c[ie.getUTCMonth()]}function Te(ie){return u[ie.getUTCMonth()]}function _e(ie){return i[+(ie.getUTCHours()>=12)]}function Oe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ce=U(ie+="",D);return Ce.toString=function(){return ie},Ce},parse:function(ie){var Ce=N(ie+="",!1);return Ce.toString=function(){return ie},Ce},utcFormat:function(ie){var Ce=U(ie+="",B);return Ce.toString=function(){return ie},Ce},utcParse:function(ie){var Ce=N(ie+="",!0);return Ce.toString=function(){return ie},Ce}}}var Yk={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,ece=/^%/,tce=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function nce(t){return t.replace(tce,"\\$&")}function Nd(t){return new RegExp("^(?:"+t.map(nce).join("|")+")","i")}function Dd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function rce(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ice(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ace(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=Kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lce(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uce(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Xk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fce(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function pce(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mce(t,e,n){var r=Kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gce(t,e,n){var r=ece.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yce(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vce(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Zk(t,e){return mt(t.getDate(),e,2)}function bce(t,e){return mt(t.getHours(),e,2)}function _ce(t,e){return mt(t.getHours()%12||12,e,2)}function Ece(t,e){return mt(1+Jh.count(xs(t),t),e,3)}function J6(t,e){return mt(t.getMilliseconds(),e,3)}function Tce(t,e){return J6(t,e)+"000"}function xce(t,e){return mt(t.getMonth()+1,e,2)}function Sce(t,e){return mt(t.getMinutes(),e,2)}function wce(t,e){return mt(t.getSeconds(),e,2)}function Ace(t){var e=t.getDay();return e===0?7:e}function Cce(t,e){return mt(jv.count(xs(t)-1,t),e,2)}function X6(t){var e=t.getDay();return e>=4||e===0?jc(t):jc.ceil(t)}function Ice(t,e){return t=X6(t),mt(jc.count(xs(t),t)+(xs(t).getDay()===4),e,2)}function Pce(t){return t.getDay()}function Rce(t,e){return mt(Ay.count(xs(t)-1,t),e,2)}function Mce(t,e){return mt(t.getFullYear()%100,e,2)}function Nce(t,e){return t=X6(t),mt(t.getFullYear()%100,e,2)}function Dce(t,e){return mt(t.getFullYear()%1e4,e,4)}function Oce(t,e){var n=t.getDay();return t=n>=4||n===0?jc(t):jc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function kce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function eL(t,e){return mt(t.getUTCDate(),e,2)}function Lce(t,e){return mt(t.getUTCHours(),e,2)}function Vce(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Uce(t,e){return mt(1+Fv.count(Ss(t),t),e,3)}function Q6(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Bce(t,e){return Q6(t,e)+"000"}function Fce(t,e){return mt(t.getUTCMonth()+1,e,2)}function jce(t,e){return mt(t.getUTCMinutes(),e,2)}function zce(t,e){return mt(t.getUTCSeconds(),e,2)}function qce(t){var e=t.getUTCDay();return e===0?7:e}function Hce(t,e){return mt(zv.count(Ss(t)-1,t),e,2)}function Z6(t){var e=t.getUTCDay();return e>=4||e===0?zc(t):zc.ceil(t)}function Gce(t,e){return t=Z6(t),mt(zc.count(Ss(t),t)+(Ss(t).getUTCDay()===4),e,2)}function $ce(t){return t.getUTCDay()}function Kce(t,e){return mt(Cy.count(Ss(t)-1,t),e,2)}function Yce(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Wce(t,e){return t=Z6(t),mt(t.getUTCFullYear()%100,e,2)}function Jce(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Xce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zc(t):zc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Qce(){return"+0000"}function tL(){return"%"}function nL(t){return+t}function rL(t){return Math.floor(+t/1e3)}var oc,eF,tF;Zce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zce(t){return oc=Zue(t),eF=oc.format,oc.parse,tF=oc.utcFormat,oc.utcParse,oc}function efe(t){return new Date(t)}function tfe(t){return t instanceof Date?+t:+new Date(+t)}function AA(t,e,n,r,i,o,a,u,c,f){var h=dA(),p=h.invert,g=h.domain,E=f(".%L"),x=f(":%S"),S=f("%I:%M"),w=f("%I %p"),P=f("%a %d"),L=f("%b %d"),D=f("%B"),B=f("%Y");function F(U){return(c(U)<U?E:u(U)<U?x:a(U)<U?S:o(U)<U?w:r(U)<U?i(U)<U?P:L:n(U)<U?D:B)(U)}return h.invert=function(U){return new Date(p(U))},h.domain=function(U){return arguments.length?g(Array.from(U,tfe)):g().map(efe)},h.ticks=function(U){var N=g();return t(N[0],N[N.length-1],U??10)},h.tickFormat=function(U,N){return N==null?F:f(N)},h.nice=function(U){var N=g();return(!U||typeof U.range!="function")&&(U=e(N[0],N[N.length-1],U??10)),U?g(j6(N,U)):h},h.copy=function(){return Wh(h,AA(t,e,n,r,i,o,a,u,c,f))},h}function nfe(){return Ii.apply(AA(Xue,Que,xs,SA,jv,Jh,TA,_A,jl,eF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rfe(){return Ii.apply(AA(Wue,Jue,Ss,wA,zv,Fv,xA,EA,jl,tF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,n,r,i,o,a=xr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(g){var E,x;return arguments.length?([E,x]=g,a=p(E,x),f):[a(0),a(1)]}}return f.range=h(sf),f.rangeRound=h(fA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Wa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nF(){var t=Ya(qv()(xr));return t.copy=function(){return Wa(t,nF())},ks.apply(t,arguments)}function rF(){var t=mA(qv()).domain([1,10]);return t.copy=function(){return Wa(t,rF()).base(t.base())},ks.apply(t,arguments)}function iF(){var t=gA(qv());return t.copy=function(){return Wa(t,iF()).constant(t.constant())},ks.apply(t,arguments)}function CA(){var t=yA(qv());return t.copy=function(){return Wa(t,CA()).exponent(t.exponent())},ks.apply(t,arguments)}function ife(){return CA.apply(null,arguments).exponent(.5)}function oF(){var t=[],e=xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ia),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qle(t,o/r))},n.copy=function(){return oF(e).domain(t)},ks.apply(n,arguments)}function Hv(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,f=xr,h,p=!1,g;function E(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-o)*(r*S<r*o?u:c),f(p?Math.max(0,Math.min(1,S)):S))}E.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(S){return arguments.length?(p=!!S,E):p},E.interpolator=function(S){return arguments.length?(f=S,E):f};function x(S){return function(w){var P,L,D;return arguments.length?([P,L,D]=w,f=gue(S,[P,L,D]),E):[f(0),f(.5),f(1)]}}return E.range=x(sf),E.rangeRound=x(fA),E.unknown=function(S){return arguments.length?(g=S,E):g},function(S){return h=S,i=S(t),o=S(e),a=S(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E}}function sF(){var t=Ya(Hv()(xr));return t.copy=function(){return Wa(t,sF())},ks.apply(t,arguments)}function aF(){var t=mA(Hv()).domain([.1,1,10]);return t.copy=function(){return Wa(t,aF()).base(t.base())},ks.apply(t,arguments)}function lF(){var t=gA(Hv());return t.copy=function(){return Wa(t,lF()).constant(t.constant())},ks.apply(t,arguments)}function IA(){var t=yA(Hv());return t.copy=function(){return Wa(t,IA()).exponent(t.exponent())},ks.apply(t,arguments)}function ofe(){return IA.apply(null,arguments).exponent(.5)}const Bd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lA,scaleDiverging:sF,scaleDivergingLog:aF,scaleDivergingPow:IA,scaleDivergingSqrt:ofe,scaleDivergingSymlog:lF,scaleIdentity:F6,scaleImplicit:Zx,scaleLinear:B6,scaleLog:z6,scaleOrdinal:aA,scalePoint:$le,scalePow:vA,scaleQuantile:G6,scaleQuantize:$6,scaleRadial:H6,scaleSequential:nF,scaleSequentialLog:rF,scaleSequentialPow:CA,scaleSequentialQuantile:oF,scaleSequentialSqrt:ife,scaleSequentialSymlog:iF,scaleSqrt:Bue,scaleSymlog:q6,scaleThreshold:K6,scaleTime:nfe,scaleUtc:rfe,tickFormat:U6},Symbol.toStringTag,{value:"Module"}));var Ls=t=>t.chartData,Gv=re([Ls],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),uF=(t,e,n,r)=>r?Gv(t):Ls(t),sfe=(t,e,n)=>n?Gv(t):Ls(t);function ws(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vt(e)&&vt(n))return!0}return!1}function iL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function cF(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(ws(a))return a}}function afe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ws(r))return iL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ve(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&h2.test(i)){var c=h2.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var f=+c[1];a=e[0]-f}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ve(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&p2.test(o)){var h=p2.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[a,u];if(ws(g))return e==null?g:iL(g,e,n)}}}var af=1e9,lfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RA,Jt=!0,Ci="[DecimalError] ",$l=Ci+"Invalid argument: ",PA=Ci+"Exponent out of range: ",lf=Math.floor,Ol=Math.pow,ufe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,qn=1e7,qt=7,fF=9007199254740991,Iy=lf(fF/qt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return ys(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Ot(ys(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return An(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(Ci+"NaN");if(n.s<1)throw Error(Ci+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(Jt=!1,e=ys(Sh(n,o),Sh(t,o),o),Jt=!0,Ot(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pF(e,t):dF(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ci+"NaN");return n.s?(Jt=!1,e=ys(n,t,0,1).times(t),Jt=!0,n.minus(e)):Ot(new r(n),i)};Me.naturalExponential=Me.exp=function(){return hF(this)};Me.naturalLogarithm=Me.ln=function(){return Sh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dF(e,t):pF(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($l+t);if(e=An(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ci+"NaN")}for(t=An(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ro(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=lf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(ys(u,o,a+2)).times(.5),Ro(o.d).slice(0,a)===(e=Ro(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ot(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Jt=!0,Ot(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,o,a,u,c,f,h=this,p=h.constructor,g=h.d,E=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=E.length,c<f&&(o=g,g=E,E=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+E[r]*g[i-r-1]+e,o[i--]=u%qn|0,e=u/qn|0;o[i]=(o[i]+e)%qn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Jt?Ot(t,p.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fo(t,0,af),e===void 0?e=r.rounding:Fo(e,0,8),Ot(n,t+An(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nu(r,!0):(Fo(t,0,af),e===void 0?e=i.rounding:Fo(e,0,8),r=Ot(new i(r),t+1,e),n=nu(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?nu(i):(Fo(t,0,af),e===void 0?e=o.rounding:Fo(e,0,8),r=Ot(new o(i),t+An(i)+1,e),n=nu(r.abs(),!1,t+An(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),An(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Jr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ci+"Infinity");return u}if(u.eq(Jr))return u;if(r=c.precision,t.eq(Jr))return Ot(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=fF){for(i=new c(Jr),e=Math.ceil(r/qt+4),Jt=!1;n%2&&(i=i.times(u),sL(i.d,e)),n=lf(n/2),n!==0;)u=u.times(u),sL(u.d,e);return Jt=!0,t.s<0?new c(Jr).div(i):Ot(i,r)}}else if(o<0)throw Error(Ci+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(Sh(u,r+f)),Jt=!0,i=hF(i),i.s=o,i};Me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=An(i),r=nu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Fo(t,1,af),e===void 0?e=o.rounding:Fo(e,0,8),i=Ot(new o(i),t,e),n=An(i),r=nu(i,t<=n||n<=o.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fo(t,1,af),e===void 0?e=r.rounding:Fo(e,0,8)),Ot(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=An(t),n=t.constructor;return nu(t,e<=n.toExpNeg||e>=n.toExpPos)};function dF(t,e){var n,r,i,o,a,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Jt?Ot(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=a,u=c.length),a=Math.ceil(p/qt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/qn|0,c[o]%=qn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Jt?Ot(e,p):e}function Fo(t,e,n){if(t!==~~t||t<e||t>n)throw Error($l+t)}function Ro(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(o+=Ea(n)),o+=r;a=t[e],r=a+"",n=qt-r.length,n&&(o+=Ea(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ys=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%qn|0,a=o/qn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*qn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,f,h,p,g,E,x,S,w,P,L,D,B,F,U,N,O,V=r.constructor,z=r.s==i.s?1:-1,q=r.d,H=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Ci+"Division by zero");for(c=r.e-i.e,N=H.length,F=q.length,E=new V(z),x=E.d=[],f=0;H[f]==(q[f]||0);)++f;if(H[f]>(q[f]||0)&&--c,o==null?L=o=V.precision:a?L=o+(An(r)-An(i))+1:L=o,L<0)return new V(0);if(L=L/qt+2|0,f=0,N==1)for(h=0,H=H[0],L++;(f<F||h)&&L--;f++)D=h*qn+(q[f]||0),x[f]=D/H|0,h=D%H|0;else{for(h=qn/(H[0]+1)|0,h>1&&(H=t(H,h),q=t(q,h),N=H.length,F=q.length),B=N,S=q.slice(0,N),w=S.length;w<N;)S[w++]=0;O=H.slice(),O.unshift(0),U=H[0],H[1]>=qn/2&&++U;do h=0,u=e(H,S,N,w),u<0?(P=S[0],N!=w&&(P=P*qn+(S[1]||0)),h=P/U|0,h>1?(h>=qn&&(h=qn-1),p=t(H,h),g=p.length,w=S.length,u=e(p,S,g,w),u==1&&(h--,n(p,N<g?O:H,g))):(h==0&&(u=h=1),p=H.slice()),g=p.length,g<w&&p.unshift(0),n(S,p,w),u==-1&&(w=S.length,u=e(H,S,N,w),u<1&&(h++,n(S,N<w?O:H,w))),w=S.length):u===0&&(h++,S=[0]),x[f++]=h,u&&S[0]?S[w++]=q[B]||0:(S=[q[B]],w=1);while((B++<F||S[0]!==void 0)&&L--)}return x[0]||x.shift(),E.e=c,Ot(E,a?o+An(E)+1:o)}})();function hF(t,e){var n,r,i,o,a,u,c=0,f=0,h=t.constructor,p=h.precision;if(An(t)>16)throw Error(PA+An(t));if(!t.s)return new h(Jr);for(Jt=!1,u=p,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(Ol(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Jr),h.precision=u;;){if(i=Ot(i.times(t),u),n=n.times(++c),a=o.plus(ys(i,n,u)),Ro(a.d).slice(0,u)===Ro(o.d).slice(0,u)){for(;f--;)o=Ot(o.times(o),u);return h.precision=p,e==null?(Jt=!0,Ot(o,p)):o}o=a}}function An(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function lT(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Ci+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Ea(t){for(var e="";t--;)e+="0";return e}function Sh(t,e){var n,r,i,o,a,u,c,f,h,p=1,g=10,E=t,x=E.d,S=E.constructor,w=S.precision;if(E.s<1)throw Error(Ci+(E.s?"NaN":"-Infinity"));if(E.eq(Jr))return new S(0);if(e==null?(Jt=!1,f=w):f=e,E.eq(10))return e==null&&(Jt=!0),lT(S,f);if(f+=g,S.precision=f,n=Ro(x),r=n.charAt(0),o=An(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=Ro(E.d),r=n.charAt(0),p++;o=An(E),r>1?(E=new S("0."+n),o++):E=new S(r+"."+n.slice(1))}else return c=lT(S,f+2,w).times(o+""),E=Sh(new S(r+"."+n.slice(1)),f-g).plus(c),S.precision=w,e==null?(Jt=!0,Ot(E,w)):E;for(u=a=E=ys(E.minus(Jr),E.plus(Jr),f),h=Ot(E.times(E),f),i=3;;){if(a=Ot(a.times(h),f),c=u.plus(ys(a,new S(i),f)),Ro(c.d).slice(0,f)===Ro(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(lT(S,f+2,w).times(o+""))),u=ys(u,new S(p),f),S.precision=w,e==null?(Jt=!0,Ot(u,w)):u;u=c,i+=2}}function oL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=lf(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Iy||t.e<-Iy))throw Error(PA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,o,a,u,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=qt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/qt),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=qt,i=r-qt+a}if(n!==void 0&&(o=Ol(10,a-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ol(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=An(t),p.length=1,e=e-o-1,p[0]=Ol(10,(qt-e%qt)%qt),t.e=lf(-e/qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ol(10,qt-r),p[h]=i>0?(f/Ol(10,a-i)%Ol(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==qn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=qn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Jt&&(t.e>Iy||t.e<-Iy))throw Error(PA+An(t));return t}function pF(t,e){var n,r,i,o,a,u,c,f,h,p,g=t.constructor,E=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Jt?Ot(e,E):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(E/qt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=qn-1;--c[o],c[i]+=qn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Jt?Ot(e,E):e):new g(0)}function nu(t,e,n){var r,i=An(t),o=Ro(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ea(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ea(-i-1)+o,n&&(r=n-a)>0&&(o+=Ea(r))):i>=a?(o+=Ea(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ea(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ea(r))),t.s<0?"-"+o:o}function sL(t,e){if(t.length>e)return t.length=e,!0}function mF(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($l+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return oL(a,o.toString())}else if(typeof o!="string")throw Error($l+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ufe.test(o))oL(a,o);else throw Error($l+o)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mF,i.config=i.set=cfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cfe(t){if(!t||typeof t!="object")throw Error(Ci+"Object expected");var e,n,r,i=["precision",1,af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(lf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($l+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($l+n+": "+r);return this}var RA=mF(lfe);Jr=new RA(1);const wt=RA;function gF(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function yF(t,e,n){for(var r=new wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var vF=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},bF=(t,e,n)=>{if(t.lte(0))return new wt(0);var r=gF(t.toNumber()),i=new wt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new wt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new wt(c.toNumber()):new wt(Math.ceil(c.toNumber()))},ffe=(t,e,n)=>{var r=new wt(1),i=new wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new wt(10).pow(gF(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));for(var a=Math.floor((e-1)/2),u=[],c=0;c<e;c++)u.push(i.add(new wt(c-a).mul(r)).toNumber());return u},_F=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=bF(new wt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new wt(0):(u=new wt(e).add(n).div(2),u=u.sub(new wt(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),f=Math.ceil(new wt(n).sub(u).div(a).toNumber()),h=c+f+1;return h>r?_F(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:a,tickMin:u.sub(new wt(c).mul(a)),tickMax:u.add(new wt(f).mul(a))})},dfe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[u,c]=vF([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?f.reverse():f}if(u===c)return ffe(u,i,o);var{step:h,tickMin:p,tickMax:g}=_F(u,c,a,o,0),E=yF(p,g.add(new wt(.1).mul(h)),h);return n>r?E.reverse():E},hfe=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=vF([r,i]);if(a===-1/0||u===1/0)return[r,i];if(a===u)return[a];var c=Math.max(n,2),f=bF(new wt(u).sub(a).div(c-1),o,0),h=[...yF(new wt(a),new wt(u),f),u];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},EF=t=>t.rootProps.maxBarSize,pfe=t=>t.rootProps.barGap,TF=t=>t.rootProps.barCategoryGap,mfe=t=>t.rootProps.barSize,Xh=t=>t.rootProps.stackOffset,xF=t=>t.rootProps.reverseStackOrder,MA=t=>t.options.chartName,NA=t=>t.rootProps.syncId,SF=t=>t.rootProps.syncMethod,DA=t=>t.options.eventEmitter,mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Il={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},So={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},$v=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Kv(t,e,n){if(n!=="auto")return n;if(t!=null)return Ka(t,e)?"category":"number"}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gfe(t,e,n){return(e=yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lL={allowDataOverflow:Il.allowDataOverflow,allowDecimals:Il.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Il.angleAxisId,includeHidden:!1,name:void 0,reversed:Il.reversed,scale:Il.scale,tick:Il.tick,tickCount:void 0,ticks:void 0,type:Il.type,unit:void 0},uL={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:So.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:So.radiusAxisId,includeHidden:So.includeHidden,name:void 0,reversed:So.reversed,scale:So.scale,tick:So.tick,tickCount:So.tickCount,ticks:void 0,type:So.type,unit:void 0},bfe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},OA=re([bfe,a6],(t,e)=>{var n;if(t!=null)return t;var r=(n=Kv(e,"angleAxis",lL.type))!==null&&n!==void 0?n:"category";return Py(Py({},lL),{},{type:r})}),_fe=(t,e)=>t.polarAxis.radiusAxis[e],kA=re([_fe,a6],(t,e)=>{var n;if(t!=null)return t;var r=(n=Kv(e,"radiusAxis",uL.type))!==null&&n!==void 0?n:"category";return Py(Py({},uL),{},{type:r})}),Yv=t=>t.polarOptions,LA=re([Ds,Os,On],w6),wF=re([Yv,LA],(t,e)=>{if(t!=null)return gr(t.innerRadius,e,0)}),AF=re([Yv,LA],(t,e)=>{if(t!=null)return gr(t.outerRadius,e,e*.8)}),Efe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},CF=re([Yv],Efe);re([OA,CF],$v);var IF=re([LA,wF,AF],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([kA,IF],$v);var PF=re([Et,Yv,wF,AF,Ds,Os],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:f}=e;return{cx:gr(a,i,i/2),cy:gr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Zt=(t,e)=>e,Qh=(t,e,n)=>n;function VA(t){return t==null?void 0:t.id}function RF(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=VA(u);f.forEach((p,g)=>{var E=o==null||i?g:String(Gt(p,o,null)),x=Gt(p,u.dataKey,0),S;a.has(E)?S=a.get(E):S={},Object.assign(S,{[h]:x}),a.set(E,S)})}}),Array.from(a.values())}function Wv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Jv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Xv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Tfe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Yn=t=>{var e=Et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},uf=t=>t.tooltip.settings.axisId;function xfe(t){if(t in Bd)return Bd[t]();var e="scale".concat(Fh(t));if(e in Bd)return Bd[e]()}function cL(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],u=i[1];return a<=u?o>=a&&o<=u:o>=u&&o<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,a)=>{var u=t(o);if(u!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":u+=c/2;break;case"end":u+=c;break}}return u}}}}function fL(t,e,n){if(typeof t=="function")return cL(t.copy().domain(e).range(n));if(t!=null){var r=xfe(t);if(r!=null)return r.domain(e).range(n),cL(r)}}var MF=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ws(e)){for(var n,r,i=0;i<e.length;i++){var o=e[i];vt(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return(e=wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rS=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NF=(t,e)=>t.cartesianAxis.xAxis[e],Vs=(t,e)=>{var n=NF(t,e);return n??jn},zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hh},DF=(t,e)=>t.cartesianAxis.yAxis[e],Us=(t,e)=>{var n=DF(t,e);return n??zn},Cfe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},UA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Cfe},an=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);case"zAxis":return UA(t,n);case"angleAxis":return OA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ife=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cf=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);case"angleAxis":return OA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OF=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function BA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var FA=t=>t.graphicalItems.cartesianItems,Pfe=re([Zt,Qh],BA),jA=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Zh=re([FA,an,Pfe],jA,{memoizeOptions:{resultEqualityCheck:Xv}}),kF=re([Zh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Wv)),LF=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Rfe=re([Zh],LF),zA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Mfe=re([Zh],zA,{memoizeOptions:{resultEqualityCheck:Xv}}),qA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},HA=re([Mfe,uF],qA),GA=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Gt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Gt(i,r)}))):t.map(r=>({value:r})),Qv=re([HA,an,Zh],GA);function VF(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tg(t){if(Bo(t)||t instanceof Date){var e=Number(t);if(vt(e))return e}}function hL(t){if(Array.isArray(t)){var e=[Tg(t[0]),Tg(t[1])];return ws(e)?e:void 0}var n=Tg(t);if(n!=null)return[n,n]}function As(t){return t.map(Tg).filter(Io)}function Nfe(t,e,n){return!n||typeof e!="number"||Uo(e)?[]:n.length?As(n.flatMap(r=>{var i=Gt(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!vt(o)||!vt(a)))return[e-o,e+a]})):[]}var Ln=t=>{var e=Yn(t),n=uf(t);return cf(t,e,n)},ep=re([Ln],t=>t==null?void 0:t.dataKey),Dfe=re([kF,uF,Ln],RF),UF=(t,e,n,r)=>{var i={},o=e.reduce((a,u)=>{if(u.stackId==null)return a;var c=a[u.stackId];return c==null&&(c=[]),c.push(u),a[u.stackId]=c,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[u,c]=a,f=r?[...c].reverse():c,h=f.map(VA);return[u,{stackedData:Qoe(t,h,n),graphicalItems:f}]}))},iS=re([Dfe,kF,Xh,xF],UF),BF=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=rse(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Ofe=re([an],t=>t.allowDataOverflow),$A=t=>{var e;if(t==null||!("domain"in t))return rS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=As(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:rS},KA=re([an],$A),YA=re([KA,Ofe],cF),kfe=re([iS,Ls,Zt,YA],BF,{memoizeOptions:{resultEqualityCheck:Jv}}),Zv=t=>t.errorBars,Lfe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>VF(n,r)),My=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},WA=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(P=>VF(i,P)),g=Gt(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),E=Nfe(u,g,p);if(E.length>=2){var x=Math.min(...E),S=Math.max(...E);(o==null||x<o)&&(o=x),(a==null||S>a)&&(a=S)}var w=hL(g);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=hL(Gt(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),vt(o)&&vt(a))return[o,a]},Vfe=re([HA,an,Rfe,Zv,Zt],WA,{memoizeOptions:{resultEqualityCheck:Jv}});function Ufe(t){var{value:e}=t;if(Bo(e)||e instanceof Date)return e}var Bfe=(t,e,n)=>{var r=t.map(Ufe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&o5(r))?P6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},FF=t=>t.referenceElements.dots,ff=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ffe=re([FF,Zt,Qh],ff),jF=t=>t.referenceElements.areas,jfe=re([jF,Zt,Qh],ff),zF=t=>t.referenceElements.lines,zfe=re([zF,Zt,Qh],ff),qF=(t,e)=>{if(t!=null){var n=As(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qfe=re(Ffe,Zt,qF),HF=(t,e)=>{if(t!=null){var n=As(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Hfe=re([jfe,Zt],HF);function Gfe(t){var e;if(t.x!=null)return As([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:As(n)}function $fe(t){var e;if(t.y!=null)return As([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:As(n)}var GF=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Gfe(r):$fe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kfe=re([zfe,Zt],GF),Yfe=re(qfe,Kfe,Hfe,(t,e,n)=>My(t,n,e)),JA=(t,e,n,r,i,o,a,u)=>{if(n!=null)return n;var c=a==="vertical"&&u==="xAxis"||a==="horizontal"&&u==="yAxis",f=c?My(r,o,i):My(o,i);return afe(e,f,t.allowDataOverflow)},Wfe=re([an,KA,YA,kfe,Vfe,Yfe,Et,Zt],JA,{memoizeOptions:{resultEqualityCheck:Jv}}),Jfe=[0,1],XA=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,f=Ka(e,o);if(f&&u==null){var h;return P6(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Bfe(r,t,f):i==="expand"?Jfe:a}},QA=re([an,Et,HA,Qv,Xh,Zt,Wfe],XA);function Xfe(t){return t in Bd}var $F=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Fh(r));return Xfe(o)?o:"point"}}},Ja=re([an,OF,MA],$F);function ZA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?fL(t.scale,n,r):fL(e,n,r)}var e1=(t,e,n)=>{var r=$A(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ws(t))return dfe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ws(t))return hfe(t,e.tickCount,e.allowDecimals)}},t1=re([QA,cf,Ja],e1),n1=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ws(e)&&Array.isArray(n)&&n.length>0){var i,o,a=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,u),Math.max(c,f)]}return e},Qfe=re([an,QA,t1,Zt],n1),Zfe=re(Qv,an,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(As(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/a}}),KF=re(Zfe,Et,TF,On,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!vt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=gr(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),ede=(t,e,n)=>{var r=Vs(t,e);return r==null||typeof r.padding!="string"?0:KF(t,"xAxis",e,n,r.padding)},tde=(t,e,n)=>{var r=Us(t,e);return r==null||typeof r.padding!="string"?0:KF(t,"yAxis",e,n,r.padding)},nde=re(Vs,ede,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),rde=re(Us,tde,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ide=re([On,nde,Mv,Rv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),ode=re([On,Et,rde,Mv,Rv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),tp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ide(t,n,r);case"yAxis":return ode(t,n,r);case"zAxis":return(i=UA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return CF(t);case"radiusAxis":return IF(t,n);default:return}},YF=re([an,tp],$v),sde=re([Ja,Qfe],MF),e0=re([an,Ja,sde,YF],ZA);re([Zh,Zv,Zt],Lfe);function WF(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var t0=(t,e)=>e,n0=(t,e,n)=>n,ade=re(Iv,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WF)),lde=re(Pv,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(WF)),JF=(t,e)=>({width:t.width,height:e.height}),ude=(t,e)=>{var n=typeof e.width=="number"?e.width:Hh;return{width:n,height:t.height}},XF=re(On,Vs,JF),cde=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},fde=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},dde=re(Os,On,ade,t0,n0,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=JF(e,u);a==null&&(a=cde(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(f)*c.height,a+=(f?-1:1)*c.height}),o}),hde=re(Ds,On,lde,t0,n0,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=ude(e,u);a==null&&(a=fde(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(f)*c.width,a+=(f?-1:1)*c.width}),o}),pde=(t,e)=>{var n=Vs(t,e);if(n!=null)return dde(t,n.orientation,n.mirror)},mde=re([On,Vs,pde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),gde=(t,e)=>{var n=Us(t,e);if(n!=null)return hde(t,n.orientation,n.mirror)},yde=re([On,Us,gde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),QF=re(On,Us,(t,e)=>{var n=typeof e.width=="number"?e.width:Hh;return{width:n,height:t.height}}),pL=(t,e,n)=>{switch(e){case"xAxis":return XF(t,n).width;case"yAxis":return QF(t,n).height;default:return}},ZF=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=Ka(t,r),c=e.map(f=>f.value);if(a&&u&&o==="category"&&i&&o5(c))return c}},r1=re([Et,Qv,an,Zt],ZF),ej=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Ka(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},i1=re([Et,Qv,cf,Zt],ej);re([Et,Ife,Ja,e0,r1,i1,tp,t1,Zt],(t,e,n,r,i,o,a,u,c)=>{if(e!=null){var f=Ka(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:a,realScaleType:n,scale:r}}});var vde=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var f=Ka(t,c),{type:h,ticks:p,tickCount:g}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/E:0;x=c==="angleAxis"&&o!=null&&o.length>=2?or(o[0]-o[1])*2*x:x;var S=p||i;return S?S.map((w,P)=>{var L=a?a.indexOf(w):w,D=r.map(L);return vt(D)?{index:P,coordinate:D+x,value:w,offset:x}:null}).filter(Io):f&&u?u.map((w,P)=>{var L=r.map(w);return vt(L)?{coordinate:L+x,value:w,index:P,offset:x}:null}).filter(Io):r.ticks?r.ticks(g).map((w,P)=>{var L=r.map(w);return vt(L)?{coordinate:L+x,value:w,index:P,offset:x}:null}).filter(Io):r.domain().map((w,P)=>{var L=r.map(w);return vt(L)?{coordinate:L+x,value:a?a[w]:w,index:P,offset:x}:null}).filter(Io)}},tj=re([Et,cf,Ja,e0,t1,tp,r1,i1,Zt],vde),bde=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ka(t,a),{tickCount:c}=e,f=0;return f=a==="angleAxis"&&(r==null?void 0:r.length)>=2?or(r[0]-r[1])*2*f:f,u&&o?o.map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Io):n.ticks?n.ticks(c).map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Io):n.domain().map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:i?i[h]:h,index:p,offset:f}:null}).filter(Io)}},qc=re([Et,cf,e0,tp,r1,i1,Zt],bde),Hc=re(an,e0,(t,e)=>{if(!(t==null||e==null))return Ry(Ry({},t),{},{scale:e})}),_de=re([an,Ja,QA,YF],ZA);re((t,e,n)=>UA(t,n),_de,(t,e)=>{if(!(t==null||e==null))return Ry(Ry({},t),{},{scale:e})});var Ede=re([Et,Iv,Pv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nj=t=>t.options.defaultTooltipEventType,rj=t=>t.options.validateTooltipEventTypes;function ij(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function o1(t,e){var n=nj(t),r=rj(t);return ij(e,n,r)}function Tde(t){return Le(e=>o1(e,t))}var oj=(t,e)=>{var n,r=Number(e);if(!(Uo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},xde=t=>t.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Sde={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sj=Ur({name:"tooltip",initialState:Sde,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Wt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ji(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Wt()},removeTooltipEntrySettings:{reducer(t,e){var n=Ji(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Wt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:wde,replaceTooltipEntrySettings:Ade,removeTooltipEntrySettings:Cde,setTooltipSettingsState:Ide,setActiveMouseOverItemIndex:aj,mouseLeaveItem:Pde,mouseLeaveChart:lj,setActiveClickItemIndex:Rde,setMouseOverAxisIndex:uj,setMouseClickAxisIndex:Mde,setSyncInteraction:oS,setKeyboardInteraction:sS}=sj.actions,Nde=sj.reducer;function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lde(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vde(t){return t.index!=null}var cj=(t,e,n,r)=>{if(e==null)return xa;var i=Lde(t,e,n);if(i==null)return xa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Vde(i)){if(o)return tg(tg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return tg(tg({},xa),{},{coordinate:i.coordinate})};function Ude(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Bde(t,e){var n=Ude(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function Fde(t,e,n){if(n==null||e==null)return!0;var r=Gt(t,e);return r==null||!ws(n)?!0:Bde(r,n)}var s1=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!vt(o))return i;var a=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(a,Math.min(o,u)),f=e[c];return f==null||Fde(f,n,r)?String(c):null},fj=(t,e,n,r,i,o,a)=>{if(o!=null){var u=a[0],c=u==null?void 0:u.getPosition(o);if(c!=null)return c;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},dj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},hj=t=>t.options.tooltipPayloadSearcher,df=t=>t.tooltip;function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hde(t,e){return t??e}var pj=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,E)=>{var x,{dataDefinedOnItem:S,settings:w}=E,P=Hde(S,u),L=Array.isArray(P)?X5(P,f,h):P,D=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:r,B=w==null?void 0:w.nameKey,F;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&a==="axis"?F=Sre(L,r,i):F=o(L,e,c,B),Array.isArray(F))F.forEach(N=>{var O=yL(yL({},w),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(m2({tooltipEntrySettings:O,dataKey:N.dataKey,payload:N.payload,value:Gt(N.payload,N.dataKey),name:N.name}))});else{var U;g.push(m2({tooltipEntrySettings:w,dataKey:D,payload:F,value:Gt(F,D),name:(U=Gt(F,B))!==null&&U!==void 0?U:w==null?void 0:w.name}))}return g},p)}},a1=re([Ln,OF,MA],$F),Gde=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$de=re([Yn,uf],BA),hf=re([Gde,Ln,$de],jA,{memoizeOptions:{resultEqualityCheck:Xv}}),Kde=re([hf],t=>t.filter(Wv)),Yde=re([hf],zA,{memoizeOptions:{resultEqualityCheck:Xv}}),pf=re([Yde,Ls],qA),Wde=re([Kde,Ls,Ln],RF),l1=re([pf,Ln,hf],GA),mj=re([Ln],$A),Jde=re([Ln],t=>t.allowDataOverflow),gj=re([mj,Jde],cF),Xde=re([hf],t=>t.filter(Wv)),Qde=re([Wde,Xde,Xh,xF],UF),Zde=re([Qde,Ls,Yn,gj],BF),ehe=re([hf],LF),the=re([pf,Ln,ehe,Zv,Yn],WA,{memoizeOptions:{resultEqualityCheck:Jv}}),nhe=re([FF,Yn,uf],ff),rhe=re([nhe,Yn],qF),ihe=re([jF,Yn,uf],ff),ohe=re([ihe,Yn],HF),she=re([zF,Yn,uf],ff),ahe=re([she,Yn],GF),lhe=re([rhe,ahe,ohe],My),uhe=re([Ln,mj,gj,Zde,the,lhe,Et,Yn],JA),np=re([Ln,Et,pf,l1,Xh,Yn,uhe],XA),che=re([np,Ln,a1],e1),fhe=re([Ln,np,che,Yn],n1),yj=t=>{var e=Yn(t),n=uf(t),r=!1;return tp(t,e,n,r)},vj=re([Ln,yj],$v),bj=re([Ln,a1,fhe,vj],ZA),dhe=re([Et,l1,Ln,Yn],ZF),hhe=re([Et,l1,Ln,Yn],ej),phe=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,f=Ka(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?or(i[0]-i[1])*2*p:p,f&&a?a.map((g,E)=>{var x=r.map(g);return vt(x)?{coordinate:x+p,value:g,index:E,offset:p}:null}).filter(Io):r.domain().map((g,E)=>{var x=r.map(g);return vt(x)?{coordinate:x+p,value:o?o[g]:g,index:E,offset:p}:null}).filter(Io)}}},Bs=re([Et,Ln,a1,bj,yj,dhe,hhe,Yn],phe),u1=re([nj,rj,xde],(t,e,n)=>ij(n.shared,t,e)),_j=t=>t.tooltip.settings.trigger,c1=t=>t.tooltip.settings.defaultIndex,rp=re([df,u1,_j,c1],cj),ru=re([rp,pf,ep,np],s1),Ej=re([Bs,ru],oj),f1=re([rp],t=>{if(t)return t.dataKey}),mhe=re([rp],t=>{if(t)return t.graphicalItemId}),Tj=re([df,u1,_j,c1],dj),ghe=re([Ds,Os,Et,On,Bs,c1,Tj],fj),yhe=re([rp,ghe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vhe=re([rp],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),bhe=re([Tj,ru,Ls,ep,Ej,hj,u1],pj);re([bhe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return(e=Ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ehe(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xhe=()=>Le(Ln),She=()=>{var t=xhe(),e=Le(Bs),n=Le(bj);return ly(!t||!n?void 0:bL(bL({},t),{},{scale:n}),e)};function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ihe=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Phe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return sc(sc(sc({},r),Sn(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return sc(sc(sc({},r),Sn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Rhe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var xj=(t,e,n,r,i)=>{var o,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<a;u++){var c,f,h,p,g,E=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[a-1])===null||f===void 0?void 0:f.coordinate,x=(h=n[u])===null||h===void 0?void 0:h.coordinate,S=u>=a-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(E==null||x==null||S==null))if(or(x-E)!==or(S-x)){var P=[];if(or(S-x)===or(i[1]-i[0])){w=S;var L=x+i[1]-i[0];P[0]=Math.min(L,(L+E)/2),P[1]=Math.max(L,(L+E)/2)}else{w=E;var D=S+i[1]-i[0];P[0]=Math.min(x,(D+x)/2),P[1]=Math.max(x,(D+x)/2)}var B=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(t>B[0]&&t<=B[1]||t>=P[0]&&t<=P[1]){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}else{var U=Math.min(E,S),N=Math.max(E,S);if(t>(U+x)/2&&t<=(N+x)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var V=0;V<a;V++){var z=e[V];if(z!=null){var q=e[V+1],H=e[V-1];if(V===0&&q!=null&&t<=(z.coordinate+q.coordinate)/2||V===a-1&&H!=null&&t>(z.coordinate+H.coordinate)/2||V>0&&V<a-1&&H!=null&&q!=null&&t>(z.coordinate+H.coordinate)/2&&t<=(z.coordinate+q.coordinate)/2)return z.index}}return-1},Mhe=()=>Le(MA),d1=(t,e)=>e,Sj=(t,e,n)=>n,h1=(t,e,n,r)=>r,Nhe=re(Bs,t=>yv(t,e=>e.coordinate)),p1=re([df,d1,Sj,h1],cj),m1=re([p1,pf,ep,np],s1),Dhe=(t,e,n)=>{if(e!=null){var r=df(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},wj=re([df,d1,Sj,h1],dj),Ny=re([Ds,Os,Et,On,Bs,h1,wj],fj),Ohe=re([p1,Ny],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Aj=re([Bs,m1],oj),khe=re([wj,m1,Ls,ep,Aj,hj,d1],pj),Lhe=re([p1,m1],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Vhe=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&Rhe(t,a)){var u=ise(t,e),c=xj(u,o,i,n,r),f=Ihe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},Uhe=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var u=Tle(t,n);if(u){var c=ose(u,e),f=xj(c,a,o,r,i),h=Phe(e,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},Bhe=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Vhe(t,e,r,i,o,a,u):Uhe(t,e,n,r,i,o,a)},Fhe=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),jhe=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(mr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Tfe}});function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e,n){return(e=qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ghe={},$he={zIndexMap:Object.values(mr).reduce((t,e)=>TL(TL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ghe)},Khe=new Set(Object.values(mr));function Yhe(t){return Khe.has(t)}var Cj=Ur({name:"zIndex",initialState:$he,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Yhe(n)&&delete t.zIndexMap[n])},prepare:Wt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Wt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Wt()}}}),{registerZIndexPortal:Whe,unregisterZIndexPortal:Jhe,registerZIndexPortalElement:Xhe,unregisterZIndexPortalElement:Qhe}=Cj.actions,Zhe=Cj.reducer;function qo(t){var{zIndex:e,children:n}=t,r=Vse(),i=r&&e!==void 0&&e!==0,o=ei(),a=Bt();A.useLayoutEffect(()=>i?(a(Whe({zIndex:e})),()=>{a(Jhe({zIndex:e}))}):rf,[a,e,i]);var u=Le(c=>Fhe(c,e,o));return i?u?Vw.createPortal(n,u):null:n}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(null,arguments)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return typeof e=="symbol"?e:e+""}function npe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rpe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function ipe(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,E=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var x,S,w;if(h==="ScatterChart")x=p,S=Lae,w=mr.cursorLine;else if(h==="BarChart")x=Vae(u,p,o,a),S=S6,w=mr.cursorRectangle;else if(u==="radial"&&a5(p)){var{cx:P,cy:L,radius:D,startAngle:B,endAngle:F}=A6(p);x={cx:P,cy:L,startAngle:B,endAngle:F,innerRadius:D,outerRadius:D},S=I6,w=mr.cursorLine}else x={points:Ale(u,p,o)},S=oA,w=mr.cursorLine;var U=typeof c=="object"&&"className"in c?c.className:void 0,N=ng(ng(ng(ng({stroke:"#ccc",pointerEvents:"none"},o),x),fh(c)),{},{payload:g,payloadIndex:E,className:At("recharts-tooltip-cursor",U)});return A.createElement(qo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},A.createElement(rpe,{cursor:c,cursorComp:S,cursorProps:N}))}function ope(t){var e=She(),n=kse(),r=of(),i=Mhe();return e==null||n==null||r==null||i==null?null:A.createElement(ipe,aS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Ij=A.createContext(null),spe=()=>A.useContext(Ij),uT={exports:{}},SL;function ape(){return SL||(SL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,p||c,g),x=n?n+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],E]:c._events[x].push(E):(c._events[x]=E,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,E=p.length,x=new Array(E);g<E;g++)x[g]=p[g].fn;return x},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,E,x){var S=n?n+f:f;if(!this._events[S])return!1;var w=this._events[S],P=arguments.length,L,D;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),P){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,E),!0;case 6:return w.fn.call(w.context,h,p,g,E,x),!0}for(D=1,L=new Array(P-1);D<P;D++)L[D-1]=arguments[D];w.fn.apply(w.context,L)}else{var B=w.length,F;for(D=0;D<B;D++)switch(w[D].once&&this.removeListener(f,w[D].fn,void 0,!0),P){case 1:w[D].fn.call(w[D].context);break;case 2:w[D].fn.call(w[D].context,h);break;case 3:w[D].fn.call(w[D].context,h,p);break;case 4:w[D].fn.call(w[D].context,h,p,g);break;default:if(!L)for(F=1,L=new Array(P-1);F<P;F++)L[F-1]=arguments[F];w[D].fn.apply(w[D].context,L)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var E=n?n+f:f;if(!this._events[E])return this;if(!h)return a(this,E),this;var x=this._events[E];if(x.fn)x.fn===h&&(!g||x.once)&&(!p||x.context===p)&&a(this,E);else{for(var S=0,w=[],P=x.length;S<P;S++)(x[S].fn!==h||g&&!x[S].once||p&&x[S].context!==p)&&w.push(x[S]);w.length?this._events[E]=w.length===1?w[0]:w:a(this,E)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(uT)),uT.exports}var lpe=ape();const upe=zo(lpe);var wh=new upe,lS="recharts.syncEvent.tooltip",wL="recharts.syncEvent.brush",Pj=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Uo(n))return t[n]}},cpe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Rj=Ur({name:"options",initialState:cpe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fpe=Rj.reducer,{createEventEmitter:dpe}=Rj.actions;function hpe(t){return t.tooltip.syncInteraction}var ppe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Mj=Ur({name:"chartData",initialState:ppe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AL,setDataStartEndIndexes:mpe,setComputedData:Mwe}=Mj.actions,gpe=Mj.reducer,ype=["x","y"];function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e,n){return(e=bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bpe(t){var e=_pe(t,"string");return typeof e=="symbol"?e:e+""}function _pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Epe(t,e){if(t==null)return{};var n,r,i=Tpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xpe(){var t=Le(NA),e=Le(DA),n=Bt(),r=Le(SF),i=Le(Bs),o=of(),a=Nv(),u=Le(c=>c.rootProps.className);A.useEffect(()=>{if(t==null)return rf;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(a&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x,y:S}=E,w=Epe(E,ype),{x:P,y:L,width:D,height:B}=h.payload.sourceViewBox,F=ac(ac({},w),{},{x:a.x+(D?(x-P)/D:0)*a.width,y:a.y+(B?(S-L)/B:0)*a.height});n(ac(ac({},h),{},{payload:ac(ac({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var U;if(typeof r=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,N);U=i[O]}else r==="value"&&(U=i.find(X=>String(X.value)===h.payload.label));var{coordinate:V}=h.payload;if(U==null||h.payload.active===!1||V==null||a==null){n(oS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:q}=V,H=Math.min(z,a.x+a.width),$=Math.min(q,a.y+a.height),ve={x:o==="horizontal"?U.coordinate:H,y:o==="horizontal"?$:U.coordinate},Ee=oS({active:h.payload.active,coordinate:ve,dataKey:h.payload.dataKey,index:String(U.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Ee)}}};return wh.on(lS,c),()=>{wh.off(lS,c)}},[u,n,e,t,r,i,o,a])}function Spe(){var t=Le(NA),e=Le(DA),n=Bt();A.useEffect(()=>{if(t==null)return rf;var r=(i,o,a)=>{e!==a&&t===i&&n(mpe(o))};return wh.on(wL,r),()=>{wh.off(wL,r)}},[n,e,t])}function wpe(){var t=Bt();A.useEffect(()=>{t(dpe())},[t]),xpe(),Spe()}function Ape(t,e,n,r,i,o){var a=Le(E=>Dhe(E,t,e)),u=Le(DA),c=Le(NA),f=Le(SF),h=Le(hpe),p=h==null?void 0:h.active,g=Nv();A.useEffect(()=>{if(!p&&c!=null&&u!=null){var E=oS({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});wh.emit(lS,c,E,u)}},[p,n,a,i,r,u,c,f,o,g])}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){Cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cpe(t,e,n){return(e=Ipe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ipe(t){var e=Ppe(t,"string");return typeof e=="symbol"?e:e+""}function Ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rpe(t){return t.dataKey}function Mpe(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(mae,e)}var RL=[],Npe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dy(t){var e,n,r=ar(t,Npe),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:E,reverseDirection:x,useTranslate3d:S,wrapperStyle:w,cursor:P,shared:L,trigger:D,defaultIndex:B,portal:F,axisId:U}=r,N=Bt(),O=typeof B=="number"?String(B):B;A.useEffect(()=>{N(Ide({shared:L,trigger:D,axisId:U,active:i,defaultIndex:O}))},[N,L,D,U,i,O]);var V=Nv(),z=b6(),q=Tde(L),{activeIndex:H,isActive:$}=(e=Le(_e=>Lhe(_e,q,D,O)))!==null&&e!==void 0?e:{},ve=Le(_e=>khe(_e,q,D,O)),Ee=Le(_e=>Aj(_e,q,D,O)),X=Le(_e=>Ohe(_e,q,D,O)),te=ve,de=spe(),ue=(n=i??$)!==null&&n!==void 0?n:!1,[K,k]=E5([te,ue]),J=q==="axis"?Ee:void 0;Ape(q,D,X,J,H,ue);var se=F??de;if(se==null||V==null||q==null)return null;var ce=te??RL;ue||(ce=RL),f&&ce.length&&(ce=g5(ce.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),g,Rpe));var be=ce.length>0,Te=A.createElement(Tae,{allowEscapeViewBox:o,animationDuration:a,animationEasing:u,isAnimationActive:h,active:ue,coordinate:X,hasPayload:be,offset:p,position:E,reverseDirection:x,useTranslate3d:S,viewBox:V,wrapperStyle:w,lastBoundingBox:K,innerRef:k,hasPortalFromProps:!!F},Mpe(c,PL(PL({},r),{},{payload:ce,label:J,active:ue,activeIndex:H,coordinate:X,accessibilityLayer:z})));return A.createElement(A.Fragment,null,Vw.createPortal(Te,se),ue&&A.createElement(ope,{cursor:P,tooltipEventType:q,coordinate:X,payload:ce,index:H}))}var Pa=t=>null;Pa.displayName="Cell";function Dpe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=kpe(t,"string");return typeof e=="symbol"?e:e+""}function kpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lpe{constructor(e){Dpe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){Upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e,n){return(e=Bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=Fpe(t,"string");return typeof e=="symbol"?e:e+""}function Fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jpe={cacheSize:2e3,enableCache:!0},Nj=Vpe({},jpe),NL=new Lpe(Nj.cacheSize),zpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DL="recharts_measurement_span";function qpe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var OL=(t,e)=>{try{var n=document.getElementById(DL);n||(n=document.createElement("span"),n.setAttribute("id",DL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zpe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Lv.isSsr)return{width:0,height:0};if(!Nj.enableCache)return OL(e,n);var r=qpe(e,n),i=NL.get(r);if(i)return i;var o=OL(e,n);return NL.set(r,o),o},Dj;function Hpe(t,e,n){return(e=Gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gpe(t){var e=$pe(t,"string");return typeof e=="symbol"?e:e+""}function $pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ype=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wpe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jpe=["cm","mm","pt","pc","in","Q","px"];function Xpe(t){return Jpe.includes(t)}var xc="NaN";function Qpe(t,e){return t*Wpe[e]}class nr{static parse(e){var n,[,r,i]=(n=Ype.exec(e))!==null&&n!==void 0?n:[];return r==null?nr.NaN:new nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Uo(e)&&(this.unit=""),n!==""&&!Kpe.test(n)&&(this.num=NaN,this.unit=""),Xpe(n)&&(this.num=Qpe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uo(this.num)}}Dj=nr;Hpe(nr,"NaN",new Dj(NaN,""));function Oj(t){if(t==null||t.includes(xc))return xc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=kL.exec(e))!==null&&n!==void 0?n:[],a=nr.parse(r??""),u=nr.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return xc;e=e.replace(kL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=LL.exec(e))!==null&&f!==void 0?f:[],E=nr.parse(h??""),x=nr.parse(g??""),S=p==="+"?E.add(x):E.subtract(x);if(S.isNaN())return xc;e=e.replace(LL,S.toString())}return e}var VL=/\(([^()]*)\)/;function Zpe(t){for(var e=t,n;(n=VL.exec(e))!=null;){var[,r]=n;e=e.replace(VL,Oj(r))}return e}function eme(t){var e=t.replace(/\s+/g,"");return e=Zpe(e),e=Oj(e),e}function tme(t){try{return eme(t)}catch{return xc}}function cT(t){var e=tme(t.slice(5,-1));return e===xc?"":e}var nme=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rme=["dx","dy","angle","className","breakAll"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}function UL(t,e){if(t==null)return{};var n,r,i=ime(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kj=/[ \f\n\r\t\v\u2028\u2029]+/,Lj=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gn(e)||(n?i=e.toString().split(""):i=e.toString().split(kj));var o=i.map(u=>({word:u,width:Jd(u,r).width})),a=n?0:Jd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function ome(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Vj=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(a),c.width+=u+n;else{var f={words:[a],width:u};i.push(f)}return i},[]),Uj=t=>t.reduce((e,n)=>e.width>n.width?e:n),sme="",BL=(t,e,n,r,i,o,a,u)=>{var c=t.slice(0,e),f=Lj({breakAll:n,style:r,children:c+sme});if(!f)return[!1,[]];var h=Vj(f.wordsWithComputedWidth,o,a,u),p=h.length>i||Uj(h).width>Number(o);return[p,h]},ame=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,f=Ve(o),h=String(a),p=Vj(e,r,n,i);if(!f||i)return p;var g=p.length>o||Uj(p).width>Number(r);if(!g)return p;for(var E=0,x=h.length-1,S=0,w;E<=x&&S<=h.length-1;){var P=Math.floor((E+x)/2),L=P-1,[D,B]=BL(h,L,c,u,o,r,n,i),[F]=BL(h,P,c,u,o,r,n,i);if(!D&&!F&&(E=P+1),D&&F&&(x=P-1),!D&&F){w=B;break}S++}return w||p},FL=t=>{var e=Gn(t)?[]:t.toString().split(kj);return[{words:e,width:void 0}]},lme=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Lv.isSsr){var u,c,f=Lj({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return FL(r);return ame({breakAll:o,children:r,maxLines:a,style:i},u,c,e,!!n)}return FL(r)},Bj="#808080",ume={angle:0,breakAll:!1,capHeight:"0.71em",fill:Bj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},r0=A.forwardRef((t,e)=>{var n=ar(t,ume),{x:r,y:i,lineHeight:o,capHeight:a,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=UL(n,nme),g=A.useMemo(()=>lme({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:E,dy:x,angle:S,className:w,breakAll:P}=p,L=UL(p,rme);if(!Bo(r)||!Bo(i)||g.length===0)return null;var D=Number(r)+(Ve(E)?E:0),B=Number(i)+(Ve(x)?x:0);if(!vt(D)||!vt(B))return null;var F;switch(h){case"start":F=cT("calc(".concat(a,")"));break;case"middle":F=cT("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:F=cT("calc(".concat(g.length-1," * -").concat(o,")"));break}var U=[],N=g[0];if(c&&N!=null){var O=N.width,{width:V}=p;U.push("scale(".concat(Ve(V)&&Ve(O)?V/O:1,")"))}return S&&U.push("rotate(".concat(S,", ").concat(D,", ").concat(B,")")),U.length&&(L.transform=U.join(" ")),A.createElement("text",uS({},wi(L),{ref:e,x:D,y:B,className:At("recharts-text",w),textAnchor:f,fill:u.includes("url")?Bj:u}),g.map((z,q)=>{var H=z.words.join(P?"":" ");return A.createElement("tspan",{x:D,dy:q===0?F:o,key:"".concat(H,"-").concat(q)},H)}))});r0.displayName="Text";function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e,n){return(e=fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=dme(t,"string");return typeof e=="symbol"?e:e+""}function dme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hme=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:o,y:a,height:u,upperWidth:c,lowerWidth:f}=nA(e),h=o,p=o+(c-f)/2,g=(h+p)/2,E=(c+f)/2,x=h+c/2,S=u>=0?1:-1,w=S*r,P=S>0?"end":"start",L=S>0?"start":"end",D=c>=0?1:-1,B=D*r,F=D>0?"end":"start",U=D>0?"start":"end",N=i;if(n==="top"){var O={x:h+c/2,y:a-w,horizontalAnchor:"middle",verticalAnchor:P};return N&&(O.height=Math.max(a-N.y,0),O.width=c),O}if(n==="bottom"){var V={x:p+f/2,y:a+u+w,horizontalAnchor:"middle",verticalAnchor:L};return N&&(V.height=Math.max(N.y+N.height-(a+u),0),V.width=f),V}if(n==="left"){var z={x:g-B,y:a+u/2,horizontalAnchor:F,verticalAnchor:"middle"};return N&&(z.width=Math.max(z.x-N.x,0),z.height=u),z}if(n==="right"){var q={x:g+E+B,y:a+u/2,horizontalAnchor:U,verticalAnchor:"middle"};return N&&(q.width=Math.max(N.x+N.width-q.x,0),q.height=u),q}var H=N?{width:E,height:u}:{};return n==="insideLeft"?wo({x:g+B,y:a+u/2,horizontalAnchor:U,verticalAnchor:"middle"},H):n==="insideRight"?wo({x:g+E-B,y:a+u/2,horizontalAnchor:F,verticalAnchor:"middle"},H):n==="insideTop"?wo({x:h+c/2,y:a+w,horizontalAnchor:"middle",verticalAnchor:L},H):n==="insideBottom"?wo({x:p+f/2,y:a+u-w,horizontalAnchor:"middle",verticalAnchor:P},H):n==="insideTopLeft"?wo({x:h+B,y:a+w,horizontalAnchor:U,verticalAnchor:L},H):n==="insideTopRight"?wo({x:h+c-B,y:a+w,horizontalAnchor:F,verticalAnchor:L},H):n==="insideBottomLeft"?wo({x:p+B,y:a+u-w,horizontalAnchor:U,verticalAnchor:P},H):n==="insideBottomRight"?wo({x:p+f-B,y:a+u-w,horizontalAnchor:F,verticalAnchor:P},H):n&&typeof n=="object"&&(Ve(n.x)||Ql(n.x))&&(Ve(n.y)||Ql(n.y))?wo({x:o+gr(n.x,E),y:a+gr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},H):wo({x,y:a+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},pme=["labelRef"],mme=["content"];function zL(t,e){if(t==null)return{};var n,r,i=gme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(null,arguments)}var Fj=A.createContext(null),_me=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:u}=t,c=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return A.createElement(Fj.Provider,{value:c},u)},jj=()=>{var t=A.useContext(Fj),e=Nv();return t||(e?nA(e):void 0)},Eme=A.createContext(null),Tme=()=>{var t=A.useContext(Eme),e=Le(PF);return t||e},xme=t=>{var{value:e,formatter:n}=t,r=Gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},g1=t=>t!=null&&typeof t=="function",Sme=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wme=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:E}=i,x=(f+h)/2,S=Sme(p,g),w=S>=0?1:-1,P,L;switch(e){case"insideStart":P=p+w*o,L=E;break;case"insideEnd":P=g-w*o,L=!E;break;case"end":P=g+w*o,L=E;break;default:throw new Error("Unsupported position ".concat(e))}L=S<=0?L:!L;var D=Sn(u,c,x,P),B=Sn(u,c,x,P+(L?1:-1)*359),F="M".concat(D.x,",").concat(D.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(L?0:1,`,
    `).concat(B.x,",").concat(B.y),U=Gn(t.id)?dh("recharts-radial-line-"):t.id;return A.createElement("text",hs({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:U,d:F})),A.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Ame=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=Sn(r,i,a+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+a)/2,{x:E,y:x}=Sn(r,i,g,f);return{x:E,y:x,textAnchor:"middle",verticalAnchor:"middle"}},xg=t=>t!=null&&"cx"in t&&Ve(t.cx),Cme={angle:0,offset:5,zIndex:mr.label,position:"middle",textBreakAll:!1};function Ime(t){if(!xg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ta(t){var e=ar(t,Cme),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:u,className:c="",textBreakAll:f,labelRef:h}=e,p=Tme(),g=jj(),E=i==="center"?g:p??g,x,S,w;n==null?x=E:xg(n)?x=n:x=nA(n);var P=Ime(x);if(!x||Gn(o)&&Gn(a)&&!A.isValidElement(u)&&typeof u!="function")return null;var L=Fd(Fd({},e),{},{viewBox:x});if(A.isValidElement(u)){var{labelRef:D}=L,B=zL(L,pme);return A.cloneElement(u,B)}if(typeof u=="function"){var{content:F}=L,U=zL(L,mme);if(S=A.createElement(u,U),A.isValidElement(S))return S}else S=xme(e);var N=wi(e);if(xg(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return wme(e,i,S,N,x);w=Ame(x,e.offset,e.position)}else{if(!P)return null;var O=hme({viewBox:P,position:i,offset:e.offset,parentViewBox:xg(r)?void 0:r});w=Fd(Fd({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return A.createElement(qo,{zIndex:e.zIndex},A.createElement(r0,hs({ref:h,className:At("recharts-label",c)},N,w,{textAnchor:ome(N.textAnchor)?N.textAnchor:w.textAnchor,breakAll:f}),S))}Ta.displayName="Label";var Pme=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Ta,hs({key:"label-implicit"},r)):Bo(t)?A.createElement(Ta,hs({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Ta?A.cloneElement(t,Fd({key:"label-implicit"},r)):A.createElement(Ta,hs({key:"label-implicit",content:t},r)):g1(t)?A.createElement(Ta,hs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Ta,hs({},t,{key:"label-implicit"},r)):null};function Rme(t){var{label:e,labelRef:n}=t,r=jj();return Pme(e,r,n)||null}var fT={},dT={},HL;function Mme(){return HL||(HL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(dT)),dT}var hT={},GL;function Nme(){return GL||(GL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(hT)),hT}var $L;function Dme(){return $L||($L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mme(),n=Nme(),r=Gw();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(fT)),fT}var pT,KL;function Ome(){return KL||(KL=1,pT=Dme().last),pT}var kme=Ome();const Lme=zo(kme);var Vme=["valueAccessor"],Ume=["dataKey","clockWise","id","textBreakAll","zIndex"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function YL(t,e){if(t==null)return{};var n,r,i=Bme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fme=t=>Array.isArray(t.value)?Lme(t.value):t.value,zj=A.createContext(void 0),jme=zj.Provider,qj=A.createContext(void 0),zme=qj.Provider;function qme(){return A.useContext(zj)}function Hme(){return A.useContext(qj)}function Sg(t){var{valueAccessor:e=Fme}=t,n=YL(t,Vme),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:u}=n,c=YL(n,Ume),f=qme(),h=Hme(),p=f||h;return!p||!p.length?null:A.createElement(qo,{zIndex:u??mr.label},A.createElement(wr,{className:"recharts-label-list"},p.map((g,E)=>{var x,S=Gn(r)?e(g,E):Gt(g.payload,r),w=Gn(o)?{}:{id:"".concat(o,"-").concat(E)};return A.createElement(Ta,Oy({key:"label-".concat(E)},wi(g),c,w,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:a,viewBox:g.viewBox,index:E,zIndex:0}))})))}Sg.displayName="LabelList";function Hj(t){var{label:e}=t;return e?e===!0?A.createElement(Sg,{key:"labelList-implicit"}):A.isValidElement(e)||g1(e)?A.createElement(Sg,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(Sg,Oy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Gj=t=>t.graphicalItems.polarItems,Gme=re([Zt,Qh],BA),i0=re([Gj,an,Gme],jA),$me=re([i0],zA),o0=re([$me,Gv],qA),Kme=re([o0,an,i0],GA);re([o0,an,i0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=Gt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Gt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var WL=()=>{},Yme=re([o0,an,i0,Zv,Zt],WA),Wme=re([an,KA,YA,WL,Yme,WL,Et,Zt],JA),$j=re([an,Et,o0,Kme,Xh,Zt,Wme],XA),Jme=re([$j,cf,Ja],e1),Xme=re([an,$j,Jme,Zt],n1);re([Ja,Xme],MF);var Qme={radiusAxis:{},angleAxis:{}},Kj=Ur({name:"polarAxis",initialState:Qme,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Nwe,removeRadiusAxis:Dwe,addAngleAxis:Owe,removeAngleAxis:kwe}=Kj.actions,Zme=Kj.reducer;function Yj(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rge=(t,e)=>e,y1=re([Gj,rge],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),ige=[],v1=(t,e,n)=>(n==null?void 0:n.length)===0?ige:n,Wj=re([Gv,y1,v1],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>XL(XL({},e.presentationProps),o.props))),i!=null)return i}}),oge=re([Wj,y1,v1],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,a=Gt(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Cv(a,e.dataKey),color:u,payload:r,type:e.legendType}})}),sge=re([Wj,y1,v1,On],(t,e,n,r)=>{if(!(e==null||t==null))return uye({offset:r,pieSettings:e,displayedData:t,cells:n})}),mT={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL;function age(){if(QL)return Mt;QL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var w=S.$$typeof;switch(w){case t:switch(S=S.type,S){case n:case i:case r:case c:case f:case g:return S;default:switch(S=S&&S.$$typeof,S){case a:case u:case p:case h:return S;case o:return S;default:return w}}case e:return w}}}return Mt.ContextConsumer=o,Mt.ContextProvider=a,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=p,Mt.Memo=h,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=c,Mt.SuspenseList=f,Mt.isContextConsumer=function(S){return x(S)===o},Mt.isContextProvider=function(S){return x(S)===a},Mt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Mt.isForwardRef=function(S){return x(S)===u},Mt.isFragment=function(S){return x(S)===n},Mt.isLazy=function(S){return x(S)===p},Mt.isMemo=function(S){return x(S)===h},Mt.isPortal=function(S){return x(S)===e},Mt.isProfiler=function(S){return x(S)===i},Mt.isStrictMode=function(S){return x(S)===r},Mt.isSuspense=function(S){return x(S)===c},Mt.isSuspenseList=function(S){return x(S)===f},Mt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===a||S.$$typeof===o||S.$$typeof===u||S.$$typeof===E||S.getModuleId!==void 0)},Mt.typeOf=x,Mt}var ZL;function lge(){return ZL||(ZL=1,mT.exports=age()),mT.exports}var uge=lge(),eV=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tV=null,gT=null,Jj=t=>{if(t===tV&&Array.isArray(gT))return gT;var e=[];return A.Children.forEach(t,n=>{Gn(n)||(uge.isFragment(n)?e=e.concat(Jj(n.props.children)):e.push(n))}),gT=e,tV=t,e};function b1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>eV(i)):r=[eV(e)],Jj(t).forEach(i=>{var o=Xl(i,"type.displayName")||Xl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var yT={},nV;function cge(){return nV||(nV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(yT)),yT}var vT,rV;function fge(){return rV||(rV=1,vT=cge().isPlainObject),vT}var dge=fge();const hge=zo(dge);var iV,oV,sV,aV,lV;function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return(e=mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function Od(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fV=(t,e,n,r,i)=>{var o=n-r,a;return a=on(iV||(iV=Od(["M ",",",""])),t,e),a+=on(oV||(oV=Od(["L ",",",""])),t+n,e),a+=on(sV||(sV=Od(["L ",",",""])),t+n-o/2,e+i),a+=on(aV||(aV=Od(["L ",",",""])),t+n-o/2-r,e+i),a+=on(lV||(lV=Od(["L ",","," Z"])),t,e),a},yge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vge=t=>{var e=ar(t,yge),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=A.useRef(null),[E,x]=A.useState(-1),S=A.useRef(i),w=A.useRef(o),P=A.useRef(a),L=A.useRef(n),D=A.useRef(r),B=Uv(t,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ve=g.current.getTotalLength();ve&&x(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var F=At("recharts-trapezoid",u);if(!p)return A.createElement("g",null,A.createElement("path",ky({},wi(e),{className:F,d:fV(n,r,i,o,a)})));var U=S.current,N=w.current,O=P.current,V=L.current,z=D.current,q="0px ".concat(E===-1?1:E,"px"),H="".concat(E,"px 0px"),$=_6(["strokeDasharray"],f,c);return A.createElement(Vv,{animationId:B,key:B,canBegin:E>0,duration:f,easing:c,isActive:p,begin:h},ve=>{var Ee=Rn(U,i,ve),X=Rn(N,o,ve),te=Rn(O,a,ve),de=Rn(V,n,ve),ue=Rn(z,r,ve);g.current&&(S.current=Ee,w.current=X,P.current=te,L.current=de,D.current=ue);var K=ve>0?{transition:$,strokeDasharray:H}:{strokeDasharray:q};return A.createElement("path",ky({},wi(e),{className:F,d:fV(de,ue,Ee,X,te),ref:g,style:cV(cV({},K),e.style)}))})},bge=["option","shapeType","activeClassName"];function _ge(t,e){if(t==null)return{};var n,r,i=Ege(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=xge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xge(t){var e=Sge(t,"string");return typeof e=="symbol"?e:e+""}function Sge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wge(t,e){return Ly(Ly({},e),t)}function Age(t,e){return t==="symbols"}function hV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(S6,n);case"trapezoid":return A.createElement(vge,n);case"sector":return A.createElement(I6,n);case"symbols":if(Age(e))return A.createElement(Hw,n);break;case"curve":return A.createElement(oA,n);default:return null}}function Cge(t){return A.isValidElement(t)?t.props:t}function Xj(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=_ge(t,bge),o;if(A.isValidElement(e))o=A.cloneElement(e,Ly(Ly({},i),Cge(e)));else if(typeof e=="function")o=e(i,i.index);else if(hge(e)&&typeof e!="boolean"){var a=wge(e,i);o=A.createElement(hV,{shapeType:n,elementProps:a})}else{var u=i;o=A.createElement(hV,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(wr,{className:r},o):o}var _1=(t,e,n)=>{var r=Bt();return(i,o)=>a=>{t==null||t(i,o,a),r(aj({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},E1=t=>{var e=Bt();return(n,r)=>i=>{t==null||t(n,r,i),e(Pde())}},T1=(t,e,n)=>{var r=Bt();return(i,o)=>a=>{t==null||t(i,o,a),r(Rde({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Qj(t){var{tooltipEntrySettings:e}=t,n=Bt(),r=ei(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(wde(e)):i.current!==e&&n(Ade({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Cde(i.current)),i.current=null)},[n]),null}function Ige(t){var{legendPayload:e}=t,n=Bt(),r=ei(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(m6(e)):i.current!==e&&n(g6({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(y6(i.current)),i.current=null)},[n]),null}function Pge(t){var{legendPayload:e}=t,n=Bt(),r=Le(Et),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(m6(e)):i.current!==e&&n(g6({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(y6(i.current)),i.current=null)},[n]),null}var bT,Rge=()=>{var[t]=A.useState(()=>dh("uid-"));return t},Mge=(bT=tG.useId)!==null&&bT!==void 0?bT:Rge;function Nge(t,e){var n=Mge();return e||(t?"".concat(t,"-").concat(n):n)}var Dge=A.createContext(void 0),Zj=t=>{var{id:e,type:n,children:r}=t,i=Nge("recharts-".concat(n),e);return A.createElement(Dge.Provider,{value:i},r(i))},Oge={cartesianItems:[],polarItems:[]},ez=Ur({name:"graphicalItems",initialState:Oge,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Wt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ji(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Wt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ji(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Wt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Wt()},removePolarGraphicalItem:{reducer(t,e){var n=Ji(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Wt()}}}),{addCartesianGraphicalItem:kge,replaceCartesianGraphicalItem:Lge,removeCartesianGraphicalItem:Vge,addPolarGraphicalItem:Uge,removePolarGraphicalItem:Bge}=ez.actions,Fge=ez.reducer,jge=t=>{var e=Bt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(kge(t)):n.current!==t&&e(Lge({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(Vge(n.current)),n.current=null)},[e]),null},zge=A.memo(jge);function qge(t){var e=Bt();return A.useLayoutEffect(()=>(e(Uge(t)),()=>{e(Bge(t))}),[e,t]),null}var Hge=["key"],Gge=["onMouseEnter","onClick","onMouseLeave"],$ge=["id"],Kge=["id"];function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){Yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Jge(t,"string");return typeof e=="symbol"?e:e+""}function Jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(null,arguments)}function s0(t,e){if(t==null)return{};var n,r,i=Xge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qge(t){var e=A.useMemo(()=>b1(t.children,Pa),[t.children]),n=Le(r=>oge(r,t.id,e));return n==null?null:A.createElement(Pge,{legendPayload:n})}var Zge=A.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:u,hide:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),getPosition:g=>{var E;return(E=r[Number(g)])===null||E===void 0?void 0:E.tooltipPosition},settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:Cv(u,e),hide:c,type:f,color:a,unit:"",graphicalItemId:h}};return A.createElement(Qj,{tooltipEntrySettings:p})}),eye=(t,e)=>t>e?"start":t<e?"end":"middle",tye=(t,e,n)=>gr(typeof e=="function"?e(t):e,n,n*.8),nye=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,u=w6(o,a),c=i+gr(t.cx,o,o/2),f=r+gr(t.cy,a,a/2),h=gr(t.innerRadius,u,0),p=tye(n,t.outerRadius,u),g=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},rye=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},iye=(t,e)=>{if(A.isValidElement(t))return A.cloneElement(t,e);if(typeof t=="function")return t(e);var n=At("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=s0(e,Hge);return A.createElement(oA,Ua({},i,{type:"linear",className:n}))},oye=(t,e,n)=>{if(A.isValidElement(t))return A.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),A.isValidElement(r)))return r;var i=At("recharts-pie-label-text",Yj(t));return A.createElement(r0,Ua({},e,{alignmentBaseline:"middle",className:i}),r)};function sye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var u=Vo(n),c=fh(i),f=fh(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,E)=>{var x=(g.startAngle+g.endAngle)/2,S=Sn(g.cx,g.cy,g.outerRadius+h,x),w=sn(sn(sn(sn({},u),g),{},{stroke:"none"},c),{},{index:E,textAnchor:eye(S.x,g.cx)},S),P=sn(sn(sn(sn({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:E,points:[Sn(g.cx,g.cy,g.outerRadius,x),S],key:"line"});return A.createElement(qo,{zIndex:mr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(E)},A.createElement(wr,null,o&&iye(o,P),oye(i,w,Gt(g,a))))});return A.createElement(wr,{className:"recharts-pie-labels"},p)}function aye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(Hj,{label:i}):A.createElement(sye,{sectors:e,props:n,showLabels:r})}function lye(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:a}=t,u=Le(ru),c=Le(f1),f=Le(mhe),{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,E=s0(i,Gge),x=_1(h,i.dataKey,a),S=E1(g),w=T1(p,i.dataKey,a);return e==null||e.length===0?null:A.createElement(A.Fragment,null,e.map((P,L)=>{if((P==null?void 0:P.startAngle)===0&&(P==null?void 0:P.endAngle)===0&&e.length!==1)return null;var D=f==null||f===a,B=String(L)===u&&(c==null||i.dataKey===c)&&D,F=u?r:null,U=n&&B?n:F,N=sn(sn({},P),{},{stroke:P.stroke,tabIndex:-1,[Z5]:L,[e6]:a});return A.createElement(wr,Ua({key:"sector-".concat(P==null?void 0:P.startAngle,"-").concat(P==null?void 0:P.endAngle,"-").concat(P.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},jh(E,P,L),{onMouseEnter:x(P,L),onMouseLeave:S(P,L),onClick:w(P,L)}),A.createElement(Xj,Ua({option:o??U,index:L,shapeType:"sector",isActive:B},N)))}))}function uye(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),E=rye(u,c),x=Math.abs(E),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(U=>Gt(U,f,0)!==0).length,P=(x>=360?w:w-1)*S,L=x-w*g-P,D=r.reduce((U,N)=>{var O=Gt(N,f,0);return U+(Ve(O)?O:0)},0),B;if(D>0){var F;B=r.map((U,N)=>{var O=Gt(U,f,0),V=Gt(U,h,N),z=nye(n,o,U),q=(Ve(O)?O:0)/D,H,$=sn(sn({},U),i&&i[N]&&i[N].props);N?H=F.endAngle+or(E)*S*(O!==0?1:0):H=u;var ve=H+or(E)*((O!==0?g:0)+q*L),Ee=(H+ve)/2,X=(z.innerRadius+z.outerRadius)/2,te=[{name:V,value:O,payload:$,dataKey:f,type:p,graphicalItemId:n.id}],de=Sn(z.cx,z.cy,X,Ee);return F=sn(sn(sn(sn({},n.presentationProps),{},{percent:q,cornerRadius:typeof a=="string"?parseFloat(a):a,name:V,tooltipPayload:te,midAngle:Ee,middleRadius:X,tooltipPosition:de},$),z),{},{value:O,dataKey:f,startAngle:H,endAngle:ve,payload:$,paddingAngle:or(E)*S}),F})}return B}function cye(t){var{showLabels:e,sectors:n,children:r}=t,i=A.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return A.createElement(zme,{value:e?i:void 0},r)}function fye(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,E=Uv(e,"recharts-pie-"),x=n.current,[S,w]=A.useState(!1),P=A.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),L=A.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return A.createElement(cye,{showLabels:!S,sectors:i},A.createElement(Vv,{animationId:E,begin:a,duration:u,isActive:o,easing:c,onAnimationStart:L,onAnimationEnd:P,key:E},D=>{var B,F=[],U=i&&i[0],N=(B=U==null?void 0:U.startAngle)!==null&&B!==void 0?B:0;return i==null||i.forEach((O,V)=>{var z=x&&x[V],q=V>0?Xl(O,"paddingAngle",0):0;if(z){var H=Rn(z.endAngle-z.startAngle,O.endAngle-O.startAngle,D),$=sn(sn({},O),{},{startAngle:N+q,endAngle:N+H+q});F.push($),N=$.endAngle}else{var{endAngle:ve,startAngle:Ee}=O,X=Rn(0,ve-Ee,D),te=sn(sn({},O),{},{startAngle:N+q,endAngle:N+X+q});F.push(te),N=te.endAngle}}),n.current=F,A.createElement(wr,null,A.createElement(lye,{sectors:F,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),A.createElement(aye,{showLabels:!S,sectors:i,props:e}),e.children)}var dye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mr.area};function hye(t){var{id:e}=t,n=s0(t,$ge),{hide:r,className:i,rootTabIndex:o}=t,a=A.useMemo(()=>b1(t.children,Pa),[t.children]),u=Le(h=>sge(h,e,a)),c=A.useRef(null),f=At("recharts-pie",i);return r||u==null?(c.current=null,A.createElement(wr,{tabIndex:o,className:f})):A.createElement(qo,{zIndex:t.zIndex},A.createElement(Zge,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),A.createElement(wr,{tabIndex:o,className:f},A.createElement(fye,{props:sn(sn({},n),{},{sectors:u}),previousSectorsRef:c,id:e})))}function x1(t){var e=ar(t,dye),{id:n}=e,r=s0(e,Kge),i=Vo(r);return A.createElement(Zj,{id:n,type:"pie"},o=>A.createElement(A.Fragment,null,A.createElement(qge,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),A.createElement(Qge,Ua({},r,{id:o})),A.createElement(hye,Ua({},r,{id:o}))))}x1.displayName="Pie";function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){pye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pye(t,e,n){return(e=mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=gye(t,"string");return typeof e=="symbol"?e:e+""}function gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tz=0,yye={xAxis:{},yAxis:{},zAxis:{}},nz=Ur({name:"cartesianAxis",initialState:yye,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Wt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Wt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Wt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Wt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Wt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Wt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Wt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Wt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Wt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...a,r].slice(-3);t.yAxis[n]=gV(gV({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:vye,replaceXAxis:bye,removeXAxis:_ye,addYAxis:Eye,replaceYAxis:Tye,removeYAxis:xye,addZAxis:Lwe,replaceZAxis:Vwe,removeZAxis:Uwe,updateYAxisWidth:Sye}=nz.actions,wye=nz.reducer,Aye=re([On],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Cye=re([Aye,Ds,Os],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),rz=()=>Le(Cye),yV=(t,e,n)=>{var r=n??t;if(!Gn(r))return gr(r,e,0)},Iye=(t,e,n)=>{var r={},i=t.filter(Wv),o=t.filter(f=>f.stackId==null),a=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},r),u=Object.entries(a).map(f=>{var h,[p,g]=f,E=g.map(S=>S.dataKey),x=yV(e,n,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:E,barSize:x}}),c=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=yV(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){Pye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pye(t,e,n){return(e=Rye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=Mye(t,"string");return typeof e=="symbol"?e:e+""}function Mye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nye(t,e,n,r,i){var o,a=r.length;if(!(a<1)){var u=gr(t,n,0,!0),c,f=[];if(vt((o=r[0])===null||o===void 0?void 0:o.barSize)){var h=!1,p=n/a,g=r.reduce((L,D)=>L+(D.barSize||0),0);g+=(a-1)*u,g>=n&&(g-=(a-1)*u,u=0),g>=n&&p>0&&(h=!0,p*=.9,g=a*p);var E=(n-g)/2>>0,x={offset:E-u,size:0};c=r.reduce((L,D)=>{var B,F={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:x.offset+x.size+u,size:h?p:(B=D.barSize)!==null&&B!==void 0?B:0}},U=[...L,F];return x=F.position,U},f)}else{var S=gr(e,n,0,!0);n-2*S-(a-1)*u<=0&&(u=0);var w=(n-2*S-(a-1)*u)/a;w>1&&(w>>=0);var P=vt(i)?Math.min(w,i):w;c=r.reduce((L,D,B)=>[...L,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:S+(w+u)*B+(w-P)/2,size:P}}],f)}return c}}var Dye=(t,e,n,r,i,o,a)=>{var u=Gn(a)?e:a,c=Nye(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(f=>rg(rg({},f),{},{position:rg(rg({},f.position),{},{offset:f.position.offset-i/2})}))),c},Oye=(t,e)=>{var n=VA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},kye=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Lye(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&vt(t.zIndex)?t.zIndex:e}var iz=t=>{var{chartData:e}=t,n=Bt(),r=ei();return A.useEffect(()=>r?()=>{}:(n(AL(e)),()=>{n(AL(void 0))}),[e,n,r]),null},bV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oz=Ur({name:"brush",initialState:bV,reducers:{setBrushSettings(t,e){return e.payload==null?bV:e.payload}}}),{setBrushSettings:Bwe}=oz.actions,Vye=oz.reducer;function Uye(t){return(t%180+180)%180}var Bye=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uye(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Fye={dots:[],areas:[],lines:[]},sz=Ur({name:"referenceElements",initialState:Fye,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ji(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ji(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ji(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Fwe,removeDot:jwe,addArea:zwe,removeArea:qwe,addLine:Hwe,removeLine:Gwe}=sz.actions,jye=sz.reducer,zye=A.createContext(void 0),qye=t=>{var{children:e}=t,[n]=A.useState("".concat(dh("recharts"),"-clip")),r=rz();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return A.createElement(zye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function az(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Hye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Bye(r,n)}function Gye(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Ah(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function $ye(t,e){return az(t,e+1)}function Kye(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,f=1,h=a,p=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:az(r,f)};var S=c,w,P=()=>(w===void 0&&(w=n(x,S)),w),L=x.coordinate,D=c===0||Ah(t,L,P,h,u);D||(c=0,h=a,f+=1),D&&(h=L+t*(P()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function Yye(t,e,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:u,end:c}=e,f=1;f<=a;f++){for(var h=(a-1)%f,p=u,g=!0,E=function(){var B=r[S];if(B==null)return 0;var F=S,U,N=()=>(U===void 0&&(U=n(B,F)),U),O=B.coordinate,V=S===h||Ah(t,O,N,p,c);if(!V)return g=!1,1;V&&(p=O+t*(N()/2+i))},x,S=h;S<a&&(x=E(),!(x!==0&&x===1));S+=f);if(g){for(var w=[],P=h;P<a;P+=f){var L=r[P];L!=null&&w.push(L)}return w}}return[]}function _V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_V(Object(n),!0).forEach(function(r){Wye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wye(t,e,n){return(e=Jye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jye(t){var e=Xye(t,"string");return typeof e=="symbol"?e:e+""}function Xye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qye(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,f=function(g){var E=o[g];if(E==null)return 1;var x=E,S,w=()=>(S===void 0&&(S=n(E,g)),S);if(g===a-1){var P=t*(x.coordinate+t*w()/2-c);o[g]=x=cr(cr({},x),{},{tickCoord:P>0?x.coordinate-P*t:x.coordinate})}else o[g]=x=cr(cr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var L=Ah(t,x.tickCoord,w,u,c);L&&(c=x.tickCoord-t*(w()/2+i),o[g]=cr(cr({},x),{},{isShow:!0}))}},h=a-1;h>=0;h--)f(h);return o}function Zye(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:f}=e;if(o){var h=r[u-1];if(h!=null){var p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);if(a[u-1]=h=cr(cr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var E=Ah(t,h.tickCoord,()=>p,c,f);E&&(f=h.tickCoord-t*(p/2+i),a[u-1]=cr(cr({},h),{},{isShow:!0}))}}}for(var x=o?u-1:u,S=function(L){var D=a[L];if(D==null)return 1;var B=D,F,U=()=>(F===void 0&&(F=n(D,L)),F);if(L===0){var N=t*(B.coordinate-t*U()/2-c);a[L]=B=cr(cr({},B),{},{tickCoord:N<0?B.coordinate-N*t:B.coordinate})}else a[L]=B=cr(cr({},B),{},{tickCoord:B.coordinate});if(B.tickCoord!=null){var O=Ah(t,B.tickCoord,U,c,f);O&&(c=B.tickCoord+t*(U()/2+i),a[L]=cr(cr({},B),{},{isShow:!0}))}},w=0;w<x;w++)S(w);return a}function eve(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ve(c)||Lv.isSsr){var g;return(g=$ye(i,Ve(c)?c:0))!==null&&g!==void 0?g:[]}var E=[],x=u==="top"||u==="bottom"?"width":"height",S=h&&x==="width"?Jd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(F,U)=>{var N=typeof f=="function"?f(F.value,U):F.value;return x==="width"?Hye(Jd(N,{fontSize:e,letterSpacing:n}),S,p):Jd(N,{fontSize:e,letterSpacing:n})[x]},P=i[0],L=i[1],D=i.length>=2&&P!=null&&L!=null?or(L.coordinate-P.coordinate):1,B=Gye(o,D,x);return c==="equidistantPreserveStart"?Kye(D,B,w,i,a):c==="equidistantPreserveEnd"?Yye(D,B,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?E=Zye(D,B,w,i,a,c==="preserveStartEnd"):E=Qye(D,B,w,i,a),E.filter(F=>F.isShow))}var tve=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>a&&(a=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=a+c+u+(n?r:0);return Math.round(f)}return 0},nve=["axisLine","width","height","className","hide","ticks","axisType"];function rve(t,e){if(t==null)return{};var n,r,i=ive(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ive(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(null,arguments)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return(e=sve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=ave(t,"string");return typeof e=="symbol"?e:e+""}function ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mr.axis};function lve(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=nn(nn(nn({},c),Vo(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!a||o==="bottom"&&a);f=nn(nn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(o==="left"&&!a||o==="right"&&a);f=nn(nn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",iu({},f,{className:At("recharts-cartesian-axis-line",Xl(u,"className"))}))}function uve(t,e,n,r,i,o,a,u,c){var f,h,p,g,E,x,S=u?-1:1,w=t.tickSize||a,P=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,g=n+ +!u*i,p=g-S*w,x=p-S*c,E=P;break;case"left":p=g=t.coordinate,h=e+ +!u*r,f=h-S*w,E=f-S*c,x=P;break;case"right":p=g=t.coordinate,h=e+ +u*r,f=h+S*w,E=f+S*c,x=P;break;default:f=h=t.coordinate,g=n+ +u*i,p=g+S*w,x=p+S*c,E=P;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:E,y:x}}}function cve(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function fve(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function dve(t){var{option:e,tickProps:n,value:r}=t,i,o=At(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,nn(nn({},n),{},{className:o}));else if(typeof e=="function")i=e(nn(nn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=At(a,Yj(e))),i=A.createElement(r0,iu({},n,{className:a}),r)}return i}var hve=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:E,width:x,height:S,tickSize:w,tickMargin:P,fontSize:L,letterSpacing:D,getTicksConfig:B,events:F,axisType:U}=t,N=eve(nn(nn({},B),{},{ticks:n}),L,D),O=cve(h,p),V=fve(h,p),z=Vo(B),q=fh(r),H={};typeof i=="object"&&(H=i);var $=nn(nn({},z),{},{fill:"none"},H),ve=N.map(te=>nn({entry:te},uve(te,g,E,x,S,h,w,p,P))),Ee=ve.map(te=>{var{entry:de,line:ue}=te;return A.createElement(wr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},i&&A.createElement("line",iu({},$,ue,{className:At("recharts-cartesian-axis-tick-line",Xl(i,"className"))})))}),X=ve.map((te,de)=>{var ue,K,{entry:k,tick:J}=te,se=nn(nn(nn(nn({verticalAnchor:V},z),{},{textAnchor:O,stroke:"none",fill:o},J),{},{index:de,payload:k,visibleTicksCount:N.length,tickFormatter:a,padding:c},f),{},{angle:(ue=(K=f==null?void 0:f.angle)!==null&&K!==void 0?K:z.angle)!==null&&ue!==void 0?ue:0}),ce=nn(nn({},se),q);return A.createElement(wr,iu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},jh(F,k,de)),r&&A.createElement(dve,{option:r,tickProps:ce,value:"".concat(typeof a=="function"?a(k.value,de):k.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},X.length>0&&A.createElement(qo,{zIndex:mr.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},X)),Ee.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},Ee))}),pve=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:u,axisType:c}=t,f=rve(t,nve),[h,p]=A.useState(""),[g,E]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return tve({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=A.useCallback(w=>{if(w){var P=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=P;var L=P[0];if(L){var D=window.getComputedStyle(L),B=D.fontSize,F=D.letterSpacing;(B!==h||F!==g)&&(p(B),E(F))}}},[h,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(qo,{zIndex:t.zIndex},A.createElement(wr,{className:At("recharts-cartesian-axis",o)},A.createElement(lve,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Vo(t)}),A.createElement(hve,{ref:S,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(_me,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(Rme,{label:t.label,labelRef:t.labelRef}),t.children)))}),S1=A.forwardRef((t,e)=>{var n=ar(t,Kl);return A.createElement(pve,iu({},n,{ref:e}))});S1.displayName="CartesianAxis";var mve={},lz=Ur({name:"errorBars",initialState:mve,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:$we,replaceErrorBar:Kwe,removeErrorBar:Ywe}=lz.actions,gve=lz.reducer,yve=["children"];function vve(t,e){if(t==null)return{};var n,r,i=bve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Eve=A.createContext(_ve);function Tve(t){var{children:e}=t,n=vve(t,yve);return A.createElement(Eve.Provider,{value:n},e)}function uz(t,e){var n,r,i=Le(f=>Vs(f,t)),o=Le(f=>Us(f,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zn.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function xve(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=rz(),{needClipX:o,needClipY:a,needClip:u}=uz(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?c:c-h/2,y:a?f:f-p/2,width:o?h:h*2,height:a?p:p*2}))}var _T={exports:{}},ET={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV;function Sve(){if(TV)return ET;TV=1;var t=Jc();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return ET.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var E=i(null);if(E.current===null){var x={hasValue:!1,value:null};E.current=x}else x=E.current;E=a(function(){function w(F){if(!P){if(P=!0,L=F,F=p(F),g!==void 0&&x.hasValue){var U=x.value;if(g(U,F))return D=U}return D=F}if(U=D,n(L,F))return U;var N=p(F);return g!==void 0&&g(U,N)?(L=F,U):(L=F,D=N)}var P=!1,L,D,B=h===void 0?null:h;return[function(){return w(f())},B===null?void 0:function(){return w(B())}]},[f,h,p,g]);var S=r(c,E[0],E[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),u(S),S},ET}var xV;function wve(){return xV||(xV=1,_T.exports=Sve()),_T.exports}wve();function Ave(t){t()}function Cve(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ave(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var SV={notify(){},get:()=>[]};function Ive(t,e){let n,r=SV,i=0,o=!1;function a(S){h();const w=r.subscribe(S);let P=!1;return()=>{P||(P=!0,w(),p())}}function u(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=Cve())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SV)}function g(){o||(o=!0,h())}function E(){o&&(o=!1,p())}const x={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:E,getListeners:()=>r};return x}var Pve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rve=Pve(),Mve=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nve=Mve(),Dve=()=>Rve||Nve?A.useLayoutEffect:A.useEffect,Ove=Dve();function wV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function kve(t,e){if(wV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!wV(t[n[i]],e[n[i]]))return!1;return!0}var TT=Symbol.for("react-redux-context"),xT=typeof globalThis<"u"?globalThis:{};function Lve(){if(!A.createContext)return{};const t=xT[TT]??(xT[TT]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Vve=Lve();function Uve(t){const{children:e,context:n,serverState:r,store:i}=t,o=A.useMemo(()=>{const c=Ive(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);Ove(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||Vve;return A.createElement(u.Provider,{value:o},e)}var Bve=Uve,Fve=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function jve(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function w1(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Fve.has(r)){if(t[r]==null&&e[r]==null)continue;if(!kve(t[r],e[r]))return!1}else if(!jve(t[r],e[r]))return!1;return!0}function du(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:tz}function hu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:tz}var zve="Invariant failed";function qve(t,e){throw new Error(zve)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(null,arguments)}function Vy(t){return A.createElement(Xj,cS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Hve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var o=Ve(r)||Gn(r);return o?e(r,i):(o||qve(),n)}},Gve=(t,e,n)=>n,$ve=(t,e)=>e,ip=re([FA,$ve],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Kve=re([ip],t=>t==null?void 0:t.maxBarSize),Yve=(t,e,n,r)=>r,Wve=re([Et,FA,du,hu,Gve],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Jve=(t,e,n)=>{var r=Et(t),i=du(t,e),o=hu(t,e);if(!(i==null||o==null))return r==="horizontal"?iS(t,"yAxis",o,n):iS(t,"xAxis",i,n)},Xve=(t,e)=>{var n=Et(t),r=du(t,e),i=hu(t,e);if(!(r==null||i==null))return n==="horizontal"?pL(t,"xAxis",r):pL(t,"yAxis",i)},Qve=re([Wve,mfe,Xve],Iye),Zve=(t,e,n)=>{var r,i,o=ip(t,e);if(o==null)return 0;var a=du(t,e),u=hu(t,e);if(a==null||u==null)return 0;var c=Et(t),f=EF(t),{maxBarSize:h}=o,p=Gn(h)?f:h,g,E;return c==="horizontal"?(g=Hc(t,"xAxis",a,n),E=qc(t,"xAxis",a,n)):(g=Hc(t,"yAxis",u,n),E=qc(t,"yAxis",u,n)),(r=(i=ly(g,E,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},cz=(t,e,n)=>{var r=Et(t),i=du(t,e),o=hu(t,e);if(!(i==null||o==null)){var a,u;return r==="horizontal"?(a=Hc(t,"xAxis",i,n),u=qc(t,"xAxis",i,n)):(a=Hc(t,"yAxis",o,n),u=qc(t,"yAxis",o,n)),ly(a,u)}},e0e=re([Qve,EF,pfe,TF,Zve,cz,Kve],Dye),t0e=(t,e,n)=>{var r=du(t,e);if(r!=null)return Hc(t,"xAxis",r,n)},n0e=(t,e,n)=>{var r=hu(t,e);if(r!=null)return Hc(t,"yAxis",r,n)},r0e=(t,e,n)=>{var r=du(t,e);if(r!=null)return qc(t,"xAxis",r,n)},i0e=(t,e,n)=>{var r=hu(t,e);if(r!=null)return qc(t,"yAxis",r,n)},o0e=re([e0e,ip],kye),s0e=re([Jve,ip],Oye),a0e=re([On,eA,t0e,n0e,r0e,i0e,o0e,Et,sfe,cz,s0e,ip,Yve],(t,e,n,r,i,o,a,u,c,f,h,p,g)=>{var{chartData:E,dataStartIndex:x,dataEndIndex:S}=c;if(!(p==null||a==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:w}=p,P;if(w!=null&&w.length>0?P=w:P=E==null?void 0:E.slice(x,S+1),P!=null)return k0e({layout:u,barSettings:p,pos:a,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:P,offset:t,cells:g,dataStartIndex:x})}}),l0e=["index"];function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function u0e(t,e){if(t==null)return{};var n,r,i=c0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fz=A.createContext(void 0),f0e=t=>{var e=A.useContext(fz);if(e!=null)return e.stackId;if(t!=null)return Zoe(t)},d0e=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),h0e=t=>{var e=A.useContext(fz);if(e!=null){var{stackId:n}=e;return"url(#".concat(d0e(n,t),")")}},dz=t=>{var{index:e}=t,n=u0e(t,l0e),r=h0e(e);return A.createElement(wr,fS({className:"recharts-bar-stack-layer",clipPath:r},n))},p0e=["onMouseEnter","onMouseLeave","onClick"],m0e=["value","background","tooltipPosition"],g0e=["id"],y0e=["onMouseEnter","onClick","onMouseLeave"];function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){v0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v0e(t,e,n){return(e=b0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=_0e(t,"string");return typeof e=="symbol"?e:e+""}function _0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uy(t,e){if(t==null)return{};var n,r,i=E0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function E0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T0e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Cv(n,e),payload:t}]},x0e=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:u,tooltipType:c,id:f}=t,h={dataDefinedOnItem:void 0,getPosition:rf,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Cv(o,e),hide:a,type:c,color:i,unit:u,graphicalItemId:f}};return A.createElement(Qj,{tooltipEntrySettings:h})});function S0e(t){var e=Le(ru),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:u,onClick:c}=o,f=Uy(o,p0e),h=_1(a,r,o.id),p=E1(u),g=T1(c,r,o.id);if(!i||n==null)return null;var E=fh(i);return A.createElement(qo,{zIndex:Lye(i,mr.barBackground)},n.map((x,S)=>{var{value:w,background:P,tooltipPosition:L}=x,D=Uy(x,m0e);if(!P)return null;var B=h(x,S),F=p(x,S),U=g(x,S),N=_r(_r(_r(_r(_r({option:i,isActive:String(S)===e},D),{},{fill:"#eee"},P),E),jh(f,x,S)),{},{onMouseEnter:B,onMouseLeave:F,onClick:U,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return A.createElement(Vy,Cs({key:"background-bar-".concat(S)},N))}))}function w0e(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return _r(_r({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return A.createElement(jme,{value:e?i:void 0},n)}function A0e(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,u=Le(ru),c=Le(f1),f=n&&String(o)===u&&(c==null||a===c),h=f?n:e;return f?A.createElement(qo,{zIndex:mr.activeBar},A.createElement(dz,{index:o},A.createElement(Vy,Cs({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:a})))):A.createElement(Vy,Cs({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:a}))}function C0e(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return A.createElement(Vy,Cs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function I0e(t){var e,{data:n,props:r}=t,i=(e=Vo(r))!==null&&e!==void 0?e:{},{id:o}=i,a=Uy(i,g0e),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,E=Uy(r,y0e),x=_1(h,c,o),S=E1(g),w=T1(p,c,o);return n?A.createElement(A.Fragment,null,n.map((P,L)=>A.createElement(dz,Cs({index:L,key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(L),className:"recharts-bar-rectangle"},jh(E,P,L),{onMouseEnter:x(P,L),onMouseLeave:S(P,L),onClick:w(P,L)}),f?A.createElement(A0e,{shape:u,activeBar:f,baseProps:a,entry:P,index:L,dataKey:c}):A.createElement(C0e,{shape:u,baseProps:a,entry:P,index:L,dataKey:c})))):null}function P0e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,g=Uv(e,"recharts-bar-"),[E,x]=A.useState(!1),S=!E,w=A.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),P=A.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return A.createElement(w0e,{showLabels:S,rects:r},A.createElement(Vv,{animationId:g,begin:a,duration:u,isActive:o,easing:c,onAnimationEnd:w,onAnimationStart:P,key:g},L=>{var D=L===1?r:r==null?void 0:r.map((B,F)=>{var U=p&&p[F];if(U)return _r(_r({},B),{},{x:Rn(U.x,B.x,L),y:Rn(U.y,B.y,L),width:Rn(U.width,B.width,L),height:Rn(U.height,B.height,L)});if(i==="horizontal"){var N=Rn(0,B.height,L),O=Rn(B.stackedBarStart,B.y,L);return _r(_r({},B),{},{y:O,height:N})}var V=Rn(0,B.width,L),z=Rn(B.stackedBarStart,B.x,L);return _r(_r({},B),{},{width:V,x:z})});return L>0&&(n.current=D??null),D==null?null:A.createElement(wr,null,A.createElement(I0e,{props:e,data:D}))}),A.createElement(Hj,{label:e.label}),e.children)}function R0e(t){var e=A.useRef(null);return A.createElement(P0e,{previousRectanglesRef:e,props:t})}var hz=0,M0e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Gt(t,e)}};class N0e extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=At("recharts-bar",i),p=f;return A.createElement(wr,{className:h,id:f},u&&A.createElement("defs",null,A.createElement(xve,{clipPathId:p,xAxisId:o,yAxisId:a})),A.createElement(wr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(S0e,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),A.createElement(R0e,this.props)))}}var D0e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hz,xAxisId:0,yAxisId:0,zIndex:mr.bar};function O0e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=uz(e,n),g=of(),E=ei(),x=b1(t.children,Pa),S=Le(L=>a0e(L,t.id,E,x));if(g!=="vertical"&&g!=="horizontal")return null;var w,P=S==null?void 0:S[0];return P==null||P.height==null||P.width==null?w=0:w=g==="vertical"?P.height/2:P.width/2,A.createElement(Tve,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:M0e,errorBarOffset:w},A.createElement(N0e,Cs({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function k0e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:E,parentViewBox:x,dataStartIndex:S}=t,w=e==="horizontal"?u:a,P=h?w.scale.domain():null,L=ese({numericAxis:w}),D=w.scale.map(L);return p.map((B,F)=>{var U,N,O,V,z,q;if(h){var H=h[F+S];if(H==null)return null;U=Yoe(H,P)}else U=Gt(B,n),Array.isArray(U)||(U=[L,U]);var $=Hve(r,hz)(U[1],F);if(e==="horizontal"){var ve,Ee=u.scale.map(U[0]),X=u.scale.map(U[1]);if(Ee==null||X==null)return null;N=d2({axis:a,ticks:c,bandSize:o,offset:i.offset,entry:B,index:F}),O=(ve=X??Ee)!==null&&ve!==void 0?ve:void 0,V=i.size;var te=Ee-X;if(z=Uo(te)?0:te,q={x:N,y:g.top,width:V,height:g.height},Math.abs($)>0&&Math.abs(z)<Math.abs($)){var de=or(z||$)*(Math.abs($)-Math.abs(z));O-=de,z+=de}}else{var ue=a.scale.map(U[0]),K=a.scale.map(U[1]);if(ue==null||K==null)return null;if(N=ue,O=d2({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:B,index:F}),V=K-ue,z=i.size,q={x:g.left,y:O,width:g.width,height:z},Math.abs($)>0&&Math.abs(V)<Math.abs($)){var k=or(V||$)*(Math.abs($)-Math.abs(V));V+=k}}if(N==null||O==null||V==null||z==null)return null;var J=_r(_r({},B),{},{stackedBarStart:D,x:N,y:O,width:V,height:z,value:h?U:U[1],payload:B,background:q,tooltipPosition:{x:N+V/2,y:O+z/2},parentViewBox:x},E&&E[F]&&E[F].props);return J}).filter(Boolean)}function L0e(t){var e=ar(t,D0e),n=f0e(e.stackId),r=ei();return A.createElement(Zj,{id:e.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Ige,{legendPayload:T0e(e)}),A.createElement(x0e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),A.createElement(zge,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),A.createElement(qo,{zIndex:e.zIndex},A.createElement(O0e,Cs({},e,{id:i})))))}var A1=A.memo(L0e,w1);A1.displayName="Bar";var V0e=["domain","range"],U0e=["domain","range"];function CV(t,e){if(t==null)return{};var n,r,i=B0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function pz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=CV(t,V0e),{domain:o,range:a}=e,u=CV(e,U0e);return!IV(n,o)||!IV(r,a)?!1:w1(i,u)}var F0e=["type"],j0e=["dangerouslySetInnerHTML","ticks","scale"],z0e=["id","scale"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q0e(t,e,n){return(e=H0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H0e(t){var e=G0e(t,"string");return typeof e=="symbol"?e:e+""}function G0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hS(t,e){if(t==null)return{};var n,r,i=$0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K0e(t){var e=Bt(),n=A.useRef(null),r=s6(),{type:i}=t,o=hS(t,F0e),a=Kv(r,"xAxis",i),u=A.useMemo(()=>{if(a!=null)return RV(RV({},o),{},{type:a})},[o,a]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?e(vye(u)):n.current!==u&&e(bye({prev:n.current,next:u})),n.current=u)},[u,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(_ye(n.current)),n.current=null)},[e]),null}var Y0e=t=>{var{xAxisId:e,className:n}=t,r=Le(eA),i=ei(),o="xAxis",a=Le(P=>tj(P,o,e,i)),u=Le(P=>XF(P,e)),c=Le(P=>mde(P,e)),f=Le(P=>NF(P,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=t,E=hS(t,j0e),{id:x,scale:S}=f,w=hS(f,z0e);return A.createElement(S1,dS({},E,w,{x:c.x,y:c.y,width:u.width,height:u.height,className:At("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},W0e={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:Kl.axisLine,height:jn.height,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,label:!1,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:Kl.tickLine,tickSize:Kl.tickSize,type:jn.type,xAxisId:0},J0e=t=>{var e=ar(t,W0e);return A.createElement(A.Fragment,null,A.createElement(K0e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(Y0e,e))},C1=A.memo(J0e,pz);C1.displayName="XAxis";var X0e=["type"],Q0e=["dangerouslySetInnerHTML","ticks","scale"],Z0e=["id","scale"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(null,arguments)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ebe(t,e,n){return(e=tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return typeof e=="symbol"?e:e+""}function nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mS(t,e){if(t==null)return{};var n,r,i=rbe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ibe(t){var e=Bt(),n=A.useRef(null),r=s6(),{type:i}=t,o=mS(t,X0e),a=Kv(r,"yAxis",i),u=A.useMemo(()=>{if(a!=null)return NV(NV({},o),{},{type:a})},[a,o]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Eye(u)):n.current!==u&&e(Tye({prev:n.current,next:u})),n.current=u)},[u,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(xye(n.current)),n.current=null)},[e]),null}function obe(t){var{yAxisId:e,className:n,width:r,label:i}=t,o=A.useRef(null),a=A.useRef(null),u=Le(eA),c=ei(),f=Bt(),h="yAxis",p=Le(U=>QF(U,e)),g=Le(U=>yde(U,e)),E=Le(U=>tj(U,h,e,c)),x=Le(U=>DF(U,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!p||g1(i)||A.isValidElement(i)||x==null)){var U=o.current;if(U){var N=U.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&f(Sye({id:e,width:N}))}}},[E,p,f,i,e,r,x]),p==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:w,scale:P}=t,L=mS(t,Q0e),{id:D,scale:B}=x,F=mS(x,Z0e);return A.createElement(S1,pS({},L,F,{ref:o,labelRef:a,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:At("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:E,axisType:h}))}var sbe={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,angle:zn.angle,axisLine:Kl.axisLine,hide:!1,includeHidden:zn.includeHidden,interval:zn.interval,label:!1,minTickGap:zn.minTickGap,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,tickLine:Kl.tickLine,tickSize:Kl.tickSize,type:zn.type,width:zn.width,yAxisId:0},abe=t=>{var e=ar(t,sbe);return A.createElement(A.Fragment,null,A.createElement(ibe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(obe,e))},I1=A.memo(abe,pz);I1.displayName="YAxis";var lbe=(t,e)=>e,P1=re([lbe,Et,PF,Yn,vj,Bs,Nhe,On],Bhe),R1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},mz=Ai("mouseClick"),gz=qh();gz.startListening({actionCreator:mz,effect:(t,e)=>{var n=t.payload,r=P1(e.getState(),R1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Mde({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var gS=Ai("mouseMove"),yz=qh(),ig=null;yz.startListening({actionCreator:gS,effect:(t,e)=>{var n=t.payload;ig!==null&&cancelAnimationFrame(ig);var r=R1(n);ig=requestAnimationFrame(()=>{var i=e.getState(),o=o1(i,i.tooltip.settings.shared);if(o==="axis"){var a=P1(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(uj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(lj())}ig=null})}});function ube(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var DV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vz=Ur({name:"rootProps",initialState:DV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:DV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cbe=vz.reducer,{updateOptions:fbe}=vz.actions,dbe=null,hbe={updatePolarOptions:(t,e)=>e.payload},bz=Ur({name:"polarOptions",initialState:dbe,reducers:hbe}),{updatePolarOptions:pbe}=bz.actions,mbe=bz.reducer,_z=Ai("keyDown"),Ez=Ai("focus"),M1=qh();M1.startListening({actionCreator:_z,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=s1(i,pf(n),ep(n),np(n)),u=a==null?-1:Number(a);if(!(!Number.isFinite(u)||u<0)){var c=Bs(n);if(o==="Enter"){var f=Ny(n,"axis","hover",String(i.index));e.dispatch(sS({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=Ede(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,E=u+g*p;if(!(c==null||E>=c.length||E<0)){var x=Ny(n,"axis","hover",String(E));e.dispatch(sS({active:!0,activeIndex:E.toString(),activeCoordinate:x}))}}}}}});M1.startListening({actionCreator:Ez,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Ny(n,"axis","hover",String(o));e.dispatch(sS({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var mi=Ai("externalEvent"),Tz=qh(),ST=new Map;Tz.startListening({actionCreator:mi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=ST.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:yhe(u),activeDataKey:f1(u),activeIndex:ru(u),activeLabel:Ej(u),activeTooltipIndex:ru(u),isTooltipActive:vhe(u)};n(c,r)}finally{ST.delete(i)}});ST.set(i,a)}}});var gbe=re([df],t=>t.tooltipItemPayloads),ybe=re([gbe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),xz=Ai("touchMove"),Sz=qh();Sz.startListening({actionCreator:xz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=o1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=P1(r,R1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(uj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Z5),p=(u=f.getAttribute(e6))!==null&&u!==void 0?u:void 0,g=hf(r).find(S=>S.id===p);if(h==null||g==null||p==null)return;var{dataKey:E}=g,x=ybe(r,h,p);e.dispatch(aj({activeDataKey:E,activeIndex:h,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var vbe=x5({brush:Vye,cartesianAxis:wye,chartData:gpe,errorBars:gve,graphicalItems:Fge,layout:qoe,legend:Xse,options:fpe,polarAxis:Zme,polarOptions:mbe,referenceElements:jye,rootProps:cbe,tooltip:Nde,zIndex:Zhe}),bbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return poe({reducer:vbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([gz.middleware,yz.middleware,M1.middleware,Tz.middleware,Sz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(U5({type:"raf"}))},devTools:{serialize:{replacer:ube},name:"recharts-".concat(n)}})};function wz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ei(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=bbe(e,r));var a=Kw;return A.createElement(Bve,{context:a,store:o.current},n)}function _be(t){var{layout:e,margin:n}=t,r=Bt(),i=ei();return A.useEffect(()=>{i||(r(Foe(e)),r(Boe(n)))},[r,i,e,n]),null}var Az=A.memo(_be,w1);function Cz(t){var e=Bt();return A.useEffect(()=>{e(fbe(t))},[e,t]),null}function OV(t){var{zIndex:e,isPanorama:n}=t,r=A.useRef(null),i=Bt();return A.useLayoutEffect(()=>(r.current&&i(Xhe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Qhe({zIndex:e,isPanorama:n}))}),[i,e,n]),A.createElement("g",{tabIndex:-1,ref:r})}function kV(t){var{children:e,isPanorama:n}=t,r=Le(jhe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return A.createElement(A.Fragment,null,i.map(a=>A.createElement(OV,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>A.createElement(OV,{key:a,zIndex:a,isPanorama:n})))}var Ebe=["children"];function Tbe(t,e){if(t==null)return{};var n,r,i=xbe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}var Sbe={width:"100%",height:"100%",display:"block"},wbe=A.forwardRef((t,e)=>{var n=i6(),r=o6(),i=b6();if(!Va(n)||!Va(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,f,h;return a!=null&&(typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0),A.createElement(Lw,By({},a,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Sbe,ref:e}),o)}),Abe=t=>{var{children:e}=t,n=Le(Mv);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return A.createElement(Lw,{width:r,height:i,x:a,y:o},e)},LV=A.forwardRef((t,e)=>{var{children:n}=t,r=Tbe(t,Ebe),i=ei();return i?A.createElement(Abe,null,A.createElement(kV,{isPanorama:!0},n)):A.createElement(wbe,By({ref:e},r),A.createElement(kV,{isPanorama:!1},n))});function Cbe(){var t=Bt(),[e,n]=A.useState(null),r=Le(sse);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;vt(o)&&o!==r&&t(zoe(o))}},[e,t,r]),n}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ibe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){Pbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pbe(t,e,n){return(e=Rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Mbe(t,"string");return typeof e=="symbol"?e:e+""}function Mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(null,arguments)}var Nbe=()=>(wpe(),null);function Fy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Dbe=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[o,a]=A.useState({containerWidth:Fy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Fy((r=t.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{a(p=>{var g=Math.round(f),E=Math.round(h);return p.containerWidth===g&&p.containerHeight===E?p:{containerWidth:g,containerHeight:E}})},[]),c=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=x=>{var S=x[0];if(S!=null){var{width:w,height:P}=S.contentRect;u(w,P)}},E=new ResizeObserver(g);E.observe(f),i.current=E}},[e,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(Gh,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",Ra({ref:c},t)))}),Obe=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=A.useState({containerWidth:Fy(n),containerHeight:Fy(r)}),a=A.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=A.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();a(f,h)}},[e,a]);return A.createElement(A.Fragment,null,A.createElement(Gh,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Ra({ref:u},t)))}),kbe=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Gh,{width:n,height:r}),A.createElement("div",Ra({ref:e},t)))}),Lbe=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?A.createElement(Obe,Ra({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?A.createElement(kbe,Ra({},t,{width:n,height:r,ref:e})):A.createElement(A.Fragment,null,A.createElement(Gh,{width:n,height:r}),A.createElement("div",Ra({ref:e},t)))});function Vbe(t){return t?Dbe:Lbe}var Ube=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:E,onTouchMove:x,onTouchStart:S,style:w,width:P,responsive:L,dispatchTouchEvents:D=!0}=t,B=A.useRef(null),F=Bt(),[U,N]=A.useState(null),[O,V]=A.useState(null),z=Cbe(),q=tA(),H=(q==null?void 0:q.width)>0?q.width:P,$=(q==null?void 0:q.height)>0?q.height:i,ve=A.useCallback(ie=>{z(ie),typeof e=="function"&&e(ie),N(ie),V(ie),ie!=null&&(B.current=ie)},[z,e,N,V]),Ee=A.useCallback(ie=>{F(mz(ie)),F(mi({handler:o,reactEvent:ie}))},[F,o]),X=A.useCallback(ie=>{F(gS(ie)),F(mi({handler:f,reactEvent:ie}))},[F,f]),te=A.useCallback(ie=>{F(lj()),F(mi({handler:h,reactEvent:ie}))},[F,h]),de=A.useCallback(ie=>{F(gS(ie)),F(mi({handler:p,reactEvent:ie}))},[F,p]),ue=A.useCallback(()=>{F(Ez())},[F]),K=A.useCallback(ie=>{F(_z(ie.key))},[F]),k=A.useCallback(ie=>{F(mi({handler:a,reactEvent:ie}))},[F,a]),J=A.useCallback(ie=>{F(mi({handler:u,reactEvent:ie}))},[F,u]),se=A.useCallback(ie=>{F(mi({handler:c,reactEvent:ie}))},[F,c]),ce=A.useCallback(ie=>{F(mi({handler:g,reactEvent:ie}))},[F,g]),be=A.useCallback(ie=>{F(mi({handler:S,reactEvent:ie}))},[F,S]),Te=A.useCallback(ie=>{D&&F(xz(ie)),F(mi({handler:x,reactEvent:ie}))},[F,D,x]),_e=A.useCallback(ie=>{F(mi({handler:E,reactEvent:ie}))},[F,E]),Oe=Vbe(L);return A.createElement(Ij.Provider,{value:U},A.createElement(jB.Provider,{value:O},A.createElement(Oe,{width:H??(w==null?void 0:w.width),height:$??(w==null?void 0:w.height),className:At("recharts-wrapper",r),style:Ibe({position:"relative",cursor:"default",width:H,height:$},w),onClick:Ee,onContextMenu:k,onDoubleClick:J,onFocus:ue,onKeyDown:K,onMouseDown:se,onMouseEnter:X,onMouseLeave:te,onMouseMove:de,onMouseUp:ce,onTouchEnd:_e,onTouchMove:Te,onTouchStart:be,ref:ve},A.createElement(Nbe,null),n)))}),Bbe=["width","height","responsive","children","className","style","compact","title","desc"];function Fbe(t,e){if(t==null)return{};var n,r,i=jbe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Iz=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:u,compact:c,title:f,desc:h}=t,p=Fbe(t,Bbe),g=Vo(p);return c?A.createElement(A.Fragment,null,A.createElement(Gh,{width:n,height:r}),A.createElement(LV,{otherAttributes:g,title:f,desc:h},o)):A.createElement(Ube,{className:a,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(LV,{otherAttributes:g,title:f,desc:h,ref:e},A.createElement(qye,null,o)))});function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(null,arguments)}var zbe={top:5,right:5,bottom:5,left:5},qbe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zbe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Hbe=A.forwardRef(function(e,n){var r,i=ar(e.categoricalChartProps,qbe),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(wz,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},A.createElement(iz,{chartData:f.data}),A.createElement(Az,{layout:i.layout,margin:i.margin}),A.createElement(Cz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Iz,yS({},i,{ref:n})))}),Gbe=["axis","item"],Pz=A.forwardRef((t,e)=>A.createElement(Hbe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gbe,tooltipPayloadSearcher:Pj,categoricalChartProps:t,ref:e}));function $be(t){var e=Bt();return A.useEffect(()=>{e(pbe(t))},[e,t]),null}var Kbe=["layout"];function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}function Ybe(t,e){if(t==null)return{};var n,r,i=Wbe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jbe={top:5,right:5,bottom:5,left:5},Rz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xbe=A.forwardRef(function(e,n){var r,i=ar(e.categoricalChartProps,Rz),{layout:o}=i,a=Ybe(i,Kbe),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(wz,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(iz,{chartData:i.data}),A.createElement(Az,{layout:o,margin:i.margin}),A.createElement(Cz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement($be,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(Iz,vS({},a,{ref:n})))});function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){Qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qbe(t,e,n){return(e=Zbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zbe(t){var e=e_e(t,"string");return typeof e=="symbol"?e:e+""}function e_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_e=["item"],n_e=BV(BV({},Rz),{},{layout:"centric",startAngle:0,endAngle:360}),Mz=A.forwardRef((t,e)=>{var n=ar(t,n_e);return A.createElement(Xbe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:t_e,tooltipPayloadSearcher:Pj,categoricalChartProps:n,ref:e})});const r_e=({onStart:t,onClose:e})=>{const[n,r]=A.useState(""),[i,o]=A.useState(""),[a,u]=A.useState(""),c=()=>{if(!n.trim()||!i.trim()){u("Please fill in all fields");return}t(n,i)};return I.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/40 backdrop-blur-md",children:[I.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-blue-900 via-indigo-900 to-purple-900 opacity-95"}),I.jsxs(Ti.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 border border-white/20 mx-4 md:mx-0 max-h-[90vh] flex flex-col",children:[I.jsx("button",{onClick:e,className:"absolute top-3 right-3 md:top-4 md:right-4 text-slate-400 hover:text-slate-600 z-10 p-2",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsxs("div",{className:"p-6 md:p-8 flex flex-col items-center text-center overflow-y-auto",children:[I.jsx("h2",{className:"text-xs md:text-sm font-bold text-indigo-600 mb-2 uppercase tracking-wide",children:"NEW WAYS TO LEARN"}),I.jsx("h3",{className:"text-xl md:text-2xl font-extrabold text-slate-800 mb-4 md:mb-6 uppercase tracking-wide leading-tight",children:"READING CHALLENGE"}),I.jsx("p",{className:"text-slate-500 mb-6 md:mb-8 text-sm md:text-base",children:"Enter your details to start the quest!"}),I.jsxs("div",{className:"w-full space-y-4 text-left",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"playerName",className:"block text-xs font-bold text-slate-700 uppercase mb-2 ml-1",children:"Full Name"}),I.jsx("input",{id:"playerName",type:"text",value:n,onChange:f=>{r(f.target.value),u("")},placeholder:"Enter your full name",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm md:text-base"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"playerClass",className:"block text-xs font-bold text-slate-700 uppercase mb-2 ml-1",children:"Class"}),I.jsx("input",{id:"playerClass",type:"text",value:i,onChange:f=>{o(f.target.value),u("")},placeholder:"Enter your class",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm md:text-base"})]}),a&&I.jsx("p",{className:"text-red-500 text-sm text-center font-medium bg-red-50 p-2 rounded-lg",children:a}),I.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transform active:scale-95 transition-all mt-4 text-base md:text-lg tracking-wide uppercase",children:"START"})]})]})]})]})},wT={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},i_e=[{id:1,name:"Digital Spark",icon:I.jsx(Ew,{size:20})},{id:2,name:"Smart Apps",icon:I.jsx(FY,{size:20})},{id:3,name:"Virtual Class",icon:I.jsx(IY,{size:20})},{id:4,name:"Cloud Library",icon:I.jsx(OY,{size:20})},{id:5,name:"Blended Learning",icon:I.jsx(fY,{size:20})},{id:6,name:"AI Assistant",icon:I.jsx(xY,{size:20})},{id:7,name:"Global Classroom",icon:I.jsx(gg,{size:20})},{id:8,name:"Innovation Lab",icon:I.jsx(EY,{size:20})}],o_e=[" Great start!"," Keep going!"," Smart move!"," Youre halfway there!"," Brilliant thinking!"," Strong understanding!"," Almost there!"," Outstanding performance!"],s_e=({onGameOver:t,onWin:e,isTeacherMode:n})=>{const[r,i]=A.useState(0),[o,a]=A.useState([]),[u,c]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(0),[E,x]=A.useState(420),[S,w]=A.useState({}),{isHighlighterActive:P,toggleHighlighter:L,addHighlight:D,clearHighlights:B,renderHighlightedText:F}=q3(),U="learning-quest-main",[N]=Ac(wT.correct),[O]=Ac(wT.incorrect),[V]=Ac(wT.levelUp);A.useEffect(()=>{const ue=[...Cc];a(ue)},[]),A.useEffect(()=>{if(E<=0){t();return}const ue=setInterval(()=>{x(K=>K-1)},1e3);return()=>clearInterval(ue)},[E,t]);const z=ue=>{const K=Math.floor(ue/60),k=ue%60;return`${K.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`};A.useEffect(()=>{var ue;n&&h(S[(ue=o[r])==null?void 0:ue.id]||null)},[r,n,o,S]);const q=()=>{if(n){const ue=o[r];h(ue.correctAnswerId),c("correct"),w(K=>({...K,[ue.id]:ue.correctAnswerId}))}},H=ue=>{if(!(!n&&u)&&(h(ue),n)){const K=o[r],k=ue===K.correctAnswerId;c(k?"correct":"incorrect"),w(J=>({...J,[K.id]:ue})),k&&S[K.id]!==ue&&g(J=>J+10)}},$=()=>{if(!f||u)return;const ue=o[r];w(K=>({...K,[ue.id]:f})),f===ue.correctAnswerId?(g(K=>K+10),c("correct")):c("incorrect")},ve=()=>{c(null),h(null),r<7?(n||V(),i(ue=>ue+1)):e(p,S)},Ee=()=>{r>0&&(c(null),i(ue=>ue-1))},X=()=>{r<7&&(c(null),i(ue=>ue+1))};if(o.length===0)return I.jsx("div",{children:"Loading..."});const te=o[r],de=te.options.length===3;return I.jsxs("div",{className:"flex flex-col h-[100dvh] bg-slate-50 overflow-hidden font-sans text-slate-800",children:[I.jsxs("div",{className:"bg-gradient-to-r from-[#1E3A8A] via-[#4F46E5] to-[#6366F1] shadow-md z-30 sticky top-0 shrink-0 text-white",children:[I.jsxs("div",{className:"p-4 pb-2 flex flex-col md:grid md:grid-cols-3 items-center gap-4 border-b border-white/10",children:[I.jsx("div",{className:"hidden md:block"}),I.jsxs("div",{className:"text-center w-full",children:[I.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight drop-shadow-md",children:"English 10  New Ways to Learn"}),I.jsx("p",{className:"text-indigo-200 text-sm font-medium uppercase tracking-wider",children:"Smart Learning Challenge"})]}),I.jsx("div",{className:"flex justify-center md:justify-end w-full",children:I.jsxs("div",{className:"flex items-center gap-3 bg-black/20 backdrop-blur-sm px-4 py-2 rounded-xl border border-white/10 shadow-inner w-fit",children:[I.jsx(Tw,{size:20,className:"text-[#22D3EE] animate-pulse"}),I.jsxs("div",{className:"flex flex-col items-end leading-none",children:[I.jsx("span",{className:"text-[10px] text-indigo-200 font-bold uppercase tracking-wider",children:"Time Left"}),I.jsx("span",{className:"text-xl font-mono font-bold text-white tabular-nums",children:z(E)})]})]})})]}),I.jsx("div",{className:"w-full overflow-x-auto no-scrollbar mask-gradient-x flex justify-center py-3 bg-black/5",children:I.jsx("div",{className:"flex items-center gap-4 md:gap-8 px-4 min-w-max",children:i_e.map((ue,K)=>{const k=K===r,J=K<r;return I.jsxs("div",{className:"flex flex-col items-center gap-2 group relative",children:[I.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-sm border-2
                                            ${k?"bg-[#22D3EE] border-[#22D3EE] text-[#1E3A8A] scale-110 shadow-[0_0_15px_rgba(34,211,238,0.5)]":J?"bg-[#A78BFA] border-[#A78BFA] text-white opacity-90":"bg-slate-200/10 border-white/10 text-slate-400"}
                                        `,children:yi.cloneElement(ue.icon,{size:k?24:20,strokeWidth:k?2.5:2})}),I.jsx("div",{className:`hidden md:block text-[10px] uppercase font-bold tracking-wide transition-colors duration-300
                                        ${k?"text-[#22D3EE]":J?"text-indigo-200":"text-slate-400"}
                                    `,children:ue.name}),I.jsx("div",{className:`md:hidden absolute -bottom-4 whitespace-nowrap text-[9px] font-bold tracking-wide transition-opacity duration-300
                                        ${k?"opacity-100 text-[#22D3EE]":"opacity-0"}
                                    `,children:ue.name})]},ue.id)})})})]}),I.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden min-h-0 bg-slate-100 gap-4 md:gap-5 p-4 md:p-6 lg:p-8",children:[I.jsxs("div",{className:"flex-1 bg-white rounded-2xl md:rounded-3xl border border-slate-200 overflow-hidden flex flex-col shadow-sm relative z-10 max-h-[60vh] md:max-h-full",children:[I.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-white border-b border-slate-100 shrink-0",children:[I.jsx("div",{className:"flex items-center gap-2 text-indigo-600 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:I.jsx("span",{className:"bg-indigo-50 px-2 py-1 rounded-md border border-indigo-100 italic",children:" Reading"})}),I.jsxs("div",{className:"flex items-center gap-2",children:[n&&I.jsxs("button",{onClick:()=>B(U),className:"p-1.5 rounded-lg transition-all flex items-center gap-2 text-[10px] md:text-xs font-bold bg-red-50 text-red-600 hover:bg-red-100 border border-red-100",title:"Clear All Highlights",children:[I.jsx(LY,{size:14,className:"md:w-3.5 md:h-3.5"}),I.jsx("span",{className:"hidden sm:inline",children:"Clear"})]}),I.jsxs("button",{onClick:L,className:`p-1.5 rounded-lg transition-all flex items-center gap-2 text-[10px] md:text-xs font-bold ${P?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[I.jsx(F3,{size:14,className:"md:w-3.5 md:h-3.5"}),I.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 prose prose-indigo max-w-none custom-scrollbar-thin",children:[H3.split(`
`).map((ue,K)=>ue.startsWith("# ")?I.jsx("h1",{className:"text-xl md:text-3xl font-extrabold text-slate-900 mb-4 md:mb-6 leading-tight mt-0",children:ue.replace("# ","")},K):ue.startsWith("**")?I.jsx("h3",{className:"text-base md:text-xl font-bold text-indigo-700 mt-4 md:mt-6 mb-2 md:mb-3",children:ue.replaceAll("**","")},K):I.jsx("p",{className:`mb-3 md:mb-4 text-slate-600 font-medium text-sm md:text-lg leading-[1.6] md:leading-loose ${P?"cursor-text selection:bg-yellow-200":""}`,onMouseUp:()=>D(U,K,ue),onTouchEnd:()=>D(U,K,ue),children:F(ue,U,K)},K)),I.jsx("div",{className:"h-4 md:h-8"})]})]}),I.jsxs("div",{className:"flex-1 relative z-20 overflow-hidden flex flex-col bg-white rounded-2xl md:rounded-3xl border border-slate-200 shadow-lg",children:[n&&I.jsxs("div",{className:"p-3 bg-indigo-600 text-white flex justify-between items-center shrink-0",children:[I.jsx("button",{onClick:Ee,disabled:r===0,className:"p-2 hover:bg-white/20 rounded-lg disabled:opacity-30",children:I.jsx(B3,{size:20})}),I.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Question Control"}),I.jsx("button",{onClick:X,disabled:r===7,className:"p-2 hover:bg-white/20 rounded-lg disabled:opacity-30",children:I.jsx(lh,{size:20})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 custom-scrollbar-thin flex flex-col",children:I.jsx("div",{className:"max-w-2xl mx-auto flex flex-col h-full",children:u&&!n?I.jsxs(Ti.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 p-6",children:[I.jsx("div",{className:`inline-block p-4 rounded-full mb-4 shadow-lg ${u==="correct"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:u==="correct"?I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("polyline",{points:"20 6 9 17 4 12"})}):I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsx("h2",{className:"text-xl md:text-3xl font-black mb-2 text-white drop-shadow-md",children:u==="correct"?"Correct!":"Incorrect"}),I.jsx("p",{className:"text-indigo-100 mb-6 text-sm md:text-lg font-medium",children:u==="correct"?o_e[r]||"Great job!":" Incorrect. Please review the passage."}),I.jsx("button",{onClick:ve,className:"font-bold py-3 md:py-4 px-8 md:px-12 rounded-xl shadow-xl transition-all transform hover:scale-105 active:scale-95 text-base md:text-lg w-full md:w-auto text-[#1E3A8A] bg-white hover:bg-slate-100",children:"Next Stage"})]}):I.jsxs("div",{className:"flex flex-col h-full justify-start md:justify-center",children:[I.jsxs("div",{className:"mb-4 md:mb-8 text-slate-800",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-indigo-200",children:["Stage ",r+1]}),n&&I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-emerald-200",children:"TEACHER PREVIEW"}),I.jsx("button",{onClick:q,className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-indigo-200 hover:bg-indigo-200 transition-colors",children:"Reveal Answer"})]})]}),I.jsx("h3",{className:"text-base md:text-2xl font-bold leading-snug text-slate-900",children:te.question})]}),I.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-1 pb-8 md:pb-0",children:te.options.map(ue=>{const K=f===ue.id,k=ue.id===te.correctAnswerId;let J="border-slate-200",se="bg-white hover:bg-slate-50",ce="text-slate-700",be="bg-slate-100 text-slate-500";return K&&(n?k?(se="bg-emerald-50",J="border-emerald-500 scale-[1.02]",ce="text-emerald-900",be="bg-emerald-500 text-white"):(se="bg-red-50",J="border-red-500 scale-[1.02]",ce="text-red-900",be="bg-red-500 text-white"):(se="bg-indigo-600",J="border-indigo-600 scale-[1.02]",ce="text-white",be="bg-white/20 text-white")),I.jsxs("button",{disabled:!n&&u!==null,onClick:()=>H(ue.id),className:`p-3 md:p-5 rounded-2xl border-2 text-left font-medium transition-all duration-200 flex items-center justify-start gap-4 group shadow-sm
                                                        ${se} ${J} ${ce}
                                                    `,children:[I.jsx("span",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-sm shrink-0 transition-colors ${be}`,children:ue.id}),I.jsx("span",{className:"text-sm md:text-lg font-medium",children:ue.text}),n&&K&&I.jsx("div",{className:"ml-auto",children:k?I.jsx("div",{className:"bg-emerald-500 text-white p-1 rounded-full",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("polyline",{points:"20 6 9 17 4 12"})})}):I.jsx("div",{className:"bg-red-500 text-white p-1 rounded-full",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},ue.id)})}),n?I.jsx("div",{className:"mt-8 flex gap-4",children:I.jsx("button",{onClick:ve,className:"flex-1 font-bold py-4 rounded-2xl shadow-lg transition-all transform hover:scale-[1.02] active:scale-95 text-lg bg-indigo-600 text-white hover:bg-indigo-700 uppercase tracking-wide",children:r===7?"View Results":"Submit & Continue"})}):f&&!u&&I.jsx("div",{className:"mt-8 flex justify-center",children:I.jsx("button",{onClick:$,className:"font-bold py-4 px-12 rounded-2xl shadow-xl transition-all transform hover:scale-[1.05] active:scale-95 text-lg bg-[#F59E0B] text-white hover:bg-[#D97706] border-b-4 border-amber-700 uppercase tracking-widest",children:"Check Answer"})})]})})})]})]}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
            `}})]})},a_e=({onPlayAgain:t,onBackToMap:e})=>I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:I.jsxs(Ti.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-slate-200 mx-4 md:mx-0",children:[I.jsx("div",{className:"text-5xl md:text-6xl mb-3 md:mb-4",children:""}),I.jsx("h2",{className:"text-xl md:text-2xl font-extrabold text-red-500 mb-2 uppercase",children:"INCORRECT"}),I.jsx("p",{className:"text-slate-600 mb-6 md:mb-8 font-medium text-sm md:text-base",children:"YOUR LEARNING JOURNEY STOPS HERE!"}),I.jsxs("div",{className:"space-y-3",children:[I.jsx("button",{onClick:t,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg transition-all",children:"PLAY AGAIN"}),I.jsx("button",{onClick:e,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-xl transition-all",children:"BACK TO MAP"})]})]})}),l_e=({name:t,score:e,completionTime:n,onPlayAgain:r,onLeaderboard:i})=>(A.useEffect(()=>{const a=Date.now()+3e3,u={startVelocity:30,spread:360,ticks:60,zIndex:60},c=(h,p)=>Math.random()*(p-h)+h,f=setInterval(function(){const h=a-Date.now();if(h<=0)return clearInterval(f);const p=50*(h/3e3);uh({...u,particleCount:p,origin:{x:c(.1,.3),y:Math.random()-.2}}),uh({...u,particleCount:p,origin:{x:c(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(f)},[]),I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/90 backdrop-blur-md",children:I.jsxs(Ti.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.5},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-yellow-400 mx-4 md:mx-0",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400"}),I.jsx("div",{className:"text-6xl md:text-7xl mb-4 md:mb-6 filter drop-shadow-lg",children:""}),I.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-indigo-800 mb-2 uppercase tracking-wide",children:"CONGRATULATIONS!"}),I.jsxs("p",{className:"text-slate-600 mb-4 md:mb-6 font-medium text-base md:text-lg",children:[I.jsx("span",{className:"font-bold text-indigo-600",children:t}),"  YOU HAVE MASTERED NEW WAYS TO LEARN!"]}),I.jsxs("div",{className:"bg-indigo-50 rounded-xl p-3 md:p-4 mb-4 md:mb-6 border border-indigo-100 grid grid-cols-2 gap-3 md:gap-4",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs md:text-sm text-indigo-500 font-bold uppercase mb-1",children:"SCORE"}),I.jsxs("p",{className:"text-3xl md:text-4xl font-black text-indigo-700",children:[e," ",I.jsx("span",{className:"text-base md:text-lg font-medium text-indigo-400",children:"/ 80"})]})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs md:text-sm text-indigo-500 font-bold uppercase mb-1",children:"TIME"}),I.jsxs("p",{className:"text-3xl md:text-4xl font-black text-indigo-700",children:[n," ",I.jsx("span",{className:"text-base md:text-lg font-medium",children:"s"})]})]})]}),I.jsx("div",{className:"mb-6 md:mb-8",children:I.jsx("div",{className:"inline-block bg-yellow-100 text-yellow-800 px-3 py-1.5 md:px-4 md:py-2 rounded-full font-bold text-xs md:text-sm border border-yellow-200 shadow-sm",children:" DIGITAL LEARNING CHAMPION"})}),I.jsxs("div",{className:"space-y-3",children:[I.jsx("button",{onClick:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg transition-transform hover:scale-[1.02] active:scale-95 uppercase tracking-wide text-sm md:text-base",children:"LEADERBOARD"}),I.jsx("button",{onClick:r,className:"w-full bg-white hover:bg-slate-50 text-slate-700 font-bold py-3 md:py-3 rounded-xl border-2 border-slate-200 transition-all uppercase text-sm md:text-base",children:"PLAY AGAIN"})]})]})})),u_e=()=>{};var FV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c_e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Dz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,E=f&63;c||(E=64,a||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c_e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new f_e;const g=o<<2|u>>4;if(r.push(g),f!==64){const E=u<<4&240|f>>2;if(r.push(E),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d_e=function(t){const e=Nz(t);return Dz.encodeByteArray(e,!0)},jy=function(t){return d_e(t).replace(/\./g,"")},h_e=function(t){try{return Dz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_e=()=>p_e().__FIREBASE_DEFAULTS__,g_e=()=>{if(typeof process>"u"||typeof FV>"u")return;const t=FV.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y_e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h_e(t[1]);return e&&JSON.parse(e)},N1=()=>{try{return u_e()||m_e()||g_e()||y_e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v_e=t=>{var e,n;return(n=(e=N1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},b_e=t=>{const e=v_e(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Oz=()=>{var t;return(t=N1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E_e(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jy(JSON.stringify(n)),jy(JSON.stringify(a)),""].join(".")}const Xd={};function x_e(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xd))Xd[e]?t.emulator.push(e):t.prod.push(e);return t}function S_e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jV=!1;function w_e(t,e){if(typeof window>"u"||typeof document>"u"||!D1(window.location.host)||Xd[t]===e||Xd[t]||jV)return;Xd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=x_e().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{jV=!0,a()},g}function h(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=S_e(r),E=n("text"),x=document.getElementById(E)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),P=n("preprendIcon"),L=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;u(D),h(w,S);const B=f();c(L,P),D.append(L,x,w,B),document.body.appendChild(D)}o?(x.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C_e(){var e;const t=(e=N1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I_e(){return!C_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P_e(){try{return typeof indexedDB=="object"}catch{return!1}}function R_e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_e="FirebaseError";class mf extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M_e,Object.setPrototypeOf(this,mf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kz.prototype.create)}}class kz{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?N_e(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new mf(i,u,r)}}function N_e(t,e){return t.replace(D_e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D_e=/\{\$([^}]+)}/g;function zy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(zV(o)&&zV(a)){if(!zy(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zV(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){return t&&t._delegate?t._delegate:t}class Ch{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new __e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L_e(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k_e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k_e(t){return t===kl?void 0:t}function L_e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O_e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const U_e={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},B_e=ct.INFO,F_e={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},j_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=F_e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lz{constructor(e){this.name=e,this._logLevel=B_e,this._logHandler=j_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const z_e=(t,e)=>e.some(n=>t instanceof n);let qV,HV;function q_e(){return qV||(qV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H_e(){return HV||(HV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vz=new WeakMap,bS=new WeakMap,Uz=new WeakMap,AT=new WeakMap,O1=new WeakMap;function G_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ma(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Vz.set(n,t)}).catch(()=>{}),O1.set(e,t),e}function $_e(t){if(bS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bS.set(t,e)}let _S={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K_e(t){_S=t(_S)}function Y_e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(CT(this),e,...n);return Uz.set(r,e.sort?e.sort():[e]),Ma(r)}:H_e().includes(t)?function(...e){return t.apply(CT(this),e),Ma(Vz.get(this))}:function(...e){return Ma(t.apply(CT(this),e))}}function W_e(t){return typeof t=="function"?Y_e(t):(t instanceof IDBTransaction&&$_e(t),z_e(t,q_e())?new Proxy(t,_S):t)}function Ma(t){if(t instanceof IDBRequest)return G_e(t);if(AT.has(t))return AT.get(t);const e=W_e(t);return e!==t&&(AT.set(t,e),O1.set(e,t)),e}const CT=t=>O1.get(t);function J_e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Ma(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ma(a.result),c.oldVersion,c.newVersion,Ma(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const X_e=["get","getKey","getAll","getAllKeys","count"],Q_e=["put","add","delete","clear"],IT=new Map;function GV(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(IT.get(e))return IT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Q_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X_e.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return IT.set(e,o),o}K_e(t=>({...t,get:(e,n,r)=>GV(e,n)||t.get(e,n,r),has:(e,n)=>!!GV(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eEe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eEe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ES="@firebase/app",$V="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Lz("@firebase/app"),tEe="@firebase/app-compat",nEe="@firebase/analytics-compat",rEe="@firebase/analytics",iEe="@firebase/app-check-compat",oEe="@firebase/app-check",sEe="@firebase/auth",aEe="@firebase/auth-compat",lEe="@firebase/database",uEe="@firebase/data-connect",cEe="@firebase/database-compat",fEe="@firebase/functions",dEe="@firebase/functions-compat",hEe="@firebase/installations",pEe="@firebase/installations-compat",mEe="@firebase/messaging",gEe="@firebase/messaging-compat",yEe="@firebase/performance",vEe="@firebase/performance-compat",bEe="@firebase/remote-config",_Ee="@firebase/remote-config-compat",EEe="@firebase/storage",TEe="@firebase/storage-compat",xEe="@firebase/firestore",SEe="@firebase/ai",wEe="@firebase/firestore-compat",AEe="firebase",CEe="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="[DEFAULT]",IEe={[ES]:"fire-core",[tEe]:"fire-core-compat",[rEe]:"fire-analytics",[nEe]:"fire-analytics-compat",[oEe]:"fire-app-check",[iEe]:"fire-app-check-compat",[sEe]:"fire-auth",[aEe]:"fire-auth-compat",[lEe]:"fire-rtdb",[uEe]:"fire-data-connect",[cEe]:"fire-rtdb-compat",[fEe]:"fire-fn",[dEe]:"fire-fn-compat",[hEe]:"fire-iid",[pEe]:"fire-iid-compat",[mEe]:"fire-fcm",[gEe]:"fire-fcm-compat",[yEe]:"fire-perf",[vEe]:"fire-perf-compat",[bEe]:"fire-rc",[_Ee]:"fire-rc-compat",[EEe]:"fire-gcs",[TEe]:"fire-gcs-compat",[xEe]:"fire-fst",[wEe]:"fire-fst-compat",[SEe]:"fire-vertex","fire-js":"fire-js",[AEe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map,PEe=new Map,xS=new Map;function KV(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hy(t){const e=t.name;if(xS.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;xS.set(e,t);for(const n of qy.values())KV(n,t);for(const n of PEe.values())KV(n,t);return!0}function REe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function MEe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NEe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new kz("app","Firebase",NEe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DEe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ch("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OEe=CEe;function Bz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:TS,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=Oz()),!n)throw Na.create("no-options");const o=qy.get(i);if(o){if(zy(n,o.options)&&zy(r,o.config))return o;throw Na.create("duplicate-app",{appName:i})}const a=new V_e(i);for(const c of xS.values())a.addComponent(c);const u=new DEe(n,r,a);return qy.set(i,u),u}function kEe(t=TS){const e=qy.get(t);if(!e&&t===TS&&Oz())return Bz();if(!e)throw Na.create("no-app",{appName:t});return e}function Nc(t,e,n){let r=IEe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}Hy(new Ch(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LEe="firebase-heartbeat-database",VEe=1,Ih="firebase-heartbeat-store";let PT=null;function Fz(){return PT||(PT=J_e(LEe,VEe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),PT}async function UEe(t){try{const n=(await Fz()).transaction(Ih),r=await n.objectStore(Ih).get(jz(t));return await n.done,r}catch(e){if(e instanceof mf)Is.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function YV(t,e){try{const r=(await Fz()).transaction(Ih,"readwrite");await r.objectStore(Ih).put(e,jz(t)),await r.done}catch(n){if(n instanceof mf)Is.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function jz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BEe=1024,FEe=30;class jEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WV();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FEe){const a=HEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WV(),{heartbeatsToSend:r,unsentEntries:i}=zEe(this._heartbeatsCache.heartbeats),o=jy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Is.warn(n),""}}}function WV(){return new Date().toISOString().substring(0,10)}function zEe(t,e=BEe){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),JV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P_e()?R_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UEe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JV(t){return jy(JSON.stringify({version:2,heartbeats:t})).length}function HEe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GEe(t){Hy(new Ch("platform-logger",e=>new Z_e(e),"PRIVATE")),Hy(new Ch("heartbeat",e=>new jEe(e),"PRIVATE")),Nc(ES,$V,t),Nc(ES,$V,"esm2020"),Nc("fire-js","")}GEe("");var $Ee="firebase",KEe="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nc($Ee,KEe,"app");var XV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,zz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,O){function V(){}V.prototype=O.prototype,N.F=O.prototype,N.prototype=new V,N.prototype.constructor=N,N.D=function(z,q,H){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return O.prototype[q].apply(z,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,O,V){V||(V=0);const z=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)z[q]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(q=0;q<16;++q)z[q]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=N.g[0],V=N.g[1],q=N.g[2];let H=N.g[3],$;$=O+(H^V&(q^H))+z[0]+3614090360&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[1]+3905402710&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[2]+606105819&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[3]+3250441966&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[4]+4118548399&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[5]+1200080426&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[6]+2821735955&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[7]+4249261313&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[8]+1770035416&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[9]+2336552879&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[10]+4294925233&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[11]+2304563134&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[12]+1804603682&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[13]+4254626195&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[14]+2792965006&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[15]+1236535329&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(q^H&(V^q))+z[1]+4129170786&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[6]+3225465664&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[11]+643717713&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[0]+3921069994&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[5]+3593408605&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[10]+38016083&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[15]+3634488961&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[4]+3889429448&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[9]+568446438&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[14]+3275163606&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[3]+4107603335&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[8]+1163531501&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[13]+2850285829&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[2]+4243563512&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[7]+1735328473&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[12]+2368359562&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(V^q^H)+z[5]+4294588738&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[8]+2272392833&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[11]+1839030562&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[14]+4259657740&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[1]+2763975236&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[4]+1272893353&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[7]+4139469664&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[10]+3200236656&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[13]+681279174&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[0]+3936430074&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[3]+3572445317&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[6]+76029189&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[9]+3654602809&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[12]+3873151461&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[15]+530742520&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[2]+3299628645&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(q^(V|~H))+z[0]+4096336452&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[7]+1126891415&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[14]+2878612391&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[5]+4237533241&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[12]+1700485571&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[3]+2399980690&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[10]+4293915773&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[1]+2240044497&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[8]+1873313359&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[15]+4264355552&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[6]+2734768916&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[13]+1309151649&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[4]+4149444226&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[11]+3174756917&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[2]+718787259&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,N.g[2]=N.g[2]+q&4294967295,N.g[3]=N.g[3]+H&4294967295}r.prototype.v=function(N,O){O===void 0&&(O=N.length);const V=O-this.blockSize,z=this.C;let q=this.h,H=0;for(;H<O;){if(q==0)for(;H<=V;)i(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<O;)if(z[q++]=N.charCodeAt(H++),q==this.blockSize){i(this,z),q=0;break}}else for(;H<O;)if(z[q++]=N[H++],q==this.blockSize){i(this,z),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;O=this.o*8;for(var V=N.length-8;V<N.length;++V)N[V]=O&255,O/=256;for(this.v(N),N=Array(16),O=0,V=0;V<4;++V)for(let z=0;z<32;z+=8)N[O++]=this.g[V]>>>z&255;return N};function o(N,O){var V=u;return Object.prototype.hasOwnProperty.call(V,N)?V[N]:V[N]=O(N)}function a(N,O){this.h=O;const V=[];let z=!0;for(let q=N.length-1;q>=0;q--){const H=N[q]|0;z&&H==O||(V[q]=H,z=!1)}this.g=V}var u={};function c(N){return-128<=N&&N<128?o(N,function(O){return new a([O|0],O<0?-1:0)}):new a([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return w(f(-N));const O=[];let V=1;for(let z=0;N>=V;z++)O[z]=N/V|0,V*=4294967296;return new a(O,0)}function h(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return w(h(N.substring(1),O));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let z=p;for(let H=0;H<N.length;H+=8){var q=Math.min(8,N.length-H);const $=parseInt(N.substring(H,H+q),O);q<8?(q=f(Math.pow(O,q)),z=z.j(q).add(f($))):(z=z.j(V),z=z.add(f($)))}return z}var p=c(0),g=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(S(this))return-w(this).m();let N=0,O=1;for(let V=0;V<this.g.length;V++){const z=this.i(V);N+=(z>=0?z:4294967296+z)*O,O*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(S(this))return"-"+w(this).toString(N);const O=f(Math.pow(N,6));var V=this;let z="";for(;;){const q=B(V,O).g;V=P(V,q.j(O));let H=((V.g.length>0?V.g[0]:V.h)>>>0).toString(N);if(V=q,x(V))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=P(this,N),S(N)?-1:x(N)?0:1};function w(N){const O=N.g.length,V=[];for(let z=0;z<O;z++)V[z]=~N.g[z];return new a(V,~N.h).add(g)}t.abs=function(){return S(this)?w(this):this},t.add=function(N){const O=Math.max(this.g.length,N.g.length),V=[];let z=0;for(let q=0;q<=O;q++){let H=z+(this.i(q)&65535)+(N.i(q)&65535),$=(H>>>16)+(this.i(q)>>>16)+(N.i(q)>>>16);z=$>>>16,H&=65535,$&=65535,V[q]=$<<16|H}return new a(V,V[V.length-1]&-2147483648?-1:0)};function P(N,O){return N.add(w(O))}t.j=function(N){if(x(this)||x(N))return p;if(S(this))return S(N)?w(this).j(w(N)):w(w(this).j(N));if(S(N))return w(this.j(w(N)));if(this.l(E)<0&&N.l(E)<0)return f(this.m()*N.m());const O=this.g.length+N.g.length,V=[];for(var z=0;z<2*O;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(let q=0;q<N.g.length;q++){const H=this.i(z)>>>16,$=this.i(z)&65535,ve=N.i(q)>>>16,Ee=N.i(q)&65535;V[2*z+2*q]+=$*Ee,L(V,2*z+2*q),V[2*z+2*q+1]+=H*Ee,L(V,2*z+2*q+1),V[2*z+2*q+1]+=$*ve,L(V,2*z+2*q+1),V[2*z+2*q+2]+=H*ve,L(V,2*z+2*q+2)}for(N=0;N<O;N++)V[N]=V[2*N+1]<<16|V[2*N];for(N=O;N<2*O;N++)V[N]=0;return new a(V,0)};function L(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function D(N,O){this.g=N,this.h=O}function B(N,O){if(x(O))throw Error("division by zero");if(x(N))return new D(p,p);if(S(N))return O=B(w(N),O),new D(w(O.g),w(O.h));if(S(O))return O=B(N,w(O)),new D(w(O.g),O.h);if(N.g.length>30){if(S(N)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var V=g,z=O;z.l(N)<=0;)V=F(V),z=F(z);var q=U(V,1),H=U(z,1);for(z=U(z,2),V=U(V,2);!x(z);){var $=H.add(z);$.l(N)<=0&&(q=q.add(V),H=$),z=U(z,1),V=U(V,1)}return O=P(N,q.j(O)),new D(q,O)}for(q=p;N.l(O)>=0;){for(V=Math.max(1,Math.floor(N.m()/O.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(V),$=H.j(O);S($)||$.l(N)>0;)V-=z,H=f(V),$=H.j(O);x(H)&&(H=g),q=q.add(H),N=P(N,$)}return new D(q,N)}t.B=function(N){return B(this,N).h},t.and=function(N){const O=Math.max(this.g.length,N.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)&N.i(z);return new a(V,this.h&N.h)},t.or=function(N){const O=Math.max(this.g.length,N.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)|N.i(z);return new a(V,this.h|N.h)},t.xor=function(N){const O=Math.max(this.g.length,N.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)^N.i(z);return new a(V,this.h^N.h)};function F(N){const O=N.g.length+1,V=[];for(let z=0;z<O;z++)V[z]=N.i(z)<<1|N.i(z-1)>>>31;return new a(V,N.h)}function U(N,O){const V=O>>5;O%=32;const z=N.g.length-V,q=[];for(let H=0;H<z;H++)q[H]=O>0?N.i(H+V)>>>O|N.i(H+V+1)<<32-O:N.i(H+V);return new a(q,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zz=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Da=a}).apply(typeof XV<"u"?XV:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qz,jd,Hz,wg,SS,Gz,$z,Kz;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var C=0;C<b.length;++C){var M=b[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(b,C){if(C)e:{var M=r;b=b.split(".");for(var G=0;G<b.length-1;G++){var Z=b[G];if(!(Z in M))break e;M=M[Z]}b=b[b.length-1],G=M[b],C=C(G),C!=G&&C!=null&&e(M,b,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(C){var M=[],G;for(G in C)Object.prototype.hasOwnProperty.call(C,G)&&M.push([G,C[G]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(b){var C=typeof b;return C=="object"&&b!=null||C=="function"}function c(b,C,M){return b.call.apply(b.bind,arguments)}function f(b,C,M){return f=c,f.apply(null,arguments)}function h(b,C){var M=Array.prototype.slice.call(arguments,1);return function(){var G=M.slice();return G.push.apply(G,arguments),b.apply(this,G)}}function p(b,C){function M(){}M.prototype=C.prototype,b.Z=C.prototype,b.prototype=new M,b.prototype.constructor=b,b.Ob=function(G,Z,ae){for(var xe=Array(arguments.length-2),We=2;We<arguments.length;We++)xe[We-2]=arguments[We];return C.prototype[Z].apply(G,xe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function E(b){const C=b.length;if(C>0){const M=Array(C);for(let G=0;G<C;G++)M[G]=b[G];return M}return[]}function x(b,C){for(let G=1;G<arguments.length;G++){const Z=arguments[G];var M=typeof Z;if(M=M!="object"?M:Z?Array.isArray(Z)?"array":M:"null",M=="array"||M=="object"&&typeof Z.length=="number"){M=b.length||0;const ae=Z.length||0;b.length=M+ae;for(let xe=0;xe<ae;xe++)b[M+xe]=Z[xe]}else b.push(Z)}}class S{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function w(b){a.setTimeout(()=>{throw b},0)}function P(){var b=N;let C=null;return b.g&&(C=b.g,b.g=b.g.next,b.g||(b.h=null),C.next=null),C}class L{constructor(){this.h=this.g=null}add(C,M){const G=D.get();G.set(C,M),this.h?this.h.next=G:this.g=G,this.h=G}}var D=new S(()=>new B,b=>b.reset());class B{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,N=new L,O=()=>{const b=Promise.resolve(void 0);F=()=>{b.then(V)}};function V(){for(var b;b=P();){try{b.h.call(b.g)}catch(M){w(M)}var C=D;C.j(b),C.h<100&&(C.h++,b.next=C.g,C.g=b)}U=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,C){this.type=b,this.g=this.target=C,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,C=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const M=()=>{};a.addEventListener("test",M,C),a.removeEventListener("test",M,C)}catch{}return b})();function $(b){return/^[\s\xa0]*$/.test(b)}function ve(b,C){q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,C)}p(ve,q),ve.prototype.init=function(b,C){const M=this.type=b.type,G=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=C,C=b.relatedTarget,C||(M=="mouseover"?C=b.fromElement:M=="mouseout"&&(C=b.toElement)),this.relatedTarget=C,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),X=0;function te(b,C,M,G,Z){this.listener=b,this.proxy=null,this.src=C,this.type=M,this.capture=!!G,this.ha=Z,this.key=++X,this.da=this.fa=!1}function de(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ue(b,C,M){for(const G in b)C.call(M,b[G],G,b)}function K(b,C){for(const M in b)C.call(void 0,b[M],M,b)}function k(b){const C={};for(const M in b)C[M]=b[M];return C}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(b,C){let M,G;for(let Z=1;Z<arguments.length;Z++){G=arguments[Z];for(M in G)b[M]=G[M];for(let ae=0;ae<J.length;ae++)M=J[ae],Object.prototype.hasOwnProperty.call(G,M)&&(b[M]=G[M])}}function ce(b){this.src=b,this.g={},this.h=0}ce.prototype.add=function(b,C,M,G,Z){const ae=b.toString();b=this.g[ae],b||(b=this.g[ae]=[],this.h++);const xe=Te(b,C,G,Z);return xe>-1?(C=b[xe],M||(C.fa=!1)):(C=new te(C,this.src,ae,!!G,Z),C.fa=M,b.push(C)),C};function be(b,C){const M=C.type;if(M in b.g){var G=b.g[M],Z=Array.prototype.indexOf.call(G,C,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(G,Z,1),ae&&(de(C),b.g[M].length==0&&(delete b.g[M],b.h--))}}function Te(b,C,M,G){for(let Z=0;Z<b.length;++Z){const ae=b[Z];if(!ae.da&&ae.listener==C&&ae.capture==!!M&&ae.ha==G)return Z}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Oe={};function ie(b,C,M,G,Z){if(Array.isArray(C)){for(let ae=0;ae<C.length;ae++)ie(b,C[ae],M,G,Z);return null}return M=hn(M),b&&b[Ee]?b.J(C,M,u(G)?!!G.capture:!1,Z):Ce(b,C,M,!1,G,Z)}function Ce(b,C,M,G,Z,ae){if(!C)throw Error("Invalid event type");const xe=u(Z)?!!Z.capture:!!Z;let We=st(b);if(We||(b[_e]=We=new ce(b)),M=We.add(C,M,G,xe,ae),M.proxy)return M;if(G=Ie(),M.proxy=G,G.src=b,G.listener=M,b.addEventListener)H||(Z=xe),Z===void 0&&(Z=!1),b.addEventListener(C.toString(),G,Z);else if(b.attachEvent)b.attachEvent(we(C.toString()),G);else if(b.addListener&&b.removeListener)b.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ie(){function b(M){return C.call(b.src,b.listener,M)}const C=et;return b}function he(b,C,M,G,Z){if(Array.isArray(C))for(var ae=0;ae<C.length;ae++)he(b,C[ae],M,G,Z);else G=u(G)?!!G.capture:!!G,M=hn(M),b&&b[Ee]?(b=b.i,ae=String(C).toString(),ae in b.g&&(C=b.g[ae],M=Te(C,M,G,Z),M>-1&&(de(C[M]),Array.prototype.splice.call(C,M,1),C.length==0&&(delete b.g[ae],b.h--)))):b&&(b=st(b))&&(C=b.g[C.toString()],b=-1,C&&(b=Te(C,M,G,Z)),(M=b>-1?C[b]:null)&&$e(M))}function $e(b){if(typeof b!="number"&&b&&!b.da){var C=b.src;if(C&&C[Ee])be(C.i,b);else{var M=b.type,G=b.proxy;C.removeEventListener?C.removeEventListener(M,G,b.capture):C.detachEvent?C.detachEvent(we(M),G):C.addListener&&C.removeListener&&C.removeListener(G),(M=st(C))?(be(M,b),M.h==0&&(M.src=null,C[_e]=null)):de(b)}}}function we(b){return b in Oe?Oe[b]:Oe[b]="on"+b}function et(b,C){if(b.da)b=!0;else{C=new ve(C,this);const M=b.listener,G=b.ha||b.src;b.fa&&$e(b),b=M.call(G,C)}return b}function st(b){return b=b[_e],b instanceof ce?b:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(b){return typeof b=="function"?b:(b[Nt]||(b[Nt]=function(C){return b.handleEvent(C)}),b[Nt])}function bt(){z.call(this),this.i=new ce(this),this.M=this,this.G=null}p(bt,z),bt.prototype[Ee]=!0,bt.prototype.removeEventListener=function(b,C,M,G){he(this,b,C,M,G)};function ft(b,C){var M,G=b.G;if(G)for(M=[];G;G=G.G)M.push(G);if(b=b.M,G=C.type||C,typeof C=="string")C=new q(C,b);else if(C instanceof q)C.target=C.target||b;else{var Z=C;C=new q(G,b),se(C,Z)}Z=!0;let ae,xe;if(M)for(xe=M.length-1;xe>=0;xe--)ae=C.g=M[xe],Z=Cr(ae,G,!0,C)&&Z;if(ae=C.g=b,Z=Cr(ae,G,!0,C)&&Z,Z=Cr(ae,G,!1,C)&&Z,M)for(xe=0;xe<M.length;xe++)ae=C.g=M[xe],Z=Cr(ae,G,!1,C)&&Z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var b=this.i;for(const C in b.g){const M=b.g[C];for(let G=0;G<M.length;G++)de(M[G]);delete b.g[C],b.h--}}this.G=null},bt.prototype.J=function(b,C,M,G){return this.i.add(String(b),C,!1,M,G)},bt.prototype.K=function(b,C,M,G){return this.i.add(String(b),C,!0,M,G)};function Cr(b,C,M,G){if(C=b.i.g[String(C)],!C)return!0;C=C.concat();let Z=!0;for(let ae=0;ae<C.length;++ae){const xe=C[ae];if(xe&&!xe.da&&xe.capture==M){const We=xe.listener,un=xe.ha||xe.src;xe.fa&&be(b.i,xe),Z=We.call(un,G)!==!1&&Z}}return Z&&!G.defaultPrevented}function Qa(b,C){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:a.setTimeout(b,C||0)}function Br(b){b.g=Qa(()=>{b.g=null,b.i&&(b.i=!1,Br(b))},b.l);const C=b.h;b.h=null,b.m.apply(null,C)}class ln extends z{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(b){z.call(this),this.h=b,this.g={}}p(Pi,z);var no=[];function Ho(b){ue(b.g,function(C,M){this.g.hasOwnProperty(M)&&$e(C)},b),b.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),Ho(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fr=a.JSON.stringify,Go=a.JSON.parse,$o=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function ro(){}function Fs(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cn(){q.call(this,"d")}p(Cn,q);function Ir(){q.call(this,"c")}p(Ir,q);var $t={},Za=null;function js(){return Za=Za||new bt}$t.Ia="serverreachability";function yu(b){q.call(this,$t.Ia,b)}p(yu,q);function Se(b){const C=js();ft(C,new yu(C))}$t.STAT_EVENT="statevent";function qe(b,C){q.call(this,$t.STAT_EVENT,b),this.stat=C}p(qe,q);function ze(b){const C=js();ft(C,new qe(C,b))}$t.Ja="timingevent";function at(b,C){q.call(this,$t.Ja,b),this.size=C}p(at,q);function tt(b,C){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},C)}function Ft(){this.g=!0}Ft.prototype.ua=function(){this.g=!1};function Ri(b,C,M,G,Z,ae){b.info(function(){if(b.g)if(ae){var xe="",We=ae.split("&");for(let gt=0;gt<We.length;gt++){var un=We[gt].split("=");if(un.length>1){const Kt=un[0];un=un[1];const ii=Kt.split("_");xe=ii.length>=2&&ii[1]=="type"?xe+(Kt+"="+un+"&"):xe+(Kt+"=redacted&")}}}else xe=null;else xe=ae;return"XMLHTTP REQ ("+G+") [attempt "+Z+"]: "+C+`
`+M+`
`+xe})}function up(b,C,M,G,Z,ae,xe){b.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+Z+"]: "+C+`
`+M+`
`+ae+" "+xe})}function io(b,C,M,G){b.info(function(){return"XMLHTTP TEXT ("+C+"): "+E0(b,M)+(G?" "+G:"")})}function el(b,C){b.info(function(){return"TIMEOUT: "+C})}Ft.prototype.info=function(){};function E0(b,C){if(!b.g)return C;if(!C)return null;try{const ae=JSON.parse(C);if(ae){for(b=0;b<ae.length;b++)if(Array.isArray(ae[b])){var M=ae[b];if(!(M.length<2)){var G=M[1];if(Array.isArray(G)&&!(G.length<1)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let xe=1;xe<G.length;xe++)G[xe]=""}}}}return Fr(ae)}catch{return C}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xf;function nl(){}p(nl,ro),nl.prototype.g=function(){return new XMLHttpRequest},xf=new nl;function Ko(b){return encodeURIComponent(String(b))}function cp(b){var C=1;b=b.split(":");const M=[];for(;C>0&&b.length;)M.push(b.shift()),C--;return b.length&&M.push(b.join(":")),M}function Mi(b,C,M,G){this.j=b,this.i=C,this.l=M,this.S=G||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}var pn={},Un={};function oo(b,C,M){b.M=1,b.A=rl(gn(C)),b.u=M,b.R=!0,vu(b,null)}function vu(b,C){b.F=Date.now(),so(b),b.B=gn(b.A);var M=b.B,G=b.S;Array.isArray(G)||(G=[String(G)]),Tu(M.i,"t",G),b.C=0,M=b.j.L,b.h=new Ni,b.g=wp(b.j,M?C:null,!b.u),b.P>0&&(b.O=new ln(f(b.Y,b,b.g),b.P)),C=b.V,M=b.g,G=b.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(no[0]=Z.toString()),Z=no);for(let ae=0;ae<Z.length;ae++){const xe=ie(M,Z[ae],G||C.handleEvent,!1,C.h||C);if(!xe)break;C.g[xe.key]=xe}C=b.J?k(b.J):{},b.u?(b.v||(b.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,C)):(b.v="GET",b.g.ea(b.B,b.v,null,C)),Se(),Ri(b.i,b.v,b.B,b.l,b.S,b.u)}Mi.prototype.ba=function(b){b=b.target;const C=this.O;C&&ki(b)==3?C.j():this.Y(b)},Mi.prototype.Y=function(b){try{if(b==this.g)e:{const We=ki(this.g),un=this.g.ya(),gt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Wn(this.g)))){this.K||We!=4||un==7||(un==8||gt<=0?Se(3):Se(2)),ao(this);var C=this.g.ca();this.X=C;var M=T0(this);if(this.o=C==200,up(this.i,this.v,this.B,this.l,this.S,We,C),this.o){if(this.U&&!this.L){t:{if(this.g){var G,Z=this.g;if((G=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(G)){var ae=G;break t}}ae=null}if(b=ae)io(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lo(this,b);else{this.o=!1,this.m=3,ze(12),jr(this),ti(this);break e}}if(this.R){b=!0;let Kt;for(;!this.K&&this.C<M.length;)if(Kt=dp(this,M),Kt==Un){We==4&&(this.m=4,ze(14),b=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==pn){this.m=4,ze(15),io(this.i,this.l,M,"[Invalid Chunk]"),b=!1;break}else io(this.i,this.l,Kt,null),lo(this,Kt);if(fp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||M.length!=0||this.h.h||(this.m=1,ze(16),b=!1),this.o=this.o&&b,!b)io(this.i,this.l,M,"[Invalid Chunked Response]"),jr(this),ti(this);else if(M.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Uf(xe),xe.P=!0,ze(11))}}else io(this.i,this.l,M,null),lo(this,M);We==4&&jr(this),this.o&&!this.K&&(We==4?Ep(this.j,this):(this.o=!1,so(this)))}else Wo(this.g),C==400&&M.indexOf("Unknown SID")>0?(this.m=3,ze(12)):(this.m=0,ze(13)),jr(this),ti(this)}}}catch{}finally{}};function T0(b){if(!fp(b))return b.g.la();const C=Wn(b.g);if(C==="")return"";let M="";const G=C.length,Z=ki(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return jr(b),ti(b),"";b.h.i=new a.TextDecoder}for(let ae=0;ae<G;ae++)b.h.h=!0,M+=b.h.i.decode(C[ae],{stream:!(Z&&ae==G-1)});return C.length=0,b.h.g+=M,b.C=0,b.h.g}function fp(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function dp(b,C){var M=b.C,G=C.indexOf(`
`,M);return G==-1?Un:(M=Number(C.substring(M,G)),isNaN(M)?pn:(G+=1,G+M>C.length?Un:(C=C.slice(G,G+M),b.C=G+M,C)))}Mi.prototype.cancel=function(){this.K=!0,jr(this)};function so(b){b.T=Date.now()+b.H,bu(b,b.H)}function bu(b,C){if(b.D!=null)throw Error("WatchDog timer not null");b.D=tt(f(b.aa,b),C)}function ao(b){b.D&&(a.clearTimeout(b.D),b.D=null)}Mi.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(el(this.i,this.B),this.M!=2&&(Se(),ze(17)),jr(this),this.m=2,ti(this)):bu(this,this.T-b)};function ti(b){b.j.I==0||b.K||Ep(b.j,b)}function jr(b){ao(b);var C=b.O;C&&typeof C.dispose=="function"&&C.dispose(),b.O=null,Ho(b.V),b.g&&(C=b.g,b.g=null,C.abort(),C.dispose())}function lo(b,C){try{var M=b.j;if(M.I!=0&&(M.g==b||co(M.h,b))){if(!b.L&&co(M.h,b)&&M.I==3){try{var G=M.Ba.g.parse(C)}catch{G=null}if(Array.isArray(G)&&G.length==3){var Z=G;if(Z[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<b.F)Cu(M),Ws(M);else break e;cl(M),ze(18)}}else M.xa=Z[1],0<M.xa-M.K&&Z[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=tt(f(M.Va,M),6e3));uo(M.h)<=1&&M.ta&&(M.ta=void 0)}else yo(M,11)}else if((b.L||M.g==b)&&Cu(M),!$(C))for(Z=M.Ba.g.parse(C),C=0;C<Z.length;C++){let gt=Z[C];const Kt=gt[0];if(!(Kt<=M.K))if(M.K=Kt,gt=gt[1],M.I==2)if(gt[0]=="c"){M.M=gt[1],M.ba=gt[2];const ii=gt[3];ii!=null&&(M.ka=ii,M.j.info("VER="+M.ka));const vo=gt[4];vo!=null&&(M.za=vo,M.j.info("SVER="+M.za));const Li=gt[5];Li!=null&&typeof Li=="number"&&Li>0&&(G=1.5*Li,M.O=G,M.j.info("backChannelRequestTimeoutMs_="+G)),G=M;const Vi=b.g;if(Vi){const fl=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var ae=G.h;ae.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Af(ae,ae.h),ae.h=null))}if(G.G){const Iu=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Iu&&(G.wa=Iu,Tt(G.J,G.G,Iu))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-b.F,M.j.info("Handshake RTT: "+M.T+"ms")),G=M;var xe=b;if(G.na=Sp(G,G.L?G.ba:null,G.W),xe.L){Cf(G.h,xe);var We=xe,un=G.O;un&&(We.H=un),We.D&&(ao(We),so(We)),G.g=xe}else bp(G);M.i.length>0&&go(M)}else gt[0]!="stop"&&gt[0]!="close"||yo(M,7);else M.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?yo(M,7):Lf(M):gt[0]!="noop"&&M.l&&M.l.qa(gt),M.A=0)}}Se(4)}catch{}}var mn=class{constructor(b,C){this.g=b,this.map=C}};function Sf(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wf(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function uo(b){return b.h?1:b.g?b.g.size:0}function co(b,C){return b.h?b.h==C:b.g?b.g.has(C):!1}function Af(b,C){b.g?b.g.add(C):b.h=C}function Cf(b,C){b.h&&b.h==C?b.h=null:b.g&&b.g.has(C)&&b.g.delete(C)}Sf.prototype.cancel=function(){if(this.i=If(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function If(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let C=b.i;for(const M of b.g.values())C=C.concat(M.G);return C}return E(b.i)}var hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _u(b,C){if(b){b=b.split("&");for(let M=0;M<b.length;M++){const G=b[M].indexOf("=");let Z,ae=null;G>=0?(Z=b[M].substring(0,G),ae=b[M].substring(G+1)):Z=b[M],C(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function zr(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;b instanceof zr?(this.l=b.l,Bn(this,b.j),this.o=b.o,this.g=b.g,zs(this,b.u),this.h=b.h,Pf(this,yp(b.i)),this.m=b.m):b&&(C=String(b).match(hp))?(this.l=!1,Bn(this,C[1]||"",!0),this.o=fo(C[2]||""),this.g=fo(C[3]||"",!0),zs(this,C[4]),this.h=fo(C[5]||"",!0),Pf(this,C[6]||"",!0),this.m=fo(C[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}zr.prototype.toString=function(){const b=[];var C=this.j;C&&b.push(il(C,Eu,!0),":");var M=this.g;return(M||C=="file")&&(b.push("//"),(C=this.o)&&b.push(il(C,Eu,!0),"@"),b.push(Ko(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&b.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&b.push("/"),b.push(il(M,M.charAt(0)=="/"?Rf:pp,!0))),(M=this.i.toString())&&b.push("?",M),(M=this.m)&&b.push("#",il(M,mp)),b.join("")},zr.prototype.resolve=function(b){const C=gn(this);let M=!!b.j;M?Bn(C,b.j):M=!!b.o,M?C.o=b.o:M=!!b.g,M?C.g=b.g:M=b.u!=null;var G=b.h;if(M)zs(C,b.u);else if(M=!!b.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var Z=C.h.lastIndexOf("/");Z!=-1&&(G=C.h.slice(0,Z+1)+G)}if(Z=G,Z==".."||Z==".")G="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){G=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let xe=0;xe<Z.length;){const We=Z[xe++];We=="."?G&&xe==Z.length&&ae.push(""):We==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),G&&xe==Z.length&&ae.push("")):(ae.push(We),G=!0)}G=ae.join("/")}else G=Z}return M?C.h=G:M=b.i.toString()!=="",M?Pf(C,yp(b.i)):M=!!b.m,M&&(C.m=b.m),C};function gn(b){return new zr(b)}function Bn(b,C,M){b.j=M?fo(C,!0):C,b.j&&(b.j=b.j.replace(/:$/,""))}function zs(b,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);b.u=C}else b.u=null}function Pf(b,C,M){C instanceof Hs?(b.i=C,xu(b.i,b.l)):(M||(C=il(C,qs)),b.i=new Hs(C,b.l))}function Tt(b,C,M){b.i.set(C,M)}function rl(b){return Tt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function fo(b,C){return b?C?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function il(b,C,M){return typeof b=="string"?(b=encodeURI(b).replace(C,Pr),M&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Pr(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Eu=/[#\/\?@]/g,pp=/[#\?:]/g,Rf=/[#\?]/g,qs=/[#\?@]/g,mp=/#/g;function Hs(b,C){this.h=this.g=null,this.i=b||null,this.j=!!C}function Rr(b){b.g||(b.g=new Map,b.h=0,b.i&&_u(b.i,function(C,M){b.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}t=Hs.prototype,t.add=function(b,C){Rr(this),this.i=null,b=Gs(this,b);let M=this.g.get(b);return M||this.g.set(b,M=[]),M.push(C),this.h+=1,this};function gp(b,C){Rr(b),C=Gs(b,C),b.g.has(C)&&(b.i=null,b.h-=b.g.get(C).length,b.g.delete(C))}function Mf(b,C){return Rr(b),C=Gs(b,C),b.g.has(C)}t.forEach=function(b,C){Rr(this),this.g.forEach(function(M,G){M.forEach(function(Z){b.call(C,Z,G,this)},this)},this)};function Nf(b,C){Rr(b);let M=[];if(typeof C=="string")Mf(b,C)&&(M=M.concat(b.g.get(Gs(b,C))));else for(b=Array.from(b.g.values()),C=0;C<b.length;C++)M=M.concat(b[C]);return M}t.set=function(b,C){return Rr(this),this.i=null,b=Gs(this,b),Mf(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[C]),this.h+=1,this},t.get=function(b,C){return b?(b=Nf(this,b),b.length>0?String(b[0]):C):C};function Tu(b,C,M){gp(b,C),M.length>0&&(b.i=null,b.g.set(Gs(b,C),E(M)),b.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],C=Array.from(this.g.keys());for(let G=0;G<C.length;G++){var M=C[G];const Z=Ko(M);M=Nf(this,M);for(let ae=0;ae<M.length;ae++){let xe=Z;M[ae]!==""&&(xe+="="+Ko(M[ae])),b.push(xe)}}return this.i=b.join("&")};function yp(b){const C=new Hs;return C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),C}function Gs(b,C){return C=String(C),b.j&&(C=C.toLowerCase()),C}function xu(b,C){C&&!b.j&&(Rr(b),b.i=null,b.g.forEach(function(M,G){const Z=G.toLowerCase();G!=Z&&(gp(this,G),Tu(this,Z,M))},b)),b.j=C}function Di(b,C){const M=new Ft;if(a.Image){const G=new Image;G.onload=h(ni,M,"TestLoadImage: loaded",!0,C,G),G.onerror=h(ni,M,"TestLoadImage: error",!1,C,G),G.onabort=h(ni,M,"TestLoadImage: abort",!1,C,G),G.ontimeout=h(ni,M,"TestLoadImage: timeout",!1,C,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=b}else C(!1)}function Df(b,C){const M=new Ft,G=new AbortController,Z=setTimeout(()=>{G.abort(),ni(M,"TestPingServer: timeout",!1,C)},1e4);fetch(b,{signal:G.signal}).then(ae=>{clearTimeout(Z),ae.ok?ni(M,"TestPingServer: ok",!0,C):ni(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Z),ni(M,"TestPingServer: error",!1,C)})}function ni(b,C,M,G,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),G(M)}catch{}}function $s(){this.g=new $o}function ho(b){this.i=b.Sb||null,this.h=b.ab||!1}p(ho,ro),ho.prototype.g=function(){return new ol(this.i,this.h)};function ol(b,C){bt.call(this),this.H=b,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ol,bt),t=ol.prototype,t.open=function(b,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=C,this.readyState=1,Oi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(C.body=b),(this.H||a).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Su(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Su(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var C=b.value?b.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!b.done}))&&(this.response=this.responseText+=C)}b.done?Ks(this):Oi(this),this.readyState==3&&Su(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Ks(this))},t.Na=function(b){this.g&&(this.response=b,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Oi(b)}t.setRequestHeader=function(b,C){this.A.append(b,C)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,b.push(M[0]+": "+M[1]),M=C.next();return b.join(`\r
`)};function Oi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ri(b){let C="";return ue(b,function(M,G){C+=G,C+=":",C+=M,C+=`\r
`}),C}function sl(b,C,M){e:{for(G in M){var G=!1;break e}G=!0}G||(M=ri(M),typeof b=="string"?M!=null&&Ko(M):Tt(b,C,M))}function Ct(b){bt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ct,bt);var po=/^https?$/i,Of=["POST","PUT"];t=Ct.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,C,M,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);C=C?C.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xf.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(C,String(b),!0),this.B=!1}catch(ae){al(this,ae);return}if(b=M||"",M=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var Z in G)M.set(Z,G[Z]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ae of G.keys())M.set(ae,G.get(ae));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(M.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=a.FormData&&b instanceof a.FormData,!(Array.prototype.indexOf.call(Of,C,void 0)>=0)||G||Z||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,xe]of M)this.g.setRequestHeader(ae,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ae){al(this,ae)}};function al(b,C){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=C,b.o=5,kf(b),Yo(b)}function kf(b){b.A||(b.A=!0,ft(b,"complete"),ft(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ft(this,"complete"),ft(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(b){if(b.h&&typeof o<"u"){if(b.v&&ki(b)==4)setTimeout(b.Ca.bind(b),0);else if(ft(b,"readystatechange"),ki(b)==4){b.h=!1;try{const ae=b.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var G;if(G=ae===0){let xe=String(b.D).match(hp)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),G=!po.test(xe?xe.toLowerCase():"")}M=G}if(M)ft(b,"complete"),ft(b,"success");else{b.o=6;try{var Z=ki(b)>2?b.g.statusText:""}catch{Z=""}b.l=Z+" ["+b.ca()+"]",kf(b)}}finally{Yo(b)}}}}function Yo(b,C){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const M=b.g;b.g=null,C||ft(b,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(b){return b.g?b.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var C=this.g.responseText;return b&&C.indexOf(b)==0&&(C=C.substring(b.length)),Go(C)}};function Wn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Wo(b){const C={};b=(b.g&&ki(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<b.length;G++){if($(b[G]))continue;var M=cp(b[G]);const Z=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ae=C[Z]||[];C[Z]=ae,ae.push(M)}K(C,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(b,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[b]||C}function Ys(b){this.za=0,this.i=[],this.j=new Ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mo("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mo("baseRetryDelayMs",5e3,b),this.Za=mo("retryDelaySeedMs",1e4,b),this.Ta=mo("forwardChannelMaxRetries",2,b),this.va=mo("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Sf(b&&b.concurrentRequestLimit),this.Ba=new $s,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(b,C,M,G){ze(0),this.W=b,this.H=C||{},M&&G!==void 0&&(this.H.OSID=M,this.H.OAID=G),this.F=this.X,this.J=Sp(this,null,this.W),go(this)};function Lf(b){if(wu(b),b.I==3){var C=b.V++,M=gn(b.J);if(Tt(M,"SID",b.M),Tt(M,"RID",C),Tt(M,"TYPE","terminate"),ul(b,M),C=new Mi(b,b.j,C),C.M=2,C.A=rl(gn(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(C.A.toString(),"")}catch{}!M&&a.Image&&(new Image().src=C.A,M=!0),M||(C.g=wp(C.j,null),C.g.ea(C.A)),C.F=Date.now(),so(C)}xp(b)}function Ws(b){b.g&&(Uf(b),b.g.cancel(),b.g=null)}function wu(b){Ws(b),b.v&&(a.clearTimeout(b.v),b.v=null),Cu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&a.clearTimeout(b.m),b.m=null)}function go(b){if(!wf(b.h)&&!b.m){b.m=!0;var C=b.Ea;F||O(),U||(F(),U=!0),N.add(C,b),b.D=0}}function Au(b,C){return uo(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=C.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=tt(f(b.Ea,b,C),Tp(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const Z=new Mi(this,this.j,b);let ae=this.o;if(this.U&&(ae?(ae=k(ae),se(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var G=this.i[M];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(C+=G,C>4096){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=vp(this,Z,C),M=gn(this.J),Tt(M,"RID",b),Tt(M,"CVER",22),this.G&&Tt(M,"X-HTTP-Session-Id",this.G),ul(this,M),ae&&(this.R?C="headers="+Ko(ri(ae))+"&"+C:this.u&&sl(M,this.u,ae)),Af(this.h,Z),this.Ra&&Tt(M,"TYPE","init"),this.S?(Tt(M,"$req",C),Tt(M,"SID","null"),Z.U=!0,oo(Z,M,null)):oo(Z,M,C),this.I=2}}else this.I==3&&(b?Vf(this,b):this.i.length==0||wf(this.h)||Vf(this))};function Vf(b,C){var M;C?M=C.l:M=b.V++;const G=gn(b.J);Tt(G,"SID",b.M),Tt(G,"RID",M),Tt(G,"AID",b.K),ul(b,G),b.u&&b.o&&sl(G,b.u,b.o),M=new Mi(b,b.j,M,b.D+1),b.u===null&&(M.J=b.o),C&&(b.i=C.G.concat(b.i)),C=vp(b,M,1e3),M.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Af(b.h,M),oo(M,G,C)}function ul(b,C){b.H&&ue(b.H,function(M,G){Tt(C,G,M)}),b.l&&ue({},function(M,G){Tt(C,G,M)})}function vp(b,C,M){M=Math.min(b.i.length,M);const G=b.l?f(b.l.Ka,b.l,b):null;e:{var Z=b.i;let We=-1;for(;;){const un=["count="+M];We==-1?M>0?(We=Z[0].g,un.push("ofs="+We)):We=0:un.push("ofs="+We);let gt=!0;for(let Kt=0;Kt<M;Kt++){var ae=Z[Kt].g;const ii=Z[Kt].map;if(ae-=We,ae<0)We=Math.max(0,Z[Kt].g-100),gt=!1;else try{ae="req"+ae+"_"||"";try{var xe=ii instanceof Map?ii:Object.entries(ii);for(const[vo,Li]of xe){let Vi=Li;u(Li)&&(Vi=Fr(Li)),un.push(ae+vo+"="+encodeURIComponent(Vi))}}catch(vo){throw un.push(ae+"type="+encodeURIComponent("_badmap")),vo}}catch{G&&G(ii)}}if(gt){xe=un.join("&");break e}}xe=void 0}return b=b.i.splice(0,M),C.G=b,xe}function bp(b){if(!b.g&&!b.v){b.Y=1;var C=b.Da;F||O(),U||(F(),U=!0),N.add(C,b),b.A=0}}function cl(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=tt(f(b.Da,b),Tp(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,_p(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=tt(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ze(10),Ws(this),_p(this))};function Uf(b){b.B!=null&&(a.clearTimeout(b.B),b.B=null)}function _p(b){b.g=new Mi(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var C=gn(b.na);Tt(C,"RID","rpc"),Tt(C,"SID",b.M),Tt(C,"AID",b.K),Tt(C,"CI",b.F?"0":"1"),!b.F&&b.ia&&Tt(C,"TO",b.ia),Tt(C,"TYPE","xmlhttp"),ul(b,C),b.u&&b.o&&sl(C,b.u,b.o),b.O&&(b.g.H=b.O);var M=b.g;b=b.ba,M.M=1,M.A=rl(gn(C)),M.u=null,M.R=!0,vu(M,b)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),cl(this),ze(19))};function Cu(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function Ep(b,C){var M=null;if(b.g==C){Cu(b),Uf(b),b.g=null;var G=2}else if(co(b.h,C))M=C.G,Cf(b.h,C),G=1;else return;if(b.I!=0){if(C.o)if(G==1){M=C.u?C.u.length:0,C=Date.now()-C.F;var Z=b.D;G=js(),ft(G,new at(G,M)),go(b)}else bp(b);else if(Z=C.m,Z==3||Z==0&&C.X>0||!(G==1&&Au(b,C)||G==2&&cl(b)))switch(M&&M.length>0&&(C=b.h,C.i=C.i.concat(M)),Z){case 1:yo(b,5);break;case 4:yo(b,10);break;case 3:yo(b,6);break;default:yo(b,2)}}}function Tp(b,C){let M=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(M*=2),M*C}function yo(b,C){if(b.j.info("Error code "+C),C==2){var M=f(b.bb,b),G=b.Ua;const Z=!G;G=new zr(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bn(G,"https"),rl(G),Z?Di(G.toString(),M):Df(G.toString(),M)}else ze(2);b.I=0,b.l&&b.l.pa(C),xp(b),wu(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function xp(b){if(b.I=0,b.ja=[],b.l){const C=If(b.h);(C.length!=0||b.i.length!=0)&&(x(b.ja,C),x(b.ja,b.i),b.h.i.length=0,E(b.i),b.i.length=0),b.l.oa()}}function Sp(b,C,M){var G=M instanceof zr?gn(M):new zr(M);if(G.g!="")C&&(G.g=C+"."+G.g),zs(G,G.u);else{var Z=a.location;G=Z.protocol,C=C?C+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new zr(null);G&&Bn(ae,G),C&&(ae.g=C),Z&&zs(ae,Z),M&&(ae.h=M),G=ae}return M=b.G,C=b.wa,M&&C&&Tt(G,M,C),Tt(G,"VER",b.ka),ul(b,G),G}function wp(b,C,M){if(C&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=b.Aa&&!b.ma?new Ct(new ho({ab:M})):new Ct(b.ma),C.Fa(b.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ap(){}t=Ap.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(b,C){return new yr(b,C)};function yr(b,C){bt.call(this),this.g=new Ys(C),this.l=b,this.h=C&&C.messageUrlParams||null,b=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(b?b["X-WebChannel-Content-Type"]=C.messageContentType:b={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(b?b["X-WebChannel-Client-Profile"]=C.sa:b={"X-WebChannel-Client-Profile":C.sa}),this.g.U=b,(b=C&&C.Qb)&&!$(b)&&(this.g.u=b),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!$(C)&&(this.g.G=C,b=this.h,b!==null&&C in b&&(b=this.h,C in b&&delete b[C])),this.j=new Jo(this)}p(yr,bt),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){Lf(this.g)},yr.prototype.o=function(b){var C=this.g;if(typeof b=="string"){var M={};M.__data__=b,b=M}else this.v&&(M={},M.__data__=Fr(b),b=M);C.i.push(new mn(C.Ya++,b)),C.I==3&&go(C)},yr.prototype.N=function(){this.g.l=null,delete this.j,Lf(this.g),delete this.g,yr.Z.N.call(this)};function Cp(b){Cn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var C=b.__sm__;if(C){e:{for(const M in C){b=M;break e}b=void 0}(this.i=b)&&(b=this.i,C=C!==null&&b in C?C[b]:void 0),this.data=C}else this.data=b}p(Cp,Cn);function Ip(){Ir.call(this),this.status=1}p(Ip,Ir);function Jo(b){this.g=b}p(Jo,Ap),Jo.prototype.ra=function(){ft(this.g,"a")},Jo.prototype.qa=function(b){ft(this.g,new Cp(b))},Jo.prototype.pa=function(b){ft(this.g,new Ip)},Jo.prototype.oa=function(){ft(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,Kz=function(){return new Js},$z=function(){return js()},Gz=$t,SS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,wg=tl,Tf.COMPLETE="complete",Hz=Tf,Fs.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,jd=Fs,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,qz=Ct}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf="12.9.0";function YEe(t){gf=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Lz("@firebase/firestore");function fc(){return su.logLevel}function Pe(t,...e){if(su.logLevel<=ct.DEBUG){const n=e.map(k1);su.debug(`Firestore (${gf}): ${t}`,...n)}}function Ps(t,...e){if(su.logLevel<=ct.ERROR){const n=e.map(k1);su.error(`Firestore (${gf}): ${t}`,...n)}}function au(t,...e){if(su.logLevel<=ct.WARN){const n=e.map(k1);su.warn(`Firestore (${gf}): ${t}`,...n)}}function k1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Yz(t,r,n)}function Yz(t,e,n){let r=`FIRESTORE (${gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Yz(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends mf{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class JEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XEe{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yl,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yl)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new Wz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class QEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QEe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eTe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MEe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QV(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QV(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tTe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function wS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return RT(i)===RT(o)?it(i,o):RT(i)?1:-1}return it(t.length,e.length)}const nTe=55296,rTe=57343;function RT(t){const e=t.charCodeAt(0);return e>=nTe&&e<=rTe}function Gc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="__name__";class Co{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Co?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Co.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return it(e.length,n.length)}static compareSegments(e,n){const r=Co.isNumericId(e),i=Co.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Co.extractNumericId(e).compare(Co.extractNumericId(n)):wS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class Vt extends Co{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const iTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Co{construct(e,n,r){return new ir(e,n,r)}static isValidIdentifier(e){return iTe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZV}static keyField(){return new ir([ZV])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(n)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Vt.fromString(e))}static fromName(e){return new Be(Vt.fromString(e).popFirst(5))}static empty(){return new Be(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t,e,n){if(!n)throw new Re(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oTe(t,e,n,r){if(e===!0&&r===!0)throw new Re(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eU(t){if(!Be.isDocumentKey(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tU(t){if(Be.isDocumentKey(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xz(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function a0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Qd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=a0(t);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function op(t,e){if(!Xz(t))throw new Re(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Re(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=-62135596800,rU=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rU);return new Ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nU)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rU}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(op(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:wn("string",Ht._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ht(0,0))}static max(){return new Ge(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function sTe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Ba(i,Be.empty(),e)}function aTe(t){return new Ba(t.readTime,t.key,Ph)}class Ba{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ba(Ge.min(),Be.empty(),Ph)}static max(){return new Ba(Ge.max(),Be.empty(),Ph)}}function lTe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uTe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==uTe)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{a[f]=h,++u,u===o&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function fTe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}l0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-1;function u0(t){return t==null}function Gy(t){return t===0&&1/t==-1/0}function dTe(t){return typeof t=="number"&&Number.isInteger(t)&&!Gy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="";function hTe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iU(e)),e=pTe(t.get(n),e);return iU(e)}function pTe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Qz:n+="";break;default:n+=o}}return n}function iU(t){return t+Qz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sg(this.root,e,this.comparator,!0)}}class sg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sU(this.data.getIterator())}getIteratorFrom(e){return new sU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class sU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new gs([])}unionWith(e){let n=new Dn(ir.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eq("Invalid base64 string: "+o):o}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const mTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=mTe.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="server_timestamp",nq="__type__",rq="__previous_value__",iq="__local_write_time__";function U1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nq])==null?void 0:r.stringValue)===tq}function c0(t){const e=t.mapValue.fields[rq];return U1(e)?c0(e):e}function Rh(t){const e=Fa(t.mapValue.fields[iq].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gTe{constructor(e,n,r,i,o,a,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const $y="(default)";class Mh{constructor(e,n){this.projectId=e,this.database=n||$y}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===$y}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}function yTe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="__type__",vTe="__max__",ag={mapValue:{}},sq="__vector__",Ky="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U1(t)?4:_Te(t)?9007199254740991:bTe(t)?10:11:je(28295,{value:t})}function jo(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Fa(i.timestampValue),u=Fa(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ja(i.bytesValue).isEqual(ja(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return dn(i.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return dn(i.integerValue)===dn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=dn(i.doubleValue),u=dn(o.doubleValue);return a===u?Gy(a)===Gy(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(oU(a)!==oU(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!jo(a[c],u[c])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find((n=>jo(n,e)))!==void 0}function $c(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=dn(o.integerValue||o.doubleValue),c=dn(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return aU(t.timestampValue,e.timestampValue);case 4:return aU(Rh(t),Rh(e));case 5:return wS(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=ja(o),c=ja(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=it(u[f],c[f]);if(h!==0)return h}return it(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=it(dn(o.latitude),dn(a.latitude));return u!==0?u:it(dn(o.longitude),dn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lU(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var g,E,x,S;const u=o.fields||{},c=a.fields||{},f=(g=u[Ky])==null?void 0:g.arrayValue,h=(E=c[Ky])==null?void 0:E.arrayValue,p=it(((x=f==null?void 0:f.values)==null?void 0:x.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return p!==0?p:lU(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===ag.mapValue&&a===ag.mapValue)return 0;if(o===ag.mapValue)return 1;if(a===ag.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=wS(c[p],h[p]);if(g!==0)return g;const E=$c(u[c[p]],f[h[p]]);if(E!==0)return E}return it(c.length,h.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function aU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Fa(t),r=Fa(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function lU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$c(n[i],r[i]);if(o)return o}return it(n.length,r.length)}function Kc(t){return AS(t)}function AS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=AS(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${AS(n.fields[a])}`;return i+"}"})(t.mapValue):je(61005,{value:t})}function Ag(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=c0(t);return e?16+Ag(e):16;case 5:return 2*t.stringValue.length;case 6:return ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Ag(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pu(r.fields,((o,a)=>{i+=o.length+Ag(a)})),i})(t.mapValue);default:throw je(13486,{value:t})}}function uU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CS(t){return!!t&&"integerValue"in t}function B1(t){return!!t&&"arrayValue"in t}function cU(t){return!!t&&"nullValue"in t}function fU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cg(t){return!!t&&"mapValue"in t}function bTe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[oq])==null?void 0:r.stringValue)===sq}function Zd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zd(t.arrayValue.values[n]);return e}return{...t}}function _Te(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vTe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(n)}setAll(e){let n=ir.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Zd(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new $i(Zd(this.value))}}function aq(t){const e=[];return pu(t.fields,((n,r)=>{const i=new ir([n]);if(Cg(r)){const o=aq(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new gs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new dr(e,0,Ge.min(),Ge.min(),Ge.min(),$i.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,Ge.min(),Ge.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,Ge.min(),Ge.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.position=e,this.inclusive=n}}function dU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(a.referenceValue),n.key):r=$c(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ETe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{}class xn extends lq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xTe(e,n,r):n==="array-contains"?new ATe(e,r):n==="in"?new CTe(e,r):n==="not-in"?new ITe(e,r):n==="array-contains-any"?new PTe(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new STe(e,r):new wTe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($c(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison($c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends lq{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return uq(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uq(t){return t.op==="and"}function cq(t){return TTe(t)&&uq(t)}function TTe(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function IS(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Kc(t.value);if(cq(t))return t.filters.map((e=>IS(e))).join(",");{const e=t.filters.map((n=>IS(n))).join(",");return`${t.op}(${e})`}}function fq(t,e){return t instanceof xn?(function(r,i){return i instanceof xn&&r.op===i.op&&r.field.isEqual(i.field)&&jo(r.value,i.value)})(t,e):t instanceof Zi?(function(r,i){return i instanceof Zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&fq(a,i.filters[u])),!0):!1})(t,e):void je(19439)}function dq(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kc(n.value)}`})(t):t instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(dq).join(" ,")+"}"})(t):"Filter"}class xTe extends xn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class STe extends xn{constructor(e,n){super(e,"in",n),this.keys=hq("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wTe extends xn{constructor(e,n){super(e,"not-in",n),this.keys=hq("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hq(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class ATe extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return B1(n)&&Nh(n.arrayValue,this.value)}}class CTe extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class ITe extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class PTe extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!B1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RTe{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function pU(t,e=null,n=[],r=[],i=null,o=null,a=null){return new RTe(t,e,n,r,i,o,a)}function F1(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>IS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),u0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kc(r))).join(",")),e.Te=n}return e.Te}function j1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ETe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hU(t.startAt,e.startAt)&&hU(t.endAt,e.endAt)}function PS(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MTe(t,e,n,r,i,o,a,u){return new bf(t,e,n,r,i,o,a,u)}function z1(t){return new bf(t)}function mU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NTe(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pq(t){return t.collectionGroup!==null}function eh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Dn(ir.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Dh(o,r))})),n.has(ir.keyField().canonicalString())||e.Ie.push(new Dh(ir.keyField(),r))}return e.Ie}function Do(t){const e=Ye(t);return e.Ee||(e.Ee=DTe(e,eh(t))),e.Ee}function DTe(t,e){if(t.limitType==="F")return pU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Dh(i.field,o)}));const n=t.endAt?new Yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yy(t.startAt.position,t.startAt.inclusive):null;return pU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RS(t,e){const n=t.filters.concat([e]);return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function OTe(t,e){const n=t.explicitOrderBy.concat([e]);return new bf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,n){return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function f0(t,e){return j1(Do(t),Do(e))&&t.limitType===e.limitType}function mq(t){return`${F1(Do(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dq(i))).join(", ")}]`),u0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Kc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Kc(i))).join(",")),`Target(${r})`})(Do(t))}; limitType=${t.limitType})`}function d0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of eh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const f=dU(a,u,c);return a.inclusive?f<=0:f<0})(r.startAt,eh(r),i)||r.endAt&&!(function(a,u,c){const f=dU(a,u,c);return a.inclusive?f>=0:f>0})(r.endAt,eh(r),i))})(t,e)}function kTe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gq(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const o=LTe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LTe(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(o,a,u){const c=a.data.field(o),f=u.data.field(o);return c!==null&&f!==null?$c(c,f):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Zz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VTe=new Qt(Be.comparator);function Rs(){return VTe}const yq=new Qt(Be.comparator);function zd(...t){let e=yq;for(const n of t)e=e.insert(n.key,n);return e}function vq(t){let e=yq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function zl(){return th()}function bq(){return th()}function th(){return new mu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UTe=new Qt(Be.comparator),BTe=new Dn(Be.comparator);function ot(...t){let e=BTe;for(const n of t)e=e.add(n);return e}const FTe=new Dn(it);function jTe(){return FTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gy(e)?"-0":e}}function _q(t){return{integerValue:""+t}}function zTe(t,e){return dTe(e)?_q(e):q1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this._=void 0}}function qTe(t,e,n){return t instanceof Jy?(function(i,o){const a={fields:{[nq]:{stringValue:tq},[iq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&U1(o)&&(o=c0(o)),o&&(a.fields[rq]=o),{mapValue:a}})(n,e):t instanceof Oh?Tq(t,e):t instanceof kh?xq(t,e):(function(i,o){const a=Eq(i,o),u=gU(a)+gU(i.Ae);return CS(a)&&CS(i.Ae)?_q(u):q1(i.serializer,u)})(t,e)}function HTe(t,e,n){return t instanceof Oh?Tq(t,e):t instanceof kh?xq(t,e):n}function Eq(t,e){return t instanceof Xy?(function(r){return CS(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Jy extends h0{}class Oh extends h0{constructor(e){super(),this.elements=e}}function Tq(t,e){const n=Sq(e);for(const r of t.elements)n.some((i=>jo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class kh extends h0{constructor(e){super(),this.elements=e}}function xq(t,e){let n=Sq(e);for(const r of t.elements)n=n.filter((i=>!jo(i,r)));return{arrayValue:{values:n}}}class Xy extends h0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gU(t){return dn(t.integerValue||t.doubleValue)}function Sq(t){return B1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GTe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Oh&&i instanceof Oh||r instanceof kh&&i instanceof kh?Gc(r.elements,i.elements,jo):r instanceof Xy&&i instanceof Xy?jo(r.Ae,i.Ae):r instanceof Jy&&i instanceof Jy})(t.transform,e.transform)}class $Te{constructor(e,n){this.version=e,this.transformResults=n}}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class p0{}function wq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H1(t.key,vs.none()):new m0(t.key,t.data,vs.none());{const n=t.data,r=$i.empty();let i=new Dn(ir.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new _f(t.key,r,new gs(i.toArray()),vs.none())}}function KTe(t,e,n){t instanceof m0?(function(i,o,a){const u=i.value.clone(),c=vU(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof _f?(function(i,o,a){if(!Ig(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=vU(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(Aq(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function nh(t,e,n,r){return t instanceof m0?(function(o,a,u,c){if(!Ig(o.precondition,a))return u;const f=o.value.clone(),h=bU(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof _f?(function(o,a,u,c){if(!Ig(o.precondition,a))return u;const f=bU(o.fieldTransforms,c,a),h=a.data;return h.setAll(Aq(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,a,u){return Ig(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function YTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Eq(r.transform,i||null);o!=null&&(n===null&&(n=$i.empty()),n.set(r.field,o))}return n||null}function yU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gc(r,i,((o,a)=>GTe(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class m0 extends p0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _f extends p0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Aq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vU(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,HTe(a,u,n[i]))}return r}function bU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,qTe(o,a,e))}return r}class H1 extends p0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WTe extends p0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JTe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KTe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bq();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=wq(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,((n,r)=>yU(n,r)))&&Gc(this.baseMutations,e.baseMutations,((n,r)=>yU(n,r)))}}class G1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return UTe})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new G1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QTe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,ut;function ZTe(t){switch(t){case ge.OK:return je(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function Cq(t){if(t===void 0)return Ps("GRPC error has no .code"),ge.UNKNOWN;switch(t){case En.OK:return ge.OK;case En.CANCELLED:return ge.CANCELLED;case En.UNKNOWN:return ge.UNKNOWN;case En.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case En.INTERNAL:return ge.INTERNAL;case En.UNAVAILABLE:return ge.UNAVAILABLE;case En.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case En.NOT_FOUND:return ge.NOT_FOUND;case En.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case En.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case En.ABORTED:return ge.ABORTED;case En.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case En.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case En.DATA_LOSS:return ge.DATA_LOSS;default:return je(39323,{code:t})}}(ut=En||(En={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function exe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const txe=new Da([4294967295,4294967295],0);function _U(t){const e=exe().encode(t),n=new zz;return n.update(e),new Uint8Array(n.digest())}function EU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Da([n,r],0),new Da([i,o],0)]}class $1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qd(`Invalid padding: ${n}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Da.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Da.fromNumber(r)));return i.compare(txe)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_U(e),[r,i]=EU(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new $1(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=_U(e),[r,i]=EU(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new g0(Ge.min(),i,new Qt(it),Rs(),ot())}}class sp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sp(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Iq{constructor(e,n){this.targetId=e,this.Ce=n}}class Pq{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TU{constructor(){this.ve=0,this.Fe=xU(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:je(38017,{changeType:o})}})),new sp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xU()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nxe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.He=lg(),this.Je=lg(),this.Ze=new Qt(it)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(PS(o))if(r===0){const a=new Be(o.path);this.et(n,a,dr.newNoDocument(a,Ge.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=ja(r).toUint8Array()}catch(c){if(c instanceof eq)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new $1(a,i,o)}catch(c){return au(c instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&PS(u.target)){const c=new Be(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,dr.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}}));let r=ot();this.Je.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new g0(e,n,this.Ze,this.je,r);return this.je=Rs(),this.He=lg(),this.Je=lg(),this.Ze=new Qt(it),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new TU,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Dn(it),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Dn(it),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TU),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lg(){return new Qt(Be.comparator)}function xU(){return new Qt(Be.comparator)}const rxe={asc:"ASCENDING",desc:"DESCENDING"},ixe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oxe={and:"AND",or:"OR"};class sxe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function MS(t,e){return t.useProto3Json||u0(e)?e:{value:e}}function Qy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function axe(t,e){return Qy(t,e.toTimestamp())}function Oo(t){return _t(!!t,49232),Ge.fromTimestamp((function(n){const r=Fa(n);return new Ht(r.seconds,r.nanos)})(t))}function K1(t,e){return NS(t,e).canonicalString()}function NS(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Mq(t){const e=Vt.fromString(t);return _t(Lq(e),10190,{key:e.toString()}),e}function DS(t,e){return K1(t.databaseId,e.path)}function MT(t,e){const n=Mq(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(Dq(n))}function Nq(t,e){return K1(t.databaseId,e)}function lxe(t){const e=Mq(t);return e.length===4?Vt.emptyPath():Dq(e)}function OS(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dq(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SU(t,e,n){return{name:DS(t,e),fields:n.value.mapValue.fields}}function uxe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(_t(h===void 0||typeof h=="string",58123),sr.fromBase64String(h||"")):(_t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),sr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(f){const h=f.code===void 0?ge.UNKNOWN:Cq(f.code);return new Re(h,f.message||"")})(a);n=new Pq(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=MT(t,r.document.name),o=Oo(r.document.updateTime),a=r.document.createTime?Oo(r.document.createTime):Ge.min(),u=new $i({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,o,a,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Pg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=MT(t,r.document),o=r.readTime?Oo(r.readTime):Ge.min(),a=dr.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Pg([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=MT(t,r.document),o=r.removedTargetIds||[];n=new Pg([],o,i,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new QTe(i,o),u=r.targetId;n=new Iq(u,a)}}return n}function cxe(t,e){let n;if(e instanceof m0)n={update:SU(t,e.key,e.value)};else if(e instanceof H1)n={delete:DS(t,e.key)};else if(e instanceof _f)n={update:SU(t,e.key,e.data),updateMask:bxe(e.fieldMask)};else{if(!(e instanceof WTe))return je(16599,{dt:e.type});n={verify:DS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof Jy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xy)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw je(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:axe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je(27497)})(t,e.precondition)),n}function fxe(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Oo(i.updateTime):Oo(o);return a.isEqual(Ge.min())&&(a=Oo(o)),new $Te(a,i.transformResults||[])})(n,e)))):[]}function dxe(t,e){return{documents:[Nq(t,e.path)]}}function hxe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nq(t,i);const o=(function(f){if(f.length!==0)return kq(Zi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:hc(g.field),direction:gxe(g.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=MS(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function pxe(t){let e=lxe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=Oq(p);return g instanceof Zi&&cq(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(x){return new Dh(pc(x.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,u0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,E=p.values||[];return new Yy(E,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,E=p.values||[];return new Yy(E,g)})(n.endAt)),MTe(e,i,a,o,u,"F",c,f)}function mxe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Oq(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pc(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pc(n.unaryFilter.field);return xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pc(n.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=pc(n.unaryFilter.field);return xn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(pc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>Oq(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function gxe(t){return rxe[t]}function yxe(t){return ixe[t]}function vxe(t){return oxe[t]}function hc(t){return{fieldPath:t.canonicalString()}}function pc(t){return ir.fromServerFormat(t.fieldPath)}function kq(t){return t instanceof xn?(function(n){if(n.op==="=="){if(fU(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(cU(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fU(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(cU(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:yxe(n.op),value:n.value}}})(t):t instanceof Zi?(function(n){const r=n.getFilters().map((i=>kq(i)));return r.length===1?r[0]:{compositeFilter:{op:vxe(n.op),filters:r}}})(t):je(54877,{filter:t})}function bxe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Lq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Vq(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,i,o=Ge.min(),a=Ge.min(),u=sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(e){this.yt=e}}function Exe(t){const e=pxe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(){this.Sn=new xxe}addToCollectionParentIndex(e,n){return this.Sn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Ba.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class xxe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Vt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uq=41943040;class Lr{static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(Uq,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Yc(0)}static ar(){return new Yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="LruGarbageCollector",Sxe=1048576;function CU([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class wxe{constructor(e){this.Pr=e,this.buffer=new Dn(CU),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Axe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(AU,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vf(n)?Pe(AU,"Ignoring IndexedDB error during garbage collection: ",n):await yf(n)}await this.Ar(3e5)}))}}class Cxe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(l0.ce);const r=new wxe(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(wU)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wU):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),fc()<=ct.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function Ixe(t,e){return new Cxe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(){this.changes=new mu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mxe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&nh(r.mutation,i,gs.empty(),Ht.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=zl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=zd();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=zl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=Rs();const a=th(),u=(function(){return th()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof _f)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),nh(h.mutation,f,h.mutation.getFieldMask(),Ht.now())):a.set(f.key,gs.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>a.set(f,h))),n.forEach(((f,h)=>u.set(f,new Rxe(h,a.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=th();let i=new Qt(((a,u)=>a-u)),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||gs.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||ot()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=bq();h.forEach((g=>{if(!o.has(g)){const E=wq(n.get(g),r.get(g));E!==null&&p.set(g,E),o=o.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ye.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return NTe(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ye.resolve(zl());let u=Ph,c=o;return a.next((f=>ye.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,ot()))).next((h=>({batchId:u,changes:vq(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=zd();return this.indexManager.getCollectionParents(e,o).next((u=>ye.forEach(u,(c=>{const f=(function(p,g){return new bf(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,dr.newInvalidDocument(h)))}));let u=zd();return a.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&nh(h.mutation,f,gs.empty(),Ht.now()),d0(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ye.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Oo(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:Exe(i.bundledQuery),readTime:Oo(i.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dxe{constructor(){this.overlays=new Qt(Be.comparator),this.Lr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zl();return ye.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=zl(),o=n.length+1,a=new Be(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qt(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=zl(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=zl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return ye.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XTe(n,r));let o=this.Lr.get(n);o===void 0&&(o=ot(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.kr=new Dn(Hn.Kr),this.qr=new Dn(Hn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Hn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Be(new Vt([])),r=new Hn(n,e),i=new Hn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),o.push(a.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Be(new Vt([])),r=new Hn(n,e),i=new Hn(n,e+1);let o=ot();return this.qr.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new Hn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Be.comparator(e.key,n.key)||it(e.Hr,n.Hr)}static Ur(e,n){return it(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Dn(Hn.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JTe(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Jr=this.Jr.add(new Hn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ye.resolve(a)}lookupMutationBatch(e,n){return ye.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?V1:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(a=>{const u=this.Zr(a.Hr);o.push(u)})),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(it);return n.forEach((i=>{const o=new Hn(i,0),a=new Hn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],(u=>{r=r.add(u.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const a=new Hn(new Be(o),0);let u=new Dn(it);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),a),ye.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(n.mutations,(i=>{const o=new Hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Jr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rs();const a=n.path,u=new Be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||lTe(aTe(h),r)<=0||(i.has(h.key)||d0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,n,r,i){je(9500)}ni(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Vxe(this)}getSize(e){return ye.resolve(this.size)}}class Vxe extends Pxe{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxe{constructor(e){this.persistence=e,this.ri=new mu((n=>F1(n)),j1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new Y1,this.targetCount=0,this.oi=Yc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ye.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.lr(n),ye.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ye.waitFor(o).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),ye.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this._i={},this.overlays={},this.ai=new l0(0),this.ui=!1,this.ui=!0,this.ci=new Oxe,this.referenceDelegate=e(this),this.li=new Uxe(this),this.indexManager=new Txe,this.remoteDocumentCache=(function(i){return new Lxe(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new _xe(n),this.Pi=new Nxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dxe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new kxe(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new Bxe(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Bxe extends cTe{constructor(e){super(),this.currentSequenceNumber=e}}class W1{constructor(e){this.persistence=e,this.Ri=new Y1,this.Ai=null}static Vi(e){return new W1(e)}get di(){if(this.Ai)return this.Ai;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const i=Be.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zy{constructor(e,n){this.persistence=e,this.fi=new mu((r=>hTe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ixe(this,n)}static Vi(e,n){return new Zy(e,n)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ye.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((u=>{u||(r++,o.removeEntry(a,Ge.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ag(e.data.value)),n}wr(e,n,r){return ye.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new J1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return I_e()?8:fTe(A_e())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new Fxe;return this.ys(e,n,a).next((u=>{if(o.result=u,this.As)return this.ws(e,n,a,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(fc()<=ct.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(fc()<=ct.DEBUG&&Pe("QueryEngine","Query:",dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(fc()<=ct.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Do(n))):ye.resolve())}gs(e,n){if(mU(n))return ye.resolve(null);let r=Do(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wy(n,null,"F"),r=Do(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=ot(...o);return this.fs.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,a,c.readTime)?this.gs(e,Wy(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return mU(n)||i.isEqual(Ge.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?ye.resolve(null):(fc()<=ct.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(n)),this.Ds(e,a,n,sTe(i,Ph)).next((u=>u)))}))}bs(e,n){let r=new Dn(gq(e));return n.forEach(((i,o)=>{d0(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return fc()<=ct.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",dc(n)),this.fs.getDocumentsMatchingQuery(e,n,Ba.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="LocalStore",zxe=3e8;class qxe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Qt(it),this.Fs=new mu((o=>F1(o)),j1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mxe(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Hxe(t,e,n,r){return new qxe(t,e,n,r)}async function Fq(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let c=ot();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:a,addedBatchIds:u})))}))}))}function Gxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,g=p.keys();let E=ye.resolve();return g.forEach((x=>{E=E.next((()=>h.getEntry(c,x))).next((S=>{const w=f.docVersions.get(x);_t(w!==null,48541),S.version.compareTo(w)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=ot();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jq(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $xe(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(sr.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),(function(S,w,P){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=zxe?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(g,E,h)&&u.push(n.li.updateTargetData(o,E))}));let c=Rs(),f=ot();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(Kxe(o,a,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Ge.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ye.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function Kxe(t,e,n){let r=ot(),i=ot();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=Rs();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Pe(X1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function Yxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=V1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Wxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ye.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new Ca(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function kS(t,e,n){const r=Ye(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!vf(a))throw a;Pe(X1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function IU(t,e,n){const r=Ye(t);let i=Ge.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=Ye(c),g=p.Fs.get(h);return g!==void 0?ye.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,a,Do(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?o:ot()))).next((u=>(Jxe(r,kTe(e),u),{documents:u,ks:o})))))}function Jxe(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class PU{constructor(){this.activeTargetIds=jTe()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xxe{constructor(){this.vo=new PU,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new PU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="ConnectivityMonitor";class MU{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(RU,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(RU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug=null;function LS(){return ug===null?ug=(function(){return 268435456+Math.round(2147483648*Math.random())})():ug++,"0x"+ug.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="RestConnection",Zxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eSe{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===$y?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=LS(),u=this.Qo(e,n.toUriEncodedString());Pe(NT,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=D1(f);return this.zo(e,u,c,r,h).then((p=>(Pe(NT,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw au(NT,`RPC '${e}' ${a} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=Zxe[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection",kd=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Dc extends eSe{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Dc.c_){const e=$z();kd(e,Gz.STAT_EVENT,(n=>{n.stat===SS.PROXY?Pe(ur,"STAT_EVENT: detected buffering proxy"):n.stat===SS.NOPROXY&&Pe(ur,"STAT_EVENT: detected no buffering proxy")})),Dc.c_=!0}}zo(e,n,r,i,o){const a=LS();return new Promise(((u,c)=>{const f=new qz;f.setWithCredentials(!0),f.listenOnce(Hz.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case wg.NO_ERROR:const p=f.getResponseJson();Pe(ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),u(p);break;case wg.TIMEOUT:Pe(ur,`RPC '${e}' ${a} timed out`),c(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case wg.HTTP_ERROR:const g=f.getStatus();if(Pe(ur,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const S=(function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(L)>=0?L:ge.UNKNOWN})(x.status);c(new Re(S,x.message))}else c(new Re(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Pe(ur,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Pe(ur,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=LS(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Pe(ur,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=a.createWebChannel(f,u);this.I_(h);let p=!1,g=!1;const E=new tSe({Ho:x=>{g?Pe(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(Pe(ur,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Pe(ur,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Jo:()=>h.close()});return kd(h,jd.EventType.OPEN,(()=>{g||(Pe(ur,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),kd(h,jd.EventType.CLOSE,(()=>{g||(g=!0,Pe(ur,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(h))})),kd(h,jd.EventType.ERROR,(x=>{g||(g=!0,au(ur,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),E.o_(new Re(ge.UNAVAILABLE,"The operation could not be completed")))})),kd(h,jd.EventType.MESSAGE,(x=>{var S;if(!g){const w=x.data[0];_t(!!w,16349);const P=w,L=(P==null?void 0:P.error)||((S=P[0])==null?void 0:S.error);if(L){Pe(ur,`RPC '${e}' stream ${i} received error:`,L);const D=L.status;let B=(function(N){const O=En[N];if(O!==void 0)return Cq(O)})(D),F=L.message;D==="NOT_FOUND"&&F.includes("database")&&F.includes("does not exist")&&F.includes(this.databaseId.database)&&au(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=ge.INTERNAL,F="Unknown error status: "+D+" with message "+L.message),g=!0,E.o_(new Re(B,F)),h.close()}else Pe(ur,`RPC '${e}' stream ${i} received:`,w),E.__(w)}})),Dc.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Kz()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nSe(t){return new Dc(t)}function DT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return new sxe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc.c_=!1;class zq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="PersistentStream";class qq{constructor(e,n,r,i,o,a,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(NU,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Pe(NU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rSe extends qq{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uxe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?Oo(a.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=OS(this.serializer),n.addTarget=(function(o,a){let u;const c=a.target;if(u=PS(c)?{documents:dxe(o,c)}:{query:hxe(o,c).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Rq(o,a.resumeToken);const f=MS(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ge.min())>0){u.readTime=Qy(o,a.snapshotVersion.toTimestamp());const f=MS(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=mxe(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=OS(this.serializer),n.removeTarget=e,this.K_(n)}}class iSe extends qq{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fxe(e.writeResults,e.commitTime),r=Oo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=OS(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>cxe(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oSe{}class sSe extends oSe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Wo(e,NS(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ge.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.jo(e,NS(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ge.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aSe(t,e,n,r){return new sSe(t,e,n,r)}class lSe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="RemoteStore";class uSe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{gu(this)&&(Pe(lu,"Restarting streams for network reachability change."),await(async function(c){const f=Ye(c);f.Ea.add(4),await ap(f),f.Va.set("Unknown"),f.Ea.delete(4),await v0(f)})(this))}))})),this.Va=new lSe(r,i)}}async function v0(t){if(gu(t))for(const e of t.Ra)await e(!0)}async function ap(t){for(const e of t.Ra)await e(!1)}function Hq(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tC(n)?eC(n):Ef(n).O_()&&Z1(n,e))}function Q1(t,e){const n=Ye(t),r=Ef(n);n.Ia.delete(e),r.O_()&&Gq(n,e),n.Ia.size===0&&(r.O_()?r.L_():gu(n)&&n.Va.set("Unknown"))}function Z1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ef(t).Z_(e)}function Gq(t,e){t.da.$e(e),Ef(t).X_(e)}function eC(t){t.da=new nxe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ef(t).start(),t.Va.ua()}function tC(t){return gu(t)&&!Ef(t).x_()&&t.Ia.size>0}function gu(t){return Ye(t).Ea.size===0}function $q(t){t.da=void 0}async function cSe(t){t.Va.set("Online")}async function fSe(t){t.Ia.forEach(((e,n)=>{Z1(t,e)}))}async function dSe(t,e){$q(t),tC(t)?(t.Va.ha(e),eC(t)):t.Va.set("Unknown")}async function hSe(t,e,n){if(t.Va.set("Online"),e instanceof Pq&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Pe(lu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ev(t,r)}else if(e instanceof Pg?t.da.Xe(e):e instanceof Iq?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await jq(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.da.Tt(a);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(sr.EMPTY_BYTE_STRING,h.snapshotVersion)),Gq(o,c);const p=new Ca(h.target,c,f,h.sequenceNumber);Z1(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Pe(lu,"Failed to raise snapshot:",r),await ev(t,r)}}async function ev(t,e,n){if(!vf(e))throw e;t.Ea.add(1),await ap(t),t.Va.set("Offline"),n||(n=()=>jq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(lu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await v0(t)}))}function Kq(t,e){return e().catch((n=>ev(t,n,e)))}async function b0(t){const e=Ye(t),n=qa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:V1;for(;pSe(e);)try{const i=await Yxe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,mSe(e,i)}catch(i){await ev(e,i)}Yq(e)&&Wq(e)}function pSe(t){return gu(t)&&t.Ta.length<10}function mSe(t,e){t.Ta.push(e);const n=qa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Yq(t){return gu(t)&&!qa(t).x_()&&t.Ta.length>0}function Wq(t){qa(t).start()}async function gSe(t){qa(t).ra()}async function ySe(t){const e=qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function vSe(t,e,n){const r=t.Ta.shift(),i=G1.from(r,e,n);await Kq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await b0(t)}async function bSe(t,e){e&&qa(t).Y_&&await(async function(r,i){if((function(a){return ZTe(a)&&a!==ge.ABORTED})(i.code)){const o=r.Ta.shift();qa(r).B_(),await Kq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await b0(r)}})(t,e),Yq(t)&&Wq(t)}async function DU(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Pe(lu,"RemoteStore received new credentials");const r=gu(n);n.Ea.add(3),await ap(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await v0(n)}async function _Se(t,e){const n=Ye(t);e?(n.Ea.delete(2),await v0(n)):e||(n.Ea.add(2),await ap(n),n.Va.set("Unknown"))}function Ef(t){return t.ma||(t.ma=(function(n,r,i){const o=Ye(n);return o.sa(),new rSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:cSe.bind(null,t),Yo:fSe.bind(null,t),t_:dSe.bind(null,t),J_:hSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),tC(t)?eC(t):t.Va.set("Unknown")):(await t.ma.stop(),$q(t))}))),t.ma}function qa(t){return t.fa||(t.fa=(function(n,r,i){const o=Ye(n);return o.sa(),new iSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gSe.bind(null,t),t_:bSe.bind(null,t),ta:ySe.bind(null,t),na:vSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await b0(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(lu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new nC(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rC(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),vf(t))return new Re(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=zd(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.ga=new Qt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wc{constructor(e,n,r,i,o,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Wc(e,n,Oc.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TSe{constructor(){this.queries=kU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),o=i.queries;i.queries=kU(),o.forEach(((a,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Re(ge.ABORTED,"Firestore shutting down"))}}function kU(){return new mu((t=>mq(t)),f0)}async function xSe(t,e){const n=Ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new ESe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=rC(a,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&iC(n)}async function SSe(t,e){const n=Ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wSe(t,e){const n=Ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.ba)u.Fa(i)&&(r=!0);a.wa=i}}r&&iC(n)}function ASe(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function iC(t){t.Ca.forEach((e=>{e.next()}))}var VS,LU;(LU=VS||(VS={})).Ma="default",LU.Cache="cache";class CSe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==VS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.key=e}}class Xq{constructor(e){this.key=e}}class ISe{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=gq(e),this.tu=new Oc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new OU,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),E=d0(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let w=!1;g&&E?g.data.isEqual(E.data)?x!==S&&(r.track({type:3,doc:E}),w=!0):this.su(g,E)||(r.track({type:2,doc:E}),w=!0,(c&&this.eu(E,c)>0||f&&this.eu(E,f)<0)&&(u=!0)):!g&&E?(r.track({type:0,doc:E}),w=!0):g&&!E&&(r.track({type:1,doc:g}),w=!0,(c||f)&&(u=!0)),w&&(E?(a=a.add(E),o=S?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,p)=>(function(E,x){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:w})}};return S(E)-S(x)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,a.length!==0||f?{snapshot:new Wc(this.query,e.tu,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OU,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Xq(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Jq(r))})),n}cu(e){this.Za=e.ks,this.Ya=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const oC="SyncEngine";class PSe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RSe{constructor(e){this.key=e,this.hu=!1}}class MSe{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mu((u=>mq(u)),f0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Be.comparator),this.Au=new Map,this.Vu=new Y1,this.du={},this.mu=new Map,this.fu=Yc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NSe(t,e,n=!0){const r=r9(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Qq(r,e,n,!0),i}async function DSe(t,e){const n=r9(t);await Qq(n,e,!0,!1)}async function Qq(t,e,n,r){const i=await Wxe(t.localStore,Do(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await OSe(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Hq(t.remoteStore,i),u}async function OSe(t,e,n,r,i){t.pu=(p,g,E)=>(async function(S,w,P,L){let D=w.view.ru(P);D.Ss&&(D=await IU(S.localStore,w.query,!1).then((({documents:N})=>w.view.ru(N,D))));const B=L&&L.targetChanges.get(w.targetId),F=L&&L.targetMismatches.get(w.targetId)!=null,U=w.view.applyChanges(D,S.isPrimaryClient,B,F);return UU(S,w.targetId,U.au),U.snapshot})(t,p,g,E);const o=await IU(t.localStore,e,!0),a=new ISe(e,o.ks),u=a.ru(o.documents),c=sp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);UU(t,n,f.au);const h=new PSe(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function kSe(t,e,n){const r=Ye(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!f0(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kS(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Q1(r.remoteStore,i.targetId),US(r,i.targetId)})).catch(yf)):(US(r,i.targetId),await kS(r.localStore,i.targetId,!0))}async function LSe(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Q1(n.remoteStore,r.targetId))}async function VSe(t,e,n){const r=HSe(t);try{const i=await(function(a,u){const c=Ye(a),f=Ht.now(),h=u.reduce(((E,x)=>E.add(x.key)),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let x=Rs(),S=ot();return c.xs.getEntries(E,h).next((w=>{x=w,x.forEach(((P,L)=>{L.isValidDocument()||(S=S.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,x))).next((w=>{p=w;const P=[];for(const L of u){const D=YTe(L,p.get(L.key).overlayedDocument);D!=null&&P.push(new _f(L.key,D,aq(D.value.mapValue),vs.exists(!0)))}return c.mutationQueue.addMutationBatch(E,f,P,u)})).next((w=>{g=w;const P=w.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(E,w.batchId,P)}))})).then((()=>({batchId:g.batchId,changes:vq(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let f=a.du[a.currentUser.toKey()];f||(f=new Qt(it)),f=f.insert(u,c),a.du[a.currentUser.toKey()]=f})(r,i.batchId,n),await lp(r,i.changes),await b0(r.remoteStore)}catch(i){const o=rC(i,"Failed to persist write");n.reject(o)}}async function Zq(t,e){const n=Ye(t);try{const r=await $xe(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?_t(a.hu,14607):i.removedDocuments.size>0&&(_t(a.hu,42227),a.hu=!1))})),await lp(n,r,e)}catch(r){await yf(r)}}function VU(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=Ye(a);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(u)&&(f=!0)})),f&&iC(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function USe(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Qt(Be.comparator);a=a.insert(o,dr.newNoDocument(o,Ge.min()));const u=ot().add(o),c=new g0(Ge.min(),new Map,new Qt(it),a,u);await Zq(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),sC(r)}else await kS(r.localStore,e,!1).then((()=>US(r,e,n))).catch(yf)}async function BSe(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await Gxe(n.localStore,e);t9(n,r,null),e9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lp(n,i)}catch(i){await yf(i)}}async function FSe(t,e,n){const r=Ye(t);try{const i=await(function(a,u){const c=Ye(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(_t(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);t9(r,e,n),e9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lp(r,i)}catch(i){await yf(i)}}function e9(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function t9(t,e,n){const r=Ye(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function US(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||n9(t,r)}))}function n9(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Q1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sC(t))}function UU(t,e,n){for(const r of n)r instanceof Jq?(t.Vu.addReference(r.key,e),jSe(t,r)):r instanceof Xq?(Pe(oC,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||n9(t,r.key)):je(19791,{wu:r})}function jSe(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Pe(oC,"New document in limbo: "+n),t.Eu.add(r),sC(t))}function sC(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new RSe(n)),t.Ru=t.Ru.insert(n,r),Hq(t.remoteStore,new Ca(Do(z1(n.path)),r,"TargetPurposeLimboResolution",l0.ce))}}async function lp(t,e,n){const r=Ye(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=J1.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,f){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ye.forEach(f,(g=>ye.forEach(g.Ts,(E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E))).next((()=>ye.forEach(g.Is,(E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))))))}catch(p){if(!vf(p))throw p;Pe(X1,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const E=h.vs.get(g),x=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(x);h.vs=h.vs.insert(g,S)}}})(r.localStore,o))}async function zSe(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Pe(oC,"User change. New user:",e.toKey());const r=await Fq(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new Re(ge.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lp(n,r.Ns)}}function qSe(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function r9(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=USe.bind(null,e),e.Pu.J_=wSe.bind(null,e.eventManager),e.Pu.yu=ASe.bind(null,e.eventManager),e}function HSe(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FSe.bind(null,e),e}class tv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Hxe(this.persistence,new jxe,e.initialUser,this.serializer)}Cu(e){return new Bq(W1.Vi,this.serializer)}Du(e){return new Xxe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tv.provider={build:()=>new tv};class GSe extends tv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof Zy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Axe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new Bq((r=>Zy.Vi(r,n)),this.serializer)}}class BS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zSe.bind(null,this.syncEngine),await _Se(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TSe})()}createDatastore(e){const n=y0(e.databaseInfo.databaseId),r=nSe(e.databaseInfo);return aSe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new uSe(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>VU(this.syncEngine,n,0)),(function(){return MU.v()?new MU:new Qxe})())}createSyncEngine(e,n){return(function(i,o,a,u,c,f,h){const p=new MSe(i,o,a,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Ye(i);Pe(lu,"RemoteStore shutting down."),o.Ea.add(5),await ap(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}BS.provider={build:()=>new BS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Se{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class KSe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=L1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Pe(Ha,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Pe(Ha,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function OT(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Fq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YSe(t);Pe(Ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>DU(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>DU(e.remoteStore,i))),t._onlineComponents=e}async function YSe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Ha,"Using user provided OfflineComponentProvider");try{await OT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await OT(t,new tv)}}else Pe(Ha,"Using default OfflineComponentProvider"),await OT(t,new GSe(void 0));return t._offlineComponents}async function i9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Ha,"Using user provided OnlineComponentProvider"),await BU(t,t._uninitializedComponentsProvider._online)):(Pe(Ha,"Using default OnlineComponentProvider"),await BU(t,new BS))),t._onlineComponents}function WSe(t){return i9(t).then((e=>e.syncEngine))}async function FU(t){const e=await i9(t),n=e.eventManager;return n.onListen=NSe.bind(null,e.syncEngine),n.onUnlisten=kSe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DSe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LSe.bind(null,e.syncEngine),n}function JSe(t,e,n,r){const i=new $Se(r),o=new CSe(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>xSe(await FU(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>SSe(await FU(t),o)))}}function XSe(t,e){const n=new Yl;return t.asyncQueue.enqueueAndForget((async()=>VSe(await WSe(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QSe="ComponentProvider",jU=new Map;function ZSe(t,e,n,r,i){return new gTe(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,o9(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="firestore.googleapis.com",zU=!0;class qU{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s9,this.ssl=zU}else this.host=e.host,this.ssl=e.ssl??zU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sxe)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oTe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o9(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WEe;switch(r.type){case"firstParty":return new ZEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jU.get(n);r&&(Pe(QSe,"Removing Datastore"),jU.delete(n),r.terminate())})(this),Promise.resolve()}}function ewe(t,e,n,r={}){var f;t=Qd(t,_0);const i=D1(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(E_e(`https://${u}`),w_e("Firestore",!0)),o.host!==s9&&o.host!==u&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!zy(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=fr.MOCK_USER;else{h=T_e(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fr(g)}t._authCredentials=new JEe(new Wz(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}toJSON(){return{type:Nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(op(n,Nn._jsonSchema))return new Nn(e,r||null,new Be(Vt.fromString(n.referencePath)))}}Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:wn("string",Nn._jsonSchemaVersion),referencePath:wn("string")};class Oa extends Xa{constructor(e,n,r){super(e,n,z1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Be(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function a9(t,e,...n){if(t=ou(t),Jz("collection","path",e),t instanceof _0){const r=Vt.fromString(e,...n);return tU(r),new Oa(t,null,r)}{if(!(t instanceof Nn||t instanceof Oa))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return tU(r),new Oa(t.firestore,null,r)}}function twe(t,e,...n){if(t=ou(t),arguments.length===1&&(e=L1.newId()),Jz("doc","path",e),t instanceof _0){const r=Vt.fromString(e,...n);return eU(r),new Nn(t,null,new Be(r))}{if(!(t instanceof Nn||t instanceof Oa))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return eU(r),new Nn(t.firestore,t instanceof Oa?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="AsyncQueue";class GU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zq(this,"async_queue_retry"),this._c=()=>{const r=DT();r&&Pe(HU,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=DT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=DT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vf(e))throw e;Pe(HU,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",$U(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nC.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:$U(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $U(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nv extends _0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GU(e),this._firestoreClient=void 0,await e}}}function nwe(t,e){const n=typeof t=="object"?t:kEe(),r=typeof t=="string"?t:$y,i=REe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=b_e("firestore");o&&ewe(i,...o)}return i}function l9(t){if(t._terminated)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rwe(t),t._firestoreClient}function rwe(t){var r,i,o,a;const e=t._freezeSettings(),n=ZSe(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KSe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(sr.fromBase64String(e))}catch(n){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(op(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:wn("string",vi._jsonSchemaVersion),bytes:wn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ko._jsonSchemaVersion}}static fromJSON(e){if(op(e,ko._jsonSchema))return new ko(e.latitude,e.longitude)}}ko._jsonSchemaVersion="firestore/geoPoint/1.0",ko._jsonSchema={type:wn("string",ko._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(op(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xi(e.vectorValues);throw new Re(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:wn("string",Xi._jsonSchemaVersion),vectorValues:wn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iwe=/^__.*__$/;function f9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{dataSource:t})}}class aC{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new aC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(f9(this.dataSource)&&iwe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class owe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y0(e)}createContext(e,n,r,i=!1){return new aC({dataSource:e,methodName:n,targetDoc:r,path:ir.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function swe(t){const e=t._freezeSettings(),n=y0(t._databaseId);return new owe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function awe(t,e,n,r=!1){return lC(n,t.createContext(r?4:3,e))}function lC(t,e){if(d9(t=ou(t)))return uwe("Unsupported field value:",e,t),lwe(t,e);if(t instanceof c9)return(function(r,i){if(!f9(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let c=lC(u,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ou(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zTe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ht.fromDate(r);return{timestampValue:Qy(i.serializer,o)}}if(r instanceof Ht){const o=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qy(i.serializer,o)}}if(r instanceof ko)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:Rq(i.serializer,r._byteString)};if(r instanceof Nn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xi)return(function(a,u){const c=a instanceof Xi?a.toArray():a;return{mapValue:{fields:{[oq]:{stringValue:sq},[Ky]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return q1(u.serializer,h)}))}}}}}})(r,i);if(Vq(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${a0(r)}`)})(t,e)}function lwe(t,e){const n={};return Zz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,((r,i)=>{const o=lC(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function d9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof ko||t instanceof vi||t instanceof Nn||t instanceof c9||t instanceof Xi||Vq(t))}function uwe(t,e,n){if(!d9(n)||!Xz(n)){const r=a0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function uC(t,e,n){if((e=ou(e))instanceof u9)return e._internalPath;if(typeof e=="string")return fwe(t,e);throw rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const cwe=new RegExp("[~\\*/\\[\\]]");function fwe(t,e,n){if(e.search(cwe)>=0)throw rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new u9(...e.split("."))._internalPath}catch{throw rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rv(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Re(ge.INVALID_ARGUMENT,u+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Ky].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>dn(a.doubleValue)));return new Xi(n)}convertGeoPoint(e){return new ko(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=Fa(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);_t(Lq(r),9688,{name:e});const i=new Mh(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||Ps(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9 extends dwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}const KU="@firebase/firestore",YU="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(uC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hwe extends p9{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cC{}class fC extends cC{}function m9(t,e,...n){let r=[];e instanceof cC&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((c=>c instanceof hC)).length,u=o.filter((c=>c instanceof dC)).length;if(a>1||a>0&&u>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class dC extends fC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dC(e,n,r)}_apply(e){const n=this._parse(e);return g9(e._query,n),new Xa(e.firestore,e.converter,RS(e._query,n))}_parse(e){const n=swe(e.firestore);return(function(o,a,u,c,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XU(p,h);const x=[];for(const S of p)x.push(JU(c,o,S));g={arrayValue:{values:x}}}else g=JU(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XU(p,h),g=awe(u,a,p,h==="in"||h==="not-in");return xn.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hC extends cC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)g9(a,c),a=RS(a,c)})(e._query,n),new Xa(e.firestore,e.converter,RS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pC extends fC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pC(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(o,a)})(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,OTe(e._query,n))}}function FS(t,e="asc"){const n=e,r=uC("orderBy",t);return pC._create(r,n)}class mC extends fC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mC(e,n,r)}_apply(e){return new Xa(e.firestore,e.converter,Wy(e._query,this._limit,this._limitType))}}function mwe(t){return mC._create("limit",t,"F")}function JU(t,e,n){if(typeof(n=ou(n))=="string"){if(n==="")throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pq(e)&&n.indexOf("/")!==-1)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Be.isDocumentKey(r))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uU(t,new Be(r))}if(n instanceof Nn)return uU(t,n._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a0(n)}.`)}function XU(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g9(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Hd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wl extends p9{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wl._jsonSchema={type:wn("string",Wl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Rg extends Wl{data(e={}){return super.data(e)}}class kc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rg(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new Rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Hd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Hd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),h=a.indexOf(u.doc.key)),{type:gwe(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=L1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kc._jsonSchemaVersion="firestore/querySnapshot/1.0",kc._jsonSchema={type:wn("string",kc._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};function ywe(t){return vwe(Qd(t.firestore,nv),[new H1(t._key,vs.none())])}function y9(t,...e){var f,h,p;t=ou(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WU(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WU(e[r])){const g=e[r];e[r]=(f=g.next)==null?void 0:f.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let o,a,u;if(t instanceof Nn)a=Qd(t.firestore,nv),u=z1(t._key.path),o={next:g=>{e[r]&&e[r](bwe(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Qd(t,Xa);a=Qd(g.firestore,nv),u=g._query;const E=new h9(a);o={next:x=>{e[r]&&e[r](new kc(a,E,g,x))},error:e[r+1],complete:e[r+2]},pwe(t._query)}const c=l9(a);return JSe(c,u,i,o)}function vwe(t,e){const n=l9(t);return XSe(n,e)}function bwe(t,e,n){const r=n.docs.get(e._key),i=new h9(t);return new Wl(t,i,e._key,r,new Hd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){YEe(OEe),Hy(new Ch("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new nv(new XEe(r.getProvider("auth-internal")),new eTe(a,r.getProvider("app-check-internal")),yTe(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Nc(KU,YU,e),Nc(KU,YU,"esm2020")})();const _we={apiKey:"AIzaSyAUmcuxm_Z6pk3TZ3QIWW1J-wGWJDv2T7Y",authDomain:"game10-22e63.firebaseapp.com",projectId:"game10-22e63",storageBucket:"game10-22e63.firebasestorage.app",messagingSenderId:"546602582151",appId:"1:546602582151:web:08c031d16303fea86bf822"},Ewe=Bz(_we),jS=nwe(Ewe),Twe=({onClose:t,isTeacherMode:e})=>{const[n,r]=A.useState([]),[i,o]=A.useState([]),[a,u]=A.useState(!1),[c,f]=A.useState([]),[h,p]=A.useState([]),[g,E]=A.useState({teamsJoined:0,completionRate:0,avgAccuracy:0,fastest80:0}),[x,S]=A.useState("connecting"),[w,P]=A.useState(null),L=async()=>{if(confirm("Are you sure you want to PERMANENTLY delete all leaderboard data for EVERYONE? This cannot be undone.")){localStorage.removeItem("leaderboardLEARNINGQUEST");try{const D=n.map(B=>B.id?ywe(twe(jS,"leaderboard",B.id)):Promise.resolve());await Promise.all(D),alert("Leaderboard has been reset for all users.")}catch(D){console.error("Error clearing leaderboard:",D),alert("Failed to clear some online records. Check console.")}r([]),u(!1)}};return A.useEffect(()=>{const D=m9(a9(jS,"leaderboard"),FS("score","desc"),FS("time","asc"),mwe(1e3)),B=y9(D,F=>{var N;S("connected"),P(null);const U=[];if(F.forEach(O=>{U.push({id:O.id,...O.data()})}),r(U.slice(0,10)),o(U),U.length>=999&&u(!0),U.length>0){const O=Cc.map((Ee,X)=>{const te=U.filter(K=>{var k;return((k=K.selectedAnswers)==null?void 0:k[Ee.id])!==void 0}).length,de=U.filter(K=>{var k;return((k=K.selectedAnswers)==null?void 0:k[Ee.id])===Ee.correctAnswerId}).length,ue=te>0?Math.round(de/te*100):0;return{name:`Q${X+1}`,accuracy:ue,count:de,total:te}});f(O);const V=new Set(U.map(Ee=>Ee.className)).size,z=U.filter(Ee=>Ee.score>0).length,q=Math.round(U.reduce((Ee,X)=>Ee+(X.score||0),0)/U.length/80*100),H=((N=U.filter(Ee=>(Ee.score||0)>=64).sort((Ee,X)=>Ee.time-X.time)[0])==null?void 0:N.time)||0;E({teamsJoined:V,completionRate:Math.round(z/U.length*100),avgAccuracy:q,fastest80:H});const ve=Object.entries({"Fact Retrieval":["lq1","lq7"],Reference:["lq3"],Inference:["lq4","lq5","lq6"],"Detail/Scanning":["lq2","lq8"]}).map(([Ee,X])=>{let te=0,de=0;X.forEach(k=>{const J=Cc.find(se=>se.id===k);if(J){const se=U.filter(be=>{var Te;return((Te=be.selectedAnswers)==null?void 0:Te[k])===J.correctAnswerId}).length,ce=U.filter(be=>{var Te;return((Te=be.selectedAnswers)==null?void 0:Te[k])!==void 0}).length;de+=se,te+=ce}});const ue=te>0?Math.round(de/te*100):0;return{name:Ee,value:ue,color:{"Fact Retrieval":"#34d399",Reference:"#818cf8",Inference:"#f472b6","Detail/Scanning":"#fbbf24"}[Ee]}});p(ve)}},F=>{console.error("Error getting leaderboard: ",F),S("error"),P(F.message);const U=localStorage.getItem("leaderboardLEARNINGQUEST");if(U){const N=JSON.parse(U),O=N.sort((V,z)=>{const q=V.score||0,H=z.score||0;return q!==H?H-q:V.time-z.time});r(O.slice(0,10)),N.length>=999&&u(!0)}});return()=>B()},[]),I.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/40 backdrop-blur-md",children:[I.jsxs(Ti.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-5xl overflow-hidden relative z-10 flex flex-col md:flex-row max-h-[90vh] md:max-h-[90vh] h-[90vh] md:h-auto",children:[I.jsxs("div",{className:"w-full md:w-2/3 bg-slate-50 p-4 md:p-8 flex flex-col gap-4 md:gap-6 overflow-y-auto shrink-0 md:shrink custom-scrollbar-thin",children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-xl md:text-2xl font-black text-indigo-900 mb-1",children:e?"Teacher Analytics Dashboard":"Class Performance"}),I.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Real-time statistics from all players"})]}),e&&I.jsx("div",{className:"flex gap-2",children:I.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] font-bold border border-emerald-200 uppercase tracking-widest",children:"Teacher View"})})]}),e?I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),"  Class Snapshot"]}),I.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Classes Joined",value:g.teamsJoined,color:"indigo"},{label:"Completion %",value:`${g.completionRate}%`,color:"emerald"},{label:"Avg Accuracy",value:`${g.avgAccuracy}%`,color:"orange"},{label:"Fastest (80%)",value:g.fastest80>0?`${g.fastest80}s`:"-",color:"purple"}].map((D,B)=>I.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-2xl border border-slate-100 shadow-sm text-center lg:text-left",children:[I.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight mb-1",children:D.label}),I.jsx("div",{className:`text-xl md:text-2xl font-black text-${D.color}-600`,children:D.value})]},B))})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"  Question Insights"]}),I.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:c.map((D,B)=>{const F=D.accuracy===Math.min(...c.map(N=>N.accuracy))&&D.accuracy<100,U=D.accuracy<40?"bg-red-500":D.accuracy<70?"bg-amber-500":"bg-emerald-500";return I.jsxs("div",{className:"space-y-1.5 slice-in-q",style:{animationDelay:`${B*100}ms`},children:[I.jsxs("div",{className:"flex justify-between items-end",children:[I.jsxs("span",{className:"text-xs font-bold text-slate-600 flex items-center gap-2",children:[D.name,F&&I.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-1.5 py-0.5 rounded font-black tracking-widest uppercase",children:"Hardest"})]}),I.jsxs("span",{className:"text-[10px] font-mono font-bold text-slate-400",children:[I.jsxs("span",{className:"text-slate-800",children:[D.accuracy,"%"]})," (",D.count,"/",D.total,")"]})]}),I.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:I.jsx(Ti.div,{initial:{width:0},animate:{width:`${D.accuracy}%`},transition:{duration:1,delay:.2+B*.1},className:`h-full ${U} rounded-full`})})]},B)})})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"  AI Reading Skills"]}),I.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:h.map((D,B)=>I.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-center",children:[I.jsxs("div",{className:"flex justify-between items-center mb-2",children:[I.jsx("span",{className:"text-xs font-bold text-slate-700",children:D.name}),I.jsxs("span",{className:"text-xs font-black text-indigo-600",children:[D.value,"%"]})]}),I.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:I.jsx(Ti.div,{initial:{width:0},animate:{width:`${D.value}%`},transition:{duration:1,delay:.5+B*.2},className:"h-full rounded-full",style:{backgroundColor:D.color}})})]},B))})]})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[I.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[I.jsx("div",{className:"w-1 h-5 md:h-6 bg-indigo-500 rounded-full"}),I.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Correct Answer Rate"})]}),I.jsx("div",{className:"h-40 md:h-48",children:I.jsx(uy,{width:"100%",height:"100%",children:I.jsxs(Pz,{data:c,children:[I.jsx(C1,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94a3b8"}}),I.jsx(I1,{hide:!0,domain:[0,100]}),I.jsx(Dy,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"10px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:D=>[`${D}%`,"Accuracy"]}),I.jsx(A1,{dataKey:"accuracy",fill:"#6366f1",radius:[4,4,0,0]})]})})})]}),I.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[I.jsx("div",{className:"w-1 h-5 md:h-6 bg-purple-500 rounded-full"}),I.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Skills Breakdown"})]}),I.jsx("div",{className:"h-40 md:h-48 flex items-center justify-center",children:I.jsx(uy,{width:"100%",height:"100%",children:I.jsxs(Mz,{children:[I.jsx(x1,{data:h,innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",stroke:"none",children:h.map((D,B)=>I.jsx(Pa,{fill:D.color},`cell-${B}`))}),I.jsx(Dy,{}),I.jsx(v6,{iconType:"circle",layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[I.jsxs("div",{className:"bg-indigo-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-indigo-100 text-center md:text-left",children:[I.jsx("div",{className:"text-indigo-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Total Players"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-indigo-700",children:i.length})]}),I.jsxs("div",{className:"bg-emerald-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-emerald-100 text-center md:text-left",children:[I.jsx("div",{className:"text-emerald-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Fastest Time"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-emerald-700",children:i.length>0?i.sort((D,B)=>D.time-B.time)[0].time+"s":"-"})]}),I.jsxs("div",{className:"bg-orange-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-orange-100 text-center md:text-left",children:[I.jsx("div",{className:"text-orange-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Completion Rate"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-orange-700",children:"100%"})]})]})]})]}),I.jsxs("div",{className:"w-full md:w-1/3 bg-white flex flex-col border-t md:border-t-0 md:border-l border-slate-100 shadow-xl z-20 flex-1 min-h-0",children:[I.jsxs("div",{className:"p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shrink-0 relative",children:[I.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsx("h2",{className:"text-xl font-black uppercase tracking-wider mb-1",children:"Leaderboard"}),I.jsx("p",{className:"text-indigo-100 text-xs font-bold opacity-80 mb-2",children:"TOP 10 PLAYERS"}),I.jsx("button",{onClick:L,className:"text-[10px] bg-red-500/20 hover:bg-red-500/40 text-red-200 px-2 py-1 rounded border border-red-500/30 transition-colors",children:"Reset Data"}),I.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[I.jsx("span",{className:`w-2 h-2 rounded-full ${x==="connected"?"bg-emerald-400":x==="connecting"?"bg-yellow-400 animate-pulse":"bg-red-500"}`}),I.jsx("span",{className:"text-[10px] font-mono opacity-80 uppercase tracking-widest",children:x==="connected"?"LIVE SYNC":x==="error"?"OFFLINE (LOCAL)":"CONNECTING..."})]}),w&&I.jsx("div",{className:"text-[9px] text-red-200 mt-1 max-w-[200px] leading-tight bg-red-900/50 p-1 rounded",children:w})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-0",children:[a&&I.jsx("div",{className:"bg-red-100 text-red-800 text-xs font-bold p-2 text-center",children:"FULL LEADERBOARD (999 people)."}),n.length===0?I.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-8 text-center",children:[I.jsx("div",{className:"text-4xl mb-2",children:""}),I.jsx("div",{className:"font-medium text-sm",children:"No records yet."}),I.jsx("div",{className:"text-xs opacity-70",children:"Be the first to join the hall of fame!"})]}):I.jsx("div",{className:"divide-y divide-slate-50",children:n.map((D,B)=>I.jsxs("div",{className:"flex items-center p-4 hover:bg-indigo-50/50 transition-colors group",children:[I.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-xs mr-3 shrink-0 shadow-sm
                                            ${B===0?"bg-yellow-400 text-yellow-900 ring-2 ring-yellow-200":B===1?"bg-slate-300 text-slate-700":B===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400 group-hover:bg-indigo-200 group-hover:text-indigo-700"}
                                        `,children:B+1}),I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("div",{className:"font-bold text-slate-700 truncate text-sm",children:D.name})}),I.jsxs("div",{className:"font-bold text-emerald-600 text-sm shrink-0",children:[D.score||0," pts"]}),I.jsxs("div",{className:"font-black text-indigo-600 text-sm shrink-0 bg-indigo-50 px-2 py-1 rounded",children:[D.time,"s"]})]},B))})]})]})]}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
                
                @keyframes sliceInQ {
                    from { opacity: 0; transform: translateX(-10px); }
                    to { opacity: 1; transform: translateX(0); }
                }
                .slice-in-q {
                    animation: sliceInQ 0.4s ease forwards;
                }
            `}})]})},xwe=({onClose:t})=>{var E;const[e,n]=A.useState([]),[r,i]=A.useState(null),[o,a]=A.useState(0),[u,c]=A.useState(!0);A.useEffect(()=>{const x=m9(a9(jS,"leaderboard"),FS("name","asc")),S=y9(x,w=>{const P=w.docs.map(L=>L.data());n(P),c(!1)});return()=>S()},[]);const f=()=>{o<Cc.length-1&&a(x=>x+1)},h=()=>{o>0&&a(x=>x-1)},p=Cc[o],g=(E=r==null?void 0:r.selectedAnswers)==null?void 0:E[p.id];return I.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 flex flex-col h-screen overflow-hidden font-sans",children:[I.jsx("div",{className:"bg-white border-b border-slate-200 p-4 shrink-0 shadow-sm z-10",children:I.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:I.jsx(wc,{size:24,className:"text-slate-400"})}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Review Student Work"}),I.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Teacher Dashboard  Analytics"})]})]}),I.jsx("div",{className:"flex flex-1 max-w-md gap-2",children:I.jsxs("div",{className:"relative flex-1",children:[I.jsxs("select",{onChange:x=>{const S=e.find(w=>`${w.name}-${w.date}`===x.target.value);i(S||null),a(0)},className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[I.jsx("option",{value:"",children:"Select a Student..."}),e.map((x,S)=>I.jsxs("option",{value:`${x.name}-${x.date}`,children:[x.name," (",x.className,")  ",x.score,"/80  ",Math.floor(x.time/60),"m ",x.time%60,"s"]},S))]}),I.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:I.jsx(lh,{size:16,className:"rotate-90"})})]})})]})}),I.jsx("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden min-h-0 bg-slate-100 gap-4 md:gap-5 p-4 md:p-6 lg:p-8",children:u?I.jsx("div",{className:"flex-1 flex items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex-1 bg-white rounded-2xl md:rounded-3xl border border-slate-200 overflow-hidden flex flex-col shadow-sm max-h-[40vh] md:max-h-full",children:[I.jsx("div",{className:"p-4 border-b border-slate-100 bg-white sticky top-0 shrink-0",children:I.jsx("p",{className:"text-[10px] uppercase font-black tracking-widest text-indigo-600",children:"Reading Context"})}),I.jsx("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 prose prose-indigo max-w-none custom-scrollbar-thin",children:H3.split(`
`).map((x,S)=>x.startsWith("# ")?I.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-4",children:x.replace("# ","")},S):x.startsWith("**")?I.jsx("h3",{className:"text-sm md:text-base font-bold text-indigo-700 mt-4 mb-2",children:x.replaceAll("**","")},S):I.jsx("p",{className:"mb-3 text-slate-600 text-sm md:text-base leading-relaxed",children:x},S))})]}),I.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-2xl md:rounded-3xl border border-slate-200 shadow-lg overflow-hidden",children:[I.jsxs("div",{className:"bg-indigo-600 p-4 text-white shrink-0",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:I.jsx(cN,{size:16})}),I.jsx("span",{className:"font-bold text-sm",children:r.name})]}),I.jsxs("div",{className:"flex gap-4 text-xs font-bold text-indigo-100",children:[I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(xw,{size:14})," ",r.score,"/80"]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(Tw,{size:14})," ",Math.floor(r.time/60),"m ",r.time%60,"s"]})]})]}),I.jsxs("div",{className:"flex justify-between items-center bg-black/10 px-3 py-2 rounded-xl text-xs font-bold border border-white/10 uppercase tracking-widest",children:["Question ",o+1," of 8",I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:h,disabled:o===0,className:"p-1 hover:bg-white/20 rounded disabled:opacity-30",children:I.jsx(B3,{size:16})}),I.jsx("button",{onClick:f,disabled:o===Cc.length-1,className:"p-1 hover:bg-white/20 rounded disabled:opacity-30",children:I.jsx(lh,{size:16})})]})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 custom-scrollbar-thin",children:[I.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-6",children:p.question}),I.jsx("div",{className:"space-y-3",children:p.options.map(x=>{const S=x.id===p.correctAnswerId,w=g===x.id;let P="border-slate-100",L="bg-slate-50";return S?(P="border-emerald-500",L="bg-emerald-50"):w&&!S&&(P="border-red-500",L="bg-red-50"),I.jsxs("div",{className:`p-4 rounded-2xl border-2 flex items-center gap-4 transition-all ${P} ${L}`,children:[I.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-sm shrink-0 
                                                    ${S?"bg-emerald-500 text-white":w?"bg-red-500 text-white":"bg-slate-200 text-slate-500"}`,children:x.id}),I.jsx("span",{className:`text-sm md:text-base font-medium flex-1 ${S?"text-emerald-900":w?"text-red-900":"text-slate-600"}`,children:x.text}),I.jsxs("div",{className:"flex items-center gap-2",children:[w&&I.jsx("span",{className:"bg-slate-900/5 px-2 py-0.5 rounded-md text-[9px] font-black tracking-tighter text-slate-400 uppercase",children:"Student"}),S&&I.jsx("div",{className:"bg-emerald-500 text-white p-1 rounded-full",children:I.jsx(Wd,{size:14})}),w&&!S&&I.jsx("div",{className:"bg-red-500 text-white p-1 rounded-full",children:I.jsx(HY,{size:14})})]})]},x.id)})}),!g&&I.jsxs("div",{className:"mt-8 p-4 bg-amber-50 border border-amber-100 rounded-2xl flex items-start gap-3",children:[I.jsx(j3,{className:"text-amber-500 shrink-0 mt-0.5",size:20}),I.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"No answer data available for this question. This might be from an older session or was skipped."})]})]})]})]}):I.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white rounded-3xl border border-dashed border-slate-300",children:[I.jsx("div",{className:"bg-indigo-50 p-6 rounded-full text-indigo-500 mb-4",children:I.jsx(cN,{size:48})}),I.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"No Student Selected"}),I.jsx("p",{className:"text-slate-500",children:"Pick a student from the dropdown to review their answers."})]})}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
            `}})]})},QU=({isOpen:t,onClose:e,title:n,children:r})=>t?I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-300",children:[I.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-slate-50",children:[I.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n}),I.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:I.jsx(wc,{size:24})})]}),I.jsx("div",{className:"p-6",children:r})]})}):null,Swe=({points:t,streak:e,onOpenSettings:n,isTeacherMode:r,onReview:i,onLeaderboard:o,onExitTeacher:a,onTeacherLogin:u,settings:c})=>I.jsx("header",{className:"sticky top-0 z-40 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm",children:I.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:`p-2 rounded-lg text-white ${r?"bg-emerald-600":"bg-indigo-600"}`,children:I.jsx(Ew,{size:20})}),I.jsxs("div",{children:[I.jsx("span",{className:"font-bold text-slate-800 hidden sm:block",children:"Eng10: New Ways to Learn"}),r&&I.jsx("span",{className:"text-[10px] bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full font-bold ml-2 animate-pulse",children:" TEACHER MODE"})]})]}),I.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r?I.jsxs(I.Fragment,{children:[I.jsxs("button",{onClick:i,className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-sm font-bold hover:bg-indigo-100 transition-colors flex items-center gap-1",children:[I.jsx($Y,{size:16})," Review"]}),I.jsxs("button",{onClick:o,className:"px-3 py-1.5 bg-amber-50 text-amber-600 rounded-lg text-sm font-bold hover:bg-amber-100 transition-colors flex items-center gap-1",children:[I.jsx(xw,{size:16})," Rankings"]}),I.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-red-500 transition-colors",title:"Exit Teacher Mode",children:I.jsx(z3,{size:20})})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 text-amber-600 px-3 py-1 rounded-full border border-amber-100",children:[I.jsx("span",{className:"text-lg",children:""}),I.jsx("span",{className:"font-bold",children:e})]}),I.jsxs("div",{className:"flex items-center gap-1 bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full border border-emerald-100",children:[I.jsx(_w,{size:18}),I.jsxs("span",{className:"font-bold",children:[t," pts"]})]}),I.jsxs("button",{onClick:u,className:"px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg text-sm font-bold hover:bg-slate-200 transition-colors flex items-center gap-1",children:[I.jsx(RY,{size:16})," Teacher"]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[!c.apiKey&&I.jsx("span",{className:"text-[10px] text-red-500 font-bold hidden md:inline animate-pulse",children:"Ly API key  s dng app"}),I.jsxs("button",{onClick:n,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors relative",children:[I.jsx(UY,{size:20}),!c.apiKey&&I.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border border-white"})]})]})]})]})});function wwe(){const[t,e]=A.useState("home"),[n,r]=A.useState(tW),[i,o]=A.useState(nW),[a,u]=A.useState({apiKey:"",theme:"light",soundEnabled:!0,selectedModel:Ll[0]}),[c,f]=A.useState(null),[h,p]=A.useState(0),[g,E]=A.useState(!1),[x,S]=A.useState(!1),[w,P]=A.useState(!1),[L,D]=A.useState(!1),[B,F]=A.useState(null),[U,N]=A.useState(!1),[O,V]=A.useState([]),[z,q]=A.useState(""),[H,$]=A.useState(!1),[ve,Ee]=A.useState(null),[X,te]=A.useState(!1),[de,ue]=A.useState(null),[K,k]=A.useState("intro"),[J,se]=A.useState(0),[ce,be]=A.useState(!1),[Te,_e]=A.useState({}),[Oe,ie]=A.useState(!1),[Ce,Ie]=A.useState(""),[he,$e]=A.useState(!1),{isHighlighterActive:we,toggleHighlighter:et,addHighlight:st,renderHighlightedText:Nt}=q3(),[hn]=Ac(j_.correct),[bt]=Ac(j_.incorrect),[ft]=Ac(j_.levelUp),Cr=A.useRef(null);A.useEffect(()=>{const Se=localStorage.getItem("app_settings"),qe=localStorage.getItem("app_progress"),ze=localStorage.getItem("app_passages");Se&&u(JSON.parse(Se)),qe&&o(JSON.parse(qe)),ze&&r(JSON.parse(ze))},[]),A.useEffect(()=>{Cr.current&&Cr.current.scrollIntoView({behavior:"smooth"})},[O,U]);const Qa=(Se,qe)=>{F({message:Se,type:qe}),setTimeout(()=>F(null),3e3)},Br=Se=>{u(Se),localStorage.setItem("app_settings",JSON.stringify(Se))},ln=(Se,qe)=>{const ze={...i};ze.totalPoints+=Se,ze.totalQuestionsAnswered+=1;const at=1+Math.floor(Math.sqrt(ze.totalPoints/100));at>(ze.level||1)?(ze.level=at,a.soundEnabled&&ft(),$(!0)):ze.level=at,qe&&c&&(ze.completedPassages.includes(c.passageId)||ze.completedPassages.push(c.passageId)),o(ze),localStorage.setItem("app_progress",JSON.stringify(ze))},Pi=Se=>{f({passageId:Se,answers:{},score:0,startTime:Date.now(),isCompleted:!1}),p(0),E(!1),S(!1),e("learn")},no=Se=>{if(!c)return;const qe=n.find(Ri=>Ri.id===c.passageId);if(!qe)return;const ze=qe.questions[h],at=Se===ze.correctAnswerId,tt={...c.answers,[ze.id]:Se};let Ft=c.score;at?(Ft+=10,ln(10,!1),a.soundEnabled&&hn(),Ee("correct")):(a.soundEnabled&&bt(),Ee("incorrect")),setTimeout(()=>Ee(null),2e3),f({...c,answers:tt,score:Ft}),E(!0),S(!0)},Ho=()=>{if(!c)return;const Se=n.find(qe=>qe.id===c.passageId);Se&&(h<Se.questions.length-1?(p(qe=>qe+1),E(!1),S(!1)):(f({...c,isCompleted:!0}),ln(0,!0)))},Fr=async()=>{if(!z.trim()||!a.apiKey)return;const Se=z;V([...O,{role:"user",text:Se}]),q("");const qe=c?n.find(tt=>tt.id===c.passageId):null,ze=qe?qe.content:"General inquiry about English reading comprehension.",at=new Ine(a.apiKey,a.selectedModel);try{const tt=await at.getTutorHelp(Se,ze);V(Ft=>[...Ft,{role:"ai",text:tt}])}catch{V(Ft=>[...Ft,{role:"ai",text:"Error connecting to tutor."}])}},Go=Se=>{if(!c)return;const qe=n.find(ze=>ze.id===c.passageId);qe&&st(c.passageId,Se,qe.content.split(`
`)[Se])},$o=(Se,qe)=>{ue({name:Se,className:qe,startTime:Date.now()}),se(0),_e({}),te(!1),k("playing")},ro=()=>{k("gameover")},Fs=(Se,qe)=>{se(Se),_e(qe),k("win")},Vn=()=>{k("intro"),ue(null),te(!0)},Cn=()=>{if(!de)return;const Se=Math.round((Date.now()-de.startTime)/1e3),qe=new Date().toISOString().slice(0,16).replace("T"," "),ze={name:de.name,className:de.className,time:Se,score:J,date:qe,selectedAnswers:Te},at=localStorage.getItem("leaderboardLEARNINGQUEST");let tt=at?JSON.parse(at):[];tt.length<999&&(tt.push(ze),localStorage.setItem("leaderboardLEARNINGQUEST",JSON.stringify(tt)))},Ir=()=>{ie(!0),Ie(""),$e(!1)},$t=()=>{Ce==="1234"?(be(!0),ie(!1),Qa("Teacher Mode Activated","success")):($e(!0),setTimeout(()=>$e(!1),2e3))},Za=()=>{const Se=i.level||1,qe=100*Math.pow(Se-1,2),ze=100*Math.pow(Se,2);return Math.min(100,Math.max(0,(i.totalPoints-qe)/(ze-qe)*100)),I.jsx("div",{className:"space-y-4 md:space-y-8 animate-in slide-in-from-bottom-4 duration-500 pb-20 md:pb-0",children:I.jsxs("div",{className:"bg-gradient-to-r from-indigo-800 to-blue-900 rounded-2xl md:rounded-3xl p-6 md:p-10 text-white shadow-xl relative overflow-hidden flex flex-col items-center text-center",children:[I.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto",children:[I.jsx("div",{className:"inline-block bg-blue-600/30 backdrop-blur-md px-4 py-1.5 rounded-lg border border-blue-400/30 text-blue-100 font-bold text-xs md:text-sm uppercase tracking-widest mb-4 md:mb-6",children:" SMART LEARNING CHALLENGE"}),I.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-2 md:mb-4 tracking-tight leading-tight",children:"English 10  New Ways to Learn"}),I.jsx("p",{className:"text-indigo-200 text-lg md:text-xl font-medium mb-6 md:mb-8",children:"Explore the future of education"}),I.jsxs("div",{className:"flex justify-center items-center gap-2 text-indigo-200 text-sm md:text-lg font-medium mb-8 md:mb-10",children:[I.jsx(Tw,{size:20}),I.jsx("span",{children:"Time limit: 7 minutes"})]}),I.jsx("button",{onClick:()=>te(!0),className:"bg-white text-indigo-900 px-8 py-4 md:px-12 md:py-5 rounded-2xl font-black text-lg md:text-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(255,255,255,0.5)] hover:bg-slate-50 hover:scale-105 transition-all active:scale-95 flex items-center justify-center gap-3 mx-auto uppercase tracking-wide",children:" START CHALLENGE"})]}),I.jsx("div",{className:"absolute right-[-50px] top-[-50px] opacity-10 pointer-events-none rotate-12",children:I.jsx(gg,{size:400})}),I.jsx("div",{className:"absolute left-[-50px] bottom-[-50px] opacity-5 pointer-events-none -rotate-12",children:I.jsx(xw,{size:300})})]})})},js=()=>{if(!c)return Za();const Se=n.find(at=>at.id===c.passageId);if(!Se)return null;if(c.isCompleted)return I.jsxs("div",{className:"max-w-2xl mx-auto text-center pt-12 animate-in zoom-in duration-300",children:[I.jsx("div",{className:"inline-block p-6 bg-emerald-100 rounded-full text-emerald-600 mb-6",children:I.jsx(_w,{size:64})}),I.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Lesson Complete!"}),I.jsxs("p",{className:"text-slate-500 mb-8",children:["You scored ",I.jsx("span",{className:"font-bold text-emerald-600",children:c.score})," points."]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[I.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Accuracy"}),I.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(Object.keys(c.answers).filter(at=>{const tt=Se.questions.find(Ft=>Ft.id===at);return tt&&tt.correctAnswerId===c.answers[at]}).length/Se.questions.length*100),"%"]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[I.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Time"}),I.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round((Date.now()-c.startTime)/1e3/60)," min"]})]})]}),I.jsxs("div",{className:"flex gap-4 justify-center",children:[I.jsx("button",{onClick:()=>f(null),className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-xl font-bold hover:bg-slate-300 transition-colors",children:"Back to Home"}),I.jsx("button",{onClick:()=>Pi(Se.id),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:"Retry Lesson"})]})]});const qe=Se.questions[h],ze=!!c.answers[qe.id];return I.jsxs("div",{className:"h-[calc(100vh-100px)] flex flex-row gap-2 md:gap-6 relative",children:[I.jsx(ZY,{type:ve}),I.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden flex flex-col relative group",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 z-10"}),I.jsxs("div",{className:"p-2 md:p-4 bg-white/80 backdrop-blur-md border-b border-slate-100 flex justify-between items-center sticky top-0 z-10",children:[I.jsx("div",{className:"flex items-center gap-2",children:I.jsxs("h3",{className:"font-bold text-slate-800 truncate flex items-center gap-2 text-sm md:text-base",children:[I.jsx(Ew,{size:18,className:"text-indigo-600"}),Se.title]})}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsxs("button",{onClick:et,className:`p-1.5 md:p-2 rounded-lg transition-all flex items-center gap-2 text-xs md:text-sm font-bold ${we?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[I.jsx(F3,{size:14}),I.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]}),I.jsx("span",{className:"text-[10px] md:text-xs font-bold font-mono bg-indigo-50 text-indigo-600 px-2 py-1 md:px-3 md:py-1.5 rounded-full border border-indigo-100 uppercase tracking-wide hidden sm:inline-block",children:"Reading Passage"})]})]}),I.jsx("div",{className:"p-3 md:p-8 overflow-y-auto custom-scrollbar flex-1 prose prose-slate max-w-none prose-sm md:prose-lg prose-headings:text-indigo-900 prose-p:text-slate-800 prose-p:leading-loose font-medium",style:{backgroundImage:`
                linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.6)),
                url('/reading-bg.jpg.png?v=${Date.now()}')
              `,backgroundSize:"cover",backgroundPosition:"center"},children:Se.content.split(`
`).map((at,tt)=>I.jsx("p",{className:`mb-4 md:mb-6 text-slate-800 leading-relaxed md:leading-loose text-sm md:text-lg drop-shadow-sm ${we?"cursor-text selection:bg-red-200 selection:text-red-900":""}`,onMouseUp:()=>Go(tt),onTouchEnd:()=>Go(tt),children:Nt(at.replace(/^# /,"").trim(),c.passageId,tt)},tt))})]}),I.jsxs("div",{className:"flex-1 flex flex-col gap-2 md:gap-4 min-w-0",children:[I.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-3 md:p-6 flex-1 flex flex-col overflow-y-auto",children:[I.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-6",children:[I.jsxs("span",{className:"text-xs md:text-sm font-semibold text-slate-400",children:["Question ",h+1," of ",Se.questions.length]}),I.jsx("div",{className:"flex gap-1",children:Se.questions.map((at,tt)=>I.jsx("div",{className:`h-1.5 w-1.5 md:h-2 md:w-2 rounded-full ${tt===h?"bg-indigo-600":tt<h?"bg-indigo-200":"bg-slate-200"}`},tt))})]}),I.jsx("h3",{className:"text-base md:text-xl font-bold text-slate-800 mb-3 md:mb-6",children:qe.text}),I.jsx("div",{className:"space-y-2 md:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-1",children:qe.options.map(at=>{const tt=c.answers[qe.id]===at.id,Ft=at.id===qe.correctAnswerId;let Ri="w-full p-3 md:p-4 rounded-xl border-2 text-left transition-all duration-200 flex justify-between items-center text-sm md:text-base ";return g?Ft?Ri+="bg-emerald-50 border-emerald-500 text-emerald-700 ":tt&&!Ft?Ri+="bg-red-50 border-red-500 text-red-700 ":Ri+="bg-white border-slate-100 text-slate-400 opacity-50 ":Ri+="bg-white border-slate-100 hover:border-indigo-300 hover:bg-indigo-50 text-slate-700 ",I.jsxs("button",{onClick:()=>!ze&&no(at.id),disabled:ze,className:Ri,children:[I.jsx("span",{className:"font-medium pr-2",children:at.text}),g&&Ft&&I.jsx(Wd,{size:16,className:"text-emerald-500 shrink-0"}),g&&tt&&!Ft&&I.jsx(wc,{size:16,className:"text-red-500 shrink-0"})]},at.id)})}),g&&I.jsxs("div",{className:"mt-4 md:mt-6 animate-in slide-in-from-bottom-2",children:[x&&I.jsxs("div",{className:"bg-indigo-50 p-3 md:p-4 rounded-lg text-xs md:text-sm text-indigo-800 mb-3 md:mb-4 border border-indigo-100 max-h-32 overflow-y-auto custom-scrollbar",children:[I.jsxs("p",{className:"font-bold flex items-center gap-2 mb-1",children:[I.jsx(gg,{size:14})," Explanation:"]}),qe.explanation]}),I.jsx("button",{onClick:Ho,className:"w-full bg-indigo-600 text-white py-2 md:py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-md text-sm md:text-base",children:h===Se.questions.length-1?"Finish Lesson":"Next Question"})]})]}),I.jsxs("button",{onClick:()=>N(!0),className:"bg-indigo-600 text-white p-3 md:p-4 rounded-xl shadow-lg flex items-center justify-between hover:bg-indigo-700 transition-colors",children:[I.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[I.jsx("div",{className:"bg-white/20 p-1.5 md:p-2 rounded-lg",children:I.jsx(uN,{size:16,className:"md:w-5 md:h-5"})}),I.jsxs("div",{className:"text-left",children:[I.jsx("div",{className:"font-bold text-xs md:text-sm",children:"Need help?"}),I.jsx("div",{className:"text-[10px] md:text-xs text-indigo-200 hidden sm:block",children:"Ask the AI Tutor about this text"})]})]}),I.jsx(lh,{size:16,className:"md:w-5 md:h-5"})]})]})]})},yu=()=>I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in",children:[I.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[I.jsx(pY,{className:"text-blue-500"})," Performance"]}),I.jsx("div",{className:"h-64",children:I.jsx(uy,{width:"100%",height:"100%",children:I.jsxs(Pz,{data:[{name:"Mon",pts:20},{name:"Tue",pts:45},{name:"Wed",pts:30},{name:"Thu",pts:50},{name:"Fri",pts:i.totalPoints>50?i.totalPoints:55}],children:[I.jsx(C1,{dataKey:"name",fontSize:12,stroke:"#94a3b8"}),I.jsx(I1,{fontSize:12,stroke:"#94a3b8"}),I.jsx(Dy,{}),I.jsx(A1,{dataKey:"pts",fill:"#4f46e5",radius:[4,4,0,0]})]})})})]}),I.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[I.jsx(gg,{className:"text-purple-500"})," Skills Breakdown"]}),I.jsx("div",{className:"h-64",children:I.jsx(uy,{width:"100%",height:"100%",children:I.jsxs(Mz,{children:[I.jsxs(x1,{data:[{name:"Vocabulary",value:400},{name:"Inference",value:300},{name:"Main Idea",value:300}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[I.jsx(Pa,{fill:"#60a5fa"}),I.jsx(Pa,{fill:"#34d399"}),I.jsx(Pa,{fill:"#f472b6"})]}),I.jsx(Dy,{})]})})})]})]});return I.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[X&&I.jsx(r_e,{onStart:$o,onClose:()=>te(!1)}),K==="playing"&&I.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:I.jsx(s_e,{onGameOver:ro,onWin:Fs,isTeacherMode:ce})}),K==="gameover"&&I.jsx(a_e,{onPlayAgain:Vn,onBackToMap:()=>k("intro")}),K==="win"&&de&&I.jsx(l_e,{name:de.name,score:J,completionTime:Math.round((Date.now()-de.startTime)/1e3),onPlayAgain:Vn,onLeaderboard:()=>{Cn(),k("leaderboard")}}),K==="leaderboard"&&I.jsx(Twe,{onClose:Vn,isTeacherMode:ce}),K==="review"&&I.jsx(xwe,{onClose:Vn}),I.jsx(Swe,{points:i.totalPoints,streak:i.streakDays,onOpenSettings:()=>P(!0),isTeacherMode:ce,onReview:()=>k("review"),onLeaderboard:()=>k("leaderboard"),onExitTeacher:()=>{be(!1),k("intro")},onTeacherLogin:Ir,settings:a}),I.jsxs("div",{className:`transition-all ${K==="playing"?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[I.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[t==="home"&&Za(),t==="learn"&&js(),t==="stats"&&yu()]}),I.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 z-30 flex justify-around shadow-[0_-5px_15px_rgba(0,0,0,0.05)]",children:[I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"Level"}),I.jsx("span",{className:"text-indigo-600 font-bold",children:i.level})]}),I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"Streak"}),I.jsxs("span",{className:"text-orange-500 font-bold",children:[i.streakDays," "]})]}),I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"PTS"}),I.jsx("span",{className:"text-emerald-500 font-bold",children:i.totalPoints})]})]})]}),U&&I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-white w-full max-w-lg h-[600px] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in slide-in-from-bottom-4 duration-300",children:[I.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center text-white",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:I.jsx(uN,{size:20})}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold",children:"AI Tutor"}),I.jsx("p",{className:"text-xs text-indigo-200",children:"Ask about meanings, grammar, or summary"})]})]}),I.jsx("button",{onClick:()=>N(!1),className:"hover:bg-white/20 p-2 rounded-full transition-colors",children:I.jsx(wc,{})})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[O.length===0&&I.jsxs("div",{className:"text-center text-slate-400 mt-10",children:[I.jsx("p",{children:" Hi! Im your AI Tutor."}),I.jsx("p",{className:"text-sm mt-2",children:"Ask me anything about the lesson!"})]}),O.map((Se,qe)=>I.jsx("div",{className:`flex ${Se.role==="user"?"justify-end":"justify-start"}`,children:I.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl ${Se.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 shadow-sm rounded-tl-none"}`,children:Se.text})},qe)),I.jsx("div",{ref:Cr})]}),I.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-2",children:[I.jsx("input",{value:z,onChange:Se=>q(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&Fr(),placeholder:"Type your question...",className:"flex-1 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),I.jsx("button",{onClick:Fr,className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 transition-colors shadow-sm",children:I.jsx(lh,{})})]})]})}),B&&I.jsxs("div",{className:`fixed top-24 right-4 z-50 px-6 py-3 rounded-xl shadow-xl text-white font-medium animate-in slide-in-from-right fade-in duration-300 flex items-center gap-2 ${B.type==="success"?"bg-emerald-500":"bg-red-500"}`,children:[B.type==="success"?I.jsx(Wd,{size:20}):I.jsx(wc,{size:20}),B.message]}),I.jsx(QU,{isOpen:w,onClose:()=>P(!1),title:"Settings",children:I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"API Key (Gemini)"}),I.jsxs("div",{className:"relative group",children:[I.jsx(F_,{className:"absolute left-3 top-3 text-slate-400",size:16}),I.jsx("input",{type:"password",value:a.apiKey,onChange:Se=>Br({...a,apiKey:Se.target.value}),placeholder:"Enter your Google Gemini API Key",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-mono transition-all"})]}),I.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 flex items-center gap-1",children:[I.jsx(j3,{size:12,className:"text-indigo-500"}),I.jsxs("span",{children:["Ly API key ti ",I.jsx("a",{href:"https://aistudio.google.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"AI Model"}),I.jsx("div",{className:"space-y-2",children:Ll.map(Se=>I.jsxs("button",{onClick:()=>Br({...a,selectedModel:Se}),className:`w-full p-3 rounded-xl border-2 text-left transition-all flex justify-between items-center ${a.selectedModel===Se?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-100 bg-slate-50 text-slate-500 hover:border-slate-200"}`,children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-bold text-sm tracking-tight",children:Se}),I.jsx("span",{className:"text-[10px] opacity-70",children:Se==="gemini-3-flash-preview"?"Cn bng tc  v tr tu":Se==="gemini-3-pro-preview"?"Thng minh nht":"Nh gn & hiu qu"})]}),a.selectedModel===Se&&I.jsx(Wd,{size:16})]},Se))})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Theme"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>Br({...a,theme:"light"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${a.theme==="light"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Light"}),I.jsx("button",{onClick:()=>Br({...a,theme:"dark"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${a.theme==="dark"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Dark"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Sound Effects"}),I.jsx("button",{onClick:()=>Br({...a,soundEnabled:!a.soundEnabled}),className:`w-full py-2 px-4 rounded-lg border text-sm font-medium transition-all flex items-center justify-center gap-2 ${a.soundEnabled?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:a.soundEnabled?" Enabled":" Muted"})]}),I.jsx("div",{className:"pt-4 border-t border-slate-100",children:I.jsxs("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full py-2 px-4 rounded-lg border border-red-200 text-red-600 text-sm font-medium hover:bg-red-50 flex items-center justify-center gap-2",children:[I.jsx(z3,{size:16})," Reset All Progress"]})})]})}),I.jsx(eW,{isOpen:H,level:i.level,onClose:()=>$(!1)}),I.jsx(QU,{isOpen:Oe,onClose:()=>ie(!1),title:"Teacher Verification",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("p",{className:"text-sm text-slate-500 font-medium text-center",children:"Enter your Teacher PIN to continue."}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("input",{type:"password",placeholder:"",value:Ce,onChange:Se=>{Ie(Se.target.value),$e(!1)},onKeyDown:Se=>Se.key==="Enter"&&$t(),className:`w-full bg-slate-50 border ${he?"border-red-500 focus:ring-red-500":"border-slate-200 focus:ring-indigo-500"} rounded-xl px-4 py-3 text-2xl font-black tracking-[0.5em] text-center outline-none focus:ring-2 transition-all`,autoFocus:!0}),he&&I.jsx(Ti.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-xs text-red-500 font-bold text-center",children:"Incorrect PIN."})]}),I.jsx("button",{onClick:$t,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg active:scale-95 transform",children:"Unlock Mode"})]})}),!a.apiKey&&I.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-lg flex items-center justify-center p-4",children:I.jsxs(Ti.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 text-center border border-white/20",children:[I.jsx("div",{className:"bg-red-50 w-16 h-16 rounded-2xl flex items-center justify-center text-red-500 mx-auto mb-6",children:I.jsx(F_,{size:32})}),I.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"Cn API Key Gemini"}),I.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"Bn cn nhp API key  s dng cc tnh nng thng minh ca ng dng ny."}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"relative",children:[I.jsx(F_,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),I.jsx("input",{type:"password",value:a.apiKey,onChange:Se=>Br({...a,apiKey:Se.target.value}),placeholder:"Nhp API key ca bn...",className:"w-full pl-10 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none transition-all font-mono text-center",autoFocus:!0})]}),I.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl text-left border border-indigo-100",children:[I.jsx("p",{className:"text-xs text-indigo-700 font-bold mb-1",children:"Cch ly API Key:"}),I.jsxs("p",{className:"text-[11px] text-indigo-600 leading-relaxed italic",children:["Truy cp ",I.jsx("a",{href:"https://aistudio.google.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-black underline mx-1",children:"Google AI Studio"})," nhn key min ph v dn vo y."]})]}),I.jsx("button",{onClick:()=>a.apiKey&&P(!1),className:`w-full py-4 rounded-2xl font-black uppercase tracking-wider text-sm transition-all shadow-lg ${a.apiKey?"bg-indigo-600 text-white hover:bg-indigo-700 active:scale-95":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,disabled:!a.apiKey,children:"Kch hot ng dng"})]})]})})]})}const v9=document.getElementById("root");if(!v9)throw new Error("Could not find root element to mount to");const Awe=lG.createRoot(v9);Awe.render(I.jsx(yi.StrictMode,{children:I.jsx(wwe,{})}));export{Iwe as c,zo as g};
