var jH=Object.defineProperty;var HH=(t,e,n)=>e in t?jH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hb=(t,e,n)=>HH(t,typeof e!="symbol"?e+"":e,n);function GH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var sAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pb={exports:{}},gd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function $H(){if(RR)return gd;RR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return gd.Fragment=e,gd.jsx=n,gd.jsxs=n,gd}var MR;function KH(){return MR||(MR=1,pb.exports=$H()),pb.exports}var U=KH(),mb={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function YH(){if(NR)return Ge;NR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function I(L,J,le){this.props=L,this.context=J,this.refs=w,this.updater=le||S}I.prototype.isReactComponent={},I.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=I.prototype;function k(L,J,le){this.props=L,this.context=J,this.refs=w,this.updater=le||S}var B=k.prototype=new O;B.constructor=k,A(B,I.prototype),B.isPureReactComponent=!0;var F=Array.isArray;function V(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(L,J,le){var ce=le.ref;return{$$typeof:t,type:L,key:J,ref:ce!==void 0?ce:null,props:le}}function z(L,J){return N(L.type,J,L.props)}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function H(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return J[le]})}var $=/\/+/g;function ye(L,J){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):J.toString(36)}function Se(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Q(L,J,le,ce,_e){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case t:case e:ve=!0;break;case h:return ve=L._init,Q(ve(L._payload),J,le,ce,_e)}}if(ve)return _e=_e(L),ve=ce===""?"."+ye(L,0):ce,F(_e)?(le="",ve!=null&&(le=ve.replace($,"$&/")+"/"),Q(_e,J,le,"",function(xe){return xe})):_e!=null&&(j(_e)&&(_e=z(_e,le+(_e.key==null||L&&L.key===_e.key?"":(""+_e.key).replace($,"$&/")+"/")+ve)),J.push(_e)),1;ve=0;var Oe=ce===""?".":ce+":";if(F(L))for(var ie=0;ie<L.length;ie++)ce=L[ie],be=Oe+ye(ce,ie),ve+=Q(ce,J,le,be,_e);else if(ie=E(L),typeof ie=="function")for(L=ie.call(L),ie=0;!(ce=L.next()).done;)ce=ce.value,be=Oe+ye(ce,ie++),ve+=Q(ce,J,le,be,_e);else if(be==="object"){if(typeof L.then=="function")return Q(Se(L),J,le,ce,_e);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ve}function oe(L,J,le){if(L==null)return L;var ce=[],_e=0;return Q(L,ce,"","",function(be){return J.call(le,be,_e++)}),ce}function he(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Y={map:oe,forEach:function(L,J,le){oe(L,function(){J.apply(this,arguments)},le)},count:function(L){var J=0;return oe(L,function(){J++}),J},toArray:function(L){return oe(L,function(J){return J})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ge.Activity=p,Ge.Children=Y,Ge.Component=I,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=k,Ge.StrictMode=r,Ge.Suspense=c,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},Ge.cache=function(L){return function(){return L.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(L,J,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=A({},L.props),_e=L.key;if(J!=null)for(be in J.key!==void 0&&(_e=""+J.key),J)!D.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ce[be]=J[be]);var be=arguments.length-2;if(be===1)ce.children=le;else if(1<be){for(var ve=Array(be),Oe=0;Oe<be;Oe++)ve[Oe]=arguments[Oe+2];ce.children=ve}return N(L.type,_e,ce)},Ge.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ge.createElement=function(L,J,le){var ce,_e={},be=null;if(J!=null)for(ce in J.key!==void 0&&(be=""+J.key),J)D.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=J[ce]);var ve=arguments.length-2;if(ve===1)_e.children=le;else if(1<ve){for(var Oe=Array(ve),ie=0;ie<ve;ie++)Oe[ie]=arguments[ie+2];_e.children=Oe}if(L&&L.defaultProps)for(ce in ve=L.defaultProps,ve)_e[ce]===void 0&&(_e[ce]=ve[ce]);return N(L,be,_e)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(L){return{$$typeof:u,render:L}},Ge.isValidElement=j,Ge.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:he}},Ge.memo=function(L,J){return{$$typeof:f,type:L,compare:J===void 0?null:J}},Ge.startTransition=function(L){var J=M.T,le={};M.T=le;try{var ce=L(),_e=M.S;_e!==null&&_e(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(V,Te)}catch(be){Te(be)}finally{J!==null&&le.types!==null&&(J.types=le.types),M.T=J}},Ge.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ge.use=function(L){return M.H.use(L)},Ge.useActionState=function(L,J,le){return M.H.useActionState(L,J,le)},Ge.useCallback=function(L,J){return M.H.useCallback(L,J)},Ge.useContext=function(L){return M.H.useContext(L)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(L,J){return M.H.useDeferredValue(L,J)},Ge.useEffect=function(L,J){return M.H.useEffect(L,J)},Ge.useEffectEvent=function(L){return M.H.useEffectEvent(L)},Ge.useId=function(){return M.H.useId()},Ge.useImperativeHandle=function(L,J,le){return M.H.useImperativeHandle(L,J,le)},Ge.useInsertionEffect=function(L,J){return M.H.useInsertionEffect(L,J)},Ge.useLayoutEffect=function(L,J){return M.H.useLayoutEffect(L,J)},Ge.useMemo=function(L,J){return M.H.useMemo(L,J)},Ge.useOptimistic=function(L,J){return M.H.useOptimistic(L,J)},Ge.useReducer=function(L,J,le){return M.H.useReducer(L,J,le)},Ge.useRef=function(L){return M.H.useRef(L)},Ge.useState=function(L){return M.H.useState(L)},Ge.useSyncExternalStore=function(L,J,le){return M.H.useSyncExternalStore(L,J,le)},Ge.useTransition=function(){return M.H.useTransition()},Ge.version="19.2.4",Ge}var DR;function $c(){return DR||(DR=1,mb.exports=YH()),mb.exports}var C=$c();const Fi=Ho(C),WH=GH({__proto__:null,default:Fi},[C]);var gb={exports:{}},yd={},yb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function JH(){return OR||(OR=1,(function(t){function e(Q,oe){var he=Q.length;Q.push(oe);e:for(;0<he;){var Te=he-1>>>1,Y=Q[Te];if(0<i(Y,oe))Q[Te]=oe,Q[he]=Y,he=Te;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],he=Q.pop();if(he!==oe){Q[0]=he;e:for(var Te=0,Y=Q.length,L=Y>>>1;Te<L;){var J=2*(Te+1)-1,le=Q[J],ce=J+1,_e=Q[ce];if(0>i(le,he))ce<Y&&0>i(_e,le)?(Q[Te]=_e,Q[ce]=he,Te=ce):(Q[Te]=le,Q[J]=he,Te=J);else if(ce<Y&&0>i(_e,he))Q[Te]=_e,Q[ce]=he,Te=ce;else break e}}return oe}function i(Q,oe){var he=Q.sortIndex-oe.sortIndex;return he!==0?he:Q.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,E=!1,S=!1,A=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(Q){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=Q)r(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(f)}}function F(Q){if(A=!1,B(Q),!S)if(n(c)!==null)S=!0,V||(V=!0,H());else{var oe=n(f);oe!==null&&Se(F,oe.startTime-Q)}}var V=!1,M=-1,D=5,N=-1;function z(){return w?!0:!(t.unstable_now()-N<D)}function j(){if(w=!1,V){var Q=t.unstable_now();N=Q;var oe=!0;try{e:{S=!1,A&&(A=!1,O(M),M=-1),E=!0;var he=g;try{t:{for(B(Q),p=n(c);p!==null&&!(p.expirationTime>Q&&z());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,g=p.priorityLevel;var Y=Te(p.expirationTime<=Q);if(Q=t.unstable_now(),typeof Y=="function"){p.callback=Y,B(Q),oe=!0;break t}p===n(c)&&r(c),B(Q)}else r(c);p=n(c)}if(p!==null)oe=!0;else{var L=n(f);L!==null&&Se(F,L.startTime-Q),oe=!1}}break e}finally{p=null,g=he,E=!1}oe=void 0}}finally{oe?H():V=!1}}}var H;if(typeof k=="function")H=function(){k(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ye=$.port2;$.port1.onmessage=j,H=function(){ye.postMessage(null)}}else H=function(){I(j,0)};function Se(Q,oe){M=I(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var he=g;g=oe;try{return Q()}finally{g=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=g;g=Q;try{return oe()}finally{g=he}},t.unstable_scheduleCallback=function(Q,oe,he){var Te=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,Q={id:h++,callback:oe,priorityLevel:Q,startTime:he,expirationTime:Y,sortIndex:-1},he>Te?(Q.sortIndex=he,e(f,Q),n(c)===null&&Q===n(f)&&(A?(O(M),M=-1):A=!0,Se(F,he-Te))):(Q.sortIndex=Y,e(c,Q),S||E||(S=!0,V||(V=!0,H()))),Q},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Q){var oe=g;return function(){var he=g;g=oe;try{return Q.apply(this,arguments)}finally{g=he}}}})(vb)),vb}var kR;function XH(){return kR||(kR=1,yb.exports=JH()),yb.exports}var _b={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function QH(){if(LR)return lr;LR=1;var t=$c();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},lr.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},lr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},lr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},lr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:E}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},lr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},lr.requestFormReset=function(c){r.d.r(c)},lr.unstable_batchedUpdates=function(c,f){return c(f)},lr.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},lr.useFormStatus=function(){return s.H.useHostTransitionStatus()},lr.version="19.2.4",lr}var VR;function KU(){if(VR)return _b.exports;VR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_b.exports=QH(),_b.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR;function ZH(){if(UR)return yd;UR=1;var t=XH(),e=$c(),n=KU();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var b=d.return;if(b===null)break;var T=b.alternate;if(T===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===d)return c(b),a;if(T===m)return c(b),l;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=b,m=T;else{for(var P=!1,q=b.child;q;){if(q===d){P=!0,d=b,m=T;break}if(q===m){P=!0,m=b,d=T;break}q=q.sibling}if(!P){for(q=T.child;q;){if(q===d){P=!0,d=T,m=b;break}if(q===m){P=!0,m=T,d=b;break}q=q.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case I:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case k:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case B:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:ye(a.type)||"Memo";case D:l=a._payload,a=a._init;try{return ye(a(l))}catch{}}return null}var Se=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Te=[],Y=-1;function L(a){return{current:a}}function J(a){0>Y||(a.current=Te[Y],Te[Y]=null,Y--)}function le(a,l){Y++,Te[Y]=a.current,a.current=l}var ce=L(null),_e=L(null),be=L(null),ve=L(null);function Oe(a,l){switch(le(be,l),le(_e,a),le(ce,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?ZP(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=ZP(l),a=eR(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ce),le(ce,a)}function ie(){J(ce),J(_e),J(be)}function xe(a){a.memoizedState!==null&&le(ve,a);var l=ce.current,d=eR(l,a.type);l!==d&&(le(_e,a),le(ce,d))}function Ce(a){_e.current===a&&(J(ce),J(_e)),ve.current===a&&(J(ve),dd._currentValue=he)}var fe,Ke;function Ae(a){if(fe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);fe=l&&l[1]||"",Ke=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+Ke}var Ze=!1;function it(a,l){if(!a||Ze)return"";Ze=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var re=se}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(se){re=se}a.call(pe.prototype)}}else{try{throw Error()}catch(se){re=se}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),P=T[0],q=T[1];if(P&&q){var K=P.split(`
`),te=q.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===te.length)for(m=K.length-1,b=te.length-1;1<=m&&0<=b&&K[m]!==te[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==te[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==te[b]){var ue=`
`+K[m].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=m&&0<=b);break}}}finally{Ze=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Ae(d):""}function Ct(a,l){switch(a.tag){case 26:case 27:case 5:return Ae(a.type);case 16:return Ae("Lazy");case 13:return a.child!==l&&l!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ae("Activity");default:return""}}function an(a){try{var l="",d=null;do l+=Ct(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var _t=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,Qr=t.unstable_cancelCallback,$o=t.unstable_shouldYield,Ua=t.unstable_requestPaint,sn=t.unstable_now,Ci=t.unstable_getCurrentPriorityLevel,to=t.unstable_ImmediatePriority,Me=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,ot=t.unstable_LowPriority,ft=t.unstable_IdlePriority,st=t.log,Ht=t.unstable_setDisableYieldValue,ln=null,Yn=null;function Zr(a){if(typeof st=="function"&&Ht(a),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(ln,a)}catch{}}var un=Math.clz32?Math.clz32:op,ip=Math.log,pu=Math.LN2;function op(a){return a>>>=0,a===0?32:31-(ip(a)/pu|0)|0}var no=256,Js=262144,pn=4194304;function ro(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function io(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var b=0,T=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var q=m&134217727;return q!==0?(m=q&~T,m!==0?b=ro(m):(P&=q,P!==0?b=ro(P):d||(d=q&~a,d!==0&&(b=ro(d))))):(q=m&~T,q!==0?b=ro(q):P!==0?b=ro(P):d||(d=m&~a,d!==0&&(b=ro(d)))),b===0?0:l!==0&&l!==b&&(l&T)===0&&(T=b&-b,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:b}function Ii(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function y0(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(){var a=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),a}function oo(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Xs(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function v0(a,l,d,m,b,T){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,te=a.hiddenUpdates;for(d=P&~d;0<d;){var ue=31-un(d),pe=1<<ue;q[ue]=0,K[ue]=-1;var re=te[ue];if(re!==null)for(te[ue]=null,ue=0;ue<re.length;ue++){var se=re[ue];se!==null&&(se.lane&=-536870913)}d&=~pe}m!==0&&Qs(a,m,0),T!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=T&~(P&~l))}function Qs(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-un(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function yf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-un(d),b=1<<m;b&l|a[m]&l&&(a[m]|=l),d&=~b}}function vf(a,l){var d=l&-l;return d=(d&42)!==0?1:Zs(d),(d&(a.suspendedLanes|l))!==0?0:d}function Zs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ko(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sp(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:SR(a.type))}function Pi(a,l){var d=oe.p;try{return oe.p=a,l()}finally{oe.p=d}}var Ri=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ri,Vn="__reactProps$"+Ri,ao="__reactContainer$"+Ri,mu="__reactEvents$"+Ri,_0="__reactListeners$"+Ri,lp="__reactHandles$"+Ri,up="__reactResources$"+Ri,so="__reactMarker$"+Ri;function gu(a){delete a[mn],delete a[Vn],delete a[mu],delete a[_0],delete a[lp]}function lo(a){var l=a[mn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[ao]||d[mn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=sR(a);a!==null;){if(d=a[mn])return d;a=sR(a)}return l}a=d,d=a.parentNode}return null}function ei(a){if(a=a[mn]||a[ao]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ur(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function uo(a){var l=a[up];return l||(l=a[up]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gn(a){a[so]=!0}var _f=new Set,bf={};function co(a,l){fo(a,l),fo(a+"Capture",l)}function fo(a,l){for(bf[a]=l,a=0;a<l.length;a++)_f.add(l[a])}var Ef=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},Sf={};function cp(a){return _t.call(Sf,a)?!0:_t.call(Tf,a)?!1:Ef.test(a)?Sf[a]=!0:(Tf[a]=!0,!1)}function yu(a,l,d){if(cp(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Br(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function yn(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function Un(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ba(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function wf(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,T=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(P){d=""+P,T.call(this,P)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Tt(a){if(!a._valueTracker){var l=Ba(a)?"checked":"value";a._valueTracker=wf(a,l,""+a[l])}}function el(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Ba(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function ho(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var tl=/[\n"\\]/g;function Ir(a){return a.replace(tl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function vu(a,l,d,m,b,T,P,q){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Un(l)):a.value!==""+Un(l)&&(a.value=""+Un(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?Af(a,P,Un(l)):d!=null?Af(a,P,Un(d)):m!=null&&a.removeAttribute("value"),b==null&&T!=null&&(a.defaultChecked=!!T),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Un(q):a.removeAttribute("name")}function fp(a,l,d,m,b,T,P,q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){Tt(a);return}d=d!=null?""+Un(d):"",l=l!=null?""+Un(l):d,q||l===a.value||(a.value=l),a.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=q?a.checked:!!m,a.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Tt(a)}function Af(a,l,d){l==="number"&&ho(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Fa(a,l,d,m){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Un(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function dp(a,l,d){if(l!=null&&(l=""+Un(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Un(d):""}function za(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Se(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Un(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Tt(a)}function Pr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||hp.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Cf(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&d[b]!==m&&xf(a,b,m)}else for(var T in l)l.hasOwnProperty(T)&&xf(a,T,l[T])}function _u(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bu(a){return qa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Mi(){}var If=null;function ti(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ja=null,po=null;function nl(a){var l=ei(a);if(l&&(a=l.stateNode)){var d=a[Vn]||null;e:switch(a=l.stateNode,l.type){case"input":if(vu(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ir(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var b=m[Vn]||null;if(!b)throw Error(r(90));vu(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&el(m)}break e;case"textarea":dp(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Fa(a,!!d.multiple,l,!1)}}}var Eu=!1;function Ha(a,l,d){if(Eu)return a(l,d);Eu=!0;try{var m=a(l);return m}finally{if(Eu=!1,(ja!==null||po!==null)&&(sm(),ja&&(l=ja,a=po,po=ja=null,nl(l),a)))for(l=0;l<a.length;l++)nl(a[l])}}function Ni(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Vn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(ni)try{var It={};Object.defineProperty(It,"passive",{get:function(){rl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{rl=!1}var mo=null,Pf=null,il=null;function Rf(){if(il)return il;var a,l=Pf,d=l.length,m,b="value"in mo?mo.value:mo.textContent,T=b.length;for(a=0;a<d&&l[a]===b[a];a++);var P=d-a;for(m=1;m<=P&&l[d-m]===b[T-m];m++);return il=b.slice(a,1<m?1-m:void 0)}function ol(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Yo(){return!0}function Di(){return!1}function Wn(a){function l(d,m,b,T,P){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(d=a[q],this[q]=d?d(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Yo:Di,this.isPropagationStopped=Di,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),l}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Wn(Wo),Ga=p({},Wo,{view:0,detail:0}),Mf=Wn(Ga),$a,Tu,yo,Su=p({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yo&&(yo&&a.type==="mousemove"?($a=a.screenX-yo.screenX,Tu=a.screenY-yo.screenY):Tu=$a=0,yo=a),$a)},movementY:function(a){return"movementY"in a?a.movementY:Tu}}),Nf=Wn(Su),al=p({},Su,{dataTransfer:0}),mp=Wn(al),gp=p({},Ga,{relatedTarget:0}),sl=Wn(gp),Df=p({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=Wn(Df),wu=p({},Wo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vp=Wn(wu),_p=p({},Wo,{data:0}),vo=Wn(_p),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sp(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Tp[a])?!!l[a]:!1}function Ka(){return Sp}var yr=p({},Ga,{key:function(a){if(a.key){var l=bp[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ol(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ep[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(a){return a.type==="keypress"?ol(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ol(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wp=Wn(yr),Ap=p({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Wn(Ap),_=p({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),x=Wn(_),R=p({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=Wn(R),Z=p({},Su,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Wn(Z),Ee=p({},Wo,{newState:0,oldState:0}),Ye=Wn(Ee),cn=[9,13,27,32],gt=ni&&"CompositionEvent"in window,Gt=null;ni&&"documentMode"in document&&(Gt=document.documentMode);var ri=ni&&"TextEvent"in window&&!Gt,_o=ni&&(!gt||Gt&&8<Gt&&11>=Gt),Oi=" ",ki=!1;function ll(a,l){switch(a){case"keyup":return cn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xu=!1;function h9(a,l){switch(a){case"compositionend":return Au(l);case"keypress":return l.which!==32?null:(ki=!0,Oi);case"textInput":return a=l.data,a===Oi&&ki?null:a;default:return null}}function p9(a,l){if(xu)return a==="compositionend"||!gt&&ll(a,l)?(a=Rf(),il=Pf=mo=null,xu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _o&&l.locale!=="ko"?null:l.data;default:return null}}var m9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!m9[a.type]:l==="textarea"}function f1(a,l,d,m){ja?po?po.push(m):po=[m]:ja=m,l=pm(l,"onChange"),0<l.length&&(d=new go("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Of=null,kf=null;function g9(a){KP(a,0)}function xp(a){var l=Ur(a);if(el(l))return a}function d1(a,l){if(a==="change")return l}var h1=!1;if(ni){var b0;if(ni){var E0="oninput"in document;if(!E0){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),E0=typeof p1.oninput=="function"}b0=E0}else b0=!1;h1=b0&&(!document.documentMode||9<document.documentMode)}function m1(){Of&&(Of.detachEvent("onpropertychange",g1),kf=Of=null)}function g1(a){if(a.propertyName==="value"&&xp(kf)){var l=[];f1(l,kf,a,ti(a)),Ha(g9,l)}}function y9(a,l,d){a==="focusin"?(m1(),Of=l,kf=d,Of.attachEvent("onpropertychange",g1)):a==="focusout"&&m1()}function v9(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return xp(kf)}function _9(a,l){if(a==="click")return xp(l)}function b9(a,l){if(a==="input"||a==="change")return xp(l)}function E9(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Fr=typeof Object.is=="function"?Object.is:E9;function Lf(a,l){if(Fr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!_t.call(l,b)||!Fr(a[b],l[b]))return!1}return!0}function y1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function v1(a,l){var d=y1(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=y1(d)}}function _1(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?_1(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function b1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ho(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=ho(a.document)}return l}function T0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var T9=ni&&"documentMode"in document&&11>=document.documentMode,Cu=null,S0=null,Vf=null,w0=!1;function E1(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;w0||Cu==null||Cu!==ho(m)||(m=Cu,"selectionStart"in m&&T0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vf&&Lf(Vf,m)||(Vf=m,m=pm(S0,"onSelect"),0<m.length&&(l=new go("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Cu)))}function ul(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Iu={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},A0={},T1={};ni&&(T1=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function cl(a){if(A0[a])return A0[a];if(!Iu[a])return a;var l=Iu[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in T1)return A0[a]=l[d];return a}var S1=cl("animationend"),w1=cl("animationiteration"),A1=cl("animationstart"),S9=cl("transitionrun"),w9=cl("transitionstart"),A9=cl("transitioncancel"),x1=cl("transitionend"),C1=new Map,x0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");x0.push("scrollEnd");function Li(a,l){C1.set(a,l),co(l,[a])}var Cp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ii=[],Pu=0,C0=0;function Ip(){for(var a=Pu,l=C0=Pu=0;l<a;){var d=ii[l];ii[l++]=null;var m=ii[l];ii[l++]=null;var b=ii[l];ii[l++]=null;var T=ii[l];if(ii[l++]=null,m!==null&&b!==null){var P=m.pending;P===null?b.next=b:(b.next=P.next,P.next=b),m.pending=b}T!==0&&I1(d,b,T)}}function Pp(a,l,d,m){ii[Pu++]=a,ii[Pu++]=l,ii[Pu++]=d,ii[Pu++]=m,C0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function I0(a,l,d,m){return Pp(a,l,d,m),Rp(a)}function fl(a,l){return Pp(a,null,null,l),Rp(a)}function I1(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var b=!1,T=a.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(b=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,b&&l!==null&&(b=31-un(d),a=T.hiddenUpdates,m=a[b],m===null?a[b]=[l]:m.push(l),l.lane=d|536870912),T):null}function Rp(a){if(50<od)throw od=0,V_=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ru={};function x9(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,l,d,m){return new x9(a,l,d,m)}function P0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xo(a,l){var d=a.alternate;return d===null?(d=zr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function P1(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Mp(a,l,d,m,b,T){var P=0;if(m=a,typeof a=="function")P0(a)&&(P=1);else if(typeof a=="string")P=MH(a,d,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=zr(31,d,l,b),a.elementType=N,a.lanes=T,a;case A:return dl(d.children,b,T,l);case w:P=8,b|=24;break;case I:return a=zr(12,d,l,b|2),a.elementType=I,a.lanes=T,a;case F:return a=zr(13,d,l,b),a.elementType=F,a.lanes=T,a;case V:return a=zr(19,d,l,b),a.elementType=V,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:P=10;break e;case O:P=9;break e;case B:P=11;break e;case M:P=14;break e;case D:P=16,m=null;break e}P=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=zr(P,d,l,b),l.elementType=a,l.type=m,l.lanes=T,l}function dl(a,l,d,m){return a=zr(7,a,m,l),a.lanes=d,a}function R0(a,l,d){return a=zr(6,a,null,l),a.lanes=d,a}function R1(a){var l=zr(18,null,null,0);return l.stateNode=a,l}function M0(a,l,d){return l=zr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var M1=new WeakMap;function oi(a,l){if(typeof a=="object"&&a!==null){var d=M1.get(a);return d!==void 0?d:(l={value:a,source:l,stack:an(l)},M1.set(a,l),l)}return{value:a,source:l,stack:an(l)}}var Mu=[],Nu=0,Np=null,Uf=0,ai=[],si=0,Ya=null,bo=1,Eo="";function Qo(a,l){Mu[Nu++]=Uf,Mu[Nu++]=Np,Np=a,Uf=l}function N1(a,l,d){ai[si++]=bo,ai[si++]=Eo,ai[si++]=Ya,Ya=a;var m=bo;a=Eo;var b=32-un(m)-1;m&=~(1<<b),d+=1;var T=32-un(l)+b;if(30<T){var P=b-b%5;T=(m&(1<<P)-1).toString(32),m>>=P,b-=P,bo=1<<32-un(l)+b|d<<b|m,Eo=T+a}else bo=1<<T|d<<b|m,Eo=a}function N0(a){a.return!==null&&(Qo(a,1),N1(a,1,0))}function D0(a){for(;a===Np;)Np=Mu[--Nu],Mu[Nu]=null,Uf=Mu[--Nu],Mu[Nu]=null;for(;a===Ya;)Ya=ai[--si],ai[si]=null,Eo=ai[--si],ai[si]=null,bo=ai[--si],ai[si]=null}function D1(a,l){ai[si++]=bo,ai[si++]=Eo,ai[si++]=Ya,bo=l.id,Eo=l.overflow,Ya=a}var Jn=null,Bt=null,at=!1,Wa=null,li=!1,O0=Error(r(519));function Ja(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bf(oi(l,a)),O0}function O1(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[mn]=a,l[Vn]=m,d){case"dialog":Qe("cancel",l),Qe("close",l);break;case"iframe":case"object":case"embed":Qe("load",l);break;case"video":case"audio":for(d=0;d<sd.length;d++)Qe(sd[d],l);break;case"source":Qe("error",l);break;case"img":case"image":case"link":Qe("error",l),Qe("load",l);break;case"details":Qe("toggle",l);break;case"input":Qe("invalid",l),fp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Qe("invalid",l);break;case"textarea":Qe("invalid",l),za(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||XP(l.textContent,d)?(m.popover!=null&&(Qe("beforetoggle",l),Qe("toggle",l)),m.onScroll!=null&&Qe("scroll",l),m.onScrollEnd!=null&&Qe("scrollend",l),m.onClick!=null&&(l.onclick=Mi),l=!0):l=!1,l||Ja(a,!0)}function k1(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Jn=Jn.return}}function Du(a){if(a!==Jn)return!1;if(!at)return k1(a),at=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Q_(a.type,a.memoizedProps)),d=!d),d&&Bt&&Ja(a),k1(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bt=aR(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bt=aR(a)}else l===27?(l=Bt,cs(a.type)?(a=rb,rb=null,Bt=a):Bt=l):Bt=Jn?ci(a.stateNode.nextSibling):null;return!0}function hl(){Bt=Jn=null,at=!1}function k0(){var a=Wa;return a!==null&&(Dr===null?Dr=a:Dr.push.apply(Dr,a),Wa=null),a}function Bf(a){Wa===null?Wa=[a]:Wa.push(a)}var L0=L(null),pl=null,Zo=null;function Xa(a,l,d){le(L0,l._currentValue),l._currentValue=d}function ea(a){a._currentValue=L0.current,J(L0)}function V0(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function U0(a,l,d,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var T=b.dependencies;if(T!==null){var P=b.child;T=T.firstContext;e:for(;T!==null;){var q=T;T=b;for(var K=0;K<l.length;K++)if(q.context===l[K]){T.lanes|=d,q=T.alternate,q!==null&&(q.lanes|=d),V0(T.return,d,a),m||(P=null);break e}T=q.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(r(341));P.lanes|=d,T=P.alternate,T!==null&&(T.lanes|=d),V0(P,d,a),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===a){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function Ou(a,l,d,m){a=null;for(var b=l,T=!1;b!==null;){if(!T){if((b.flags&524288)!==0)T=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var q=b.type;Fr(b.pendingProps.value,P.value)||(a!==null?a.push(q):a=[q])}}else if(b===ve.current){if(P=b.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(dd):a=[dd])}b=b.return}a!==null&&U0(l,a,d,m),l.flags|=262144}function Dp(a){for(a=a.firstContext;a!==null;){if(!Fr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ml(a){pl=a,Zo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xn(a){return L1(pl,a)}function Op(a,l){return pl===null&&ml(a),L1(a,l)}function L1(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Zo===null){if(a===null)throw Error(r(308));Zo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Zo=Zo.next=l;return d}var C9=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},I9=t.unstable_scheduleCallback,P9=t.unstable_NormalPriority,vn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function B0(){return{controller:new C9,data:new Map,refCount:0}}function Ff(a){a.refCount--,a.refCount===0&&I9(P9,function(){a.controller.abort()})}var zf=null,F0=0,ku=0,Lu=null;function R9(a,l){if(zf===null){var d=zf=[];F0=0,ku=j_(),Lu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return F0++,l.then(V1,V1),l}function V1(){if(--F0===0&&zf!==null){Lu!==null&&(Lu.status="fulfilled");var a=zf;zf=null,ku=0,Lu=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function M9(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var U1=Q.S;Q.S=function(a,l){EP=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&R9(a,l),U1!==null&&U1(a,l)};var gl=L(null);function z0(){var a=gl.current;return a!==null?a:Dt.pooledCache}function kp(a,l){l===null?le(gl,gl.current):le(gl,l.pool)}function B1(){var a=z0();return a===null?null:{parent:vn._currentValue,pool:a}}var Vu=Error(r(460)),q0=Error(r(474)),Lp=Error(r(542)),Vp={then:function(){}};function F1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function z1(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Mi,Mi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,j1(a),a;default:if(typeof l.status=="string")l.then(Mi,Mi);else{if(a=Dt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,j1(a),a}throw vl=l,Vu}}function yl(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vl=d,Vu):d}}var vl=null;function q1(){if(vl===null)throw Error(r(459));var a=vl;return vl=null,a}function j1(a){if(a===Vu||a===Lp)throw Error(r(483))}var Uu=null,qf=0;function Up(a){var l=qf;return qf+=1,Uu===null&&(Uu=[]),z1(Uu,a,l)}function jf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Bp(a,l){throw l.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function H1(a){function l(X,W){if(a){var ee=X.deletions;ee===null?(X.deletions=[W],X.flags|=16):ee.push(W)}}function d(X,W){if(!a)return null;for(;W!==null;)l(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function b(X,W){return X=Xo(X,W),X.index=0,X.sibling=null,X}function T(X,W,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<W?(X.flags|=67108866,W):ee):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function P(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function q(X,W,ee,de){return W===null||W.tag!==6?(W=R0(ee,X.mode,de),W.return=X,W):(W=b(W,ee),W.return=X,W)}function K(X,W,ee,de){var Ue=ee.type;return Ue===A?ue(X,W,ee.props.children,de,ee.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===D&&yl(Ue)===W.type)?(W=b(W,ee.props),jf(W,ee),W.return=X,W):(W=Mp(ee.type,ee.key,ee.props,null,X.mode,de),jf(W,ee),W.return=X,W)}function te(X,W,ee,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=M0(ee,X.mode,de),W.return=X,W):(W=b(W,ee.children||[]),W.return=X,W)}function ue(X,W,ee,de,Ue){return W===null||W.tag!==7?(W=dl(ee,X.mode,de,Ue),W.return=X,W):(W=b(W,ee),W.return=X,W)}function pe(X,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=R0(""+W,X.mode,ee),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return ee=Mp(W.type,W.key,W.props,null,X.mode,ee),jf(ee,W),ee.return=X,ee;case S:return W=M0(W,X.mode,ee),W.return=X,W;case D:return W=yl(W),pe(X,W,ee)}if(Se(W)||H(W))return W=dl(W,X.mode,ee,null),W.return=X,W;if(typeof W.then=="function")return pe(X,Up(W),ee);if(W.$$typeof===k)return pe(X,Op(X,W),ee);Bp(X,W)}return null}function re(X,W,ee,de){var Ue=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ue!==null?null:q(X,W,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return ee.key===Ue?K(X,W,ee,de):null;case S:return ee.key===Ue?te(X,W,ee,de):null;case D:return ee=yl(ee),re(X,W,ee,de)}if(Se(ee)||H(ee))return Ue!==null?null:ue(X,W,ee,de,null);if(typeof ee.then=="function")return re(X,W,Up(ee),de);if(ee.$$typeof===k)return re(X,W,Op(X,ee),de);Bp(X,ee)}return null}function se(X,W,ee,de,Ue){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(ee)||null,q(W,X,""+de,Ue);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return X=X.get(de.key===null?ee:de.key)||null,K(W,X,de,Ue);case S:return X=X.get(de.key===null?ee:de.key)||null,te(W,X,de,Ue);case D:return de=yl(de),se(X,W,ee,de,Ue)}if(Se(de)||H(de))return X=X.get(ee)||null,ue(W,X,de,Ue,null);if(typeof de.then=="function")return se(X,W,ee,Up(de),Ue);if(de.$$typeof===k)return se(X,W,ee,Op(W,de),Ue);Bp(W,de)}return null}function Ne(X,W,ee,de){for(var Ue=null,dt=null,ke=W,Je=W=0,tt=null;ke!==null&&Je<ee.length;Je++){ke.index>Je?(tt=ke,ke=null):tt=ke.sibling;var ht=re(X,ke,ee[Je],de);if(ht===null){ke===null&&(ke=tt);break}a&&ke&&ht.alternate===null&&l(X,ke),W=T(ht,W,Je),dt===null?Ue=ht:dt.sibling=ht,dt=ht,ke=tt}if(Je===ee.length)return d(X,ke),at&&Qo(X,Je),Ue;if(ke===null){for(;Je<ee.length;Je++)ke=pe(X,ee[Je],de),ke!==null&&(W=T(ke,W,Je),dt===null?Ue=ke:dt.sibling=ke,dt=ke);return at&&Qo(X,Je),Ue}for(ke=m(ke);Je<ee.length;Je++)tt=se(ke,X,Je,ee[Je],de),tt!==null&&(a&&tt.alternate!==null&&ke.delete(tt.key===null?Je:tt.key),W=T(tt,W,Je),dt===null?Ue=tt:dt.sibling=tt,dt=tt);return a&&ke.forEach(function(ms){return l(X,ms)}),at&&Qo(X,Je),Ue}function Fe(X,W,ee,de){if(ee==null)throw Error(r(151));for(var Ue=null,dt=null,ke=W,Je=W=0,tt=null,ht=ee.next();ke!==null&&!ht.done;Je++,ht=ee.next()){ke.index>Je?(tt=ke,ke=null):tt=ke.sibling;var ms=re(X,ke,ht.value,de);if(ms===null){ke===null&&(ke=tt);break}a&&ke&&ms.alternate===null&&l(X,ke),W=T(ms,W,Je),dt===null?Ue=ms:dt.sibling=ms,dt=ms,ke=tt}if(ht.done)return d(X,ke),at&&Qo(X,Je),Ue;if(ke===null){for(;!ht.done;Je++,ht=ee.next())ht=pe(X,ht.value,de),ht!==null&&(W=T(ht,W,Je),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return at&&Qo(X,Je),Ue}for(ke=m(ke);!ht.done;Je++,ht=ee.next())ht=se(ke,X,Je,ht.value,de),ht!==null&&(a&&ht.alternate!==null&&ke.delete(ht.key===null?Je:ht.key),W=T(ht,W,Je),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return a&&ke.forEach(function(qH){return l(X,qH)}),at&&Qo(X,Je),Ue}function Mt(X,W,ee,de){if(typeof ee=="object"&&ee!==null&&ee.type===A&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:e:{for(var Ue=ee.key;W!==null;){if(W.key===Ue){if(Ue=ee.type,Ue===A){if(W.tag===7){d(X,W.sibling),de=b(W,ee.props.children),de.return=X,X=de;break e}}else if(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===D&&yl(Ue)===W.type){d(X,W.sibling),de=b(W,ee.props),jf(de,ee),de.return=X,X=de;break e}d(X,W);break}else l(X,W);W=W.sibling}ee.type===A?(de=dl(ee.props.children,X.mode,de,ee.key),de.return=X,X=de):(de=Mp(ee.type,ee.key,ee.props,null,X.mode,de),jf(de,ee),de.return=X,X=de)}return P(X);case S:e:{for(Ue=ee.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(X,W.sibling),de=b(W,ee.children||[]),de.return=X,X=de;break e}else{d(X,W);break}else l(X,W);W=W.sibling}de=M0(ee,X.mode,de),de.return=X,X=de}return P(X);case D:return ee=yl(ee),Mt(X,W,ee,de)}if(Se(ee))return Ne(X,W,ee,de);if(H(ee)){if(Ue=H(ee),typeof Ue!="function")throw Error(r(150));return ee=Ue.call(ee),Fe(X,W,ee,de)}if(typeof ee.then=="function")return Mt(X,W,Up(ee),de);if(ee.$$typeof===k)return Mt(X,W,Op(X,ee),de);Bp(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(X,W.sibling),de=b(W,ee),de.return=X,X=de):(d(X,W),de=R0(ee,X.mode,de),de.return=X,X=de),P(X)):d(X,W)}return function(X,W,ee,de){try{qf=0;var Ue=Mt(X,W,ee,de);return Uu=null,Ue}catch(ke){if(ke===Vu||ke===Lp)throw ke;var dt=zr(29,ke,null,X.mode);return dt.lanes=de,dt.return=X,dt}finally{}}}var _l=H1(!0),G1=H1(!1),Qa=!1;function j0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function es(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Rp(a),I1(a,null,d),l}return Pp(a,m,l,d),Rp(a)}function Hf(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,yf(a,d)}}function G0(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?b=T=P:T=T.next=P,d=d.next}while(d!==null);T===null?b=T=l:T=T.next=l}else b=T=l;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var $0=!1;function Gf(){if($0){var a=Lu;if(a!==null)throw a}}function $f(a,l,d,m){$0=!1;var b=a.updateQueue;Qa=!1;var T=b.firstBaseUpdate,P=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var K=q,te=K.next;K.next=null,P===null?T=te:P.next=te,P=K;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,q=ue.lastBaseUpdate,q!==P&&(q===null?ue.firstBaseUpdate=te:q.next=te,ue.lastBaseUpdate=K))}if(T!==null){var pe=b.baseState;P=0,ue=te=K=null,q=T;do{var re=q.lane&-536870913,se=re!==q.lane;if(se?(et&re)===re:(m&re)===re){re!==0&&re===ku&&($0=!0),ue!==null&&(ue=ue.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ne=a,Fe=q;re=l;var Mt=d;switch(Fe.tag){case 1:if(Ne=Fe.payload,typeof Ne=="function"){pe=Ne.call(Mt,pe,re);break e}pe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Fe.payload,re=typeof Ne=="function"?Ne.call(Mt,pe,re):Ne,re==null)break e;pe=p({},pe,re);break e;case 2:Qa=!0}}re=q.callback,re!==null&&(a.flags|=64,se&&(a.flags|=8192),se=b.callbacks,se===null?b.callbacks=[re]:se.push(re))}else se={lane:re,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ue===null?(te=ue=se,K=pe):ue=ue.next=se,P|=re;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;se=q,q=se.next,se.next=null,b.lastBaseUpdate=se,b.shared.pending=null}}while(!0);ue===null&&(K=pe),b.baseState=K,b.firstBaseUpdate=te,b.lastBaseUpdate=ue,T===null&&(b.shared.lanes=0),os|=P,a.lanes=P,a.memoizedState=pe}}function $1(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function K1(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)$1(d[a],l)}var Bu=L(null),Fp=L(0);function Y1(a,l){a=ua,le(Fp,a),le(Bu,l),ua=a|l.baseLanes}function K0(){le(Fp,ua),le(Bu,Bu.current)}function Y0(){ua=Fp.current,J(Bu),J(Fp)}var qr=L(null),ui=null;function ts(a){var l=a.alternate;le(fn,fn.current&1),le(qr,a),ui===null&&(l===null||Bu.current!==null||l.memoizedState!==null)&&(ui=a)}function W0(a){le(fn,fn.current),le(qr,a),ui===null&&(ui=a)}function W1(a){a.tag===22?(le(fn,fn.current),le(qr,a),ui===null&&(ui=a)):ns()}function ns(){le(fn,fn.current),le(qr,qr.current)}function jr(a){J(qr),ui===a&&(ui=null),J(fn)}var fn=L(0);function zp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||tb(d)||nb(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ta=0,We=null,Pt=null,_n=null,qp=!1,Fu=!1,bl=!1,jp=0,Kf=0,zu=null,N9=0;function Qt(){throw Error(r(321))}function J0(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Fr(a[d],l[d]))return!1;return!0}function X0(a,l,d,m,b,T){return ta=T,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Q.H=a===null||a.memoizedState===null?NI:d_,bl=!1,T=d(m,b),bl=!1,Fu&&(T=X1(l,d,m,b)),J1(a),T}function J1(a){Q.H=Jf;var l=Pt!==null&&Pt.next!==null;if(ta=0,_n=Pt=We=null,qp=!1,Kf=0,zu=null,l)throw Error(r(300));a===null||bn||(a=a.dependencies,a!==null&&Dp(a)&&(bn=!0))}function X1(a,l,d,m){We=a;var b=0;do{if(Fu&&(zu=null),Kf=0,Fu=!1,25<=b)throw Error(r(301));if(b+=1,_n=Pt=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Q.H=DI,T=l(d,m)}while(Fu);return T}function D9(){var a=Q.H,l=a.useState()[0];return l=typeof l.then=="function"?Yf(l):l,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(We.flags|=1024),l}function Q0(){var a=jp!==0;return jp=0,a}function Z0(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function e_(a){if(qp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}qp=!1}ta=0,_n=Pt=We=null,Fu=!1,Kf=jp=0,zu=null}function vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?We.memoizedState=_n=a:_n=_n.next=a,_n}function dn(){if(Pt===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var l=_n===null?We.memoizedState:_n.next;if(l!==null)_n=l,Pt=a;else{if(a===null)throw We.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},_n===null?We.memoizedState=_n=a:_n=_n.next=a}return _n}function Hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yf(a){var l=Kf;return Kf+=1,zu===null&&(zu=[]),a=z1(zu,a,l),l=We,(_n===null?l.memoizedState:_n.next)===null&&(l=l.alternate,Q.H=l===null||l.memoizedState===null?NI:d_),a}function Gp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yf(a);if(a.$$typeof===k)return Xn(a)}throw Error(r(438,String(a)))}function t_(a){var l=null,d=We.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=We.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Hp(),We.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=z;return l.index++,d}function na(a,l){return typeof l=="function"?l(a):l}function $p(a){var l=dn();return n_(l,Pt,a)}function n_(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var b=a.baseQueue,T=m.pending;if(T!==null){if(b!==null){var P=b.next;b.next=T.next,T.next=P}l.baseQueue=b=T,m.pending=null}if(T=a.baseState,b===null)a.memoizedState=T;else{l=b.next;var q=P=null,K=null,te=l,ue=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(et&pe)===pe:(ta&pe)===pe){var re=te.revertLane;if(re===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===ku&&(ue=!0);else if((ta&re)===re){te=te.next,re===ku&&(ue=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(q=K=pe,P=T):K=K.next=pe,We.lanes|=re,os|=re;pe=te.action,bl&&d(T,pe),T=te.hasEagerState?te.eagerState:d(T,pe)}else re={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(q=K=re,P=T):K=K.next=re,We.lanes|=pe,os|=pe;te=te.next}while(te!==null&&te!==l);if(K===null?P=T:K.next=q,!Fr(T,a.memoizedState)&&(bn=!0,ue&&(d=Lu,d!==null)))throw d;a.memoizedState=T,a.baseState=P,a.baseQueue=K,m.lastRenderedState=T}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function r_(a){var l=dn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,b=d.pending,T=l.memoizedState;if(b!==null){d.pending=null;var P=b=b.next;do T=a(T,P.action),P=P.next;while(P!==b);Fr(T,l.memoizedState)||(bn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,m]}function Q1(a,l,d){var m=We,b=dn(),T=at;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!Fr((Pt||b).memoizedState,d);if(P&&(b.memoizedState=d,bn=!0),b=b.queue,a_(tI.bind(null,m,b,a),[a]),b.getSnapshot!==l||P||_n!==null&&_n.memoizedState.tag&1){if(m.flags|=2048,qu(9,{destroy:void 0},eI.bind(null,m,b,d,l),null),Dt===null)throw Error(r(349));T||(ta&127)!==0||Z1(m,l,d)}return d}function Z1(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=We.updateQueue,l===null?(l=Hp(),We.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function eI(a,l,d,m){l.value=d,l.getSnapshot=m,nI(l)&&rI(a)}function tI(a,l,d){return d(function(){nI(l)&&rI(a)})}function nI(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Fr(a,d)}catch{return!0}}function rI(a){var l=fl(a,2);l!==null&&Or(l,a,2)}function i_(a){var l=vr();if(typeof a=="function"){var d=a;if(a=d(),bl){Zr(!0);try{d()}finally{Zr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},l}function iI(a,l,d,m){return a.baseState=d,n_(a,Pt,typeof m=="function"?m:na)}function O9(a,l,d,m,b){if(Wp(a))throw Error(r(485));if(a=l.action,a!==null){var T={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};Q.T!==null?d(!0):T.isTransition=!1,m(T),d=l.pending,d===null?(T.next=l.pending=T,oI(l,T)):(T.next=d.next,l.pending=d.next=T)}}function oI(a,l){var d=l.action,m=l.payload,b=a.state;if(l.isTransition){var T=Q.T,P={};Q.T=P;try{var q=d(b,m),K=Q.S;K!==null&&K(P,q),aI(a,l,q)}catch(te){o_(a,l,te)}finally{T!==null&&P.types!==null&&(T.types=P.types),Q.T=T}}else try{T=d(b,m),aI(a,l,T)}catch(te){o_(a,l,te)}}function aI(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){sI(a,l,m)},function(m){return o_(a,l,m)}):sI(a,l,d)}function sI(a,l,d){l.status="fulfilled",l.value=d,lI(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,oI(a,d)))}function o_(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,lI(l),l=l.next;while(l!==m)}a.action=null}function lI(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function uI(a,l){return l}function cI(a,l){if(at){var d=Dt.formState;if(d!==null){e:{var m=We;if(at){if(Bt){t:{for(var b=Bt,T=li;b.nodeType!==8;){if(!T){b=null;break t}if(b=ci(b.nextSibling),b===null){b=null;break t}}T=b.data,b=T==="F!"||T==="F"?b:null}if(b){Bt=ci(b.nextSibling),m=b.data==="F!";break e}}Ja(m)}m=!1}m&&(l=d[0])}}return d=vr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uI,lastRenderedState:l},d.queue=m,d=PI.bind(null,We,m),m.dispatch=d,m=i_(!1),T=f_.bind(null,We,!1,m.queue),m=vr(),b={state:l,dispatch:null,action:a,pending:null},m.queue=b,d=O9.bind(null,We,b,T,d),b.dispatch=d,m.memoizedState=a,[l,d,!1]}function fI(a){var l=dn();return dI(l,Pt,a)}function dI(a,l,d){if(l=n_(a,l,uI)[0],a=$p(na)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Yf(l)}catch(P){throw P===Vu?Lp:P}else m=l;l=dn();var b=l.queue,T=b.dispatch;return d!==l.memoizedState&&(We.flags|=2048,qu(9,{destroy:void 0},k9.bind(null,b,d),null)),[m,T,a]}function k9(a,l){a.action=l}function hI(a){var l=dn(),d=Pt;if(d!==null)return dI(l,d,a);dn(),l=l.memoizedState,d=dn();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function qu(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=We.updateQueue,l===null&&(l=Hp(),We.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function pI(){return dn().memoizedState}function Kp(a,l,d,m){var b=vr();We.flags|=a,b.memoizedState=qu(1|l,{destroy:void 0},d,m===void 0?null:m)}function Yp(a,l,d,m){var b=dn();m=m===void 0?null:m;var T=b.memoizedState.inst;Pt!==null&&m!==null&&J0(m,Pt.memoizedState.deps)?b.memoizedState=qu(l,T,d,m):(We.flags|=a,b.memoizedState=qu(1|l,T,d,m))}function mI(a,l){Kp(8390656,8,a,l)}function a_(a,l){Yp(2048,8,a,l)}function L9(a){We.flags|=4;var l=We.updateQueue;if(l===null)l=Hp(),We.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function gI(a){var l=dn().memoizedState;return L9({ref:l,nextImpl:a}),function(){if((yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function yI(a,l){return Yp(4,2,a,l)}function vI(a,l){return Yp(4,4,a,l)}function _I(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function bI(a,l,d){d=d!=null?d.concat([a]):null,Yp(4,4,_I.bind(null,l,a),d)}function s_(){}function EI(a,l){var d=dn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&J0(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function TI(a,l){var d=dn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&J0(l,m[1]))return m[0];if(m=a(),bl){Zr(!0);try{a()}finally{Zr(!1)}}return d.memoizedState=[m,l],m}function l_(a,l,d){return d===void 0||(ta&1073741824)!==0&&(et&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=SP(),We.lanes|=a,os|=a,d)}function SI(a,l,d,m){return Fr(d,l)?d:Bu.current!==null?(a=l_(a,d,m),Fr(a,l)||(bn=!0),a):(ta&42)===0||(ta&1073741824)!==0&&(et&261930)===0?(bn=!0,a.memoizedState=d):(a=SP(),We.lanes|=a,os|=a,l)}function wI(a,l,d,m,b){var T=oe.p;oe.p=T!==0&&8>T?T:8;var P=Q.T,q={};Q.T=q,f_(a,!1,l,d);try{var K=b(),te=Q.S;if(te!==null&&te(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ue=M9(K,m);Wf(a,l,ue,$r(a))}else Wf(a,l,m,$r(a))}catch(pe){Wf(a,l,{then:function(){},status:"rejected",reason:pe},$r())}finally{oe.p=T,P!==null&&q.types!==null&&(P.types=q.types),Q.T=P}}function V9(){}function u_(a,l,d,m){if(a.tag!==5)throw Error(r(476));var b=AI(a).queue;wI(a,b,l,he,d===null?V9:function(){return xI(a),d(m)})}function AI(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:he},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function xI(a){var l=AI(a);l.next===null&&(l=a.alternate.memoizedState),Wf(a,l.next.queue,{},$r())}function c_(){return Xn(dd)}function CI(){return dn().memoizedState}function II(){return dn().memoizedState}function U9(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=$r();a=Za(d);var m=es(l,a,d);m!==null&&(Or(m,l,d),Hf(m,l,d)),l={cache:B0()},a.payload=l;return}l=l.return}}function B9(a,l,d){var m=$r();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Wp(a)?RI(l,d):(d=I0(a,l,d,m),d!==null&&(Or(d,a,m),MI(d,l,m)))}function PI(a,l,d){var m=$r();Wf(a,l,d,m)}function Wf(a,l,d,m){var b={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Wp(a))RI(l,b);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var P=l.lastRenderedState,q=T(P,d);if(b.hasEagerState=!0,b.eagerState=q,Fr(q,P))return Pp(a,l,b,0),Dt===null&&Ip(),!1}catch{}finally{}if(d=I0(a,l,b,m),d!==null)return Or(d,a,m),MI(d,l,m),!0}return!1}function f_(a,l,d,m){if(m={lane:2,revertLane:j_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Wp(a)){if(l)throw Error(r(479))}else l=I0(a,d,m,2),l!==null&&Or(l,a,2)}function Wp(a){var l=a.alternate;return a===We||l!==null&&l===We}function RI(a,l){Fu=qp=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function MI(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,yf(a,d)}}var Jf={readContext:Xn,use:Gp,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Jf.useEffectEvent=Qt;var NI={readContext:Xn,use:Gp,useCallback:function(a,l){return vr().memoizedState=[a,l===void 0?null:l],a},useContext:Xn,useEffect:mI,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Kp(4194308,4,_I.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Kp(4194308,4,a,l)},useInsertionEffect:function(a,l){Kp(4,2,a,l)},useMemo:function(a,l){var d=vr();l=l===void 0?null:l;var m=a();if(bl){Zr(!0);try{a()}finally{Zr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=vr();if(d!==void 0){var b=d(l);if(bl){Zr(!0);try{d(l)}finally{Zr(!1)}}}else b=l;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=B9.bind(null,We,a),[m.memoizedState,a]},useRef:function(a){var l=vr();return a={current:a},l.memoizedState=a},useState:function(a){a=i_(a);var l=a.queue,d=PI.bind(null,We,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:s_,useDeferredValue:function(a,l){var d=vr();return l_(d,a,l)},useTransition:function(){var a=i_(!1);return a=wI.bind(null,We,a.queue,!0,!1),vr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=We,b=vr();if(at){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Dt===null)throw Error(r(349));(et&127)!==0||Z1(m,l,d)}b.memoizedState=d;var T={value:d,getSnapshot:l};return b.queue=T,mI(tI.bind(null,m,T,a),[a]),m.flags|=2048,qu(9,{destroy:void 0},eI.bind(null,m,T,d,l),null),d},useId:function(){var a=vr(),l=Dt.identifierPrefix;if(at){var d=Eo,m=bo;d=(m&~(1<<32-un(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=jp++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=N9++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:c_,useFormState:cI,useActionState:cI,useOptimistic:function(a){var l=vr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=f_.bind(null,We,!0,d),d.dispatch=l,[a,l]},useMemoCache:t_,useCacheRefresh:function(){return vr().memoizedState=U9.bind(null,We)},useEffectEvent:function(a){var l=vr(),d={impl:a};return l.memoizedState=d,function(){if((yt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},d_={readContext:Xn,use:Gp,useCallback:EI,useContext:Xn,useEffect:a_,useImperativeHandle:bI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:TI,useReducer:$p,useRef:pI,useState:function(){return $p(na)},useDebugValue:s_,useDeferredValue:function(a,l){var d=dn();return SI(d,Pt.memoizedState,a,l)},useTransition:function(){var a=$p(na)[0],l=dn().memoizedState;return[typeof a=="boolean"?a:Yf(a),l]},useSyncExternalStore:Q1,useId:CI,useHostTransitionStatus:c_,useFormState:fI,useActionState:fI,useOptimistic:function(a,l){var d=dn();return iI(d,Pt,a,l)},useMemoCache:t_,useCacheRefresh:II};d_.useEffectEvent=gI;var DI={readContext:Xn,use:Gp,useCallback:EI,useContext:Xn,useEffect:a_,useImperativeHandle:bI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:TI,useReducer:r_,useRef:pI,useState:function(){return r_(na)},useDebugValue:s_,useDeferredValue:function(a,l){var d=dn();return Pt===null?l_(d,a,l):SI(d,Pt.memoizedState,a,l)},useTransition:function(){var a=r_(na)[0],l=dn().memoizedState;return[typeof a=="boolean"?a:Yf(a),l]},useSyncExternalStore:Q1,useId:CI,useHostTransitionStatus:c_,useFormState:hI,useActionState:hI,useOptimistic:function(a,l){var d=dn();return Pt!==null?iI(d,Pt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:t_,useCacheRefresh:II};DI.useEffectEvent=gI;function h_(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var p_={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=$r(),b=Za(m);b.payload=l,d!=null&&(b.callback=d),l=es(a,b,m),l!==null&&(Or(l,a,m),Hf(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=$r(),b=Za(m);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=es(a,b,m),l!==null&&(Or(l,a,m),Hf(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=$r(),m=Za(d);m.tag=2,l!=null&&(m.callback=l),l=es(a,m,d),l!==null&&(Or(l,a,d),Hf(l,a,d))}};function OI(a,l,d,m,b,T,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,T,P):l.prototype&&l.prototype.isPureReactComponent?!Lf(d,m)||!Lf(b,T):!0}function kI(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&p_.enqueueReplaceState(l,l.state,null)}function El(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function LI(a){Cp(a)}function VI(a){console.error(a)}function UI(a){Cp(a)}function Jp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function BI(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function m_(a,l,d){return d=Za(d),d.tag=3,d.payload={element:null},d.callback=function(){Jp(a,l)},d}function FI(a){return a=Za(a),a.tag=3,a}function zI(a,l,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var T=m.value;a.payload=function(){return b(T)},a.callback=function(){BI(l,d,m)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){BI(l,d,m),typeof b!="function"&&(as===null?as=new Set([this]):as.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function F9(a,l,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Ou(l,d,b,!0),d=qr.current,d!==null){switch(d.tag){case 31:case 13:return ui===null?lm():d.alternate===null&&Zt===0&&(Zt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===Vp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),F_(a,m,b)),!1;case 22:return d.flags|=65536,m===Vp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),F_(a,m,b)),!1}throw Error(r(435,d.tag))}return F_(a,m,b),lm(),!1}if(at)return l=qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==O0&&(a=Error(r(422),{cause:m}),Bf(oi(a,d)))):(m!==O0&&(l=Error(r(423),{cause:m}),Bf(oi(l,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=oi(m,d),b=m_(a.stateNode,m,b),G0(a,b),Zt!==4&&(Zt=2)),!1;var T=Error(r(520),{cause:m});if(T=oi(T,d),id===null?id=[T]:id.push(T),Zt!==4&&(Zt=2),l===null)return!0;m=oi(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=m_(d.stateNode,m,a),G0(d,a),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(as===null||!as.has(T))))return d.flags|=65536,b&=-b,d.lanes|=b,b=FI(b),zI(b,a,d,m),G0(d,b),!1}d=d.return}while(d!==null);return!1}var g_=Error(r(461)),bn=!1;function Qn(a,l,d,m){l.child=a===null?G1(l,null,d,m):_l(l,a.child,d,m)}function qI(a,l,d,m,b){d=d.render;var T=l.ref;if("ref"in m){var P={};for(var q in m)q!=="ref"&&(P[q]=m[q])}else P=m;return ml(l),m=X0(a,l,d,P,T,b),q=Q0(),a!==null&&!bn?(Z0(a,l,b),ra(a,l,b)):(at&&q&&N0(l),l.flags|=1,Qn(a,l,m,b),l.child)}function jI(a,l,d,m,b){if(a===null){var T=d.type;return typeof T=="function"&&!P0(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,HI(a,l,T,m,b)):(a=Mp(d.type,null,m,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(T=a.child,!w_(a,b)){var P=T.memoizedProps;if(d=d.compare,d=d!==null?d:Lf,d(P,m)&&a.ref===l.ref)return ra(a,l,b)}return l.flags|=1,a=Xo(T,m),a.ref=l.ref,a.return=l,l.child=a}function HI(a,l,d,m,b){if(a!==null){var T=a.memoizedProps;if(Lf(T,m)&&a.ref===l.ref)if(bn=!1,l.pendingProps=m=T,w_(a,b))(a.flags&131072)!==0&&(bn=!0);else return l.lanes=a.lanes,ra(a,l,b)}return y_(a,l,d,m,b)}function GI(a,l,d,m){var b=m.children,T=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,a!==null){for(m=l.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~T}else m=0,l.child=null;return $I(a,l,T,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&kp(l,T!==null?T.cachePool:null),T!==null?Y1(l,T):K0(),W1(l);else return m=l.lanes=536870912,$I(a,l,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(kp(l,T.cachePool),Y1(l,T),ns(),l.memoizedState=null):(a!==null&&kp(l,null),K0(),ns());return Qn(a,l,b,d),l.child}function Xf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function $I(a,l,d,m,b){var T=z0();return T=T===null?null:{parent:vn._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},a!==null&&kp(l,null),K0(),W1(l),a!==null&&Ou(a,l,m,!0),l.childLanes=b,null}function Xp(a,l){return l=Zp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function KI(a,l,d){return _l(l,a.child,null,d),a=Xp(l,l.pendingProps),a.flags|=2,jr(l),l.memoizedState=null,a}function z9(a,l,d){var m=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(at){if(m.mode==="hidden")return a=Xp(l,m),l.lanes=536870912,Xf(null,a);if(W0(l),(a=Bt)?(a=oR(a,li),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:bo,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},d=R1(a),d.return=l,l.child=d,Jn=l,Bt=null)):a=null,a===null)throw Ja(l);return l.lanes=536870912,null}return Xp(l,m)}var T=a.memoizedState;if(T!==null){var P=T.dehydrated;if(W0(l),b)if(l.flags&256)l.flags&=-257,l=KI(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(bn||Ou(a,l,d,!1),b=(d&a.childLanes)!==0,bn||b){if(m=Dt,m!==null&&(P=vf(m,d),P!==0&&P!==T.retryLane))throw T.retryLane=P,fl(a,P),Or(m,a,P),g_;lm(),l=KI(a,l,d)}else a=T.treeContext,Bt=ci(P.nextSibling),Jn=l,at=!0,Wa=null,li=!1,a!==null&&D1(l,a),l=Xp(l,m),l.flags|=4096;return l}return a=Xo(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Qp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function y_(a,l,d,m,b){return ml(l),d=X0(a,l,d,m,void 0,b),m=Q0(),a!==null&&!bn?(Z0(a,l,b),ra(a,l,b)):(at&&m&&N0(l),l.flags|=1,Qn(a,l,d,b),l.child)}function YI(a,l,d,m,b,T){return ml(l),l.updateQueue=null,d=X1(l,m,d,b),J1(a),m=Q0(),a!==null&&!bn?(Z0(a,l,T),ra(a,l,T)):(at&&m&&N0(l),l.flags|=1,Qn(a,l,d,T),l.child)}function WI(a,l,d,m,b){if(ml(l),l.stateNode===null){var T=Ru,P=d.contextType;typeof P=="object"&&P!==null&&(T=Xn(P)),T=new d(m,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=p_,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=m,T.state=l.memoizedState,T.refs={},j0(l),P=d.contextType,T.context=typeof P=="object"&&P!==null?Xn(P):Ru,T.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(h_(l,d,P,m),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&p_.enqueueReplaceState(T,T.state,null),$f(l,m,T,b),Gf(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){T=l.stateNode;var q=l.memoizedProps,K=El(d,q);T.props=K;var te=T.context,ue=d.contextType;P=Ru,typeof ue=="object"&&ue!==null&&(P=Xn(ue));var pe=d.getDerivedStateFromProps;ue=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q||te!==P)&&kI(l,T,m,P),Qa=!1;var re=l.memoizedState;T.state=re,$f(l,m,T,b),Gf(),te=l.memoizedState,q||re!==te||Qa?(typeof pe=="function"&&(h_(l,d,pe,m),te=l.memoizedState),(K=Qa||OI(l,d,K,m,re,te,P))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=te),T.props=m,T.state=te,T.context=P,m=K):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{T=l.stateNode,H0(a,l),P=l.memoizedProps,ue=El(d,P),T.props=ue,pe=l.pendingProps,re=T.context,te=d.contextType,K=Ru,typeof te=="object"&&te!==null&&(K=Xn(te)),q=d.getDerivedStateFromProps,(te=typeof q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==pe||re!==K)&&kI(l,T,m,K),Qa=!1,re=l.memoizedState,T.state=re,$f(l,m,T,b),Gf();var se=l.memoizedState;P!==pe||re!==se||Qa||a!==null&&a.dependencies!==null&&Dp(a.dependencies)?(typeof q=="function"&&(h_(l,d,q,m),se=l.memoizedState),(ue=Qa||OI(l,d,ue,m,re,se,K)||a!==null&&a.dependencies!==null&&Dp(a.dependencies))?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,se,K),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,se,K)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=se),T.props=m,T.state=se,T.context=K,m=ue):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),m=!1)}return T=m,Qp(a,l),m=(l.flags&128)!==0,T||m?(T=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,a!==null&&m?(l.child=_l(l,a.child,null,b),l.child=_l(l,null,d,b)):Qn(a,l,d,b),l.memoizedState=T.state,a=l.child):a=ra(a,l,b),a}function JI(a,l,d,m){return hl(),l.flags|=256,Qn(a,l,d,m),l.child}var v_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function __(a){return{baseLanes:a,cachePool:B1()}}function b_(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Gr),a}function XI(a,l,d){var m=l.pendingProps,b=!1,T=(l.flags&128)!==0,P;if((P=T)||(P=a!==null&&a.memoizedState===null?!1:(fn.current&2)!==0),P&&(b=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(at){if(b?ts(l):ns(),(a=Bt)?(a=oR(a,li),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:bo,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},d=R1(a),d.return=l,l.child=d,Jn=l,Bt=null)):a=null,a===null)throw Ja(l);return nb(a)?l.lanes=32:l.lanes=536870912,null}var q=m.children;return m=m.fallback,b?(ns(),b=l.mode,q=Zp({mode:"hidden",children:q},b),m=dl(m,b,d,null),q.return=l,m.return=l,q.sibling=m,l.child=q,m=l.child,m.memoizedState=__(d),m.childLanes=b_(a,P,d),l.memoizedState=v_,Xf(null,m)):(ts(l),E_(l,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(T)l.flags&256?(ts(l),l.flags&=-257,l=T_(a,l,d)):l.memoizedState!==null?(ns(),l.child=a.child,l.flags|=128,l=null):(ns(),q=m.fallback,b=l.mode,m=Zp({mode:"visible",children:m.children},b),q=dl(q,b,d,null),q.flags|=2,m.return=l,q.return=l,m.sibling=q,l.child=m,_l(l,a.child,null,d),m=l.child,m.memoizedState=__(d),m.childLanes=b_(a,P,d),l.memoizedState=v_,l=Xf(null,m));else if(ts(l),nb(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var te=P.dgst;P=te,m=Error(r(419)),m.stack="",m.digest=P,Bf({value:m,source:null,stack:null}),l=T_(a,l,d)}else if(bn||Ou(a,l,d,!1),P=(d&a.childLanes)!==0,bn||P){if(P=Dt,P!==null&&(m=vf(P,d),m!==0&&m!==K.retryLane))throw K.retryLane=m,fl(a,m),Or(P,a,m),g_;tb(q)||lm(),l=T_(a,l,d)}else tb(q)?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Bt=ci(q.nextSibling),Jn=l,at=!0,Wa=null,li=!1,a!==null&&D1(l,a),l=E_(l,m.children),l.flags|=4096);return l}return b?(ns(),q=m.fallback,b=l.mode,K=a.child,te=K.sibling,m=Xo(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,te!==null?q=Xo(te,q):(q=dl(q,b,d,null),q.flags|=2),q.return=l,m.return=l,m.sibling=q,l.child=m,Xf(null,m),m=l.child,q=a.child.memoizedState,q===null?q=__(d):(b=q.cachePool,b!==null?(K=vn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=B1(),q={baseLanes:q.baseLanes|d,cachePool:b}),m.memoizedState=q,m.childLanes=b_(a,P,d),l.memoizedState=v_,Xf(a.child,m)):(ts(l),d=a.child,a=d.sibling,d=Xo(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=d,l.memoizedState=null,d)}function E_(a,l){return l=Zp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Zp(a,l){return a=zr(22,a,null,l),a.lanes=0,a}function T_(a,l,d){return _l(l,a.child,null,d),a=E_(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function QI(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),V0(a.return,l,d)}function S_(a,l,d,m,b,T){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b,treeForkCount:T}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=d,P.tailMode=b,P.treeForkCount=T)}function ZI(a,l,d){var m=l.pendingProps,b=m.revealOrder,T=m.tail;m=m.children;var P=fn.current,q=(P&2)!==0;if(q?(P=P&1|2,l.flags|=128):P&=1,le(fn,P),Qn(a,l,m,d),m=at?Uf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&QI(a,d,l);else if(a.tag===19)QI(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&zp(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),S_(l,!1,b,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&zp(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}S_(l,!0,d,null,T,m);break;case"together":S_(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function ra(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),os|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Ou(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=Xo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Xo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function w_(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Dp(a)))}function q9(a,l,d){switch(l.tag){case 3:Oe(l,l.stateNode.containerInfo),Xa(l,vn,a.memoizedState.cache),hl();break;case 27:case 5:xe(l);break;case 4:Oe(l,l.stateNode.containerInfo);break;case 10:Xa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,W0(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ts(l),l.flags|=128,null):(d&l.child.childLanes)!==0?XI(a,l,d):(ts(l),a=ra(a,l,d),a!==null?a.sibling:null);ts(l);break;case 19:var b=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Ou(a,l,d,!1),m=(d&l.childLanes)!==0),b){if(m)return ZI(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),le(fn,fn.current),m)break;return null;case 22:return l.lanes=0,GI(a,l,d,l.pendingProps);case 24:Xa(l,vn,a.memoizedState.cache)}return ra(a,l,d)}function eP(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)bn=!0;else{if(!w_(a,d)&&(l.flags&128)===0)return bn=!1,q9(a,l,d);bn=(a.flags&131072)!==0}else bn=!1,at&&(l.flags&1048576)!==0&&N1(l,Uf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=yl(l.elementType),l.type=a,typeof a=="function")P0(a)?(m=El(a,m),l.tag=1,l=WI(null,l,a,m,d)):(l.tag=0,l=y_(null,l,a,m,d));else{if(a!=null){var b=a.$$typeof;if(b===B){l.tag=11,l=qI(null,l,a,m,d);break e}else if(b===M){l.tag=14,l=jI(null,l,a,m,d);break e}}throw l=ye(a)||a,Error(r(306,l,""))}}return l;case 0:return y_(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,b=El(m,l.pendingProps),WI(a,l,m,b,d);case 3:e:{if(Oe(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var T=l.memoizedState;b=T.element,H0(a,l),$f(l,m,null,d);var P=l.memoizedState;if(m=P.cache,Xa(l,vn,m),m!==T.cache&&U0(l,[vn],d,!0),Gf(),m=P.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=JI(a,l,m,d);break e}else if(m!==b){b=oi(Error(r(424)),l),Bf(b),l=JI(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Bt=ci(a.firstChild),Jn=l,at=!0,Wa=null,li=!0,d=G1(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(hl(),m===b){l=ra(a,l,d);break e}Qn(a,l,m,d)}l=l.child}return l;case 26:return Qp(a,l),a===null?(d=fR(l.type,null,l.pendingProps,null))?l.memoizedState=d:at||(d=l.type,a=l.pendingProps,m=mm(be.current).createElement(d),m[mn]=l,m[Vn]=a,Zn(m,d,a),gn(m),l.stateNode=m):l.memoizedState=fR(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return xe(l),a===null&&at&&(m=l.stateNode=lR(l.type,l.pendingProps,be.current),Jn=l,li=!0,b=Bt,cs(l.type)?(rb=b,Bt=ci(m.firstChild)):Bt=b),Qn(a,l,l.pendingProps.children,d),Qp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&at&&((b=m=Bt)&&(m=vH(m,l.type,l.pendingProps,li),m!==null?(l.stateNode=m,Jn=l,Bt=ci(m.firstChild),li=!1,b=!0):b=!1),b||Ja(l)),xe(l),b=l.type,T=l.pendingProps,P=a!==null?a.memoizedProps:null,m=T.children,Q_(b,T)?m=null:P!==null&&Q_(b,P)&&(l.flags|=32),l.memoizedState!==null&&(b=X0(a,l,D9,null,null,d),dd._currentValue=b),Qp(a,l),Qn(a,l,m,d),l.child;case 6:return a===null&&at&&((a=d=Bt)&&(d=_H(d,l.pendingProps,li),d!==null?(l.stateNode=d,Jn=l,Bt=null,a=!0):a=!1),a||Ja(l)),null;case 13:return XI(a,l,d);case 4:return Oe(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=_l(l,null,m,d):Qn(a,l,m,d),l.child;case 11:return qI(a,l,l.type,l.pendingProps,d);case 7:return Qn(a,l,l.pendingProps,d),l.child;case 8:return Qn(a,l,l.pendingProps.children,d),l.child;case 12:return Qn(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,Xa(l,l.type,m.value),Qn(a,l,m.children,d),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,ml(l),b=Xn(b),m=m(b),l.flags|=1,Qn(a,l,m,d),l.child;case 14:return jI(a,l,l.type,l.pendingProps,d);case 15:return HI(a,l,l.type,l.pendingProps,d);case 19:return ZI(a,l,d);case 31:return z9(a,l,d);case 22:return GI(a,l,d,l.pendingProps);case 24:return ml(l),m=Xn(vn),a===null?(b=z0(),b===null&&(b=Dt,T=B0(),b.pooledCache=T,T.refCount++,T!==null&&(b.pooledCacheLanes|=d),b=T),l.memoizedState={parent:m,cache:b},j0(l),Xa(l,vn,b)):((a.lanes&d)!==0&&(H0(a,l),$f(l,null,null,d),Gf()),b=a.memoizedState,T=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Xa(l,vn,m)):(m=T.cache,Xa(l,vn,m),m!==b.cache&&U0(l,[vn],d,!0))),Qn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ia(a){a.flags|=4}function A_(a,l,d,m,b){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(CP())a.flags|=8192;else throw vl=Vp,q0}else a.flags&=-16777217}function tP(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gR(l))if(CP())a.flags|=8192;else throw vl=Vp,q0}function em(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?ap():536870912,a.lanes|=l,$u|=l)}function Qf(a,l){if(!at)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Ft(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function j9(a,l,d){var m=l.pendingProps;switch(D0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Ft(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ea(vn),ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Du(l)?ia(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,k0())),Ft(l),null;case 26:var b=l.type,T=l.memoizedState;return a===null?(ia(l),T!==null?(Ft(l),tP(l,T)):(Ft(l),A_(l,b,null,m,d))):T?T!==a.memoizedState?(ia(l),Ft(l),tP(l,T)):(Ft(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&ia(l),Ft(l),A_(l,b,a,m,d)),null;case 27:if(Ce(l),d=be.current,b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}a=ce.current,Du(l)?O1(l):(a=lR(b,m,d),l.stateNode=a,ia(l))}return Ft(l),null;case 5:if(Ce(l),b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}if(T=ce.current,Du(l))O1(l);else{var P=mm(be.current);switch(T){case 1:T=P.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:T=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":T=P.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":T=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":T=P.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?P.createElement(b,{is:m.is}):P.createElement(b)}}T[mn]=l,T[Vn]=m;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)T.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=T;e:switch(Zn(T,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ia(l)}}return Ft(l),A_(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&ia(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=be.current,Du(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,b=Jn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[mn]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||XP(a.nodeValue,d)),a||Ja(l,!0)}else a=mm(a).createTextNode(m),a[mn]=l,l.stateNode=a}return Ft(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=Du(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[mn]=l}else hl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),a=!1}else d=k0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(jr(l),l):(jr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ft(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Du(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[mn]=l}else hl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),b=!1}else b=k0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(jr(l),l):(jr(l),null)}return jr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==b&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),em(l,l.updateQueue),Ft(l),null);case 4:return ie(),a===null&&K_(l.stateNode.containerInfo),Ft(l),null;case 10:return ea(l.type),Ft(l),null;case 19:if(J(fn),m=l.memoizedState,m===null)return Ft(l),null;if(b=(l.flags&128)!==0,T=m.rendering,T===null)if(b)Qf(m,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(T=zp(a),T!==null){for(l.flags|=128,Qf(m,!1),a=T.updateQueue,l.updateQueue=a,em(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)P1(d,a),d=d.sibling;return le(fn,fn.current&1|2),at&&Qo(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&sn()>om&&(l.flags|=128,b=!0,Qf(m,!1),l.lanes=4194304)}else{if(!b)if(a=zp(T),a!==null){if(l.flags|=128,b=!0,a=a.updateQueue,l.updateQueue=a,em(l,a),Qf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!at)return Ft(l),null}else 2*sn()-m.renderingStartTime>om&&d!==536870912&&(l.flags|=128,b=!0,Qf(m,!1),l.lanes=4194304);m.isBackwards?(T.sibling=l.child,l.child=T):(a=m.last,a!==null?a.sibling=T:l.child=T,m.last=T)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=sn(),a.sibling=null,d=fn.current,le(fn,b?d&1|2:d&1),at&&Qo(l,m.treeForkCount),a):(Ft(l),null);case 22:case 23:return jr(l),Y0(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),d=l.updateQueue,d!==null&&em(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&J(gl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ea(vn),Ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function H9(a,l){switch(D0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ea(vn),ie(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(jr(l),l.alternate===null)throw Error(r(340));hl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(jr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));hl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return J(fn),null;case 4:return ie(),null;case 10:return ea(l.type),null;case 22:case 23:return jr(l),Y0(),a!==null&&J(gl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ea(vn),null;case 25:return null;default:return null}}function nP(a,l){switch(D0(l),l.tag){case 3:ea(vn),ie();break;case 26:case 27:case 5:Ce(l);break;case 4:ie();break;case 31:l.memoizedState!==null&&jr(l);break;case 13:jr(l);break;case 19:J(fn);break;case 10:ea(l.type);break;case 22:case 23:jr(l),Y0(),a!==null&&J(gl);break;case 24:ea(vn)}}function Zf(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){m=void 0;var T=d.create,P=d.inst;m=T(),P.destroy=m}d=d.next}while(d!==b)}}catch(q){wt(l,l.return,q)}}function rs(a,l,d){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var T=b.next;m=T;do{if((m.tag&a)===a){var P=m.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,b=l;var K=d,te=q;try{te()}catch(ue){wt(b,K,ue)}}}m=m.next}while(m!==T)}}catch(ue){wt(l,l.return,ue)}}function rP(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{K1(l,d)}catch(m){wt(a,a.return,m)}}}function iP(a,l,d){d.props=El(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){wt(a,l,m)}}function ed(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(b){wt(a,l,b)}}function To(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){wt(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){wt(a,l,b)}else d.current=null}function oP(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){wt(a,a.return,b)}}function x_(a,l,d){try{var m=a.stateNode;dH(m,a.type,d,l),m[Vn]=l}catch(b){wt(a,a.return,b)}}function aP(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&cs(a.type)||a.tag===4}function C_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||aP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&cs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function I_(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mi));else if(m!==4&&(m===27&&cs(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(I_(a,l,d),a=a.sibling;a!==null;)I_(a,l,d),a=a.sibling}function tm(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&cs(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(tm(a,l,d),a=a.sibling;a!==null;)tm(a,l,d),a=a.sibling}function sP(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Zn(l,m,d),l[mn]=a,l[Vn]=d}catch(T){wt(a,a.return,T)}}var oa=!1,En=!1,P_=!1,lP=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function G9(a,l){if(a=a.containerInfo,J_=Tm,a=b1(a),T0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var P=0,q=-1,K=-1,te=0,ue=0,pe=a,re=null;t:for(;;){for(var se;pe!==d||b!==0&&pe.nodeType!==3||(q=P+b),pe!==T||m!==0&&pe.nodeType!==3||(K=P+m),pe.nodeType===3&&(P+=pe.nodeValue.length),(se=pe.firstChild)!==null;)re=pe,pe=se;for(;;){if(pe===a)break t;if(re===d&&++te===b&&(q=P),re===T&&++ue===m&&(K=P),(se=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=se}d=q===-1||K===-1?null:{start:q,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(X_={focusedElem:a,selectionRange:d},Tm=!1,Bn=l;Bn!==null;)if(l=Bn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Bn=a;else for(;Bn!==null;){switch(l=Bn,T=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,d=l,b=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Ne=El(d.type,b);a=m.getSnapshotBeforeUpdate(Ne,T),m.__reactInternalSnapshotBeforeUpdate=a}catch(Fe){wt(d,d.return,Fe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)eb(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":eb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Bn=a;break}Bn=l.return}}function uP(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:sa(a,d),m&4&&Zf(5,d);break;case 1:if(sa(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(P){wt(d,d.return,P)}else{var b=El(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){wt(d,d.return,P)}}m&64&&rP(d),m&512&&ed(d,d.return);break;case 3:if(sa(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{K1(a,l)}catch(P){wt(d,d.return,P)}}break;case 27:l===null&&m&4&&sP(d);case 26:case 5:sa(a,d),l===null&&m&4&&oP(d),m&512&&ed(d,d.return);break;case 12:sa(a,d);break;case 31:sa(a,d),m&4&&dP(a,d);break;case 13:sa(a,d),m&4&&hP(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=eH.bind(null,d),bH(a,d))));break;case 22:if(m=d.memoizedState!==null||oa,!m){l=l!==null&&l.memoizedState!==null||En,b=oa;var T=En;oa=m,(En=l)&&!T?la(a,d,(d.subtreeFlags&8772)!==0):sa(a,d),oa=b,En=T}break;case 30:break;default:sa(a,d)}}function cP(a){var l=a.alternate;l!==null&&(a.alternate=null,cP(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&gu(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Rr=!1;function aa(a,l,d){for(d=d.child;d!==null;)fP(a,l,d),d=d.sibling}function fP(a,l,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(ln,d)}catch{}switch(d.tag){case 26:En||To(d,l),aa(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:En||To(d,l);var m=$t,b=Rr;cs(d.type)&&($t=d.stateNode,Rr=!1),aa(a,l,d),ud(d.stateNode),$t=m,Rr=b;break;case 5:En||To(d,l);case 6:if(m=$t,b=Rr,$t=null,aa(a,l,d),$t=m,Rr=b,$t!==null)if(Rr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(d.stateNode)}catch(T){wt(d,l,T)}else try{$t.removeChild(d.stateNode)}catch(T){wt(d,l,T)}break;case 18:$t!==null&&(Rr?(a=$t,rR(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),ec(a)):rR($t,d.stateNode));break;case 4:m=$t,b=Rr,$t=d.stateNode.containerInfo,Rr=!0,aa(a,l,d),$t=m,Rr=b;break;case 0:case 11:case 14:case 15:rs(2,d,l),En||rs(4,d,l),aa(a,l,d);break;case 1:En||(To(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&iP(d,l,m)),aa(a,l,d);break;case 21:aa(a,l,d);break;case 22:En=(m=En)||d.memoizedState!==null,aa(a,l,d),En=m;break;default:aa(a,l,d)}}function dP(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ec(a)}catch(d){wt(l,l.return,d)}}}function hP(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ec(a)}catch(d){wt(l,l.return,d)}}function $9(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new lP),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new lP),l;default:throw Error(r(435,a.tag))}}function nm(a,l){var d=$9(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var b=tH.bind(null,a,m);m.then(b,b)}})}function Mr(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],T=a,P=l,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(cs(q.type)){$t=q.stateNode,Rr=!1;break e}break;case 5:$t=q.stateNode,Rr=!1;break e;case 3:case 4:$t=q.stateNode.containerInfo,Rr=!0;break e}q=q.return}if($t===null)throw Error(r(160));fP(T,P,b),$t=null,Rr=!1,T=b.alternate,T!==null&&(T.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)pP(l,a),l=l.sibling}var Vi=null;function pP(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mr(l,a),Nr(a),m&4&&(rs(3,a,a.return),Zf(3,a),rs(5,a,a.return));break;case 1:Mr(l,a),Nr(a),m&512&&(En||d===null||To(d,d.return)),m&64&&oa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=Vi;if(Mr(l,a),Nr(a),m&512&&(En||d===null||To(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":T=b.getElementsByTagName("title")[0],(!T||T[so]||T[mn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=b.createElement(m),b.head.insertBefore(T,b.querySelector("head > title"))),Zn(T,m,d),T[mn]=a,gn(T),m=T;break e;case"link":var P=pR("link","href",b).get(m+(d.href||""));if(P){for(var q=0;q<P.length;q++)if(T=P[q],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(q,1);break t}}T=b.createElement(m),Zn(T,m,d),b.head.appendChild(T);break;case"meta":if(P=pR("meta","content",b).get(m+(d.content||""))){for(q=0;q<P.length;q++)if(T=P[q],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(q,1);break t}}T=b.createElement(m),Zn(T,m,d),b.head.appendChild(T);break;default:throw Error(r(468,m))}T[mn]=a,gn(T),m=T}a.stateNode=m}else mR(b,a.type,a.stateNode);else a.stateNode=hR(b,m,a.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?mR(b,a.type,a.stateNode):hR(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&x_(a,a.memoizedProps,d.memoizedProps)}break;case 27:Mr(l,a),Nr(a),m&512&&(En||d===null||To(d,d.return)),d!==null&&m&4&&x_(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Mr(l,a),Nr(a),m&512&&(En||d===null||To(d,d.return)),a.flags&32){b=a.stateNode;try{Pr(b,"")}catch(Ne){wt(a,a.return,Ne)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,x_(a,b,d!==null?d.memoizedProps:b)),m&1024&&(P_=!0);break;case 6:if(Mr(l,a),Nr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Ne){wt(a,a.return,Ne)}}break;case 3:if(vm=null,b=Vi,Vi=gm(l.containerInfo),Mr(l,a),Vi=b,Nr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ec(l.containerInfo)}catch(Ne){wt(a,a.return,Ne)}P_&&(P_=!1,mP(a));break;case 4:m=Vi,Vi=gm(a.stateNode.containerInfo),Mr(l,a),Nr(a),Vi=m;break;case 12:Mr(l,a),Nr(a);break;case 31:Mr(l,a),Nr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,nm(a,m)));break;case 13:Mr(l,a),Nr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(im=sn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,nm(a,m)));break;case 22:b=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,te=oa,ue=En;if(oa=te||b,En=ue||K,Mr(l,a),En=ue,oa=te,Nr(a),m&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||K||oa||En||Tl(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(T=K.stateNode,b)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=K.stateNode;var pe=K.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;q.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ne){wt(K,K.return,Ne)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Ne){wt(K,K.return,Ne)}}}else if(l.tag===18){if(d===null){K=l;try{var se=K.stateNode;b?iR(se,!0):iR(K.stateNode,!1)}catch(Ne){wt(K,K.return,Ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,nm(a,d))));break;case 19:Mr(l,a),Nr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,nm(a,m)));break;case 30:break;case 21:break;default:Mr(l,a),Nr(a)}}function Nr(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(aP(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,T=C_(a);tm(a,T,b);break;case 5:var P=d.stateNode;d.flags&32&&(Pr(P,""),d.flags&=-33);var q=C_(a);tm(a,q,P);break;case 3:case 4:var K=d.stateNode.containerInfo,te=C_(a);I_(a,te,K);break;default:throw Error(r(161))}}catch(ue){wt(a,a.return,ue)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function mP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;mP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function sa(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)uP(a,l.alternate,l),l=l.sibling}function Tl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:rs(4,l,l.return),Tl(l);break;case 1:To(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&iP(l,l.return,d),Tl(l);break;case 27:ud(l.stateNode);case 26:case 5:To(l,l.return),Tl(l);break;case 22:l.memoizedState===null&&Tl(l);break;case 30:Tl(l);break;default:Tl(l)}a=a.sibling}}function la(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=a,T=l,P=T.flags;switch(T.tag){case 0:case 11:case 15:la(b,T,d),Zf(4,T);break;case 1:if(la(b,T,d),m=T,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(te){wt(m,m.return,te)}if(m=T,b=m.updateQueue,b!==null){var q=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)$1(K[b],q)}catch(te){wt(m,m.return,te)}}d&&P&64&&rP(T),ed(T,T.return);break;case 27:sP(T);case 26:case 5:la(b,T,d),d&&m===null&&P&4&&oP(T),ed(T,T.return);break;case 12:la(b,T,d);break;case 31:la(b,T,d),d&&P&4&&dP(b,T);break;case 13:la(b,T,d),d&&P&4&&hP(b,T);break;case 22:T.memoizedState===null&&la(b,T,d),ed(T,T.return);break;case 30:break;default:la(b,T,d)}l=l.sibling}}function R_(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ff(d))}function M_(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ff(a))}function Ui(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gP(a,l,d,m),l=l.sibling}function gP(a,l,d,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Ui(a,l,d,m),b&2048&&Zf(9,l);break;case 1:Ui(a,l,d,m);break;case 3:Ui(a,l,d,m),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ff(a)));break;case 12:if(b&2048){Ui(a,l,d,m),a=l.stateNode;try{var T=l.memoizedProps,P=T.id,q=T.onPostCommit;typeof q=="function"&&q(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){wt(l,l.return,K)}}else Ui(a,l,d,m);break;case 31:Ui(a,l,d,m);break;case 13:Ui(a,l,d,m);break;case 23:break;case 22:T=l.stateNode,P=l.alternate,l.memoizedState!==null?T._visibility&2?Ui(a,l,d,m):td(a,l):T._visibility&2?Ui(a,l,d,m):(T._visibility|=2,ju(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),b&2048&&R_(P,l);break;case 24:Ui(a,l,d,m),b&2048&&M_(l.alternate,l);break;default:Ui(a,l,d,m)}}function ju(a,l,d,m,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=a,P=l,q=d,K=m,te=P.flags;switch(P.tag){case 0:case 11:case 15:ju(T,P,q,K,b),Zf(8,P);break;case 23:break;case 22:var ue=P.stateNode;P.memoizedState!==null?ue._visibility&2?ju(T,P,q,K,b):td(T,P):(ue._visibility|=2,ju(T,P,q,K,b)),b&&te&2048&&R_(P.alternate,P);break;case 24:ju(T,P,q,K,b),b&&te&2048&&M_(P.alternate,P);break;default:ju(T,P,q,K,b)}l=l.sibling}}function td(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,b=m.flags;switch(m.tag){case 22:td(d,m),b&2048&&R_(m.alternate,m);break;case 24:td(d,m),b&2048&&M_(m.alternate,m);break;default:td(d,m)}l=l.sibling}}var nd=8192;function Hu(a,l,d){if(a.subtreeFlags&nd)for(a=a.child;a!==null;)yP(a,l,d),a=a.sibling}function yP(a,l,d){switch(a.tag){case 26:Hu(a,l,d),a.flags&nd&&a.memoizedState!==null&&NH(d,Vi,a.memoizedState,a.memoizedProps);break;case 5:Hu(a,l,d);break;case 3:case 4:var m=Vi;Vi=gm(a.stateNode.containerInfo),Hu(a,l,d),Vi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=nd,nd=16777216,Hu(a,l,d),nd=m):Hu(a,l,d));break;default:Hu(a,l,d)}}function vP(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function rd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Bn=m,bP(m,a)}vP(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_P(a),a=a.sibling}function _P(a){switch(a.tag){case 0:case 11:case 15:rd(a),a.flags&2048&&rs(9,a,a.return);break;case 3:rd(a);break;case 12:rd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,rm(a)):rd(a);break;default:rd(a)}}function rm(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Bn=m,bP(m,a)}vP(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:rs(8,l,l.return),rm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,rm(l));break;default:rm(l)}a=a.sibling}}function bP(a,l){for(;Bn!==null;){var d=Bn;switch(d.tag){case 0:case 11:case 15:rs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ff(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Bn=m;else e:for(d=a;Bn!==null;){m=Bn;var b=m.sibling,T=m.return;if(cP(m),m===d){Bn=null;break e}if(b!==null){b.return=T,Bn=b;break e}Bn=T}}}var K9={getCacheForType:function(a){var l=Xn(vn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return Xn(vn).controller.signal}},Y9=typeof WeakMap=="function"?WeakMap:Map,yt=0,Dt=null,Xe=null,et=0,St=0,Hr=null,is=!1,Gu=!1,N_=!1,ua=0,Zt=0,os=0,Sl=0,D_=0,Gr=0,$u=0,id=null,Dr=null,O_=!1,im=0,EP=0,om=1/0,am=null,as=null,In=0,ss=null,Ku=null,ca=0,k_=0,L_=null,TP=null,od=0,V_=null;function $r(){return(yt&2)!==0&&et!==0?et&-et:Q.T!==null?j_():sp()}function SP(){if(Gr===0)if((et&536870912)===0||at){var a=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),Gr=a}else Gr=536870912;return a=qr.current,a!==null&&(a.flags|=32),Gr}function Or(a,l,d){(a===Dt&&(St===2||St===9)||a.cancelPendingCommit!==null)&&(Yu(a,0),ls(a,et,Gr,!1)),Xs(a,d),((yt&2)===0||a!==Dt)&&(a===Dt&&((yt&2)===0&&(Sl|=d),Zt===4&&ls(a,et,Gr,!1)),So(a))}function wP(a,l,d){if((yt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Ii(a,l),b=m?X9(a,l):B_(a,l,!0),T=m;do{if(b===0){Gu&&!m&&ls(a,l,0,!1);break}else{if(d=a.current.alternate,T&&!W9(d)){b=B_(a,l,!1),T=!1;continue}if(b===2){if(T=l,a.errorRecoveryDisabledLanes&T)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var q=a;b=id;var K=q.current.memoizedState.isDehydrated;if(K&&(Yu(q,P).flags|=256),P=B_(q,P,!1),P!==2){if(N_&&!K){q.errorRecoveryDisabledLanes|=T,Sl|=T,b=4;break e}T=Dr,Dr=b,T!==null&&(Dr===null?Dr=T:Dr.push.apply(Dr,T))}b=P}if(T=!1,b!==2)continue}}if(b===1){Yu(a,0),ls(a,l,0,!0);break}e:{switch(m=a,T=b,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ls(m,l,Gr,!is);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=im+300-sn(),10<b)){if(ls(m,l,Gr,!is),io(m,0,!0)!==0)break e;ca=l,m.timeoutHandle=tR(AP.bind(null,m,d,Dr,am,O_,l,Gr,Sl,$u,is,T,"Throttled",-0,0),b);break e}AP(m,d,Dr,am,O_,l,Gr,Sl,$u,is,T,null,-0,0)}}break}while(!0);So(a)}function AP(a,l,d,m,b,T,P,q,K,te,ue,pe,re,se){if(a.timeoutHandle=-1,pe=l.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},yP(l,T,pe);var Ne=(T&62914560)===T?im-sn():(T&4194048)===T?EP-sn():0;if(Ne=DH(pe,Ne),Ne!==null){ca=T,a.cancelPendingCommit=Ne(DP.bind(null,a,l,T,d,m,b,P,q,K,ue,pe,null,re,se)),ls(a,T,P,!te);return}}DP(a,l,T,d,m,b,P,q,K)}function W9(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],T=b.getSnapshot;b=b.value;try{if(!Fr(T(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ls(a,l,d,m){l&=~D_,l&=~Sl,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var b=l;0<b;){var T=31-un(b),P=1<<T;m[T]=-1,b&=~P}d!==0&&Qs(a,d,l)}function sm(){return(yt&6)===0?(ad(0),!1):!0}function U_(){if(Xe!==null){if(St===0)var a=Xe.return;else a=Xe,Zo=pl=null,e_(a),Uu=null,qf=0,a=Xe;for(;a!==null;)nP(a.alternate,a),a=a.return;Xe=null}}function Yu(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,mH(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ca=0,U_(),Dt=a,Xe=d=Xo(a.current,null),et=l,St=0,Hr=null,is=!1,Gu=Ii(a,l),N_=!1,$u=Gr=D_=Sl=os=Zt=0,Dr=id=null,O_=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var b=31-un(m),T=1<<b;l|=a[b],m&=~T}return ua=l,Ip(),d}function xP(a,l){We=null,Q.H=Jf,l===Vu||l===Lp?(l=q1(),St=3):l===q0?(l=q1(),St=4):St=l===g_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hr=l,Xe===null&&(Zt=1,Jp(a,oi(l,a.current)))}function CP(){var a=qr.current;return a===null?!0:(et&4194048)===et?ui===null:(et&62914560)===et||(et&536870912)!==0?a===ui:!1}function IP(){var a=Q.H;return Q.H=Jf,a===null?Jf:a}function PP(){var a=Q.A;return Q.A=K9,a}function lm(){Zt=4,is||(et&4194048)!==et&&qr.current!==null||(Gu=!0),(os&134217727)===0&&(Sl&134217727)===0||Dt===null||ls(Dt,et,Gr,!1)}function B_(a,l,d){var m=yt;yt|=2;var b=IP(),T=PP();(Dt!==a||et!==l)&&(am=null,Yu(a,l)),l=!1;var P=Zt;e:do try{if(St!==0&&Xe!==null){var q=Xe,K=Hr;switch(St){case 8:U_(),P=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(l=!0);var te=St;if(St=0,Hr=null,Wu(a,q,K,te),d&&Gu){P=0;break e}break;default:te=St,St=0,Hr=null,Wu(a,q,K,te)}}J9(),P=Zt;break}catch(ue){xP(a,ue)}while(!0);return l&&a.shellSuspendCounter++,Zo=pl=null,yt=m,Q.H=b,Q.A=T,Xe===null&&(Dt=null,et=0,Ip()),P}function J9(){for(;Xe!==null;)RP(Xe)}function X9(a,l){var d=yt;yt|=2;var m=IP(),b=PP();Dt!==a||et!==l?(am=null,om=sn()+500,Yu(a,l)):Gu=Ii(a,l);e:do try{if(St!==0&&Xe!==null){l=Xe;var T=Hr;t:switch(St){case 1:St=0,Hr=null,Wu(a,l,T,1);break;case 2:case 9:if(F1(T)){St=0,Hr=null,MP(l);break}l=function(){St!==2&&St!==9||Dt!==a||(St=7),So(a)},T.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:F1(T)?(St=0,Hr=null,MP(l)):(St=0,Hr=null,Wu(a,l,T,7));break;case 5:var P=null;switch(Xe.tag){case 26:P=Xe.memoizedState;case 5:case 27:var q=Xe;if(P?gR(P):q.stateNode.complete){St=0,Hr=null;var K=q.sibling;if(K!==null)Xe=K;else{var te=q.return;te!==null?(Xe=te,um(te)):Xe=null}break t}}St=0,Hr=null,Wu(a,l,T,5);break;case 6:St=0,Hr=null,Wu(a,l,T,6);break;case 8:U_(),Zt=6;break e;default:throw Error(r(462))}}Q9();break}catch(ue){xP(a,ue)}while(!0);return Zo=pl=null,Q.H=m,Q.A=b,yt=d,Xe!==null?0:(Dt=null,et=0,Ip(),Zt)}function Q9(){for(;Xe!==null&&!$o();)RP(Xe)}function RP(a){var l=eP(a.alternate,a,ua);a.memoizedProps=a.pendingProps,l===null?um(a):Xe=l}function MP(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=YI(d,l,l.pendingProps,l.type,void 0,et);break;case 11:l=YI(d,l,l.pendingProps,l.type.render,l.ref,et);break;case 5:e_(l);default:nP(d,l),l=Xe=P1(l,ua),l=eP(d,l,ua)}a.memoizedProps=a.pendingProps,l===null?um(a):Xe=l}function Wu(a,l,d,m){Zo=pl=null,e_(l),Uu=null,qf=0;var b=l.return;try{if(F9(a,b,l,d,et)){Zt=1,Jp(a,oi(d,a.current)),Xe=null;return}}catch(T){if(b!==null)throw Xe=b,T;Zt=1,Jp(a,oi(d,a.current)),Xe=null;return}l.flags&32768?(at||m===1?a=!0:Gu||(et&536870912)!==0?a=!1:(is=a=!0,(m===2||m===9||m===3||m===6)&&(m=qr.current,m!==null&&m.tag===13&&(m.flags|=16384))),NP(l,a)):um(l)}function um(a){var l=a;do{if((l.flags&32768)!==0){NP(l,is);return}a=l.return;var d=j9(l.alternate,l,ua);if(d!==null){Xe=d;return}if(l=l.sibling,l!==null){Xe=l;return}Xe=l=a}while(l!==null);Zt===0&&(Zt=5)}function NP(a,l){do{var d=H9(a.alternate,a);if(d!==null){d.flags&=32767,Xe=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Xe=a;return}Xe=a=d}while(a!==null);Zt=6,Xe=null}function DP(a,l,d,m,b,T,P,q,K){a.cancelPendingCommit=null;do cm();while(In!==0);if((yt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=C0,v0(a,d,T,P,q,K),a===Dt&&(Xe=Dt=null,et=0),Ku=l,ss=a,ca=d,k_=T,L_=b,TP=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nH(He,function(){return UP(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null,b=oe.p,oe.p=2,P=yt,yt|=4;try{G9(a,l,d)}finally{yt=P,oe.p=b,Q.T=m}}In=1,OP(),kP(),LP()}}function OP(){if(In===1){In=0;var a=ss,l=Ku,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var m=oe.p;oe.p=2;var b=yt;yt|=4;try{pP(l,a);var T=X_,P=b1(a.containerInfo),q=T.focusedElem,K=T.selectionRange;if(P!==q&&q&&q.ownerDocument&&_1(q.ownerDocument.documentElement,q)){if(K!==null&&T0(q)){var te=K.start,ue=K.end;if(ue===void 0&&(ue=te),"selectionStart"in q)q.selectionStart=te,q.selectionEnd=Math.min(ue,q.value.length);else{var pe=q.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var se=re.getSelection(),Ne=q.textContent.length,Fe=Math.min(K.start,Ne),Mt=K.end===void 0?Fe:Math.min(K.end,Ne);!se.extend&&Fe>Mt&&(P=Mt,Mt=Fe,Fe=P);var X=v1(q,Fe),W=v1(q,Mt);if(X&&W&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var ee=pe.createRange();ee.setStart(X.node,X.offset),se.removeAllRanges(),Fe>Mt?(se.addRange(ee),se.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),se.addRange(ee))}}}}for(pe=[],se=q;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<pe.length;q++){var de=pe[q];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Tm=!!J_,X_=J_=null}finally{yt=b,oe.p=m,Q.T=d}}a.current=l,In=2}}function kP(){if(In===2){In=0;var a=ss,l=Ku,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var m=oe.p;oe.p=2;var b=yt;yt|=4;try{uP(a,l.alternate,l)}finally{yt=b,oe.p=m,Q.T=d}}In=3}}function LP(){if(In===4||In===3){In=0,Ua();var a=ss,l=Ku,d=ca,m=TP;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,Ku=ss=null,VP(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(as=null),Ko(d),l=l.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(ln,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=Q.T,b=oe.p,oe.p=2,Q.T=null;try{for(var T=a.onRecoverableError,P=0;P<m.length;P++){var q=m[P];T(q.value,{componentStack:q.stack})}}finally{Q.T=l,oe.p=b}}(ca&3)!==0&&cm(),So(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===V_?od++:(od=0,V_=a):od=0,ad(0)}}function VP(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Ff(l)))}function cm(){return OP(),kP(),LP(),UP()}function UP(){if(In!==5)return!1;var a=ss,l=k_;k_=0;var d=Ko(ca),m=Q.T,b=oe.p;try{oe.p=32>d?32:d,Q.T=null,d=L_,L_=null;var T=ss,P=ca;if(In=0,Ku=ss=null,ca=0,(yt&6)!==0)throw Error(r(331));var q=yt;if(yt|=4,_P(T.current),gP(T,T.current,P,d),yt=q,ad(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(ln,T)}catch{}return!0}finally{oe.p=b,Q.T=m,VP(a,l)}}function BP(a,l,d){l=oi(d,l),l=m_(a.stateNode,l,2),a=es(a,l,2),a!==null&&(Xs(a,2),So(a))}function wt(a,l,d){if(a.tag===3)BP(a,a,d);else for(;l!==null;){if(l.tag===3){BP(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))){a=oi(d,a),d=FI(2),m=es(l,d,2),m!==null&&(zI(d,m,l,a),Xs(m,2),So(m));break}}l=l.return}}function F_(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new Y9;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(d)||(N_=!0,b.add(d),a=Z9.bind(null,a,l,d),l.then(a,a))}function Z9(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Dt===a&&(et&d)===d&&(Zt===4||Zt===3&&(et&62914560)===et&&300>sn()-im?(yt&2)===0&&Yu(a,0):D_|=d,$u===et&&($u=0)),So(a)}function FP(a,l){l===0&&(l=ap()),a=fl(a,l),a!==null&&(Xs(a,l),So(a))}function eH(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),FP(a,d)}function tH(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),FP(a,d)}function nH(a,l){return ct(a,l)}var fm=null,Ju=null,z_=!1,dm=!1,q_=!1,us=0;function So(a){a!==Ju&&a.next===null&&(Ju===null?fm=Ju=a:Ju=Ju.next=a),dm=!0,z_||(z_=!0,iH())}function ad(a,l){if(!q_&&dm){q_=!0;do for(var d=!1,m=fm;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var T=0;else{var P=m.suspendedLanes,q=m.pingedLanes;T=(1<<31-un(42|a)+1)-1,T&=b&~(P&~q),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,HP(m,T))}else T=et,T=io(m,m===Dt?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Ii(m,T)||(d=!0,HP(m,T));m=m.next}while(d);q_=!1}}function rH(){zP()}function zP(){dm=z_=!1;var a=0;us!==0&&pH()&&(a=us);for(var l=sn(),d=null,m=fm;m!==null;){var b=m.next,T=qP(m,l);T===0?(m.next=null,d===null?fm=b:d.next=b,b===null&&(Ju=d)):(d=m,(a!==0||(T&3)!==0)&&(dm=!0)),m=b}In!==0&&In!==5||ad(a),us!==0&&(us=0)}function qP(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var P=31-un(T),q=1<<P,K=b[P];K===-1?((q&d)===0||(q&m)!==0)&&(b[P]=y0(q,l)):K<=l&&(a.expiredLanes|=q),T&=~q}if(l=Dt,d=et,d=io(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(St===2||St===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Qr(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Ii(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&Qr(m),Ko(d)){case 2:case 8:d=Me;break;case 32:d=He;break;case 268435456:d=ft;break;default:d=He}return m=jP.bind(null,a),d=ct(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&Qr(m),a.callbackPriority=2,a.callbackNode=null,2}function jP(a,l){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(cm()&&a.callbackNode!==d)return null;var m=et;return m=io(a,a===Dt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(wP(a,m,l),qP(a,sn()),a.callbackNode!=null&&a.callbackNode===d?jP.bind(null,a):null)}function HP(a,l){if(cm())return null;wP(a,l,!0)}function iH(){gH(function(){(yt&6)!==0?ct(to,rH):zP()})}function j_(){if(us===0){var a=ku;a===0&&(a=no,no<<=1,(no&261888)===0&&(no=256)),us=a}return us}function GP(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:bu(""+a)}function $P(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function oH(a,l,d,m,b){if(l==="submit"&&d&&d.stateNode===b){var T=GP((b[Vn]||null).action),P=m.submitter;P&&(l=(l=P[Vn]||null)?GP(l.formAction):P.getAttribute("formAction"),l!==null&&(T=l,P=null));var q=new go("action","action",null,m,b);a.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(us!==0){var K=P?$P(b,P):new FormData(b);u_(d,{pending:!0,data:K,method:b.method,action:T},null,K)}}else typeof T=="function"&&(q.preventDefault(),K=P?$P(b,P):new FormData(b),u_(d,{pending:!0,data:K,method:b.method,action:T},T,K))},currentTarget:b}]})}}for(var H_=0;H_<x0.length;H_++){var G_=x0[H_],aH=G_.toLowerCase(),sH=G_[0].toUpperCase()+G_.slice(1);Li(aH,"on"+sH)}Li(S1,"onAnimationEnd"),Li(w1,"onAnimationIteration"),Li(A1,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(S9,"onTransitionRun"),Li(w9,"onTransitionStart"),Li(A9,"onTransitionCancel"),Li(x1,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),co("onBeforeInput",["compositionend","keypress","textInput","paste"]),co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sd));function KP(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],b=m.event;m=m.listeners;e:{var T=void 0;if(l)for(var P=m.length-1;0<=P;P--){var q=m[P],K=q.instance,te=q.currentTarget;if(q=q.listener,K!==T&&b.isPropagationStopped())break e;T=q,b.currentTarget=te;try{T(b)}catch(ue){Cp(ue)}b.currentTarget=null,T=K}else for(P=0;P<m.length;P++){if(q=m[P],K=q.instance,te=q.currentTarget,q=q.listener,K!==T&&b.isPropagationStopped())break e;T=q,b.currentTarget=te;try{T(b)}catch(ue){Cp(ue)}b.currentTarget=null,T=K}}}}function Qe(a,l){var d=l[mu];d===void 0&&(d=l[mu]=new Set);var m=a+"__bubble";d.has(m)||(YP(l,a,2,!1),d.add(m))}function $_(a,l,d){var m=0;l&&(m|=4),YP(d,a,m,l)}var hm="_reactListening"+Math.random().toString(36).slice(2);function K_(a){if(!a[hm]){a[hm]=!0,_f.forEach(function(d){d!=="selectionchange"&&(lH.has(d)||$_(d,!1,a),$_(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[hm]||(l[hm]=!0,$_("selectionchange",!1,l))}}function YP(a,l,d,m){switch(SR(l)){case 2:var b=LH;break;case 8:b=VH;break;default:b=lb}d=b.bind(null,l,d,a),b=void 0,!rl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function Y_(a,l,d,m,b){var T=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var q=m.stateNode.containerInfo;if(q===b)break;if(P===4)for(P=m.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;q!==null;){if(P=lo(q),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){m=T=P;continue e}q=q.parentNode}}m=m.return}Ha(function(){var te=T,ue=ti(d),pe=[];e:{var re=C1.get(a);if(re!==void 0){var se=go,Ne=a;switch(a){case"keypress":if(ol(d)===0)break e;case"keydown":case"keyup":se=wp;break;case"focusin":Ne="focus",se=sl;break;case"focusout":Ne="blur",se=sl;break;case"beforeblur":case"afterblur":se=sl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=x;break;case S1:case w1:case A1:se=yp;break;case x1:se=G;break;case"scroll":case"scrollend":se=Mf;break;case"wheel":se=ae;break;case"copy":case"cut":case"paste":se=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Jo;break;case"toggle":case"beforetoggle":se=Ye}var Fe=(l&4)!==0,Mt=!Fe&&(a==="scroll"||a==="scrollend"),X=Fe?re!==null?re+"Capture":null:re;Fe=[];for(var W=te,ee;W!==null;){var de=W;if(ee=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ee===null||X===null||(de=Ni(W,X),de!=null&&Fe.push(ld(W,de,ee))),Mt)break;W=W.return}0<Fe.length&&(re=new se(re,Ne,null,d,ue),pe.push({event:re,listeners:Fe}))}}if((l&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",re&&d!==If&&(Ne=d.relatedTarget||d.fromElement)&&(lo(Ne)||Ne[ao]))break e;if((se||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Ne=d.relatedTarget||d.toElement,se=te,Ne=Ne?lo(Ne):null,Ne!==null&&(Mt=o(Ne),Fe=Ne.tag,Ne!==Mt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ne=null)):(se=null,Ne=te),se!==Ne)){if(Fe=Nf,de="onMouseLeave",X="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=Jo,de="onPointerLeave",X="onPointerEnter",W="pointer"),Mt=se==null?re:Ur(se),ee=Ne==null?re:Ur(Ne),re=new Fe(de,W+"leave",se,d,ue),re.target=Mt,re.relatedTarget=ee,de=null,lo(ue)===te&&(Fe=new Fe(X,W+"enter",Ne,d,ue),Fe.target=ee,Fe.relatedTarget=Mt,de=Fe),Mt=de,se&&Ne)t:{for(Fe=uH,X=se,W=Ne,ee=0,de=X;de;de=Fe(de))ee++;de=0;for(var Ue=W;Ue;Ue=Fe(Ue))de++;for(;0<ee-de;)X=Fe(X),ee--;for(;0<de-ee;)W=Fe(W),de--;for(;ee--;){if(X===W||W!==null&&X===W.alternate){Fe=X;break t}X=Fe(X),W=Fe(W)}Fe=null}else Fe=null;se!==null&&WP(pe,re,se,Fe,!1),Ne!==null&&Mt!==null&&WP(pe,Mt,Ne,Fe,!0)}}e:{if(re=te?Ur(te):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var dt=d1;else if(c1(re))if(h1)dt=b9;else{dt=v9;var ke=y9}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&_u(te.elementType)&&(dt=d1):dt=_9;if(dt&&(dt=dt(a,te))){f1(pe,dt,d,ue);break e}ke&&ke(a,re,te),a==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Af(re,"number",re.value)}switch(ke=te?Ur(te):window,a){case"focusin":(c1(ke)||ke.contentEditable==="true")&&(Cu=ke,S0=te,Vf=null);break;case"focusout":Vf=S0=Cu=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,E1(pe,d,ue);break;case"selectionchange":if(T9)break;case"keydown":case"keyup":E1(pe,d,ue)}var Je;if(gt)e:{switch(a){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else xu?ll(a,d)&&(tt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(tt="onCompositionStart");tt&&(_o&&d.locale!=="ko"&&(xu||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&xu&&(Je=Rf()):(mo=ue,Pf="value"in mo?mo.value:mo.textContent,xu=!0)),ke=pm(te,tt),0<ke.length&&(tt=new vo(tt,a,null,d,ue),pe.push({event:tt,listeners:ke}),Je?tt.data=Je:(Je=Au(d),Je!==null&&(tt.data=Je)))),(Je=ri?h9(a,d):p9(a,d))&&(tt=pm(te,"onBeforeInput"),0<tt.length&&(ke=new vo("onBeforeInput","beforeinput",null,d,ue),pe.push({event:ke,listeners:tt}),ke.data=Je)),oH(pe,a,te,d,ue)}KP(pe,l)})}function ld(a,l,d){return{instance:a,listener:l,currentTarget:d}}function pm(a,l){for(var d=l+"Capture",m=[];a!==null;){var b=a,T=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||T===null||(b=Ni(a,d),b!=null&&m.unshift(ld(a,b,T)),b=Ni(a,l),b!=null&&m.push(ld(a,b,T))),a.tag===3)return m;a=a.return}return[]}function uH(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function WP(a,l,d,m,b){for(var T=l._reactName,P=[];d!==null&&d!==m;){var q=d,K=q.alternate,te=q.stateNode;if(q=q.tag,K!==null&&K===m)break;q!==5&&q!==26&&q!==27||te===null||(K=te,b?(te=Ni(d,T),te!=null&&P.unshift(ld(d,te,K))):b||(te=Ni(d,T),te!=null&&P.push(ld(d,te,K)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var cH=/\r\n?/g,fH=/\u0000|\uFFFD/g;function JP(a){return(typeof a=="string"?a:""+a).replace(cH,`
`).replace(fH,"")}function XP(a,l){return l=JP(l),JP(a)===l}function Rt(a,l,d,m,b,T){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Pr(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Pr(a,""+m);break;case"className":Br(a,"class",m);break;case"tabIndex":Br(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(a,d,m);break;case"style":Cf(a,m,T);break;case"data":if(l!=="object"){Br(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=bu(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&Rt(a,l,"name",b.name,b,null),Rt(a,l,"formEncType",b.formEncType,b,null),Rt(a,l,"formMethod",b.formMethod,b,null),Rt(a,l,"formTarget",b.formTarget,b,null)):(Rt(a,l,"encType",b.encType,b,null),Rt(a,l,"method",b.method,b,null),Rt(a,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=bu(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Mi);break;case"onScroll":m!=null&&Qe("scroll",a);break;case"onScrollEnd":m!=null&&Qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=bu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":Qe("beforetoggle",a),Qe("toggle",a),yu(a,"popover",m);break;case"xlinkActuate":yn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":yn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":yn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":yn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":yn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":yn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":yn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":yn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":yn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":yu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=pp.get(d)||d,yu(a,d,m))}}function W_(a,l,d,m,b,T){switch(d){case"style":Cf(a,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Pr(a,m):(typeof m=="number"||typeof m=="bigint")&&Pr(a,""+m);break;case"onScroll":m!=null&&Qe("scroll",a);break;case"onScrollEnd":m!=null&&Qe("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),T=a[Vn]||null,T=T!=null?T[d]:null,typeof T=="function"&&a.removeEventListener(l,T,b),typeof m=="function")){typeof T!="function"&&T!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,b);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):yu(a,d,m)}}}function Zn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",a),Qe("load",a);var m=!1,b=!1,T;for(T in d)if(d.hasOwnProperty(T)){var P=d[T];if(P!=null)switch(T){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(a,l,T,P,d,null)}}b&&Rt(a,l,"srcSet",d.srcSet,d,null),m&&Rt(a,l,"src",d.src,d,null);return;case"input":Qe("invalid",a);var q=T=P=b=null,K=null,te=null;for(m in d)if(d.hasOwnProperty(m)){var ue=d[m];if(ue!=null)switch(m){case"name":b=ue;break;case"type":P=ue;break;case"checked":K=ue;break;case"defaultChecked":te=ue;break;case"value":T=ue;break;case"defaultValue":q=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:Rt(a,l,m,ue,d,null)}}fp(a,T,q,K,te,P,b,!1);return;case"select":Qe("invalid",a),m=P=T=null;for(b in d)if(d.hasOwnProperty(b)&&(q=d[b],q!=null))switch(b){case"value":T=q;break;case"defaultValue":P=q;break;case"multiple":m=q;default:Rt(a,l,b,q,d,null)}l=T,d=P,a.multiple=!!m,l!=null?Fa(a,!!m,l,!1):d!=null&&Fa(a,!!m,d,!0);return;case"textarea":Qe("invalid",a),T=b=m=null;for(P in d)if(d.hasOwnProperty(P)&&(q=d[P],q!=null))switch(P){case"value":m=q;break;case"defaultValue":b=q;break;case"children":T=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Rt(a,l,P,q,d,null)}za(a,m,b,T);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(m=d[K],m!=null))switch(K){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Rt(a,l,K,m,d,null)}return;case"dialog":Qe("beforetoggle",a),Qe("toggle",a),Qe("cancel",a),Qe("close",a);break;case"iframe":case"object":Qe("load",a);break;case"video":case"audio":for(m=0;m<sd.length;m++)Qe(sd[m],a);break;case"image":Qe("error",a),Qe("load",a);break;case"details":Qe("toggle",a);break;case"embed":case"source":case"link":Qe("error",a),Qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(m=d[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(a,l,te,m,d,null)}return;default:if(_u(l)){for(ue in d)d.hasOwnProperty(ue)&&(m=d[ue],m!==void 0&&W_(a,l,ue,m,d,void 0));return}}for(q in d)d.hasOwnProperty(q)&&(m=d[q],m!=null&&Rt(a,l,q,m,d,null))}function dH(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,T=null,P=null,q=null,K=null,te=null,ue=null;for(se in d){var pe=d[se];if(d.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":K=pe;default:m.hasOwnProperty(se)||Rt(a,l,se,null,m,pe)}}for(var re in m){var se=m[re];if(pe=d[re],m.hasOwnProperty(re)&&(se!=null||pe!=null))switch(re){case"type":T=se;break;case"name":b=se;break;case"checked":te=se;break;case"defaultChecked":ue=se;break;case"value":P=se;break;case"defaultValue":q=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:se!==pe&&Rt(a,l,re,se,m,pe)}}vu(a,P,q,K,te,ue,T,b);return;case"select":se=P=q=re=null;for(T in d)if(K=d[T],d.hasOwnProperty(T)&&K!=null)switch(T){case"value":break;case"multiple":se=K;default:m.hasOwnProperty(T)||Rt(a,l,T,null,m,K)}for(b in m)if(T=m[b],K=d[b],m.hasOwnProperty(b)&&(T!=null||K!=null))switch(b){case"value":re=T;break;case"defaultValue":q=T;break;case"multiple":P=T;default:T!==K&&Rt(a,l,b,T,m,K)}l=q,d=P,m=se,re!=null?Fa(a,!!d,re,!1):!!m!=!!d&&(l!=null?Fa(a,!!d,l,!0):Fa(a,!!d,d?[]:"",!1));return;case"textarea":se=re=null;for(q in d)if(b=d[q],d.hasOwnProperty(q)&&b!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Rt(a,l,q,null,m,b)}for(P in m)if(b=m[P],T=d[P],m.hasOwnProperty(P)&&(b!=null||T!=null))switch(P){case"value":re=b;break;case"defaultValue":se=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==T&&Rt(a,l,P,b,m,T)}dp(a,re,se);return;case"option":for(var Ne in d)if(re=d[Ne],d.hasOwnProperty(Ne)&&re!=null&&!m.hasOwnProperty(Ne))switch(Ne){case"selected":a.selected=!1;break;default:Rt(a,l,Ne,null,m,re)}for(K in m)if(re=m[K],se=d[K],m.hasOwnProperty(K)&&re!==se&&(re!=null||se!=null))switch(K){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Rt(a,l,K,re,m,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in d)re=d[Fe],d.hasOwnProperty(Fe)&&re!=null&&!m.hasOwnProperty(Fe)&&Rt(a,l,Fe,null,m,re);for(te in m)if(re=m[te],se=d[te],m.hasOwnProperty(te)&&re!==se&&(re!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:Rt(a,l,te,re,m,se)}return;default:if(_u(l)){for(var Mt in d)re=d[Mt],d.hasOwnProperty(Mt)&&re!==void 0&&!m.hasOwnProperty(Mt)&&W_(a,l,Mt,void 0,m,re);for(ue in m)re=m[ue],se=d[ue],!m.hasOwnProperty(ue)||re===se||re===void 0&&se===void 0||W_(a,l,ue,re,m,se);return}}for(var X in d)re=d[X],d.hasOwnProperty(X)&&re!=null&&!m.hasOwnProperty(X)&&Rt(a,l,X,null,m,re);for(pe in m)re=m[pe],se=d[pe],!m.hasOwnProperty(pe)||re===se||re==null&&se==null||Rt(a,l,pe,re,m,se)}function QP(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hH(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var b=d[m],T=b.transferSize,P=b.initiatorType,q=b.duration;if(T&&q&&QP(P)){for(P=0,q=b.responseEnd,m+=1;m<d.length;m++){var K=d[m],te=K.startTime;if(te>q)break;var ue=K.transferSize,pe=K.initiatorType;ue&&QP(pe)&&(K=K.responseEnd,P+=ue*(K<q?1:(q-te)/(K-te)))}if(--m,l+=8*(T+P)/(b.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var J_=null,X_=null;function mm(a){return a.nodeType===9?a:a.ownerDocument}function ZP(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eR(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Q_(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Z_=null;function pH(){var a=window.event;return a&&a.type==="popstate"?a===Z_?!1:(Z_=a,!0):(Z_=null,!1)}var tR=typeof setTimeout=="function"?setTimeout:void 0,mH=typeof clearTimeout=="function"?clearTimeout:void 0,nR=typeof Promise=="function"?Promise:void 0,gH=typeof queueMicrotask=="function"?queueMicrotask:typeof nR<"u"?function(a){return nR.resolve(null).then(a).catch(yH)}:tR;function yH(a){setTimeout(function(){throw a})}function cs(a){return a==="head"}function rR(a,l){var d=l,m=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(b),ec(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")ud(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,ud(d);for(var T=d.firstChild;T;){var P=T.nextSibling,q=T.nodeName;T[so]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=P}}else d==="body"&&ud(a.ownerDocument.body);d=b}while(d);ec(l)}function iR(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function eb(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":eb(d),gu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function vH(a,l,d,m){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[so])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var T=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=ci(a.nextSibling),a===null)break}return null}function _H(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=ci(a.nextSibling),a===null))return null;return a}function oR(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=ci(a.nextSibling),a===null))return null;return a}function tb(a){return a.data==="$?"||a.data==="$~"}function nb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bH(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ci(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var rb=null;function aR(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return ci(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function sR(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function lR(a,l,d){switch(l=mm(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ud(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);gu(a)}var fi=new Map,uR=new Set;function gm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fa=oe.d;oe.d={f:EH,r:TH,D:SH,C:wH,L:AH,m:xH,X:IH,S:CH,M:PH};function EH(){var a=fa.f(),l=sm();return a||l}function TH(a){var l=ei(a);l!==null&&l.tag===5&&l.type==="form"?xI(l):fa.r(a)}var Xu=typeof document>"u"?null:document;function cR(a,l,d){var m=Xu;if(m&&typeof l=="string"&&l){var b=Ir(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),uR.has(b)||(uR.add(b),a={rel:a,crossOrigin:d,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Zn(l,"link",a),gn(l),m.head.appendChild(l)))}}function SH(a){fa.D(a),cR("dns-prefetch",a,null)}function wH(a,l){fa.C(a,l),cR("preconnect",a,l)}function AH(a,l,d){fa.L(a,l,d);var m=Xu;if(m&&a&&l){var b='link[rel="preload"][as="'+Ir(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Ir(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Ir(d.imageSizes)+'"]')):b+='[href="'+Ir(a)+'"]';var T=b;switch(l){case"style":T=Qu(a);break;case"script":T=Zu(a)}fi.has(T)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),fi.set(T,a),m.querySelector(b)!==null||l==="style"&&m.querySelector(cd(T))||l==="script"&&m.querySelector(fd(T))||(l=m.createElement("link"),Zn(l,"link",a),gn(l),m.head.appendChild(l)))}}function xH(a,l){fa.m(a,l);var d=Xu;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Ir(m)+'"][href="'+Ir(a)+'"]',T=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Zu(a)}if(!fi.has(T)&&(a=p({rel:"modulepreload",href:a},l),fi.set(T,a),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fd(T)))return}m=d.createElement("link"),Zn(m,"link",a),gn(m),d.head.appendChild(m)}}}function CH(a,l,d){fa.S(a,l,d);var m=Xu;if(m&&a){var b=uo(m).hoistableStyles,T=Qu(a);l=l||"default";var P=b.get(T);if(!P){var q={loading:0,preload:null};if(P=m.querySelector(cd(T)))q.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=fi.get(T))&&ib(a,d);var K=P=m.createElement("link");gn(K),Zn(K,"link",a),K._p=new Promise(function(te,ue){K.onload=te,K.onerror=ue}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,ym(P,l,m)}P={type:"stylesheet",instance:P,count:1,state:q},b.set(T,P)}}}function IH(a,l){fa.X(a,l);var d=Xu;if(d&&a){var m=uo(d).hoistableScripts,b=Zu(a),T=m.get(b);T||(T=d.querySelector(fd(b)),T||(a=p({src:a,async:!0},l),(l=fi.get(b))&&ob(a,l),T=d.createElement("script"),gn(T),Zn(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(b,T))}}function PH(a,l){fa.M(a,l);var d=Xu;if(d&&a){var m=uo(d).hoistableScripts,b=Zu(a),T=m.get(b);T||(T=d.querySelector(fd(b)),T||(a=p({src:a,async:!0,type:"module"},l),(l=fi.get(b))&&ob(a,l),T=d.createElement("script"),gn(T),Zn(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(b,T))}}function fR(a,l,d,m){var b=(b=be.current)?gm(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Qu(d.href),d=uo(b).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Qu(d.href);var T=uo(b).hoistableStyles,P=T.get(a);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,P),(T=b.querySelector(cd(a)))&&!T._p&&(P.instance=T,P.state.loading=5),fi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},fi.set(a,d),T||RH(b,a,d,P.state))),l&&m===null)throw Error(r(528,""));return P}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zu(d),d=uo(b).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Qu(a){return'href="'+Ir(a)+'"'}function cd(a){return'link[rel="stylesheet"]['+a+"]"}function dR(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function RH(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Zn(l,"link",d),gn(l),a.head.appendChild(l))}function Zu(a){return'[src="'+Ir(a)+'"]'}function fd(a){return"script[async]"+a}function hR(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Ir(d.href)+'"]');if(m)return l.instance=m,gn(m),m;var b=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),gn(m),Zn(m,"style",b),ym(m,d.precedence,a),l.instance=m;case"stylesheet":b=Qu(d.href);var T=a.querySelector(cd(b));if(T)return l.state.loading|=4,l.instance=T,gn(T),T;m=dR(d),(b=fi.get(b))&&ib(m,b),T=(a.ownerDocument||a).createElement("link"),gn(T);var P=T;return P._p=new Promise(function(q,K){P.onload=q,P.onerror=K}),Zn(T,"link",m),l.state.loading|=4,ym(T,d.precedence,a),l.instance=T;case"script":return T=Zu(d.src),(b=a.querySelector(fd(T)))?(l.instance=b,gn(b),b):(m=d,(b=fi.get(T))&&(m=p({},d),ob(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),gn(b),Zn(b,"link",m),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,ym(m,d.precedence,a));return l.instance}function ym(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,T=b,P=0;P<m.length;P++){var q=m[P];if(q.dataset.precedence===l)T=q;else if(T!==b)break}T?T.parentNode.insertBefore(a,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function ib(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function ob(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var vm=null;function pR(a,l,d){if(vm===null){var m=new Map,b=vm=new Map;b.set(d,m)}else b=vm,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var T=d[b];if(!(T[so]||T[mn]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(l)||"";P=a+P;var q=m.get(P);q?q.push(T):m.set(P,[T])}}return m}function mR(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function MH(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gR(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function NH(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Qu(m.href),T=l.querySelector(cd(b));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=_m.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=T,gn(T);return}T=l.ownerDocument||l,m=dR(m),(b=fi.get(b))&&ib(m,b),T=T.createElement("link"),gn(T);var P=T;P._p=new Promise(function(q,K){P.onload=q,P.onerror=K}),Zn(T,"link",m),d.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=_m.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var ab=0;function DH(a,l){return a.stylesheets&&a.count===0&&Em(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Em(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+l);0<a.imgBytes&&ab===0&&(ab=62500*hH());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Em(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>ab?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function _m(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bm=null;function Em(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bm=new Map,l.forEach(OH,a),bm=null,_m.call(a))}function OH(a,l){if(!(l.state.loading&4)){var d=bm.get(a);if(d)var m=d.get(null);else{d=new Map,bm.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<b.length;T++){var P=b[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),m=P)}m&&d.set(null,m)}b=l.instance,P=b.getAttribute("data-precedence"),T=d.get(P)||m,T===m&&d.set(null,b),d.set(P,b),this.count++,m=_m.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),T?T.parentNode.insertBefore(b,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var dd={$$typeof:k,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function kH(a,l,d,m,b,T,P,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function yR(a,l,d,m,b,T,P,q,K,te,ue,pe){return a=new kH(a,l,d,P,K,te,ue,pe,q),l=1,T===!0&&(l|=24),T=zr(3,null,null,l),a.current=T,T.stateNode=a,l=B0(),l.refCount++,a.pooledCache=l,l.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:l},j0(T),a}function vR(a){return a?(a=Ru,a):Ru}function _R(a,l,d,m,b,T){b=vR(b),m.context===null?m.context=b:m.pendingContext=b,m=Za(l),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=es(a,m,l),d!==null&&(Or(d,a,l),Hf(d,a,l))}function bR(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function sb(a,l){bR(a,l),(a=a.alternate)&&bR(a,l)}function ER(a){if(a.tag===13||a.tag===31){var l=fl(a,67108864);l!==null&&Or(l,a,67108864),sb(a,67108864)}}function TR(a){if(a.tag===13||a.tag===31){var l=$r();l=Zs(l);var d=fl(a,l);d!==null&&Or(d,a,l),sb(a,l)}}var Tm=!0;function LH(a,l,d,m){var b=Q.T;Q.T=null;var T=oe.p;try{oe.p=2,lb(a,l,d,m)}finally{oe.p=T,Q.T=b}}function VH(a,l,d,m){var b=Q.T;Q.T=null;var T=oe.p;try{oe.p=8,lb(a,l,d,m)}finally{oe.p=T,Q.T=b}}function lb(a,l,d,m){if(Tm){var b=ub(m);if(b===null)Y_(a,l,m,Sm,d),wR(a,m);else if(BH(b,a,l,d,m))m.stopPropagation();else if(wR(a,m),l&4&&-1<UH.indexOf(a)){for(;b!==null;){var T=ei(b);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=ro(T.pendingLanes);if(P!==0){var q=T;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var K=1<<31-un(P);q.entanglements[1]|=K,P&=~K}So(T),(yt&6)===0&&(om=sn()+500,ad(0))}}break;case 31:case 13:q=fl(T,2),q!==null&&Or(q,T,2),sm(),sb(T,2)}if(T=ub(m),T===null&&Y_(a,l,m,Sm,d),T===b)break;b=T}b!==null&&m.stopPropagation()}else Y_(a,l,m,null,d)}}function ub(a){return a=ti(a),cb(a)}var Sm=null;function cb(a){if(Sm=null,a=lo(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Sm=a,null}function SR(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case to:return 2;case Me:return 8;case He:case ot:return 32;case ft:return 268435456;default:return 32}default:return 32}}var fb=!1,fs=null,ds=null,hs=null,hd=new Map,pd=new Map,ps=[],UH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wR(a,l){switch(a){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":hd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pd.delete(l.pointerId)}}function md(a,l,d,m,b,T){return a===null||a.nativeEvent!==T?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[b]},l!==null&&(l=ei(l),l!==null&&ER(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function BH(a,l,d,m,b){switch(l){case"focusin":return fs=md(fs,a,l,d,m,b),!0;case"dragenter":return ds=md(ds,a,l,d,m,b),!0;case"mouseover":return hs=md(hs,a,l,d,m,b),!0;case"pointerover":var T=b.pointerId;return hd.set(T,md(hd.get(T)||null,a,l,d,m,b)),!0;case"gotpointercapture":return T=b.pointerId,pd.set(T,md(pd.get(T)||null,a,l,d,m,b)),!0}return!1}function AR(a){var l=lo(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,Pi(a.priority,function(){TR(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,Pi(a.priority,function(){TR(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=ub(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);If=m,d.target.dispatchEvent(m),If=null}else return l=ei(d),l!==null&&ER(l),a.blockedOn=d,!1;l.shift()}return!0}function xR(a,l,d){wm(a)&&d.delete(l)}function FH(){fb=!1,fs!==null&&wm(fs)&&(fs=null),ds!==null&&wm(ds)&&(ds=null),hs!==null&&wm(hs)&&(hs=null),hd.forEach(xR),pd.forEach(xR)}function Am(a,l){a.blockedOn===l&&(a.blockedOn=null,fb||(fb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FH)))}var xm=null;function CR(a){xm!==a&&(xm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xm===a&&(xm=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=a[l+2];if(typeof m!="function"){if(cb(m||d)===null)continue;break}var T=ei(d);T!==null&&(a.splice(l,3),l-=3,u_(T,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function ec(a){function l(K){return Am(K,a)}fs!==null&&Am(fs,a),ds!==null&&Am(ds,a),hs!==null&&Am(hs,a),hd.forEach(l),pd.forEach(l);for(var d=0;d<ps.length;d++){var m=ps[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ps.length&&(d=ps[0],d.blockedOn===null);)AR(d),d.blockedOn===null&&ps.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],T=d[m+1],P=b[Vn]||null;if(typeof T=="function")P||CR(d);else if(P){var q=null;if(T&&T.hasAttribute("formAction")){if(b=T,P=T[Vn]||null)q=P.formAction;else if(cb(b)!==null)continue}else q=P.action;typeof q=="function"?d[m+1]=q:(d.splice(m,3),m-=3),CR(d)}}}function IR(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(P){return b=P})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function db(a){this._internalRoot=a}Cm.prototype.render=db.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=$r();_R(d,m,a,l,null,null)},Cm.prototype.unmount=db.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;_R(a.current,2,null,a,null,null),sm(),l[ao]=null}};function Cm(a){this._internalRoot=a}Cm.prototype.unstable_scheduleHydration=function(a){if(a){var l=sp();a={blockedOn:null,target:a,priority:l};for(var d=0;d<ps.length&&l!==0&&l<ps[d].priority;d++);ps.splice(d,0,a),d===0&&AR(a)}};var PR=e.version;if(PR!=="19.2.4")throw Error(r(527,PR,"19.2.4"));oe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var zH={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{ln=Im.inject(zH),Yn=Im}catch{}}return yd.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",b=LI,T=VI,P=UI;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=yR(a,1,!1,null,null,d,m,null,b,T,P,IR),a[ao]=l.current,K_(a),new db(l)},yd.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,b="",T=LI,P=VI,q=UI,K=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(q=d.onRecoverableError),d.formState!==void 0&&(K=d.formState)),l=yR(a,1,!0,l,d??null,m,b,K,T,P,q,IR),l.context=vR(null),d=l.current,m=$r(),m=Zs(m),b=Za(m),b.callback=null,es(d,b,m),d=m,l.current.lanes=d,Xs(l,d),So(l),a[ao]=l.current,K_(a),new Cm(l)},yd.version="19.2.4",yd}var BR;function eG(){if(BR)return gb.exports;BR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gb.exports=ZH(),gb.exports}var tG=eG();const nG=Ho(tG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=t=>{const e=iG(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...u},c)=>C.createElement("svg",{ref:c,...oG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YU("lucide",i),...!o&&!aG(u)&&{"aria-hidden":"true"},...u},[...s.map(([f,h])=>C.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=(t,e)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(sG,{ref:o,iconNode:e,className:YU(`lucide-${rG(FR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=FR(t),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fw=Cr("award",lG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WU=Cr("book-open",uG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],bb=Cr("brain",cG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],dG=Cr("chart-no-axes-column",fG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Eb=Cr("chevron-right",hG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DT=Cr("circle-check-big",pG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fd=Cr("circle-x",mG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yG=Cr("clock",gG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],JU=Cr("highlighter",vG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bG=Cr("key",_G);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TG=Cr("log-out",EG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],wG=Cr("map",SG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zR=Cr("message-circle",AG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CG=Cr("settings",xG);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qR=Cr("trophy",IG),PG="modulepreload",RG=function(t){return"/"+t},jR={},MG=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=s(n.map(f=>{if(f=RG(f),f in jR)return;jR[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":PG,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((E,S)=>{g.addEventListener("load",E),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}function NG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DG(t){C.useEffect(t,[])}var OG=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Ec(t,e){var n={},r=n.volume,i=r===void 0?1:r,o=n.playbackRate,s=o===void 0?1:o,u=n.soundEnabled,c=u===void 0?!0:u,f=n.interrupt,h=f===void 0?!1:f,p=n.onload,g=NG(n,OG),E=Fi.useRef(null),S=Fi.useRef(!1),A=Fi.useState(null),w=A[0],I=A[1],O=Fi.useState(null),k=O[0],B=O[1],F=function(){typeof p=="function"&&p.call(this),S.current&&I(this.duration()*1e3),B(this)};DG(function(){return MG(()=>import("./howler-m0pfmJW1.js").then(z=>z.h),[]).then(function(z){if(!S.current){var j;E.current=(j=z.Howl)!==null&&j!==void 0?j:z.default.Howl,S.current=!0,new E.current(Ig({src:Array.isArray(t)?t:[t],volume:i,rate:s,onload:F},g))}}),function(){S.current=!1}}),Fi.useEffect(function(){E.current&&k&&B(new E.current(Ig({src:Array.isArray(t)?t:[t],volume:i,onload:F},g)))},[JSON.stringify(t)]),Fi.useEffect(function(){k&&(k.volume(i),g.sprite||k.rate(s))},[k,i,s]);var V=Fi.useCallback(function(z){typeof z>"u"&&(z={}),!(!k||!c&&!z.forceSoundEnabled)&&(h&&k.stop(),z.playbackRate&&k.rate(z.playbackRate),k.play(z.id))},[k,c,h]),M=Fi.useCallback(function(z){k&&k.stop(z)},[k]),D=Fi.useCallback(function(z){k&&k.pause(z)},[k]),N=[V,{sound:k,stop:M,pause:D,duration:w}];return N}const XU=()=>{const[t,e]=C.useState({}),[n,r]=C.useState(!1),i=C.useCallback(()=>{r(c=>!c)},[]),o=C.useCallback((c,f,h)=>{if(!n)return;const p=window.getSelection();if(!p||p.rangeCount===0||p.isCollapsed)return;const g=p.getRangeAt(0),E=p.toString();let S=g.commonAncestorContainer;S.nodeType===3&&(S=S.parentElement);const A=g.cloneRange();let w=p.anchorNode;for(;w&&w.nodeName!=="P";)w=w.parentNode;if(!w)return;A.selectNodeContents(w),A.setEnd(g.startContainer,g.startOffset);const I=A.toString().length,O=I+E.length,k={start:I,end:O,text:E};e(B=>{const F=B[c]||{},M=[...F[f]||[],k];return{...B,[c]:{...F,[f]:M}}}),p.removeAllRanges()},[n]),s=C.useCallback((c,f,h)=>{e(p=>{const g=p[c]||{},E=g[f]||[];return{...p,[c]:{...g,[f]:E.filter(S=>S.start!==h.start||S.end!==h.end)}}})},[]);return{highlights:t,isHighlighterActive:n,toggleHighlighter:i,addHighlight:o,removeHighlight:s,renderHighlightedText:(c,f,h)=>{const g=(t[f]||{})[h]||[];if(g.length===0)return c;const E=[...g].sort((I,O)=>I.start-O.start),S=[];if(E.length>0){let I=E[0];for(let O=1;O<E.length;O++){const k=E[O];k.start<I.end?(I.end=Math.max(I.end,k.end),I.text=c.substring(I.start,I.end)):(S.push(I),I=k)}S.push(I)}const A=[];let w=0;return S.forEach((I,O)=>{I.start>w&&A.push(U.jsxs("span",{children:[" ",c.substring(w,I.start)," "]},`text-${O}`)),A.push(U.jsx("span",{className:"bg-yellow-200 text-slate-900 rounded-sm cursor-pointer hover:bg-yellow-300 transition-colors",onClick:k=>{},children:c.substring(I.start,I.end)},`highlight-${O}`)),w=I.end}),w<c.length&&A.push(U.jsxs("span",{children:[" ",c.substring(w)," "]},"text-end")),A}}},zw=C.createContext({});function qw(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const QU=typeof window<"u",ZU=QU?C.useLayoutEffect:C.useEffect,ev=C.createContext(null);function jw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uo=(t,e,n)=>n>e?e:n<t?t:n;let Hw=()=>{};const ya={},e4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function t4(t){return typeof t=="object"&&t!==null}const n4=t=>/^0[^.\s]+$/u.test(t);function Gw(t){let e;return()=>(e===void 0&&(e=t()),e)}const bi=t=>t,kG=(t,e)=>n=>e(t(n)),Rh=(...t)=>t.reduce(kG),Xd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class $w{constructor(){this.subscriptions=[]}add(e){return jw(this.subscriptions,e),()=>Pg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $i=t=>t*1e3,vi=t=>t/1e3;function r4(t,e){return e?t*(1e3/e):0}const i4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LG=1e-7,VG=12;function UG(t,e,n,r,i){let o,s,u=0;do s=e+(n-e)/2,o=i4(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>LG&&++u<VG);return s}function Mh(t,e,n,r){if(t===e&&n===r)return bi;const i=o=>UG(o,0,1,t,n);return o=>o===0||o===1?o:i4(i(o),e,r)}const o4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,a4=t=>e=>1-t(1-e),s4=Mh(.33,1.53,.69,.99),Kw=a4(s4),l4=o4(Kw),u4=t=>(t*=2)<1?.5*Kw(t):.5*(2-Math.pow(2,-10*(t-1))),Yw=t=>1-Math.sin(Math.acos(t)),c4=a4(Yw),f4=o4(Yw),BG=Mh(.42,0,1,1),FG=Mh(0,0,.58,1),d4=Mh(.42,0,.58,1),zG=t=>Array.isArray(t)&&typeof t[0]!="number",h4=t=>Array.isArray(t)&&typeof t[0]=="number",qG={linear:bi,easeIn:BG,easeInOut:d4,easeOut:FG,circIn:Yw,circInOut:f4,circOut:c4,backIn:Kw,backInOut:l4,backOut:s4,anticipate:u4},jG=t=>typeof t=="string",HR=t=>{if(h4(t)){Hw(t.length===4);const[e,n,r,i]=t;return Mh(e,n,r,i)}else if(jG(t))return qG[t];return t},Pm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function HG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){s.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,p=!1,g=!1)=>{const S=g&&i?n:r;return p&&s.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,f.process(h))}};return f}const GG=40;function p4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Pm.reduce((k,B)=>(k[B]=HG(o),k),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:E,postRender:S}=s,A=()=>{const k=ya.useManualTiming?i.timestamp:performance.now();n=!1,ya.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,GG),1)),i.timestamp=k,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),E.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(A))},w=()=>{n=!0,r=!0,i.isProcessing||t(A)};return{schedule:Pm.reduce((k,B)=>{const F=s[B];return k[B]=(V,M=!1,D=!1)=>(n||w(),F.schedule(V,M,D)),k},{}),cancel:k=>{for(let B=0;B<Pm.length;B++)s[Pm[B]].cancel(k)},state:i,steps:s}}const{schedule:Vt,cancel:Ns,state:tr,steps:Tb}=p4(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let sg;function $G(){sg=void 0}const Er={now:()=>(sg===void 0&&Er.set(tr.isProcessing||ya.useManualTiming?tr.timestamp:performance.now()),sg),set:t=>{sg=t,queueMicrotask($G)}},m4=t=>e=>typeof e=="string"&&e.startsWith(t),g4=m4("--"),KG=m4("var(--"),Ww=t=>KG(t)?YG.test(t.split("/*")[0].trim()):!1,YG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function GR(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Kc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qd={...Kc,transform:t=>Uo(0,1,t)},Rm={...Kc,default:1},zd=t=>Math.round(t*1e5)/1e5,Jw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WG(t){return t==null}const JG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(t,e)=>n=>!!(typeof n=="string"&&JG.test(n)&&n.startsWith(t)||e&&!WG(n)&&Object.prototype.hasOwnProperty.call(n,e)),y4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,u]=r.match(Jw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:u!==void 0?parseFloat(u):1}},XG=t=>Uo(0,255,t),Sb={...Kc,transform:t=>Math.round(XG(t))},Dl={test:Xw("rgb","red"),parse:y4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sb.transform(t)+", "+Sb.transform(e)+", "+Sb.transform(n)+", "+zd(Qd.transform(r))+")"};function QG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const OT={test:Xw("#"),parse:QG,transform:Dl.transform},Nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gs=Nh("deg"),No=Nh("%"),De=Nh("px"),ZG=Nh("vh"),e$=Nh("vw"),$R={...No,parse:t=>No.parse(t)/100,transform:t=>No.transform(t*100)},dc={test:Xw("hsl","hue"),parse:y4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+No.transform(zd(e))+", "+No.transform(zd(n))+", "+zd(Qd.transform(r))+")"},Sn={test:t=>Dl.test(t)||OT.test(t)||dc.test(t),parse:t=>Dl.test(t)?Dl.parse(t):dc.test(t)?dc.parse(t):OT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Dl.transform(t):dc.transform(t),getAnimatableNone:t=>{const e=Sn.parse(t);return e.alpha=0,Sn.transform(e)}},t$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jw))==null?void 0:e.length)||0)+(((n=t.match(t$))==null?void 0:n.length)||0)>0}const v4="number",_4="color",r$="var",i$="var(",KR="${}",o$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(o$,c=>(Sn.test(c)?(r.color.push(o),i.push(_4),n.push(Sn.parse(c))):c.startsWith(i$)?(r.var.push(o),i.push(r$),n.push(c)):(r.number.push(o),i.push(v4),n.push(parseFloat(c))),++o,KR)).split(KR);return{values:n,split:u,indexes:r,types:i}}function b4(t){return Zd(t).values}function E4(t){const{split:e,types:n}=Zd(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const u=n[s];u===v4?o+=zd(i[s]):u===_4?o+=Sn.transform(i[s]):o+=i[s]}return o}}const a$=t=>typeof t=="number"?0:Sn.test(t)?Sn.getAnimatableNone(t):t;function s$(t){const e=b4(t);return E4(t)(e.map(a$))}const Ds={test:n$,parse:b4,createTransformer:E4,getAnimatableNone:s$};function wb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;i=wb(c,u,t+1/3),o=wb(c,u,t),s=wb(c,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Rg(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,Ab=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},u$=[OT,Dl,dc],c$=t=>u$.find(e=>e.test(t));function YR(t){const e=c$(t);if(!e)return!1;let n=e.parse(t);return e===dc&&(n=l$(n)),n}const WR=(t,e)=>{const n=YR(t),r=YR(e);if(!n||!r)return Rg(t,e);const i={...n};return o=>(i.red=Ab(n.red,r.red,o),i.green=Ab(n.green,r.green,o),i.blue=Ab(n.blue,r.blue,o),i.alpha=Wt(n.alpha,r.alpha,o),Dl.transform(i))},kT=new Set(["none","hidden"]);function f$(t,e){return kT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function d$(t,e){return n=>Wt(t,e,n)}function Qw(t){return typeof t=="number"?d$:typeof t=="string"?Ww(t)?Rg:Sn.test(t)?WR:m$:Array.isArray(t)?T4:typeof t=="object"?Sn.test(t)?WR:h$:Rg}function T4(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>Qw(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function h$(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Qw(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function p$(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],u=t.values[s]??0;n[i]=u,r[o]++}return n}const m$=(t,e)=>{const n=Ds.createTransformer(e),r=Zd(t),i=Zd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kT.has(t)&&!i.values.length||kT.has(e)&&!r.values.length?f$(t,e):Rh(T4(p$(r,i),i.values),n):Rg(t,e)};function S4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):Qw(t)(t,e)}const g$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Ns(e),now:()=>tr.isProcessing?tr.timestamp:Er.now()}},w4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mg=2e4;function Zw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mg;)e+=n,r=t.next(e);return e>=Mg?1/0:e}function y$(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Zw(r),Mg);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:vi(i)}}const v$=5;function A4(t,e,n){const r=Math.max(e-v$,0);return r4(n-t(r),e-r)}const tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xb=.001;function _$({duration:t=tn.duration,bounce:e=tn.bounce,velocity:n=tn.velocity,mass:r=tn.mass}){let i,o,s=1-e;s=Uo(tn.minDamping,tn.maxDamping,s),t=Uo(tn.minDuration,tn.maxDuration,vi(t)),s<1?(i=f=>{const h=f*s,p=h*t,g=h-n,E=LT(f,s),S=Math.exp(-p);return xb-g/E*S},o=f=>{const p=f*s*t,g=p*n+n,E=Math.pow(s,2)*Math.pow(f,2)*t,S=Math.exp(-p),A=LT(Math.pow(f,2),s);return(-i(f)+xb>0?-1:1)*((g-E)*S)/A}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-xb+h*p},o=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const u=5/t,c=E$(i,o,u);if(t=$i(t),isNaN(c))return{stiffness:tn.stiffness,damping:tn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:t}}}const b$=12;function E$(t,e,n){let r=n;for(let i=1;i<b$;i++)r=r-t(r)/e(r);return r}function LT(t,e){return t*Math.sqrt(1-e*e)}const T$=["duration","bounce"],S$=["stiffness","damping","mass"];function JR(t,e){return e.some(n=>t[n]!==void 0)}function w$(t){let e={velocity:tn.velocity,stiffness:tn.stiffness,damping:tn.damping,mass:tn.mass,isResolvedFromDuration:!1,...t};if(!JR(t,S$)&&JR(t,T$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Uo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:tn.mass,stiffness:i,damping:o}}else{const n=_$(t);e={...e,...n,mass:tn.mass},e.isResolvedFromDuration=!0}return e}function Ng(t=tn.visualDuration,e=tn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:E}=w$({...n,velocity:-vi(n.velocity||0)}),S=g||0,A=f/(2*Math.sqrt(c*h)),w=s-o,I=vi(Math.sqrt(c/h)),O=Math.abs(w)<5;r||(r=O?tn.restSpeed.granular:tn.restSpeed.default),i||(i=O?tn.restDelta.granular:tn.restDelta.default);let k;if(A<1){const F=LT(I,A);k=V=>{const M=Math.exp(-A*I*V);return s-M*((S+A*I*w)/F*Math.sin(F*V)+w*Math.cos(F*V))}}else if(A===1)k=F=>s-Math.exp(-I*F)*(w+(S+I*w)*F);else{const F=I*Math.sqrt(A*A-1);k=V=>{const M=Math.exp(-A*I*V),D=Math.min(F*V,300);return s-M*((S+A*I*w)*Math.sinh(D)+F*w*Math.cosh(D))/F}}const B={calculatedDuration:E&&p||null,next:F=>{const V=k(F);if(E)u.done=F>=p;else{let M=F===0?S:0;A<1&&(M=F===0?$i(S):A4(k,F,V));const D=Math.abs(M)<=r,N=Math.abs(s-V)<=i;u.done=D&&N}return u.value=u.done?s:V,u},toString:()=>{const F=Math.min(Zw(B),Mg),V=w4(M=>B.next(F*M).value,F,30);return F+"ms "+V},toTransition:()=>{}};return B}Ng.applyToOptions=t=>{const e=y$(t,100,Ng);return t.ease=e.ease,t.duration=$i(e.duration),t.type="keyframes",t};function VT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:u,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},E=D=>u!==void 0&&D<u||c!==void 0&&D>c,S=D=>u===void 0?c:c===void 0||Math.abs(u-D)<Math.abs(c-D)?u:c;let A=n*e;const w=p+A,I=s===void 0?w:s(w);I!==w&&(A=I-p);const O=D=>-A*Math.exp(-D/r),k=D=>I+O(D),B=D=>{const N=O(D),z=k(D);g.done=Math.abs(N)<=f,g.value=g.done?I:z};let F,V;const M=D=>{E(g.value)&&(F=D,V=Ng({keyframes:[g.value,S(g.value)],velocity:A4(k,D,g.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return M(0),{calculatedDuration:null,next:D=>{let N=!1;return!V&&F===void 0&&(N=!0,B(D),M(D)),F!==void 0&&D>=F?V.next(D-F):(!N&&B(D),g)}}}function A$(t,e,n){const r=[],i=n||ya.mix||S4,o=t.length-1;for(let s=0;s<o;s++){let u=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||bi:e;u=Rh(c,u)}r.push(u)}return r}function x$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Hw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=A$(e,r,i),c=u.length,f=h=>{if(s&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=Xd(t[p],t[p+1],h);return u[p](g)};return n?h=>f(Uo(t[0],t[o-1],h)):f}function C$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xd(0,e,r);t.push(Wt(n,1,i))}}function I$(t){const e=[0];return C$(e,t.length-1),e}function P$(t,e){return t.map(n=>n*e)}function R$(t,e){return t.map(()=>e||d4).splice(0,t.length-1)}function qd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=zG(r)?r.map(HR):HR(r),o={done:!1,value:e[0]},s=P$(n&&n.length===e.length?n:I$(e),t),u=x$(s,e,{ease:Array.isArray(i)?i:R$(e,i)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const M$=t=>t!==null;function eA(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(M$),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const N$={decay:VT,inertia:VT,tween:qd,keyframes:qd,spring:Ng};function x4(t){typeof t.type=="string"&&(t.type=N$[t.type])}class tA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D$=t=>t/100;class nA extends tA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x4(e);const{type:n=qd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:u}=e;const c=n||qd;c!==qd&&typeof u[0]!="number"&&(this.mixKeyframes=Rh(D$,S4(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=Zw(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:E,type:S,onUpdate:A,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const I=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?I<0:I>i;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,B=r;if(p){const D=Math.min(this.currentTime,i)/u;let N=Math.floor(D),z=D%1;!z&&D>=1&&(z=1),z===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(g==="reverse"?(z=1-z,E&&(z-=E/u)):g==="mirror"&&(B=s)),k=Uo(0,1,z)*u}const F=O?{done:!1,value:h[0]}:B.next(k);o&&(F.value=o(F.value));let{done:V}=F;!O&&c!==null&&(V=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return M&&S!==VT&&(F.value=eA(h,this.options,w,this.speed)),A&&A(F.value),M&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return vi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vi(e)}get time(){return vi(this.currentTime)}set time(e){var n;e=$i(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vi(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=g$,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function O$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ol=t=>t*180/Math.PI,UT=t=>{const e=Ol(Math.atan2(t[1],t[0]));return BT(e)},k$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:UT,rotateZ:UT,skewX:t=>Ol(Math.atan(t[1])),skewY:t=>Ol(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},BT=t=>(t=t%360,t<0&&(t+=360),t),XR=UT,QR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),L$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QR,scaleY:ZR,scale:t=>(QR(t)+ZR(t))/2,rotateX:t=>BT(Ol(Math.atan2(t[6],t[5]))),rotateY:t=>BT(Ol(Math.atan2(-t[2],t[0]))),rotateZ:XR,rotate:XR,skewX:t=>Ol(Math.atan(t[4])),skewY:t=>Ol(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function FT(t){return t.includes("scale")?1:0}function zT(t,e){if(!t||t==="none")return FT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=L$,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=k$,i=u}if(!i)return FT(e);const o=r[e],s=i[1].split(",").map(U$);return typeof o=="function"?o(s):s[o]}const V$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zT(n,e)};function U$(t){return parseFloat(t.trim())}const Yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wc=new Set(Yc),eM=t=>t===Kc||t===De,B$=new Set(["x","y","z"]),F$=Yc.filter(t=>!B$.has(t));function z$(t){const e=[];return F$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Es={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zT(e,"x"),y:(t,{transform:e})=>zT(e,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Bl=new Set;let qT=!1,jT=!1,HT=!1;function C4(){if(jT){const t=Array.from(Bl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=z$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var u;(u=r.getValue(o))==null||u.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jT=!1,qT=!1,Bl.forEach(t=>t.complete(HT)),Bl.clear()}function I4(){Bl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jT=!0)})}function q$(){HT=!0,I4(),C4(),HT=!1}class rA{constructor(e,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Bl.add(this),qT||(qT=!0,Vt.read(I4),Vt.resolveKeyframes(C4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,s);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}O$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bl.delete(this)}cancel(){this.state==="scheduled"&&(Bl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j$=t=>t.startsWith("--");function H$(t,e,n){j$(e)?t.style.setProperty(e,n):t.style[e]=n}const G$=Gw(()=>window.ScrollTimeline!==void 0),$$={};function K$(t,e){const n=Gw(t);return()=>$$[e]??n()}const P4=K$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Md=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Md([0,.65,.55,1]),circOut:Md([.55,0,1,.45]),backIn:Md([.31,.01,.66,-.59]),backOut:Md([.33,1.53,.69,.99])};function R4(t,e){if(t)return typeof t=="function"?P4()?w4(t,e):"ease-out":h4(t)?Md(t):Array.isArray(t)?t.map(n=>R4(n,e)||tM.easeOut):tM[t]}function Y$(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const p=R4(u,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function M4(t){return typeof t=="function"&&"applyToOptions"in t}function W$({type:t,...e}){return M4(t)&&P4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class N4 extends tA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,Hw(typeof e.type!="string");const f=W$(e);this.animation=Y$(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=eA(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):H$(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return vi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vi(e)}get time(){return vi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$i(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&G$()?(this.animation.timeline=e,bi):n(this)}}const D4={anticipate:u4,backInOut:l4,circInOut:f4};function J$(t){return t in D4}function X$(t){typeof t.ease=="string"&&J$(t.ease)&&(t.ease=D4[t.ease])}const Cb=10;class Q$ extends N4{constructor(e){X$(e),x4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new nA({...s,autoplay:!1}),c=Math.max(Cb,Er.now()-this.startTime),f=Uo(0,Cb,c-Cb);n.setWithVelocity(u.sample(Math.max(0,c-f)).value,u.sample(c).value,f),u.stop()}}const nM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ds.test(t)||t==="0")&&!t.startsWith("url("));function Z$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function e8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=nM(i,e),u=nM(o,e);return!s||!u?!1:Z$(t)||(n==="spring"||M4(n))&&r}function GT(t){t.duration=0,t.type="keyframes"}const t8=new Set(["opacity","clipPath","filter","transform"]),n8=Gw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r8(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return n8()&&n&&t8.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const i8=40;class o8 extends tA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:u,name:c,motionValue:f,element:h,...p}){var S;super(),this.stop=()=>{var A,w;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Er.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:c,motionValue:f,element:h,...p},E=(h==null?void 0:h.KeyframeResolver)||rA;this.keyframeResolver=new E(u,(A,w,I)=>this.onKeyframesResolved(A,w,g,!I),c,f,h),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,i){var w,I;this.keyframeResolver=void 0;const{name:o,type:s,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Er.now(),e8(e,o,s,u)||((ya.instantAnimations||!c)&&(h==null||h(eA(e,r,n))),e[0]=e[e.length-1],GT(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>i8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&r8(g),S=(I=(w=g.motionValue)==null?void 0:w.owner)==null?void 0:I.current,A=E?new Q$({...g,element:S}):new nA(g);A.finished.then(()=>{this.notifyFinished()}).catch(bi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),q$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function O4(t,e,n,r=0,i=1){const o=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),s=t.size,u=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:u-o*r}const a8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s8(t){const e=a8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function k4(t,e,n=1){const[r,i]=s8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return e4(s)?parseFloat(s):s}return Ww(i)?k4(i,e,n+1):i}const l8={type:"spring",stiffness:500,damping:25,restSpeed:10},u8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),c8={type:"keyframes",duration:.8},f8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d8=(t,{keyframes:e})=>e.length>2?c8:Wc.has(t)?t.startsWith("scale")?u8(e[1]):l8:f8,h8=t=>t!==null;function p8(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(h8),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}function L4(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function iA(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?L4(n,t):n}function m8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const oA=(t,e,n,r={},i,o)=>s=>{const u=iA(r,t)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-$i(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{s(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};m8(u)||Object.assign(h,d8(t,h)),h.duration&&(h.duration=$i(h.duration)),h.repeatDelay&&(h.repeatDelay=$i(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(GT(h),h.delay===0&&(p=!0)),(ya.instantAnimations||ya.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,GT(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,p&&!o&&e.get()!==void 0){const g=p8(h.keyframes,u);if(g!==void 0){Vt.update(()=>{h.onUpdate(g),h.onComplete()});return}}return u.isSync?new nA(h):new o8(h)};function rM(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aA(t,e,n,r){if(typeof e=="function"){const[i,o]=rM(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=rM(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Tc(t,e,n){const r=t.getProps();return aA(r,e,n!==void 0?n:r.custom,t)}const V4=new Set(["width","height","top","left","right","bottom",...Yc]),iM=30,g8=t=>!isNaN(parseFloat(t));class y8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $w);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iM);return r4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nc(t,e){return new y8(t,e)}const $T=t=>Array.isArray(t);function v8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nc(n))}function _8(t){return $T(t)?t[t.length-1]||0:t}function b8(t,e){const n=Tc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const u=_8(o[s]);v8(t,s,u)}}const hr=t=>!!(t&&t.getVelocity);function E8(t){return!!(hr(t)&&t.add)}function KT(t,e){const n=t.getValue("willChange");if(E8(n))return n.add(e);if(!n&&ya.WillChange){const r=new ya.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function sA(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const T8="framerAppearId",U4="data-"+sA(T8);function B4(t){return t.props[U4]}function S8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:s,...u}=e;const c=t.getDefaultTransition();o=o?L4(o,c):c;const f=o==null?void 0:o.reduceMotion;r&&(o=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const E=t.getValue(g,t.latestValues[g]??null),S=u[g];if(S===void 0||p&&S8(p,g))continue;const A={delay:n,...iA(o||{},g)},w=E.get();if(w!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===w&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const B=B4(t);if(B){const F=window.MotionHandoffAnimation(B,g,Vt);F!==null&&(A.startTime=F,I=!0)}}KT(t,g);const O=f??t.shouldReduceMotion;E.start(oA(g,E,S,O&&V4.has(g)?{type:!1}:A,t,I));const k=E.animation;k&&h.push(k)}if(s){const g=()=>Vt.update(()=>{s&&b8(t,s)});h.length?Promise.all(h).then(g):g()}return h}function YT(t,e,n={}){var c;const r=Tc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(F4(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return w8(t,e,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[o,s]:[s,o];return f().then(()=>h())}else return Promise.all([o(),s(n.delay)])}function w8(t,e,n=0,r=0,i=0,o=1,s){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(YT(c,e,{...s,delay:n+(typeof r=="function"?0:r)+O4(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function A8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>YT(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=YT(t,e,n);else{const i=typeof e=="function"?Tc(t,e,n.custom):e;r=Promise.all(F4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const x8={test:t=>t==="auto",parse:t=>t},z4=t=>e=>e.test(t),q4=[Kc,De,No,gs,e$,ZG,x8],oM=t=>q4.find(z4(t));function C8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||n4(t):!0}const I8=new Set(["brightness","contrast","saturate","opacity"]);function P8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jw)||[];if(!r)return t;const i=n.replace(r,"");let o=I8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const R8=/\b([a-z-]*)\(.*?\)/gu,WT={...Ds,getAnimatableNone:t=>{const e=t.match(R8);return e?e.map(P8).join(" "):t}},aM={...Kc,transform:Math.round},M8={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:Rm,scaleX:Rm,scaleY:Rm,scaleZ:Rm,skew:gs,skewX:gs,skewY:gs,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Qd,originX:$R,originY:$R,originZ:De},lA={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,fontSize:De,backgroundPositionX:De,backgroundPositionY:De,...M8,zIndex:aM,fillOpacity:Qd,strokeOpacity:Qd,numOctaves:aM},N8={...lA,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:WT,WebkitFilter:WT},j4=t=>N8[t];function H4(t,e){let n=j4(t);return n!==WT&&(n=Ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D8=new Set(["auto","none","0"]);function O8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!D8.has(o)&&Zd(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=H4(n,i)}class k8 extends rA{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Ww(p))){const g=k4(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!V4.has(r)||e.length!==2)return;const[i,o]=e,s=oM(i),u=oM(o),c=GR(i),f=GR(o);if(c!==f&&Es[r]){this.needsMeasurement=!0;return}if(s!==u)if(eM(s)&&eM(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Es[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||C8(e[i]))&&r.push(i);r.length&&O8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=Es[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const L8=new Set(["opacity","clipPath","filter","transform"]);function G4(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const $4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function JT(t){return t4(t)&&"offsetHeight"in t}const{schedule:uA}=p4(queueMicrotask,!1),zi={x:!1,y:!1};function K4(){return zi.x||zi.y}function V8(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function Y4(t,e){const n=G4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function U8(t){return!(t.pointerType==="touch"||K4())}function B8(t,e,n={}){const[r,i,o]=Y4(t,n);return r.forEach(s=>{let u=!1,c=!1,f;const h=()=>{s.removeEventListener("pointerleave",S)},p=w=>{f&&(f(w),f=void 0),h()},g=w=>{u=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),c&&(c=!1,p(w))},E=()=>{u=!0,window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",g,i)},S=w=>{if(w.pointerType!=="touch"){if(u){c=!0;return}p(w)}},A=w=>{if(!U8(w))return;c=!1;const I=e(s,w);typeof I=="function"&&(f=I,s.addEventListener("pointerleave",S,i))};s.addEventListener("pointerenter",A,i),s.addEventListener("pointerdown",E,i)}),o}const W4=(t,e)=>e?t===e?!0:W4(t,e.parentElement):!1,cA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,F8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z8(t){return F8.has(t.tagName)||t.isContentEditable===!0}const q8=new Set(["INPUT","SELECT","TEXTAREA"]);function j8(t){return q8.has(t.tagName)||t.isContentEditable===!0}const lg=new WeakSet;function sM(t){return e=>{e.key==="Enter"&&t(e)}}function Ib(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const H8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sM(()=>{if(lg.has(n))return;Ib(n,"down");const i=sM(()=>{Ib(n,"up")}),o=()=>Ib(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lM(t){return cA(t)&&!K4()}const uM=new WeakSet;function G8(t,e,n={}){const[r,i,o]=Y4(t,n),s=u=>{const c=u.currentTarget;if(!lM(u)||uM.has(u))return;lg.add(c),n.stopPropagation&&uM.add(u);const f=e(c,u),h=(E,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),lg.has(c)&&lg.delete(c),lM(E)&&typeof f=="function"&&f(E,{success:S})},p=E=>{h(E,c===window||c===document||n.useGlobalTarget||W4(c,E.target))},g=E=>{h(E,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",s,i),JT(u)&&(u.addEventListener("focus",f=>H8(f,i)),!z8(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function fA(t){return t4(t)&&"ownerSVGElement"in t}const ug=new WeakMap;let ys;const J4=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:fA(r)&&"getBBox"in r?r.getBBox()[e]:r[n],$8=J4("inline","width","offsetWidth"),K8=J4("block","height","offsetHeight");function Y8({target:t,borderBoxSize:e}){var n;(n=ug.get(t))==null||n.forEach(r=>{r(t,{get width(){return $8(t,e)},get height(){return K8(t,e)}})})}function W8(t){t.forEach(Y8)}function J8(){typeof ResizeObserver>"u"||(ys=new ResizeObserver(W8))}function X8(t,e){ys||J8();const n=G4(t);return n.forEach(r=>{let i=ug.get(r);i||(i=new Set,ug.set(r,i)),i.add(e),ys==null||ys.observe(r)}),()=>{n.forEach(r=>{const i=ug.get(r);i==null||i.delete(e),i!=null&&i.size||ys==null||ys.unobserve(r)})}}const cg=new Set;let hc;function Q8(){hc=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};cg.forEach(e=>e(t))},window.addEventListener("resize",hc)}function Z8(t){return cg.add(t),hc||Q8(),()=>{cg.delete(t),!cg.size&&typeof hc=="function"&&(window.removeEventListener("resize",hc),hc=void 0)}}function cM(t,e){return typeof t=="function"?Z8(t):X8(t,e)}function e7(t){return fA(t)&&t.tagName==="svg"}const t7=[...q4,Sn,Ds],n7=t=>t7.find(z4(t)),fM=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:fM(),y:fM()}),dM=()=>({min:0,max:0}),Pn=()=>({x:dM(),y:dM()}),r7=new WeakMap;function tv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function eh(t){return typeof t=="string"||Array.isArray(t)}const dA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hA=["initial",...dA];function nv(t){return tv(t.animate)||hA.some(e=>eh(t[e]))}function X4(t){return!!(nv(t)||t.variants)}function i7(t,e,n){for(const r in e){const i=e[r],o=n[r];if(hr(i))t.addValue(r,i);else if(hr(o))t.addValue(r,Nc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Nc(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const XT={current:null},Q4={current:!1},o7=typeof window<"u";function a7(){if(Q4.current=!0,!!o7)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>XT.current=t.matches;t.addEventListener("change",e),e()}else XT.current=!1}const hM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Dg={};function Z4(t){Dg=t}function s7(){return Dg}class l7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:s,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=rA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Er.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Vt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=nv(n),this.isVariantNode=X4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in g){const S=g[E];f[E]!==void 0&&hr(S)&&S.set(f[E])}}mount(e){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,r7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Q4.current||a7(),this.shouldReduceMotion=XT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&L8.has(e)&&this.current instanceof HTMLElement){const{factory:s,keyframes:u,times:c,ease:f,duration:h}=n.accelerate,p=new N4({element:this.current,name:e,keyframes:u,times:c,ease:f,duration:$i(h)}),g=s(p);this.valueSubscriptions.set(e,()=>{g(),p.cancel()});return}const r=Wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dg){const n=Dg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hM.length;r++){const i=hM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=i7(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(e4(r)||n4(r))?r=parseFloat(r):!n7(r)&&Ds.test(n)&&(r=H4(e,n)),this.setBaseTarget(e,hr(r)?r.get():r)),hr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=aA(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!hr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $w),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){uA.render(this.render)}}class e3 extends l7{constructor(){super(...arguments),this.KeyframeResolver=k8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class js{constructor(e){this.isMounted=!1,this.node=e}update(){}}function t3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pb(t){return t===void 0||t===1}function QT({scale:t,scaleX:e,scaleY:n}){return!Pb(t)||!Pb(e)||!Pb(n)}function xl(t){return QT(t)||n3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function n3(t){return pM(t.x)||pM(t.y)}function pM(t){return t&&t!=="0%"}function Og(t,e,n){const r=t-n,i=e*r;return n+i}function mM(t,e,n,r,i){return i!==void 0&&(t=Og(t,i,r)),Og(t,n,r)+e}function ZT(t,e=0,n=1,r,i){t.min=mM(t.min,e,n,r,i),t.max=mM(t.max,e,n,r,i)}function r3(t,{x:e,y:n}){ZT(t.x,e.translate,e.scale,e.originPoint),ZT(t.y,n.translate,n.scale,n.originPoint)}const gM=.999999999999,yM=1.0000000000001;function f7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let u=0;u<i;u++){o=n[u],s=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&gc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,r3(t,s)),r&&xl(o.latestValues)&&gc(t,o.latestValues))}e.x<yM&&e.x>gM&&(e.x=1),e.y<yM&&e.y>gM&&(e.y=1)}function mc(t,e){t.min=t.min+e,t.max=t.max+e}function vM(t,e,n,r,i=.5){const o=Wt(t.min,t.max,i);ZT(t,e,n,o,r)}function gc(t,e){vM(t.x,e.x,e.scaleX,e.scale,e.originX),vM(t.y,e.y,e.scaleY,e.scale,e.originY)}function i3(t,e){return t3(c7(t.getBoundingClientRect(),e))}function d7(t,e,n){const r=i3(t,n),{scroll:i}=e;return i&&(mc(r.x,i.offset.x),mc(r.y,i.offset.y)),r}const h7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p7=Yc.length;function m7(t,e,n){let r="",i=!0;for(let o=0;o<p7;o++){const s=Yc[o],u=t[s];if(u===void 0)continue;let c=!0;if(typeof u=="number")c=u===(s.startsWith("scale")?1:0);else{const f=parseFloat(u);c=s.startsWith("scale")?f===1:f===0}if(!c||n){const f=$4(u,lA[s]);if(!c){i=!1;const h=h7[s]||s;r+=`${h}(${f}) `}n&&(e[s]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function pA(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,u=!1;for(const c in e){const f=e[c];if(Wc.has(c)){s=!0;continue}else if(g4(c)){i[c]=f;continue}else{const h=$4(f,lA[c]);c.startsWith("origin")?(u=!0,o[c]=h):r[c]=h}}if(e.transform||(s||n?r.transform=m7(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=o;r.transformOrigin=`${c} ${f} ${h}`}}function o3(t,{style:e,vars:n},r,i){const o=t.style;let s;for(s in e)o[s]=e[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function _M(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=_M(t,e.target.x),r=_M(t,e.target.y);return`${n}% ${r}%`}},g7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ds.parse(t);if(i.length>5)return r;const o=Ds.createTransformer(t),s=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=u,i[1+s]/=c;const f=Wt(u,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),o(i)}},eS={borderRadius:{...vd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vd,borderTopRightRadius:vd,borderBottomLeftRadius:vd,borderBottomRightRadius:vd,boxShadow:g7};function a3(t,{layout:e,layoutId:n}){return Wc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!eS[t]||t==="opacity")}function mA(t,e,n){var s;const r=t.style,i=e==null?void 0:e.style,o={};if(!r)return o;for(const u in r)(hr(r[u])||i&&hr(i[u])||a3(u,t)||((s=n==null?void 0:n.getValue(u))==null?void 0:s.liveStyle)!==void 0)&&(o[u]=r[u]);return o}function y7(t){return window.getComputedStyle(t)}class v7 extends e3{constructor(){super(...arguments),this.type="html",this.renderInstance=o3}readValueFromInstance(e,n){var r;if(Wc.has(n))return(r=this.projection)!=null&&r.isProjecting?FT(n):V$(e,n);{const i=y7(e),o=(g4(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return i3(e,n)}build(e,n,r){pA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mA(e,n,r)}}const _7={offset:"stroke-dashoffset",array:"stroke-dasharray"},b7={offset:"strokeDashoffset",array:"strokeDasharray"};function E7(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?_7:b7;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const T7=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function s3(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...u},c,f,h){if(pA(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox);for(const E of T7)p[E]!==void 0&&(g[E]=p[E],delete p[E]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&E7(p,i,o,s,!1)}const l3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),u3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function S7(t,e,n,r){o3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(l3.has(i)?i:sA(i),e.attrs[i])}function c3(t,e,n){const r=mA(t,e,n);for(const i in t)if(hr(t[i])||hr(e[i])){const o=Yc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}class w7 extends e3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wc.has(n)){const r=j4(n);return r&&r.default||0}return n=l3.has(n)?n:sA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return c3(e,n,r)}build(e,n,r){s3(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){S7(e,n,r,i)}mount(e){this.isSVGTag=u3(e.tagName),super.mount(e)}}const A7=hA.length;function f3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?f3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A7;n++){const r=hA[n],i=t.props[r];(eh(i)||i===!1)&&(e[r]=i)}return e}function d3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const x7=[...dA].reverse(),C7=dA.length;function I7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>A8(t,n,r)))}function P7(t){let e=I7(t),n=bM(),r=!0;const i=c=>(f,h)=>{var g;const p=Tc(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:E,transitionEnd:S,...A}=p;f={...f,...A,...S}}return f};function o(c){e=c(t)}function s(c){const{props:f}=t,h=f3(t.parent)||{},p=[],g=new Set;let E={},S=1/0;for(let w=0;w<C7;w++){const I=x7[w],O=n[I],k=f[I]!==void 0?f[I]:h[I],B=eh(k),F=I===c?O.isActive:null;F===!1&&(S=w);let V=k===h[I]&&k!==f[I]&&B;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),O.protectedKeys={...E},!O.isActive&&F===null||!k&&!O.prevProp||tv(k)||typeof k=="boolean")continue;if(I==="exit"&&O.isActive&&F!==!0){O.prevResolvedValues&&(E={...E,...O.prevResolvedValues});continue}const M=R7(O.prevProp,k);let D=M||I===c&&O.isActive&&!V&&B||w>S&&B,N=!1;const z=Array.isArray(k)?k:[k];let j=z.reduce(i(I),{});F===!1&&(j={});const{prevResolvedValues:H={}}=O,$={...H,...j},ye=oe=>{D=!0,g.has(oe)&&(N=!0,g.delete(oe)),O.needsAnimating[oe]=!0;const he=t.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in $){const he=j[oe],Te=H[oe];if(E.hasOwnProperty(oe))continue;let Y=!1;$T(he)&&$T(Te)?Y=!d3(he,Te):Y=he!==Te,Y?he!=null?ye(oe):g.add(oe):he!==void 0&&g.has(oe)?ye(oe):O.protectedKeys[oe]=!0}O.prevProp=k,O.prevResolvedValues=j,O.isActive&&(E={...E,...j}),r&&t.blockInitialAnimation&&(D=!1);const Se=V&&M;D&&(!Se||N)&&p.push(...z.map(oe=>{const he={type:I};if(typeof oe=="string"&&r&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Y=Tc(Te,oe);if(Te.enteringChildren&&Y){const{delayChildren:L}=Y.transition||{};he.delay=O4(Te.enteringChildren,t,L)}}return{animation:oe,options:he}}))}if(g.size){const w={};if(typeof f.initial!="boolean"){const I=Tc(t,Array.isArray(f.initial)?f.initial[0]:f.initial);I&&I.transition&&(w.transition=I.transition)}g.forEach(I=>{const O=t.getBaseTarget(I),k=t.getValue(I);k&&(k.liveStyle=!0),w[I]=O??null}),p.push({animation:w})}let A=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(p):Promise.resolve()}function u(c,f){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var E;return(E=g.animationState)==null?void 0:E.setActive(c,f)}),n[c].isActive=f;const h=s(c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=bM()}}}function R7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!d3(e,t):!1}function wl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bM(){return{animate:wl(!0),whileInView:wl(),whileHover:wl(),whileTap:wl(),whileDrag:wl(),whileFocus:wl(),exit:wl()}}function EM(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){EM(t.x,e.x),EM(t.y,e.y)}function TM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const h3=1e-4,M7=1-h3,N7=1+h3,p3=.01,D7=0-p3,O7=0+p3;function Tr(t){return t.max-t.min}function k7(t,e,n){return Math.abs(t-e)<=n}function SM(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M7&&t.scale<=N7||isNaN(t.scale))&&(t.scale=1),(t.translate>=D7&&t.translate<=O7||isNaN(t.translate))&&(t.translate=0)}function jd(t,e,n,r){SM(t.x,e.x,n.x,r?r.originX:void 0),SM(t.y,e.y,n.y,r?r.originY:void 0)}function wM(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function L7(t,e,n){wM(t.x,e.x,n.x),wM(t.y,e.y,n.y)}function AM(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function kg(t,e,n){AM(t.x,e.x,n.x),AM(t.y,e.y,n.y)}function xM(t,e,n,r,i){return t-=e,t=Og(t,1/n,r),i!==void 0&&(t=Og(t,1/i,r)),t}function V7(t,e=0,n=1,r=.5,i,o=t,s=t){if(No.test(e)&&(e=parseFloat(e),e=Wt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let u=Wt(o.min,o.max,r);t===o&&(u-=e),t.min=xM(t.min,e,n,u,i),t.max=xM(t.max,e,n,u,i)}function CM(t,e,[n,r,i],o,s){V7(t,e[n],e[r],e[i],e.scale,o,s)}const U7=["x","scaleX","originX"],B7=["y","scaleY","originY"];function IM(t,e,n,r){CM(t.x,e,U7,n?n.x:void 0,r?r.x:void 0),CM(t.y,e,B7,n?n.y:void 0,r?r.y:void 0)}function PM(t){return t.translate===0&&t.scale===1}function m3(t){return PM(t.x)&&PM(t.y)}function RM(t,e){return t.min===e.min&&t.max===e.max}function F7(t,e){return RM(t.x,e.x)&&RM(t.y,e.y)}function MM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function g3(t,e){return MM(t.x,e.x)&&MM(t.y,e.y)}function NM(t){return Tr(t.x)/Tr(t.y)}function DM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Co(t){return[t("x"),t("y")]}function z7(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:E,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),E&&(r+=`skewX(${E}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const y3=["TopLeft","TopRight","BottomLeft","BottomRight"],q7=y3.length,OM=t=>typeof t=="string"?parseFloat(t):t,kM=t=>typeof t=="number"||De.test(t);function j7(t,e,n,r,i,o){i?(t.opacity=Wt(0,n.opacity??1,H7(r)),t.opacityExit=Wt(e.opacity??1,0,G7(r))):o&&(t.opacity=Wt(e.opacity??1,n.opacity??1,r));for(let s=0;s<q7;s++){const u=`border${y3[s]}Radius`;let c=LM(e,u),f=LM(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||kM(c)===kM(f)?(t[u]=Math.max(Wt(OM(c),OM(f),r),0),(No.test(f)||No.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function LM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H7=v3(0,.5,c4),G7=v3(.5,.95,bi);function v3(t,e,n){return r=>r<t?0:r>e?1:n(Xd(t,e,r))}function $7(t,e,n){const r=hr(t)?t:Nc(t);return r.start(oA("",r,e,n)),r.animation}function th(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const K7=(t,e)=>t.depth-e.depth;class Y7{constructor(){this.children=[],this.isDirty=!1}add(e){jw(this.children,e),this.isDirty=!0}remove(e){Pg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K7),this.isDirty=!1,this.children.forEach(e)}}function W7(t,e){const n=Er.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ns(r),t(o-e))};return Vt.setup(r,!0),()=>Ns(r)}function fg(t){return hr(t)?t.get():t}class J7{constructor(){this.members=[]}add(e){jw(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Pg(this.members,r)}e.scheduleRender()}remove(e){if(Pg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i],s=o.instance;if(o.isPresent!==!1&&(!s||s.isConnected!==!1)){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,o=e.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Rb=["","X","Y","Z"],X7=1e3;let Q7=0;function Mb(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=B4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_3(r)}function b3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},u=e==null?void 0:e()){this.id=Q7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tK),this.nodes.forEach(oK),this.nodes.forEach(aK),this.nodes.forEach(nK)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y7)}addEventListener(s,u){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new $w),this.eventHandlers.get(s).add(u)}notifyListeners(s,...u){const c=this.eventHandlers.get(s);c&&c.notify(...u)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=fA(s)&&!e7(s),this.instance=s;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{p=window.innerWidth}),t(s,()=>{const E=window.innerWidth;E!==p&&(p=E,this.root.updateBlockedByResize=!0,h&&h(),h=W7(g,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(BM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||fK,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=f.getProps(),I=!this.targetLayout||!g3(this.targetLayout,E),O=!p&&g;if(this.options.layoutRoot||this.resumeFrom||O||p&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...iA(S,"layout"),onPlay:A,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,O)}else p||BM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sK),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iK),this.nodes.forEach(Z7),this.nodes.forEach(eK)):this.nodes.forEach(UM),this.clearAllSnapshots();const u=Er.now();tr.delta=Uo(0,1e3/60,u-tr.timestamp),tr.timestamp=u,tr.isProcessing=!0,Tb.update.process(tr),Tb.preRender.process(tr),Tb.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rK),this.sharedNodes.forEach(lK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tr(this.snapshot.measuredBox.x)&&!Tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!m3(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;s&&this.instance&&(u||xl(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return s&&(c=this.removeTransform(c)),dK(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:s}=this.options;if(!s)return Pn();const u=s.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(hK))){const{scroll:h}=this.root;h&&(mc(u.x,h.offset.x),mc(u.y,h.offset.y))}return u}removeElementScroll(s){var c;const u=Pn();if(Bi(u,s),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Bi(u,s),mc(u.x,p.offset.x),mc(u.y,p.offset.y))}return u}applyTransform(s,u=!1){const c=Pn();Bi(c,s);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&gc(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),xl(h.latestValues)&&gc(c,h.latestValues)}return xl(this.latestValues)&&gc(c,this.latestValues),c}removeTransform(s){const u=Pn();Bi(u,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!xl(f.latestValues))continue;QT(f.latestValues)&&f.updateSnapshot();const h=Pn(),p=f.measurePageBox();Bi(h,p),IM(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return xl(this.latestValues)&&IM(u,this.latestValues),u}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var E;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!this.layout||!(h||p))return;this.resolvedRelativeTargetAt=tr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),r3(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||QT(this.parent.latestValues)||n3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,u,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),kg(this.relativeTargetOrigin,u,c),Bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const s=this.getLead(),u=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Bi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;f7(this.layoutCorrected,this.treeScale,this.path,u),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Pn());const{target:E}=s;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TM(this.prevProjectionDelta.x,this.projectionDelta.x),TM(this.prevProjectionDelta.y,this.projectionDelta.y)),jd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!DM(this.projectionDelta.x,this.prevProjectionDelta.x)||!DM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(s,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=Pn(),E=c?c.source:void 0,S=this.layout?this.layout.source:void 0,A=E!==S,w=this.getStack(),I=!w||w.members.length<=1,O=!!(A&&!I&&this.options.crossfade===!0&&!this.path.some(cK));this.animationProgress=0;let k;this.mixTargetDelta=B=>{const F=B/1e3;FM(p.x,s.x,F),FM(p.y,s.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uK(this.relativeTarget,this.relativeTargetOrigin,g,F),k&&F7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Pn()),Bi(k,this.relativeTarget)),A&&(this.animationValues=h,j7(h,f,this.latestValues,F,O,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{dg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nc(0)),this.currentAnimation=$7(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),s.onUpdate&&s.onUpdate(h)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=s;if(!(!u||!c||!f)){if(this!==s&&this.layout&&f&&E3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Pn();const p=Tr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const g=Tr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+g}Bi(u,c),gc(u,h),jd(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(s,u){this.sharedNodes.has(s)||this.sharedNodes.set(s,new J7),this.sharedNodes.get(s).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var u;const{layoutId:s}=this.options;return s?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:s}=this.options;return s?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let u=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&Mb("z",s,f,this.animationValues);for(let h=0;h<Rb.length;h++)Mb(`rotate${Rb[h]}`,s,f,this.animationValues),Mb(`skew${Rb[h]}`,s,f,this.animationValues);s.render();for(const h in f)s.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);s.scheduleRender()}applyProjectionStyles(s,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=fg(u==null?void 0:u.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=fg(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!xl(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=z7(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),s.transform=p;const{x:g,y:E}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,f.animationValues?s.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in eS){if(h[S]===void 0)continue;const{correct:A,applyTo:w,isCSSVariable:I}=eS[S],O=p==="none"?h[S]:A(h[S],f);if(w){const k=w.length;for(let B=0;B<k;B++)s[w[B]]=O}else I?this.options.visualElement.renderState.vars[S]=O:s[S]=O}this.options.layoutId&&(s.pointerEvents=f===this?fg(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var u;return(u=s.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(VM),this.root.sharedNodes.clear()}}}function Z7(t){t.updateLayout()}function eK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?Co(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],E=Tr(g);g.min=r[p].min,g.max=g.min+E}):E3(o,e.layoutBox,r)&&Co(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],E=Tr(r[p]);g.max=g.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+E)});const u=pc();jd(u,r,e.layoutBox);const c=pc();s?jd(c,t.applyTransform(i,!0),e.measuredBox):jd(c,r,e.layoutBox);const f=!m3(u);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:E}=p;if(g&&E){const S=Pn();kg(S,e.layoutBox,g.layoutBox);const A=Pn();kg(A,r,E.layoutBox),g3(S,A)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=S,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rK(t){t.clearSnapshot()}function VM(t){t.clearMeasurements()}function UM(t){t.isLayoutDirty=!1}function iK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oK(t){t.resolveTargetDelta()}function aK(t){t.calcProjection()}function sK(t){t.resetSkewAndRotation()}function lK(t){t.removeLeadSnapshot()}function FM(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zM(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function uK(t,e,n,r){zM(t.x,e.x,n.x,r),zM(t.y,e.y,n.y,r)}function cK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fK={duration:.45,ease:[.4,0,.1,1]},qM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jM=qM("applewebkit/")&&!qM("chrome/")?Math.round:bi;function HM(t){t.min=jM(t.min),t.max=jM(t.max)}function dK(t){HM(t.x),HM(t.y)}function E3(t,e,n){return t==="position"||t==="preserve-aspect"&&!k7(NM(e),NM(n),.2)}function hK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const pK=b3({attachResizeListener:(t,e)=>th(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Nb={current:void 0},T3=b3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nb.current){const t=new pK({});t.mount(window),t.setOptions({layoutScroll:!0}),Nb.current=t}return Nb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gA=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mK(...t){return e=>{let n=!1;const r=t.map(i=>{const o=GM(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():GM(t[i],null)}}}}function gK(...t){return C.useCallback(mK(...t),t)}class yK extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=JT(r)&&r.offsetWidth||0,o=JT(r)&&r.offsetHeight||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left,s.bottom=o-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function vK({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:o}){var g;const s=C.useId(),u=C.useRef(null),c=C.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=C.useContext(gA),h=((g=t.props)==null?void 0:g.ref)??(t==null?void 0:t.ref),p=gK(u,h);return C.useInsertionEffect(()=>{const{width:E,height:S,top:A,left:w,right:I,bottom:O}=c.current;if(e||o===!1||!u.current||!E||!S)return;const k=n==="left"?`left: ${w}`:`right: ${I}`,B=r==="bottom"?`bottom: ${O}`:`top: ${A}`;u.current.dataset.motionPopId=s;const F=document.createElement("style");f&&(F.nonce=f);const V=i??document.head;return V.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${S}px !important;
            ${k}px !important;
            ${B}px !important;
          }
        `),()=>{V.contains(F)&&V.removeChild(F)}},[e]),U.jsx(yK,{isPresent:e,childRef:u,sizeRef:c,pop:o,children:o===!1?t:C.cloneElement(t,{ref:p})})}const _K=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:u,anchorY:c,root:f})=>{const h=qw(bK),p=C.useId();let g=!0,E=C.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:S=>{h.set(S,!0);for(const A of h.values())if(!A)return;r&&r()},register:S=>(h.set(S,!1),()=>h.delete(S))}),[n,h,r]);return o&&g&&(E={...E}),C.useMemo(()=>{h.forEach((S,A)=>h.set(A,!1))},[n]),C.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),t=U.jsx(vK,{pop:s==="popLayout",isPresent:n,anchorX:u,anchorY:c,root:f,children:t}),U.jsx(ev.Provider,{value:E,children:t})};function bK(){return new Map}function S3(t=!0){const e=C.useContext(ev);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=C.useId();C.useEffect(()=>{if(t)return i(o)},[t]);const s=C.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const Mm=t=>t.key||"";function $M(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const EK=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:u="left",anchorY:c="top",root:f})=>{const[h,p]=S3(s),g=C.useMemo(()=>$M(t),[t]),E=s&&!h?[]:g.map(Mm),S=C.useRef(!0),A=C.useRef(g),w=qw(()=>new Map),I=C.useRef(new Set),[O,k]=C.useState(g),[B,F]=C.useState(g);ZU(()=>{S.current=!1,A.current=g;for(let D=0;D<B.length;D++){const N=Mm(B[D]);E.includes(N)?(w.delete(N),I.current.delete(N)):w.get(N)!==!0&&w.set(N,!1)}},[B,E.length,E.join("-")]);const V=[];if(g!==O){let D=[...g];for(let N=0;N<B.length;N++){const z=B[N],j=Mm(z);E.includes(j)||(D.splice(N,0,z),V.push(z))}return o==="wait"&&V.length&&(D=V),F($M(D)),k(g),null}const{forceRender:M}=C.useContext(zw);return U.jsx(U.Fragment,{children:B.map(D=>{const N=Mm(D),z=s&&!h?!1:g===B||E.includes(N),j=()=>{if(I.current.has(N))return;if(I.current.add(N),w.has(N))w.set(N,!0);else return;let H=!0;w.forEach($=>{$||(H=!1)}),H&&(M==null||M(),F(A.current),s&&(p==null||p()),r&&r())};return U.jsx(_K,{isPresent:z,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:f,onExitComplete:z?void 0:j,anchorX:u,anchorY:c,children:D},N)})})},w3=C.createContext({strict:!1}),KM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let YM=!1;function TK(){if(YM)return;const t={};for(const e in KM)t[e]={isEnabled:n=>KM[e].some(r=>!!n[r])};Z4(t),YM=!0}function A3(){return TK(),s7()}function SK(t){const e=A3();for(const n in t)e[n]={...e[n],...t[n]};Z4(e)}const wK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Lg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wK.has(t)}let x3=t=>!Lg(t);function AK(t){typeof t=="function"&&(x3=e=>e.startsWith("on")?!Lg(e):t(e))}try{AK(require("@emotion/is-prop-valid").default)}catch{}function xK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(x3(i)||n===!0&&Lg(i)||!e&&!Lg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const rv=C.createContext({});function CK(t,e){if(nv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eh(n)?n:void 0,animate:eh(r)?r:void 0}}return t.inherit!==!1?e:{}}function IK(t){const{initial:e,animate:n}=CK(t,C.useContext(rv));return C.useMemo(()=>({initial:e,animate:n}),[WM(e),WM(n)])}function WM(t){return Array.isArray(t)?t.join(" "):t}const yA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function C3(t,e,n){for(const r in e)!hr(e[r])&&!a3(r,n)&&(t[r]=e[r])}function PK({transformTemplate:t},e){return C.useMemo(()=>{const n=yA();return pA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RK(t,e){const n=t.style||{},r={};return C3(r,n,t),Object.assign(r,PK(t,e)),r}function MK(t,e){const n={},r=RK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const I3=()=>({...yA(),attrs:{}});function NK(t,e,n,r){const i=C.useMemo(()=>{const o=I3();return s3(o,e,u3(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};C3(o,t.style,t),i.style={...o,...i.style}}return i}const DK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vA(t){return typeof t!="string"||t.includes("-")?!1:!!(DK.indexOf(t)>-1||/[A-Z]/u.test(t))}function OK(t,e,n,{latestValues:r},i,o=!1,s){const c=(s??vA(t)?NK:MK)(e,r,i,t),f=xK(e,typeof t=="string",o),h=t!==C.Fragment?{...f,...c,ref:n}:{},{children:p}=e,g=C.useMemo(()=>hr(p)?p.get():p,[p]);return C.createElement(t,{...h,children:g})}function kK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:LK(n,r,i,t),renderState:e()}}function LK(t,e,n,r){const i={},o=r(t,{});for(const g in o)i[g]=fg(o[g]);let{initial:s,animate:u}=t;const c=nv(t),f=X4(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?u:s;if(p&&typeof p!="boolean"&&!tv(p)){const g=Array.isArray(p)?p:[p];for(let E=0;E<g.length;E++){const S=aA(t,g[E]);if(S){const{transitionEnd:A,transition:w,...I}=S;for(const O in I){let k=I[O];if(Array.isArray(k)){const B=h?k.length-1:0;k=k[B]}k!==null&&(i[O]=k)}for(const O in A)i[O]=A[O]}}}return i}const P3=t=>(e,n)=>{const r=C.useContext(rv),i=C.useContext(ev),o=()=>kK(t,e,r,i);return n?o():qw(o)},VK=P3({scrapeMotionValuesFromProps:mA,createRenderState:yA}),UK=P3({scrapeMotionValuesFromProps:c3,createRenderState:I3}),BK=Symbol.for("motionComponentSymbol");function FK(t,e,n){const r=C.useRef(n);C.useInsertionEffect(()=>{r.current=n});const i=C.useRef(null);return C.useCallback(o=>{var u;o&&((u=t.onMount)==null||u.call(t,o)),e&&(o?e.mount(o):e.unmount());const s=r.current;if(typeof s=="function")if(o){const c=s(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):s(o);else s&&(s.current=o)},[e])}const R3=C.createContext({});function oc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zK(t,e,n,r,i,o){var k,B;const{visualElement:s}=C.useContext(rv),u=C.useContext(w3),c=C.useContext(ev),f=C.useContext(gA),h=f.reducedMotion,p=f.skipAnimations,g=C.useRef(null),E=C.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:p,isSVG:o}),E.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const S=g.current,A=C.useContext(R3);S&&!S.projection&&i&&(S.type==="html"||S.type==="svg")&&qK(g.current,n,i,A);const w=C.useRef(!1);C.useInsertionEffect(()=>{S&&w.current&&S.update(n,c)});const I=n[U4],O=C.useRef(!!I&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,I))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,I)));return ZU(()=>{E.current=!0,S&&(w.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),O.current&&S.animationState&&S.animationState.animateChanges())}),C.useEffect(()=>{S&&(!O.current&&S.animationState&&S.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,I)}),O.current=!1),S.enteringChildren=void 0)}),S}function qK(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:M3(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||u&&oc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function M3(t){if(t)return t.options.allowProjection!==!1?t.projection:M3(t.parent)}function Db(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&SK(r);const o=n?n==="svg":vA(t),s=o?UK:VK;function u(f,h){let p;const g={...C.useContext(gA),...f,layoutId:jK(f)},{isStatic:E}=g,S=IK(f),A=s(f,E);if(!E&&QU){HK();const w=GK(g);p=w.MeasureLayout,S.visualElement=zK(t,A,g,i,w.ProjectionNode,o)}return U.jsxs(rv.Provider,{value:S,children:[p&&S.visualElement?U.jsx(p,{visualElement:S.visualElement,...g}):null,OK(t,f,FK(A,S.visualElement,h),A,E,e,o)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=C.forwardRef(u);return c[BK]=t,c}function jK({layoutId:t}){const e=C.useContext(zw).id;return e&&t!==void 0?e+"-"+t:t}function HK(t,e){C.useContext(w3).strict}function GK(t){const e=A3(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function $K(t,e){if(typeof Proxy>"u")return Db;const n=new Map,r=(o,s)=>Db(o,s,t,e),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,Db(s,void 0,t,e)),n.get(s))})}const KK=(t,e)=>e.isSVG??vA(t)?new w7(e):new v7(e,{allowProjection:t!==C.Fragment});class YK extends js{constructor(e){super(e),e.animationState||(e.animationState=P7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let WK=0;class JK extends js{constructor(){super(...arguments),this.id=WK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XK={animation:{Feature:YK},exit:{Feature:JK}};function Dh(t){return{point:{x:t.pageX,y:t.pageY}}}const QK=t=>e=>cA(e)&&t(e,Dh(e));function Hd(t,e,n,r){return th(t,e,QK(n),r)}const N3=({current:t})=>t?t.ownerDocument.defaultView:null,JM=(t,e)=>Math.abs(t-e);function ZK(t,e){const n=JM(t.x,e.x),r=JM(t.y,e.y);return Math.sqrt(n**2+r**2)}const XM=new Set(["auto","scroll"]);class D3{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=kb(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,A=ZK(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!A)return;const{point:w}=E,{timestamp:I}=tr;this.history.push({...w,timestamp:I});const{onStart:O,onMove:k}=this.handlers;S||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ob(S,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:I}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=kb(E.type==="pointercancel"?this.lastMoveEventInfo:Ob(S,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,O),w&&w(E,O)},!cA(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const c=Dh(e),f=Ob(c,this.transformPagePoint),{point:h}=f,{timestamp:p}=tr;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,kb(f,this.history)),this.removeListeners=Rh(Hd(this.contextWindow,"pointermove",this.handlePointerMove),Hd(this.contextWindow,"pointerup",this.handlePointerUp),Hd(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(XM.has(r.overflowX)||XM.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,i),Vt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ns(this.updatePoint)}}function Ob(t,e){return e?{point:e(t.point)}:t}function QM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kb({point:t},e){return{point:t,delta:QM(t,O3(e)),offset:QM(t,eY(e)),velocity:tY(e,.1)}}function eY(t){return t[0]}function O3(t){return t[t.length-1]}function tY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=O3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$i(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>$i(e)*2&&(r=t[1]);const o=vi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function nY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function ZM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rY(t,{top:e,left:n,bottom:r,right:i}){return{x:ZM(t.x,n,i),y:ZM(t.y,e,r)}}function eN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iY(t,e){return{x:eN(t.x,e.x),y:eN(t.y,e.y)}}function oY(t,e){let n=.5;const r=Tr(t),i=Tr(e);return i>r?n=Xd(e.min,e.max-r,t.min):r>i&&(n=Xd(t.min,t.max-i,e.min)),Uo(0,1,n)}function aY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tS=.35;function sY(t=tS){return t===!1?t=0:t===!0&&(t=tS),{x:tN(t,"left","right"),y:tN(t,"top","bottom")}}function tN(t,e,n){return{min:nN(t,e),max:nN(t,n)}}function nN(t,e){return typeof t=="number"?t:t[e]||0}const lY=new WeakMap;class uY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{n&&this.snapToCursor(Dh(p).point),this.stopAnimation()},s=(p,g)=>{const{drag:E,dragPropagation:S,onDragStart:A}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V8(E),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Co(I=>{let O=this.getAxisMotionValue(I).get()||0;if(No.test(O)){const{projection:k}=this.visualElement;if(k&&k.layout){const B=k.layout.layoutBox[I];B&&(O=Tr(B)*(parseFloat(O)/100))}}this.originPoint[I]=O}),A&&Vt.update(()=>A(p,g),!1,!0),KT(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:A,onDrag:w}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:I}=g;if(S&&this.currentDirection===null){this.currentDirection=fY(I),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),w&&Vt.update(()=>w(p,g),!1,!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new D3(e,{onSessionStart:o,onStart:s,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:N3(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:u}=this.getProps();u&&Vt.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=nY(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&oc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rY(r.layoutBox,e):this.constraints=!1,this.elastic=sY(n),i!==this.constraints&&!oc(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Co(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=aY(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=d7(r,i.root,this.visualElement.getTransformPagePoint());let s=iY(i.layout.layoutBox,o);if(n){const u=n(u7(s));this.hasMutatedConstraints=!!u,u&&(s=t3(u))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Co(h=>{if(!Nm(h,n,this.currentDirection))return;let p=c&&c[h]||{};s&&(p={min:0,max:0});const g=i?200:1e6,E=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,S)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return KT(this.visualElement,e),r.start(oA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Co(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Co(n=>{const{drag:r}=this.getProps();if(!Nm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:u}=i.layout.layoutBox[n],c=o.get()||0;o.set(e[n]-Wt(s,u,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Co(s=>{const u=this.getAxisMotionValue(s);if(u&&this.constraints!==!1){const c=u.get();i[s]=oY({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Co(s=>{if(!Nm(s,e,null))return;const u=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];u.set(Wt(c,f,i[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;lY.set(this.visualElement,this);const e=this.visualElement.current,n=Hd(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps(),g=f.target,E=g!==e&&j8(g);h&&p&&!E&&this.start(f)});let r;const i=()=>{const{dragConstraints:f}=this.getProps();oc(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),r||(r=cY(e,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,s=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Vt.read(i);const u=th(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Co(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),s(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=tS,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:u}}}function rN(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function cY(t,e,n){const r=cM(t,rN(n)),i=cM(e,rN(n));return()=>{r(),i()}}function Nm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dY extends js{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new uY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Lb=t=>(e,n)=>{t&&Vt.update(()=>t(e,n),!1,!0)};class hY extends js{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new D3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lb(e),onStart:Lb(n),onMove:Lb(r),onEnd:(o,s)=>{delete this.session,i&&Vt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Hd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vb=!1;class pY extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Vb&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,e.layoutDependency!==n&&s.setOptions({...s.options,layoutDependency:n}),Vb=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Vt.postRender(()=>{const u=s.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Vb=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k3(t){const[e,n]=S3(),r=C.useContext(zw);return U.jsx(pY,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(R3),isPresent:e,safeToRemove:n})}const mY={pan:{Feature:hY},drag:{Feature:dY,ProjectionNode:T3,MeasureLayout:k3}};function iN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Vt.postRender(()=>o(e,Dh(e)))}class gY extends js{mount(){const{current:e}=this.node;e&&(this.unmount=B8(e,(n,r)=>(iN(this.node,r,"Start"),i=>iN(this.node,i,"End"))))}unmount(){}}class yY extends js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Vt.postRender(()=>o(e,Dh(e)))}class vY extends js{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=G8(e,(i,o)=>(oN(this.node,o,"Start"),(s,{success:u})=>oN(this.node,s,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const nS=new WeakMap,Ub=new WeakMap,_Y=t=>{const e=nS.get(t.target);e&&e(t)},bY=t=>{t.forEach(_Y)};function EY({root:t,...e}){const n=t||document;Ub.has(n)||Ub.set(n,{});const r=Ub.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bY,{root:t,...e})),r[i]}function TY(t,e,n){const r=EY(e);return nS.set(t,n),r.observe(t),()=>{nS.delete(t),r.unobserve(t)}}const SY={some:0,all:1};class wY extends js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:SY[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return TY(this.node.current,s,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(AY(e,n))&&this.startObserver()}unmount(){}}function AY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xY={inView:{Feature:wY},tap:{Feature:vY},focus:{Feature:yY},hover:{Feature:gY}},CY={layout:{ProjectionNode:T3,MeasureLayout:k3}},IY={...XK,...xY,...mY,...CY},Os=$K(IY,KK);var _A={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!e.OffscreenCanvas)return!1;try{var Y=new OffscreenCanvas(1,1),L=Y.getContext("2d");L.fillRect(0,0,1,1);var J=Y.transferToImageBitmap();L.createPattern(J,"no-repeat")}catch{return!1}return!0})();function c(){}function f(Y){var L=n.exports.Promise,J=L!==void 0?L:e.Promise;return typeof J=="function"?new J(Y):(Y(c,c),null)}var h=(function(Y,L){return{transform:function(J){if(Y)return J;if(L.has(J))return L.get(J);var le=new OffscreenCanvas(J.width,J.height),ce=le.getContext("2d");return ce.drawImage(J,0,0),L.set(J,le),le},clear:function(){L.clear()}}})(u,new Map),p=(function(){var Y=Math.floor(16.666666666666668),L,J,le={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(_e){var be=Math.random();return le[be]=requestAnimationFrame(function ve(Oe){ce===Oe||ce+Y-1<Oe?(ce=Oe,delete le[be],_e()):le[be]=requestAnimationFrame(ve)}),be},J=function(_e){le[_e]&&cancelAnimationFrame(le[_e])}):(L=function(_e){return setTimeout(_e,Y)},J=function(_e){return clearTimeout(_e)}),{frame:L,cancel:J}})(),g=(function(){var Y,L,J={};function le(ce){function _e(be,ve){ce.postMessage({options:be||{},callback:ve})}ce.init=function(ve){var Oe=ve.transferControlToOffscreen();ce.postMessage({canvas:Oe},[Oe])},ce.fire=function(ve,Oe,ie){if(L)return _e(ve,null),L;var xe=Math.random().toString(36).slice(2);return L=f(function(Ce){function fe(Ke){Ke.data.callback===xe&&(delete J[xe],ce.removeEventListener("message",fe),L=null,h.clear(),ie(),Ce())}ce.addEventListener("message",fe),_e(ve,xe),J[xe]=fe.bind(null,{data:{callback:xe}})}),L},ce.reset=function(){ce.postMessage({reset:!0});for(var ve in J)J[ve](),delete J[ve]}}return function(){if(Y)return Y;if(!r&&o){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Y=new Worker(URL.createObjectURL(new Blob([ce])))}catch(_e){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",_e),null}le(Y)}return Y}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(Y,L){return L?L(Y):Y}function A(Y){return Y!=null}function w(Y,L,J){return S(Y&&A(Y[L])?Y[L]:E[L],J)}function I(Y){return Y<0?0:Math.floor(Y)}function O(Y,L){return Math.floor(Math.random()*(L-Y))+Y}function k(Y){return parseInt(Y,16)}function B(Y){return Y.map(F)}function F(Y){var L=String(Y).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:k(L.substring(0,2)),g:k(L.substring(2,4)),b:k(L.substring(4,6))}}function V(Y){var L=w(Y,"origin",Object);return L.x=w(L,"x",Number),L.y=w(L,"y",Number),L}function M(Y){Y.width=document.documentElement.clientWidth,Y.height=document.documentElement.clientHeight}function D(Y){var L=Y.getBoundingClientRect();Y.width=L.width,Y.height=L.height}function N(Y){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=Y,L}function z(Y,L,J,le,ce,_e,be,ve,Oe){Y.save(),Y.translate(L,J),Y.rotate(_e),Y.scale(le,ce),Y.arc(0,0,1,be,ve,Oe),Y.restore()}function j(Y){var L=Y.angle*(Math.PI/180),J=Y.spread*(Math.PI/180);return{x:Y.x,y:Y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Y.startVelocity*.5+Math.random()*Y.startVelocity,angle2D:-L+(.5*J-Math.random()*J),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Y.color,shape:Y.shape,tick:0,totalTicks:Y.ticks,decay:Y.decay,drift:Y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Y.gravity*3,ovalScalar:.6,scalar:Y.scalar,flat:Y.flat}}function H(Y,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.velocity*=L.decay,L.flat?(L.wobble=0,L.wobbleX=L.x+10*L.scalar,L.wobbleY=L.y+10*L.scalar,L.tiltSin=0,L.tiltCos=0,L.random=1):(L.wobble+=L.wobbleSpeed,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble),L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2);var J=L.tick++/L.totalTicks,le=L.x+L.random*L.tiltCos,ce=L.y+L.random*L.tiltSin,_e=L.wobbleX+L.random*L.tiltCos,be=L.wobbleY+L.random*L.tiltSin;if(Y.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-J)+")",Y.beginPath(),s&&L.shape.type==="path"&&typeof L.shape.path=="string"&&Array.isArray(L.shape.matrix))Y.fill(oe(L.shape.path,L.shape.matrix,L.x,L.y,Math.abs(_e-le)*.1,Math.abs(be-ce)*.1,Math.PI/10*L.wobble));else if(L.shape.type==="bitmap"){var ve=Math.PI/10*L.wobble,Oe=Math.abs(_e-le)*.1,ie=Math.abs(be-ce)*.1,xe=L.shape.bitmap.width*L.scalar,Ce=L.shape.bitmap.height*L.scalar,fe=new DOMMatrix([Math.cos(ve)*Oe,Math.sin(ve)*Oe,-Math.sin(ve)*ie,Math.cos(ve)*ie,L.x,L.y]);fe.multiplySelf(new DOMMatrix(L.shape.matrix));var Ke=Y.createPattern(h.transform(L.shape.bitmap),"no-repeat");Ke.setTransform(fe),Y.globalAlpha=1-J,Y.fillStyle=Ke,Y.fillRect(L.x-xe/2,L.y-Ce/2,xe,Ce),Y.globalAlpha=1}else if(L.shape==="circle")Y.ellipse?Y.ellipse(L.x,L.y,Math.abs(_e-le)*L.ovalScalar,Math.abs(be-ce)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):z(Y,L.x,L.y,Math.abs(_e-le)*L.ovalScalar,Math.abs(be-ce)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var Ae=Math.PI/2*3,Ze=4*L.scalar,it=8*L.scalar,Ct=L.x,an=L.y,_t=5,ct=Math.PI/_t;_t--;)Ct=L.x+Math.cos(Ae)*it,an=L.y+Math.sin(Ae)*it,Y.lineTo(Ct,an),Ae+=ct,Ct=L.x+Math.cos(Ae)*Ze,an=L.y+Math.sin(Ae)*Ze,Y.lineTo(Ct,an),Ae+=ct;else Y.moveTo(Math.floor(L.x),Math.floor(L.y)),Y.lineTo(Math.floor(L.wobbleX),Math.floor(ce)),Y.lineTo(Math.floor(_e),Math.floor(be)),Y.lineTo(Math.floor(le),Math.floor(L.wobbleY));return Y.closePath(),Y.fill(),L.tick<L.totalTicks}function $(Y,L,J,le,ce){var _e=L.slice(),be=Y.getContext("2d"),ve,Oe,ie=f(function(xe){function Ce(){ve=Oe=null,be.clearRect(0,0,le.width,le.height),h.clear(),ce(),xe()}function fe(){r&&!(le.width===i.width&&le.height===i.height)&&(le.width=Y.width=i.width,le.height=Y.height=i.height),!le.width&&!le.height&&(J(Y),le.width=Y.width,le.height=Y.height),be.clearRect(0,0,le.width,le.height),_e=_e.filter(function(Ke){return H(be,Ke)}),_e.length?ve=p.frame(fe):Ce()}ve=p.frame(fe),Oe=Ce});return{addFettis:function(xe){return _e=_e.concat(xe),ie},canvas:Y,promise:ie,reset:function(){ve&&p.cancel(ve),Oe&&Oe()}}}function ye(Y,L){var J=!Y,le=!!w(L||{},"resize"),ce=!1,_e=w(L,"disableForReducedMotion",Boolean),be=o&&!!w(L||{},"useWorker"),ve=be?g():null,Oe=J?M:D,ie=Y&&ve?!!Y.__confetti_initialized:!1,xe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ce;function fe(Ae,Ze,it){for(var Ct=w(Ae,"particleCount",I),an=w(Ae,"angle",Number),_t=w(Ae,"spread",Number),ct=w(Ae,"startVelocity",Number),Qr=w(Ae,"decay",Number),$o=w(Ae,"gravity",Number),Ua=w(Ae,"drift",Number),sn=w(Ae,"colors",B),Ci=w(Ae,"ticks",Number),to=w(Ae,"shapes"),Me=w(Ae,"scalar"),He=!!w(Ae,"flat"),ot=V(Ae),ft=Ct,st=[],Ht=Y.width*ot.x,ln=Y.height*ot.y;ft--;)st.push(j({x:Ht,y:ln,angle:an,spread:_t,startVelocity:ct,color:sn[ft%sn.length],shape:to[O(0,to.length)],ticks:Ci,decay:Qr,gravity:$o,drift:Ua,scalar:Me,flat:He}));return Ce?Ce.addFettis(st):(Ce=$(Y,st,Oe,Ze,it),Ce.promise)}function Ke(Ae){var Ze=_e||w(Ae,"disableForReducedMotion",Boolean),it=w(Ae,"zIndex",Number);if(Ze&&xe)return f(function(ct){ct()});J&&Ce?Y=Ce.canvas:J&&!Y&&(Y=N(it),document.body.appendChild(Y)),le&&!ie&&Oe(Y);var Ct={width:Y.width,height:Y.height};ve&&!ie&&ve.init(Y),ie=!0,ve&&(Y.__confetti_initialized=!0);function an(){if(ve){var ct={getBoundingClientRect:function(){if(!J)return Y.getBoundingClientRect()}};Oe(ct),ve.postMessage({resize:{width:ct.width,height:ct.height}});return}Ct.width=Ct.height=null}function _t(){Ce=null,le&&(ce=!1,e.removeEventListener("resize",an)),J&&Y&&(document.body.contains(Y)&&document.body.removeChild(Y),Y=null,ie=!1)}return le&&!ce&&(ce=!0,e.addEventListener("resize",an,!1)),ve?ve.fire(Ae,Ct,_t):fe(Ae,Ct,_t)}return Ke.reset=function(){ve&&ve.reset(),Ce&&Ce.reset()},Ke}var Se;function Q(){return Se||(Se=ye(null,{useWorker:!0,resize:!0})),Se}function oe(Y,L,J,le,ce,_e,be){var ve=new Path2D(Y),Oe=new Path2D;Oe.addPath(ve,new DOMMatrix(L));var ie=new Path2D;return ie.addPath(Oe,new DOMMatrix([Math.cos(be)*ce,Math.sin(be)*ce,-Math.sin(be)*_e,Math.cos(be)*_e,J,le])),ie}function he(Y){if(!s)throw new Error("path confetti are not supported in this browser");var L,J;typeof Y=="string"?L=Y:(L=Y.path,J=Y.matrix);var le=new Path2D(L),ce=document.createElement("canvas"),_e=ce.getContext("2d");if(!J){for(var be=1e3,ve=be,Oe=be,ie=0,xe=0,Ce,fe,Ke=0;Ke<be;Ke+=2)for(var Ae=0;Ae<be;Ae+=2)_e.isPointInPath(le,Ke,Ae,"nonzero")&&(ve=Math.min(ve,Ke),Oe=Math.min(Oe,Ae),ie=Math.max(ie,Ke),xe=Math.max(xe,Ae));Ce=ie-ve,fe=xe-Oe;var Ze=10,it=Math.min(Ze/Ce,Ze/fe);J=[it,0,0,it,-Math.round(Ce/2+ve)*it,-Math.round(fe/2+Oe)*it]}return{type:"path",path:L,matrix:J}}function Te(Y){var L,J=1,le="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Y=="string"?L=Y:(L=Y.text,J="scalar"in Y?Y.scalar:J,ce="fontFamily"in Y?Y.fontFamily:ce,le="color"in Y?Y.color:le);var _e=10*J,be=""+_e+"px "+ce,ve=new OffscreenCanvas(_e,_e),Oe=ve.getContext("2d");Oe.font=be;var ie=Oe.measureText(L),xe=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),Ce=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),fe=2,Ke=ie.actualBoundingBoxLeft+fe,Ae=ie.actualBoundingBoxAscent+fe;xe+=fe+fe,Ce+=fe+fe,ve=new OffscreenCanvas(xe,Ce),Oe=ve.getContext("2d"),Oe.font=be,Oe.fillStyle=le,Oe.fillText(L,Ke,Ae);var Ze=1/J;return{type:"bitmap",bitmap:ve.transferToImageBitmap(),matrix:[Ze,0,0,Ze,-xe*Ze/2,-Ce*Ze/2]}}n.exports=function(){return Q().apply(this,arguments)},n.exports.reset=function(){Q().reset()},n.exports.create=ye,n.exports.shapeFromPath=he,n.exports.shapeFromText=Te})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),_A,!1);const nh=_A.exports;_A.exports.create;const PY=({type:t})=>(C.useEffect(()=>{t==="correct"&&nh({particleCount:100,spread:70,origin:{y:.6}})},[t]),U.jsx(EK,{children:t&&U.jsxs(Os.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-6 rounded-2xl shadow-2xl flex flex-col items-center gap-4 ${t==="correct"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[t==="correct"?U.jsx(DT,{size:48}):U.jsx(Fd,{size:48}),U.jsx("span",{className:"text-2xl font-bold",children:t==="correct"?"Excellent!":"Try Again"})]})})),RY=({isOpen:t,level:e,onClose:n})=>(C.useEffect(()=>{if(t){const i=Date.now()+3e3,o=()=>{nh({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#FFD700","#FFA500"]}),nh({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#FFD700","#FFA500"]}),Date.now()<i&&requestAnimationFrame(o)};o()}},[t]),t?U.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:U.jsx(Os.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-indigo-900 to-purple-800 p-1 rounded-3xl shadow-2xl max-w-sm w-full",children:U.jsxs("div",{className:"bg-slate-900 rounded-[22px] p-8 text-center relative overflow-hidden",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),U.jsx(Os.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-6 inline-block p-4 bg-yellow-400/20 rounded-full text-yellow-400 border border-yellow-400/50",children:U.jsx(Fw,{size:64})}),U.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-wide",children:"Level Up!"}),U.jsxs("p",{className:"text-indigo-200 mb-8",children:["You reached Level ",U.jsx("span",{className:"text-yellow-400 font-bold text-xl",children:e})]}),U.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 text-slate-900 font-bold py-3 rounded-xl hover:brightness-110 transition-all active:scale-95",children:"Awesome!"})]})})}):null);var Cl=(t=>(t.MULTIPLE_CHOICE="MULTIPLE_CHOICE",t.TRUE_FALSE="TRUE_FALSE",t))(Cl||{});const hg=["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.5-flash"],MY=[{id:"p1",title:"Blended Learning: A New Approach",topic:"Modern Education",estimatedTime:10,content:`
# Blended Learning: A New Approach

Blended learning is a way of studying that combines online video materials and traditional classroom methods. It requires the physical presence of both teacher and student, with some elements of student control over time, place, path, or pace.

In a blended learning course, students might attend a class taught by a teacher in a traditional classroom setting, while also independently completing online components of the course outside of the classroom. In this case, in-class time may be replaced by online learning experiences, and online learning would act as a complement to the in-class materials.

This approach allows for more personalized education. Teachers can use data from online tests to help students who are struggling. Meanwhile, students who master the material quickly can move on to more challenging tasks.
    `,questions:[{id:"q1_1",text:"What is the main definition of blended learning?",type:Cl.MULTIPLE_CHOICE,difficulty:"easy",options:[{id:"A",text:"Studying only through online videos."},{id:"B",text:"Traditional classroom methods without technology."},{id:"C",text:"A combination of online materials and traditional classroom methods."},{id:"D",text:"Homeschooling with a tutor."}],correctAnswerId:"C",explanation:'The text states that blended learning "combines online video materials and traditional classroom methods".'},{id:"q1_2",text:"In blended learning, students have no control over their learning pace.",type:Cl.TRUE_FALSE,difficulty:"medium",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text mentions "some elements of student control over time, place, path, or pace".'},{id:"q1_3",text:"How can teachers benefit from blended learning according to the text?",type:Cl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They can work fewer hours."},{id:"B",text:"They can use data to help struggling students."},{id:"C",text:"They do not need to prepare lesson plans."},{id:"D",text:"They can replace in-class time completely."}],correctAnswerId:"B",explanation:'The passage says: "Teachers can use data from online tests to help students who are struggling."'}]},{id:"p2",title:"Mobile Devices in the Classroom",topic:"Technology",estimatedTime:8,content:`
# Mobile Devices in the Classroom

For many years, schools banned mobile phones, regarding them as distractions. However, in the unit "New Ways to Learn", we explore how mobile devices can actually support education.

Smartphones and tablets provide instant access to the internet, allowing students to search for information, access digital textbooks, and use educational apps. Apps like Quizlet or Kahoot turn learning into a game, making it more engaging.

However, there are challenges. Not all students can afford expensive devices, leading to a digital divide. Furthermore, without proper rules, students might use devices for social media instead of learning. Therefore, strict guidelines are necessary for mobile learning to be effective.
    `,questions:[{id:"q2_1",text:"Schools have always encouraged the use of mobile phones.",type:Cl.TRUE_FALSE,difficulty:"easy",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text says: "For many years, schools banned mobile phones, regarding them as distractions."'},{id:"q2_2",text:"What is mentioned as a benefit of mobile devices?",type:Cl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They prevent students from playing games."},{id:"B",text:"They allow instant access to information and educational apps."},{id:"C",text:"They are cheap for everyone."},{id:"D",text:"They replace teachers completely."}],correctAnswerId:"B",explanation:'The text states they "provide instant access to the internet... and use educational apps".'},{id:"q2_3",text:"What is a major challenge mentioned in the text?",type:Cl.MULTIPLE_CHOICE,difficulty:"hard",options:[{id:"A",text:"Digital divide due to cost."},{id:"B",text:"Lack of electricity."},{id:"C",text:"Teachers do not know how to use phones."},{id:"D",text:"Screens are too small."}],correctAnswerId:"A",explanation:'The text mentions: "Not all students can afford expensive devices, leading to a digital divide."'}]}],NY={totalPoints:0,level:1,completedPassages:[],streakDays:1,lastActiveDate:new Date().toISOString(),accuracy:0,totalQuestionsAnswered:0,weakTopics:[]},Bb={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},DY=`
# Apps of the Future

How many times a day do you tap the icon of your favourite social media site or play a game on your smartphone? When your parents were young, apps didnt even exist, but now we cant imagine our lives without them. So what will apps be like in the future?

**A new way to learn**
Apps are being used in education. They are useful because students can use them anytime, anywhere and on any device. They present information in **bite-sized chunks**, which people find easy to understand and remember. Lessons can also be turned into games, making learning fun! Soon, apps will be the new normal.

**Augmented Reality (AR)**
Inside AR apps, the real world is mixed with the digital one. These apps are downloaded and teachers use them to make learning more interesting. These apps capture students attention and help them concentrate and interact with their lessons. Students can experience the material and become more interested in the subject. At the same time, they can explore the topic taught at their own pace.

**Future Impact**
In the future, apps will be able to do a lot of things for us. Some people think this will have a lot of benefits, others think it will make us lazy or that we will forget how to do things for ourselves. Whatever your opinion on modern technology, one thing is certain: the **apps of the future will change our lives**.
`,OY=[{id:"lq1",question:"The first apps appeared over 50 years ago.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"DS"},{id:"lq2",question:"You can only use educational apps on smartphones.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq3",question:"Some apps already use augmented reality.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"T"},{id:"lq4",question:"AR apps make lessons boring.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq5",question:"Everyone believes apps will make us lazy.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq6",question:"The authors purpose is to ",options:[{id:"A",text:"give us information about how apps are developing."},{id:"B",text:"explain predictions about future technology in education."},{id:"C",text:"inform us how to use the apps more efficiently."},{id:"D",text:"give us tips on choosing apps."}],correctAnswerId:"A"},{id:"lq7",question:"How do educational apps usually present information?",options:[{id:"A",text:"In long and complicated paragraphs"},{id:"B",text:"In short and easy-to-understand chunks"},{id:"C",text:"Only through videos"},{id:"D",text:"Without any explanation"}],correctAnswerId:"B"},{id:"lq8",question:"According to the text, what is certain about the apps of the future?",options:[{id:"A",text:"They will completely replace teachers."},{id:"B",text:"They will disappear in the future."},{id:"C",text:"They will change our lives."},{id:"D",text:"They will make everyone lazy."}],correctAnswerId:"C"}],kY=Object.prototype.toString,LY=t=>kY.call(t)==="[object Error]",VY=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function UY(t){if(!(t&&LY(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:VY.has(n)}function BY(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Dm(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class L3 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function FY(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function aN(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function zY({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var E,S,A,w;const o=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(o instanceof L3)throw o.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,u=i.maxRetryTime??Number.POSITIVE_INFINITY,c=Object.freeze({error:o,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(c),aN(r,u)<=0)throw o;const f=await i.shouldConsumeRetry(c),h=aN(r,u);if(h<=0||s<=0)throw o;if(o instanceof TypeError&&!UY(o)){if(f)throw o;return(E=i.signal)==null||E.throwIfAborted(),!1}if(!await i.shouldRetry(c))throw o;if(!f)return(S=i.signal)==null||S.throwIfAborted(),!1;const p=FY(n,i),g=Math.min(p,h);return(A=i.signal)==null||A.throwIfAborted(),g>0&&await new Promise((I,O)=>{var F,V;const k=()=>{var M;clearTimeout(B),(M=i.signal)==null||M.removeEventListener("abort",k),O(i.signal.reason)},B=setTimeout(()=>{var M;(M=i.signal)==null||M.removeEventListener("abort",k),I()},g);i.unref&&((F=B.unref)==null||F.call(B)),(V=i.signal)==null||V.addEventListener("abort",k,{once:!0})}),(w=i.signal)==null||w.throwIfAborted(),!0}async function qY(t,e={}){var o,s,u;if(e={...e},BY(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Dm("factor",e.factor,{min:0,allowInfinity:!1}),Dm("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Dm("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Dm("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(o=e.signal)==null||o.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const c=await t(n);return(u=e.signal)==null||u.throwIfAborted(),c}catch(c){await zY({error:c,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var jY={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HY,GY;function $Y(){return{geminiUrl:HY,vertexUrl:GY}}function KY(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=$Y();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{}function we(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];v(h,e.slice(o+1),n[f])}else for(const f of c)v(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function YY(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}rS(t,i,o,0,s)}}function rS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])rS(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);v(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;o in s&&rS(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WY(t){const e={},n=y(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function JY(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["response","generateVideoResponse"]);return s!=null&&v(e,["response"],QY(s)),e}function XY(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["response"]);return s!=null&&v(e,["response"],ZY(s)),e}function QY(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>eW(s))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function ZY(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tW(s))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function eW(t){const e={},n=y(t,["video"]);return n!=null&&v(e,["video"],sW(n)),e}function tW(t){const e={},n=y(t,["_self"]);return n!=null&&v(e,["video"],lW(n)),e}function nW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function rW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function iW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["response"]);return s!=null&&v(e,["response"],oW(s)),e}function oW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function V3(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["response"]);return s!=null&&v(e,["response"],aW(s)),e}function aW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function sW(t){const e={},n=y(t,["uri"]);n!=null&&v(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],bA(r));const i=y(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function lW(t){const e={},n=y(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],bA(r));const i=y(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sN||(sN={}));var lN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lN||(lN={}));var uN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uN||(uN={}));var Ts;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ts||(Ts={}));var cN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cN||(cN={}));var fN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fN||(fN={}));var dN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dN||(dN={}));var hN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hN||(hN={}));var pN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pN||(pN={}));var mN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mN||(mN={}));var gN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gN||(gN={}));var yN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(yN||(yN={}));var vN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vN||(vN={}));var _N;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_N||(_N={}));var bN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bN||(bN={}));var EN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(EN||(EN={}));var TN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TN||(TN={}));var SN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(SN||(SN={}));var wN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wN||(wN={}));var AN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(AN||(AN={}));var xN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xN||(xN={}));var Vg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vg||(Vg={}));var CN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CN||(CN={}));var IN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IN||(IN={}));var PN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(PN||(PN={}));var iS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(iS||(iS={}));var RN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RN||(RN={}));var MN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(MN||(MN={}));var oS;(function(t){t.COLLECTION="COLLECTION"})(oS||(oS={}));var NN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(NN||(NN={}));var DN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DN||(DN={}));var ON;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ON||(ON={}));var kN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kN||(kN={}));var LN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LN||(LN={}));var VN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(VN||(VN={}));var UN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UN||(UN={}));var BN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(BN||(BN={}));var FN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FN||(FN={}));var zN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(zN||(zN={}));var qN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qN||(qN={}));var jN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(jN||(jN={}));var HN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(HN||(HN={}));var GN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(GN||(GN={}));var $N;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($N||($N={}));var KN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KN||(KN={}));var YN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(YN||(YN={}));var WN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(WN||(WN={}));var JN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JN||(JN={}));var XN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(XN||(XN={}));var QN;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(QN||(QN={}));var ZN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ZN||(ZN={}));var eD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eD||(eD={}));var tD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tD||(tD={}));var nD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nD||(nD={}));var rD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rD||(rD={}));var iD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(iD||(iD={}));var yc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(yc||(yc={}));class aS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _d{get text(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[E,S]of Object.entries(g))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(E);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,E]of Object.entries(p))g!=="inlineData"&&(E!==null||E!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class oD{}class aD{}class uW{}class cW{}class fW{}class dW{}class sD{}class lD{}class uD{}class hW{}class Ug{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ug;let i;const o=e;return n?i=XY(o):i=JY(o),Object.assign(r,i),r}}class cD{}class fD{}class dD{}class hD{}class pW{}class mW{}class gW{}class EA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new EA,o=iW(e);return Object.assign(r,o),r}}class yW{}class vW{}class _W{}class bW{}class pD{}class EW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class TW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class TA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new TA,o=V3(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function U3(t,e){const n=pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function B3(t){return Array.isArray(t)?t.map(e=>Bg(e)):[Bg(t)]}function Bg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function F3(t){const e=Bg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function z3(t){const e=Bg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mD(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function q3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>mD(e)):[mD(t)]}function sS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function gD(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function yD(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pr(t){if(t==null)throw new Error("ContentUnion is required");return sS(t)?t:{role:"user",parts:q3(t)}}function SA(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=pr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=pr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pr(n)):[pr(e)]}function Ei(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(gD(t)||yD(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pr(t)]}const e=[],n=[],r=sS(t[0]);for(const i of t){const o=sS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(gD(i)||yD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:q3(n)}),e}function SW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ts).includes(n[0].toUpperCase())?n[0].toUpperCase():Ts.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ts).includes(r.toUpperCase())?r.toUpperCase():Ts.TYPE_UNSPECIFIED})}}function Sc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&SW(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ts).includes(u.toUpperCase())?u.toUpperCase():Ts.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Sc(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Sc(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Sc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function wA(t){return Sc(t)}function AA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function xA(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Sc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Sc(e.response));return t}function Xc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ra(t,e){if(typeof e!="string")throw new Error("name must be a string");return wW(t,e,"cachedContents")}function j3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Hs(t){return bA(t)}function AW(t){return t!=null&&typeof t=="object"&&"name"in t}function xW(t){return t!=null&&typeof t=="object"&&"video"in t}function CW(t){return t!=null&&typeof t=="object"&&"uri"in t}function H3(t){var e;let n;if(AW(t)&&(n=t.name),!(CW(t)&&(n=t.uri,n===void 0))&&!(xW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function G3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function $3(t){for(const e of["models","tunedModels","publisherModels"])if(IW(t,e))return t[e];return[]}function IW(t,e){return t!==null&&typeof t=="object"&&e in t}function PW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function RW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=PW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function K3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function MW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Y3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Qc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function W3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NW(t){const e={},n=y(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>dJ(s))),v(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["inlinedEmbedContentResponses"],o)}return e}function DW(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function OW(t){const e={},n=y(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function pg(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&v(e,["state"],W3(i));const o=y(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const s=y(t,["metadata","endTime"]);s!=null&&v(e,["endTime"],s);const u=y(t,["metadata","updateTime"]);u!=null&&v(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&v(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&v(e,["dest"],NW(Y3(f))),e}function lS(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["state"]);i!=null&&v(e,["state"],W3(i));const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["createTime"]);s!=null&&v(e,["createTime"],s);const u=y(t,["startTime"]);u!=null&&v(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&v(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&v(e,["src"],kW(p));const g=y(t,["outputConfig"]);g!=null&&v(e,["dest"],DW(Y3(g)));const E=y(t,["completionStats"]);return E!=null&&v(e,["completionStats"],E),e}function kW(t){const e={},n=y(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function LW(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>fJ(t,s))),v(n,["requests","requests"],o)}return n}function VW(t){const e={},n=y(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function UW(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function BW(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function FW(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function zW(t){const e={},n=y(t,["content"]);n!=null&&v(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],qW(r));const i=y(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const s=y(t,["avgLogprobs"]);s!=null&&v(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&v(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(E=>E)),v(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&v(e,["urlContextMetadata"],p),e}function qW(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function J3(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_J(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function jW(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function HW(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],OW(MW(i))),n}function vD(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],LW(t,K3(t,i)));const o=y(e,["config"]);return o!=null&&jW(o,n),n}function GW(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["inputConfig"],VW(K3(t,i)));const o=y(e,["config"]);return o!=null&&HW(o,n),n}function $W(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function KW(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],eJ(t,i));const o=y(e,["config"]);return o!=null&&$W(o,n),n}function YW(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function WW(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function JW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function XW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function QW(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=SA(t,r);Array.isArray(o)&&(o=o.map(s=>s)),v(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(v(n,["_self"],ZW(i,n)),YY(n,{"requests[].*":"requests[].request.*"})),n}function ZW(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function eJ(t,e){const n={},r=y(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],QW(t,i)),n}function tJ(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function nJ(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rJ(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iJ(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],J3(pr(i)));const o=y(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=y(e,["topP"]);s!=null&&v(r,["topP"],s);const u=y(e,["topK"]);u!=null&&v(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const E=y(e,["presencePenalty"]);E!=null&&v(r,["presencePenalty"],E);const S=y(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=y(e,["seed"]);A!=null&&v(r,["seed"],A);const w=y(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const I=y(e,["responseSchema"]);I!=null&&v(r,["responseSchema"],wA(I));const O=y(e,["responseJsonSchema"]);if(O!=null&&v(r,["responseJsonSchema"],O),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=y(e,["safetySettings"]);if(n!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(ye=>bJ(ye))),v(n,["safetySettings"],$)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let $=Xc(B);Array.isArray($)&&($=$.map(ye=>TJ(Jc(ye)))),v(n,["tools"],$)}const F=y(e,["toolConfig"]);if(n!==void 0&&F!=null&&v(n,["toolConfig"],EJ(F)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&v(n,["cachedContent"],Ra(t,V));const M=y(e,["responseModalities"]);M!=null&&v(r,["responseModalities"],M);const D=y(e,["mediaResolution"]);D!=null&&v(r,["mediaResolution"],D);const N=y(e,["speechConfig"]);if(N!=null&&v(r,["speechConfig"],AA(N)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=y(e,["thinkingConfig"]);z!=null&&v(r,["thinkingConfig"],z);const j=y(e,["imageConfig"]);j!=null&&v(r,["imageConfig"],cJ(j));const H=y(e,["enableEnhancedCivicAnswers"]);if(H!=null&&v(r,["enableEnhancedCivicAnswers"],H),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function oJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>zW(f))),v(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const s=y(t,["responseId"]);s!=null&&v(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function aJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function sJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Qc(t,r)),n}function lJ(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function uJ(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function cJ(t){const e={},n=y(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["request","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Ei(i);Array.isArray(u)&&(u=u.map(c=>J3(c))),v(n,["request","contents"],u)}const o=y(e,["metadata"]);o!=null&&v(n,["metadata"],o);const s=y(e,["config"]);return s!=null&&v(n,["request","generationConfig"],iJ(t,s,y(n,["request"],{}))),n}function dJ(t){const e={},n=y(t,["response"]);n!=null&&v(e,["response"],oJ(n));const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["error"]);return i!=null&&v(e,["error"],i),e}function hJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function mJ(t){const e={},n=y(t,["config"]);return n!=null&&hJ(n,e),e}function gJ(t){const e={},n=y(t,["config"]);return n!=null&&pJ(n,e),e}function yJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pg(s))),v(e,["batchJobs"],o)}return e}function vJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lS(s))),v(e,["batchJobs"],o)}return e}function _J(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],tJ(o));const s=y(t,["functionCall"]);s!=null&&v(e,["functionCall"],nJ(s));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],UW(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function bJ(t){const e={},n=y(t,["category"]);if(n!=null&&v(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function EJ(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],rJ(r)),e}function TJ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],lJ(s));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],uJ(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var va;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(va||(va={}));class ou{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SJ extends Pa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ou(va.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=vD(this.apiClient,e),r=n._url,i=we("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const E=p.request;E.systemInstruction=g,p.request=E}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=GW(this.apiClient,e);return u=we("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>lS(h))}else{const f=vD(this.apiClient,e);return u=we("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>pg(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KW(this.apiClient,e);return o=we("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>pg(c))}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=sJ(this.apiClient,e);return u=we("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>lS(h))}else{const f=aJ(this.apiClient,e);return u=we("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>pg(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=FW(this.apiClient,e);s=we("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=BW(this.apiClient,e);s=we("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gJ(e);return u=we("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=vJ(h),g=new pD;return Object.assign(g,p),g})}else{const f=mJ(e);return u=we("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yJ(h),g=new pD;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=WW(this.apiClient,e);return u=we("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>XW(h))}else{const f=YW(this.apiClient,e);return u=we("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>JW(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wJ(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _D(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>KJ(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function AJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let h=Ei(s);Array.isArray(h)&&(h=h.map(p=>_D(p))),v(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],_D(pr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>WJ(p))),v(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],YJ(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let p=Ei(s);Array.isArray(p)&&(p=p.map(g=>g)),v(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],pr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>JJ(g))),v(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function CJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],U3(t,r));const i=y(e,["config"]);return i!=null&&AJ(i,n),n}function IJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],U3(t,r));const i=y(e,["config"]);return i!=null&&xJ(i,n),n}function PJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ra(t,r)),n}function RJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ra(t,r)),n}function MJ(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function NJ(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function DJ(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function OJ(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kJ(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LJ(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&v(e,["response"],s);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function VJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ra(t,r)),n}function UJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ra(t,r)),n}function BJ(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function FJ(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function zJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function qJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function jJ(t){const e={},n=y(t,["config"]);return n!=null&&zJ(n,e),e}function HJ(t){const e={},n=y(t,["config"]);return n!=null&&qJ(n,e),e}function GJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function $J(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function KJ(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],DJ(o));const s=y(t,["functionCall"]);s!=null&&v(e,["functionCall"],OJ(s));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],wJ(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function YJ(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],kJ(r)),e}function WJ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],BJ(s));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],FJ(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function JJ(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>LJ(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function XJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function QJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function ZJ(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ra(t,r));const i=y(e,["config"]);return i!=null&&XJ(i,n),n}function eX(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ra(t,r));const i=y(e,["config"]);return i!=null&&QJ(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tX extends Pa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ou(va.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=IJ(this.apiClient,e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=CJ(this.apiClient,e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=UJ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=VJ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=RJ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=NJ(h),g=new dD;return Object.assign(g,p),g})}else{const f=PJ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=MJ(h),g=new dD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=eX(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=ZJ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=HJ(e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=$J(h),g=new hD;return Object.assign(g,p),g})}else{const f=jJ(e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=GJ(h),g=new hD;return Object.assign(g,p),g})}}}function Fg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function Ki(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(S){return Promise.resolve(S).then(E,p)}}function u(E,S){r[E]&&(i[E]=function(A){return new Promise(function(w,I){o.push([E,A,w,I])>1||c(E,A)})},S&&(i[E]=S(i[E])))}function c(E,S){try{f(r[E](S))}catch(A){g(o[0][3],A)}}function f(E){E.value instanceof qe?Promise.resolve(E.value.v).then(h,p):g(o[0][2],E)}function h(E){c("next",E)}function p(E){c("throw",E)}function g(E,S){E(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Yi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bD=="function"?bD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nX(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:X3(n)}function X3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rX(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ED(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!X3(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class iX{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new oX(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class oX{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),rX(o)}async sendMessage(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const E=f?[f]:[];this.recordHistory(r,E,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?ED(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ki(this,arguments,function*(){var i,o,s,u,c,f;const h=[];try{for(var p=!0,g=Yi(e),E;E=yield qe(g.next()),i=E.done,!i;p=!0){u=E.value,p=!1;const S=u;if(nX(S)){const A=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;A!==void 0&&h.push(A)}yield yield qe(S)}}catch(S){o={error:S}}finally{try{!p&&!i&&(s=g.return)&&(yield qe(s.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ED(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aX(t){const e={},n=y(t,["file"]);return n!=null&&v(e,["file"],n),e}function sX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function lX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],H3(n)),e}function uX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function cX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],H3(n)),e}function fX(t){const e={},n=y(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function dX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function hX(t){const e={},n=y(t,["config"]);return n!=null&&dX(n,e),e}function pX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["files"],o)}return e}function mX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gX extends Pa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ou(va.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hX(e);return o=we("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=pX(c),h=new yW;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aX(e);return o=we("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=sX(c),h=new vW;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cX(e);return o=we("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lX(e);return o=we("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=uX(c),h=new _W;return Object.assign(h,f),h})}}async registerFilesInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fX(e);return o=we("files:register",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=mX(c),h=new bW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mg(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function yX(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DX(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function vX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _X(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bX(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&v(e,["response"],s);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function EX(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const s=y(t,["enableAffectiveDialog"]);s!=null&&v(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&v(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&v(e,["responseLogprobs"],g);const E=y(t,["responseMimeType"]);E!=null&&v(e,["responseMimeType"],E);const S=y(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const A=y(t,["responseSchema"]);A!=null&&v(e,["responseSchema"],A);const w=y(t,["routingConfig"]);w!=null&&v(e,["routingConfig"],w);const I=y(t,["seed"]);I!=null&&v(e,["seed"],I);const O=y(t,["speechConfig"]);O!=null&&v(e,["speechConfig"],O);const k=y(t,["stopSequences"]);k!=null&&v(e,["stopSequences"],k);const B=y(t,["temperature"]);B!=null&&v(e,["temperature"],B);const F=y(t,["thinkingConfig"]);F!=null&&v(e,["thinkingConfig"],F);const V=y(t,["topK"]);V!=null&&v(e,["topK"],V);const M=y(t,["topP"]);if(M!=null&&v(e,["topP"],M),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function SX(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function wX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],xA(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],yX(pr(S)));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let V=Xc(A);Array.isArray(V)&&(V=V.map(M=>kX(Jc(M)))),v(e,["setup","tools"],V)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],OX(w));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const O=y(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","outputAudioTranscription"],O);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function AX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],EX(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],xA(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],pr(S));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let M=Xc(A);Array.isArray(M)&&(M=M.map(D=>LX(Jc(D)))),v(e,["setup","tools"],M)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],w);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const O=y(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","outputAudioTranscription"],O);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);e!==void 0&&F!=null&&v(e,["setup","proactivity"],F);const V=y(t,["explicitVadSignal"]);return e!==void 0&&V!=null&&v(e,["setup","explicitVadSignal"],V),n}function xX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],wX(i,n)),n}function CX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],AX(i,n)),n}function IX(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function PX(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function RX(t){const e={},n=y(t,["media"]);if(n!=null){let f=B3(n);Array.isArray(f)&&(f=f.map(h=>mg(h))),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],mg(z3(r)));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],mg(F3(o)));const s=y(t,["text"]);s!=null&&v(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function MX(t){const e={},n=y(t,["media"]);if(n!=null){let f=B3(n);Array.isArray(f)&&(f=f.map(h=>h)),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],z3(r));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],F3(o));const s=y(t,["text"]);s!=null&&v(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function NX(t){const e={},n=y(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const s=y(t,["usageMetadata"]);s!=null&&v(e,["usageMetadata"],VX(s));const u=y(t,["goAway"]);u!=null&&v(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);c!=null&&v(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);f!=null&&v(e,["voiceActivityDetectionSignal"],f);const h=y(t,["voiceActivity"]);return h!=null&&v(e,["voiceActivity"],UX(h)),e}function DX(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],vX(o));const s=y(t,["functionCall"]);s!=null&&v(e,["functionCall"],_X(s));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],mg(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function OX(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kX(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],TX(s));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],SX(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function LX(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>bX(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function VX(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const s=y(t,["thoughtsTokenCount"]);s!=null&&v(e,["thoughtsTokenCount"],s);const u=y(t,["totalTokenCount"]);u!=null&&v(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["promptTokensDetails"],E)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["cacheTokensDetails"],E)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["responseTokensDetails"],E)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["toolUsePromptTokensDetails"],E)}const g=y(t,["trafficType"]);return g!=null&&v(e,["trafficType"],g),e}function UX(t){const e={},n=y(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BX(t,e){const n={},r=y(t,["data"]);if(r!=null&&v(n,["data"],r),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function FX(t,e){const n={},r=y(t,["content"]);r!=null&&v(n,["content"],r);const i=y(t,["citationMetadata"]);i!=null&&v(n,["citationMetadata"],zX(i));const o=y(t,["tokenCount"]);o!=null&&v(n,["tokenCount"],o);const s=y(t,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=y(t,["avgLogprobs"]);u!=null&&v(n,["avgLogprobs"],u);const c=y(t,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const f=y(t,["index"]);f!=null&&v(n,["index"],f);const h=y(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const p=y(t,["safetyRatings"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>S)),v(n,["safetyRatings"],E)}const g=y(t,["urlContextMetadata"]);return g!=null&&v(n,["urlContextMetadata"],g),n}function zX(t,e){const n={},r=y(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["citations"],i)}return n}function qX(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let s=Ei(o);Array.isArray(s)&&(s=s.map(u=>u)),v(r,["contents"],s)}return r}function jX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(n,["tokensInfo"],o)}return n}function HX(t,e){const n={},r=y(t,["values"]);r!=null&&v(n,["values"],r);const i=y(t,["statistics"]);return i!=null&&v(n,["statistics"],GX(i)),n}function GX(t,e){const n={},r=y(t,["truncated"]);r!=null&&v(n,["truncated"],r);const i=y(t,["token_count"]);return i!=null&&v(n,["tokenCount"],i),n}function iv(t,e){const n={},r=y(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>eZ(s))),v(n,["parts"],o)}const i=y(t,["role"]);return i!=null&&v(n,["role"],i),n}function $X(t,e){const n={},r=y(t,["controlType"]);r!=null&&v(n,["controlType"],r);const i=y(t,["enableControlImageComputation"]);return i!=null&&v(n,["computeControl"],i),n}function KX(t,e){const n={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function YX(t,e,n){const r={},i=y(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],pr(i));const o=y(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>tB(c))),v(e,["tools"],u)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&v(e,["generationConfig"],BQ(s)),r}function WX(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Ei(o);Array.isArray(u)&&(u=u.map(c=>iv(c))),v(r,["contents"],u)}const s=y(e,["config"]);return s!=null&&KX(s),r}function JX(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Ei(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const s=y(e,["config"]);return s!=null&&YX(s,r),r}function XX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);i!=null&&v(n,["totalTokens"],i);const o=y(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function QX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);return i!=null&&v(n,["totalTokens"],i),n}function ZX(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function eQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function tQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function nQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function rQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&v(e,["parameters","sampleCount"],s);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const S=y(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const A=y(t,["outputMimeType"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","mimeType"],A);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const I=y(t,["addWatermark"]);e!==void 0&&I!=null&&v(e,["parameters","addWatermark"],I);const O=y(t,["labels"]);e!==void 0&&O!=null&&v(e,["labels"],O);const k=y(t,["editMode"]);e!==void 0&&k!=null&&v(e,["parameters","editMode"],k);const B=y(t,["baseSteps"]);return e!==void 0&&B!=null&&v(e,["parameters","editConfig","baseSteps"],B),r}function iQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const s=y(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>aZ(f))),v(r,["instances[0]","referenceImages"],c)}const u=y(e,["config"]);return u!=null&&rQ(u,r),r}function oQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ov(s))),v(n,["generatedImages"],o)}return n}function aQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["requests[]","title"],o);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function sQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["instances[]","title"],o);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&v(e,["parameters","outputDimensionality"],s);const u=y(t,["mimeType"]);e!==void 0&&u!=null&&v(e,["instances[]","mimeType"],u);const c=y(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),r}function lQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let c=SA(t,o);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["requests[]","content"],c)}const s=y(e,["config"]);s!=null&&aQ(s,r);const u=y(e,["model"]);return u!==void 0&&v(r,["requests[]","model"],pt(t,u)),r}function uQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=SA(t,o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["instances[]","content"],u)}const s=y(e,["config"]);return s!=null&&sQ(s,r),r}function cQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),v(n,["embeddings"],s)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function fQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>HX(u))),v(n,["embeddings"],s)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function dQ(t,e){const n={},r=y(t,["endpoint"]);r!=null&&v(n,["name"],r);const i=y(t,["deployedModelId"]);return i!=null&&v(n,["deployedModelId"],i),n}function hQ(t,e){const n={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["fileUri"]);r!=null&&v(n,["fileUri"],r);const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function pQ(t,e){const n={},r=y(t,["id"]);r!=null&&v(n,["id"],r);const i=y(t,["args"]);i!=null&&v(n,["args"],i);const o=y(t,["name"]);if(o!=null&&v(n,["name"],o),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function mQ(t,e){const n={},r=y(t,["allowedFunctionNames"]);r!=null&&v(n,["allowedFunctionNames"],r);const i=y(t,["mode"]);if(i!=null&&v(n,["mode"],i),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function gQ(t,e){const n={},r=y(t,["description"]);r!=null&&v(n,["description"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["parameters"]);o!=null&&v(n,["parameters"],o);const s=y(t,["parametersJsonSchema"]);s!=null&&v(n,["parametersJsonSchema"],s);const u=y(t,["response"]);u!=null&&v(n,["response"],u);const c=y(t,["responseJsonSchema"]);if(c!=null&&v(n,["responseJsonSchema"],c),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function yQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],iv(pr(o)));const s=y(e,["temperature"]);s!=null&&v(i,["temperature"],s);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const S=y(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const A=y(e,["frequencyPenalty"]);A!=null&&v(i,["frequencyPenalty"],A);const w=y(e,["seed"]);w!=null&&v(i,["seed"],w);const I=y(e,["responseMimeType"]);I!=null&&v(i,["responseMimeType"],I);const O=y(e,["responseSchema"]);O!=null&&v(i,["responseSchema"],wA(O));const k=y(e,["responseJsonSchema"]);if(k!=null&&v(i,["responseJsonSchema"],k),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=y(e,["safetySettings"]);if(n!==void 0&&B!=null){let ye=B;Array.isArray(ye)&&(ye=ye.map(Se=>sZ(Se))),v(n,["safetySettings"],ye)}const F=y(e,["tools"]);if(n!==void 0&&F!=null){let ye=Xc(F);Array.isArray(ye)&&(ye=ye.map(Se=>pZ(Jc(Se)))),v(n,["tools"],ye)}const V=y(e,["toolConfig"]);if(n!==void 0&&V!=null&&v(n,["toolConfig"],hZ(V)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=y(e,["cachedContent"]);n!==void 0&&M!=null&&v(n,["cachedContent"],Ra(t,M));const D=y(e,["responseModalities"]);D!=null&&v(i,["responseModalities"],D);const N=y(e,["mediaResolution"]);N!=null&&v(i,["mediaResolution"],N);const z=y(e,["speechConfig"]);if(z!=null&&v(i,["speechConfig"],AA(z)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=y(e,["thinkingConfig"]);j!=null&&v(i,["thinkingConfig"],j);const H=y(e,["imageConfig"]);H!=null&&v(i,["imageConfig"],HQ(H));const $=y(e,["enableEnhancedCivicAnswers"]);if($!=null&&v(i,["enableEnhancedCivicAnswers"],$),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function vQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],pr(o));const s=y(e,["temperature"]);s!=null&&v(i,["temperature"],s);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const S=y(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const A=y(e,["frequencyPenalty"]);A!=null&&v(i,["frequencyPenalty"],A);const w=y(e,["seed"]);w!=null&&v(i,["seed"],w);const I=y(e,["responseMimeType"]);I!=null&&v(i,["responseMimeType"],I);const O=y(e,["responseSchema"]);O!=null&&v(i,["responseSchema"],wA(O));const k=y(e,["responseJsonSchema"]);k!=null&&v(i,["responseJsonSchema"],k);const B=y(e,["routingConfig"]);B!=null&&v(i,["routingConfig"],B);const F=y(e,["modelSelectionConfig"]);F!=null&&v(i,["modelConfig"],F);const V=y(e,["safetySettings"]);if(n!==void 0&&V!=null){let he=V;Array.isArray(he)&&(he=he.map(Te=>Te)),v(n,["safetySettings"],he)}const M=y(e,["tools"]);if(n!==void 0&&M!=null){let he=Xc(M);Array.isArray(he)&&(he=he.map(Te=>tB(Jc(Te)))),v(n,["tools"],he)}const D=y(e,["toolConfig"]);n!==void 0&&D!=null&&v(n,["toolConfig"],D);const N=y(e,["labels"]);n!==void 0&&N!=null&&v(n,["labels"],N);const z=y(e,["cachedContent"]);n!==void 0&&z!=null&&v(n,["cachedContent"],Ra(t,z));const j=y(e,["responseModalities"]);j!=null&&v(i,["responseModalities"],j);const H=y(e,["mediaResolution"]);H!=null&&v(i,["mediaResolution"],H);const $=y(e,["speechConfig"]);$!=null&&v(i,["speechConfig"],AA($));const ye=y(e,["audioTimestamp"]);ye!=null&&v(i,["audioTimestamp"],ye);const Se=y(e,["thinkingConfig"]);Se!=null&&v(i,["thinkingConfig"],Se);const Q=y(e,["imageConfig"]);if(Q!=null&&v(i,["imageConfig"],GQ(Q)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const oe=y(e,["modelArmorConfig"]);return n!==void 0&&oe!=null&&v(n,["modelArmorConfig"],oe),i}function TD(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Ei(o);Array.isArray(u)&&(u=u.map(c=>iv(c))),v(r,["contents"],u)}const s=y(e,["config"]);return s!=null&&v(r,["generationConfig"],yQ(t,s,r)),r}function SD(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Ei(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const s=y(e,["config"]);return s!=null&&v(r,["generationConfig"],vQ(t,s,r)),r}function wD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>FX(h))),v(n,["candidates"],f)}const o=y(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const s=y(t,["promptFeedback"]);s!=null&&v(n,["promptFeedback"],s);const u=y(t,["responseId"]);u!=null&&v(n,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function AD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),v(n,["candidates"],h)}const o=y(t,["createTime"]);o!=null&&v(n,["createTime"],o);const s=y(t,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=y(t,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=y(t,["responseId"]);c!=null&&v(n,["responseId"],c);const f=y(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function _Q(t,e,n){const r={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&v(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const h=y(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const p=y(t,["language"]);e!==void 0&&p!=null&&v(e,["parameters","language"],p);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const E=y(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&v(e,["parameters","outputOptions","compressionQuality"],E),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=y(t,["imageSize"]);if(e!==void 0&&S!=null&&v(e,["parameters","sampleImageSize"],S),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function bQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&v(e,["parameters","sampleCount"],s);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const S=y(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const A=y(t,["outputMimeType"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","mimeType"],A);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const I=y(t,["addWatermark"]);e!==void 0&&I!=null&&v(e,["parameters","addWatermark"],I);const O=y(t,["labels"]);e!==void 0&&O!=null&&v(e,["labels"],O);const k=y(t,["imageSize"]);e!==void 0&&k!=null&&v(e,["parameters","sampleImageSize"],k);const B=y(t,["enhancePrompt"]);return e!==void 0&&B!=null&&v(e,["parameters","enhancePrompt"],B),r}function EQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const s=y(e,["config"]);return s!=null&&_Q(s,r),r}function TQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const s=y(e,["config"]);return s!=null&&bQ(s,r),r}function SQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>kQ(u))),v(n,["generatedImages"],s)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],Z3(o)),n}function wQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>ov(u))),v(n,["generatedImages"],s)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],eB(o)),n}function AQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=y(t,["durationSeconds"]);if(e!==void 0&&o!=null&&v(e,["parameters","durationSeconds"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const u=y(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const c=y(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const h=y(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(t,["lastFrame"]);e!==void 0&&p!=null&&v(e,["instances[0]","lastFrame"],av(p));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>CZ(S))),v(e,["instances[0]","referenceImages"],E)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function xQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const s=y(t,["fps"]);e!==void 0&&s!=null&&v(e,["parameters","fps"],s);const u=y(t,["durationSeconds"]);e!==void 0&&u!=null&&v(e,["parameters","durationSeconds"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const h=y(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&v(e,["parameters","pubsubTopic"],g);const E=y(t,["negativePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","negativePrompt"],E);const S=y(t,["enhancePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","enhancePrompt"],S);const A=y(t,["generateAudio"]);e!==void 0&&A!=null&&v(e,["parameters","generateAudio"],A);const w=y(t,["lastFrame"]);e!==void 0&&w!=null&&v(e,["instances[0]","lastFrame"],Zi(w));const I=y(t,["referenceImages"]);if(e!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(F=>IZ(F))),v(e,["instances[0]","referenceImages"],B)}const O=y(t,["mask"]);e!==void 0&&O!=null&&v(e,["instances[0]","mask"],xZ(O));const k=y(t,["compressionQuality"]);return e!==void 0&&k!=null&&v(e,["parameters","compressionQuality"],k),r}function CQ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const s=y(t,["error"]);s!=null&&v(n,["error"],s);const u=y(t,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],MQ(u)),n}function IQ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const s=y(t,["error"]);s!=null&&v(n,["error"],s);const u=y(t,["response"]);return u!=null&&v(n,["response"],NQ(u)),n}function PQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const s=y(e,["image"]);s!=null&&v(r,["instances[0]","image"],av(s));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],nB(u));const c=y(e,["source"]);c!=null&&DQ(c,r);const f=y(e,["config"]);return f!=null&&AQ(f,r),r}function RQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const s=y(e,["image"]);s!=null&&v(r,["instances[0]","image"],Zi(s));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],rB(u));const c=y(e,["source"]);c!=null&&OQ(c,r);const f=y(e,["config"]);return f!=null&&xQ(f,r),r}function MQ(t,e){const n={},r=y(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>VQ(u))),v(n,["generatedVideos"],s)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function NQ(t,e){const n={},r=y(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>UQ(u))),v(n,["generatedVideos"],s)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function DQ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],av(o));const s=y(t,["video"]);return e!==void 0&&s!=null&&v(e,["instances[0]","video"],nB(s)),r}function OQ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],Zi(o));const s=y(t,["video"]);return e!==void 0&&s!=null&&v(e,["instances[0]","video"],rB(s)),r}function kQ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],$Q(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);return o!=null&&v(n,["safetyAttributes"],Z3(o)),n}function ov(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],Q3(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);o!=null&&v(n,["safetyAttributes"],eB(o));const s=y(t,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function LQ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["mask"],Q3(r));const i=y(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(n,["labels"],o)}return n}function VQ(t,e){const n={},r=y(t,["video"]);return r!=null&&v(n,["video"],wZ(r)),n}function UQ(t,e){const n={},r=y(t,["_self"]);return r!=null&&v(n,["video"],AZ(r)),n}function BQ(t,e){const n={},r=y(t,["modelSelectionConfig"]);r!=null&&v(n,["modelConfig"],r);const i=y(t,["responseJsonSchema"]);i!=null&&v(n,["responseJsonSchema"],i);const o=y(t,["audioTimestamp"]);o!=null&&v(n,["audioTimestamp"],o);const s=y(t,["candidateCount"]);s!=null&&v(n,["candidateCount"],s);const u=y(t,["enableAffectiveDialog"]);u!=null&&v(n,["enableAffectiveDialog"],u);const c=y(t,["frequencyPenalty"]);c!=null&&v(n,["frequencyPenalty"],c);const f=y(t,["logprobs"]);f!=null&&v(n,["logprobs"],f);const h=y(t,["maxOutputTokens"]);h!=null&&v(n,["maxOutputTokens"],h);const p=y(t,["mediaResolution"]);p!=null&&v(n,["mediaResolution"],p);const g=y(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const E=y(t,["responseLogprobs"]);E!=null&&v(n,["responseLogprobs"],E);const S=y(t,["responseMimeType"]);S!=null&&v(n,["responseMimeType"],S);const A=y(t,["responseModalities"]);A!=null&&v(n,["responseModalities"],A);const w=y(t,["responseSchema"]);w!=null&&v(n,["responseSchema"],w);const I=y(t,["routingConfig"]);I!=null&&v(n,["routingConfig"],I);const O=y(t,["seed"]);O!=null&&v(n,["seed"],O);const k=y(t,["speechConfig"]);k!=null&&v(n,["speechConfig"],k);const B=y(t,["stopSequences"]);B!=null&&v(n,["stopSequences"],B);const F=y(t,["temperature"]);F!=null&&v(n,["temperature"],F);const V=y(t,["thinkingConfig"]);V!=null&&v(n,["thinkingConfig"],V);const M=y(t,["topK"]);M!=null&&v(n,["topK"],M);const D=y(t,["topP"]);if(D!=null&&v(n,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function FQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function zQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function qQ(t,e){const n={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=y(t,["enableWidget"]);return r!=null&&v(n,["enableWidget"],r),n}function jQ(t,e){const n={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=y(t,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],r),n}function HQ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);if(i!=null&&v(n,["imageSize"],i),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function GQ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);i!=null&&v(n,["imageSize"],i);const o=y(t,["personGeneration"]);o!=null&&v(n,["personGeneration"],o);const s=y(t,["outputMimeType"]);s!=null&&v(n,["imageOutputOptions","mimeType"],s);const u=y(t,["outputCompressionQuality"]);return u!=null&&v(n,["imageOutputOptions","compressionQuality"],u),n}function $Q(t,e){const n={},r=y(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],Hs(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Q3(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["imageBytes"],Hs(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function av(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],Hs(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Zi(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["imageBytes"]);i!=null&&v(n,["bytesBase64Encoded"],Hs(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function KQ(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&v(n,["_query","pageToken"],s);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],G3(t,c)),i}function YQ(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&v(n,["_query","pageToken"],s);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],G3(t,c)),i}function WQ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&KQ(t,i,r),r}function JQ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&YQ(t,i,r),r}function XQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let s=$3(o);Array.isArray(s)&&(s=s.map(u=>uS(u))),v(n,["models"],s)}return n}function QQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let s=$3(o);Array.isArray(s)&&(s=s.map(u=>cS(u))),v(n,["models"],s)}return n}function ZQ(t,e){const n={},r=y(t,["maskMode"]);r!=null&&v(n,["maskMode"],r);const i=y(t,["segmentationClasses"]);i!=null&&v(n,["maskClasses"],i);const o=y(t,["maskDilation"]);return o!=null&&v(n,["dilation"],o),n}function uS(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const s=y(t,["version"]);s!=null&&v(n,["version"],s);const u=y(t,["_self"]);u!=null&&v(n,["tunedModelInfo"],mZ(u));const c=y(t,["inputTokenLimit"]);c!=null&&v(n,["inputTokenLimit"],c);const f=y(t,["outputTokenLimit"]);f!=null&&v(n,["outputTokenLimit"],f);const h=y(t,["supportedGenerationMethods"]);h!=null&&v(n,["supportedActions"],h);const p=y(t,["temperature"]);p!=null&&v(n,["temperature"],p);const g=y(t,["maxTemperature"]);g!=null&&v(n,["maxTemperature"],g);const E=y(t,["topP"]);E!=null&&v(n,["topP"],E);const S=y(t,["topK"]);S!=null&&v(n,["topK"],S);const A=y(t,["thinking"]);return A!=null&&v(n,["thinking"],A),n}function cS(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const s=y(t,["versionId"]);s!=null&&v(n,["version"],s);const u=y(t,["deployedModels"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>dQ(E))),v(n,["endpoints"],g)}const c=y(t,["labels"]);c!=null&&v(n,["labels"],c);const f=y(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],gZ(f));const h=y(t,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const p=y(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),v(n,["checkpoints"],g)}return n}function eZ(t,e){const n={},r=y(t,["mediaResolution"]);r!=null&&v(n,["mediaResolution"],r);const i=y(t,["codeExecutionResult"]);i!=null&&v(n,["codeExecutionResult"],i);const o=y(t,["executableCode"]);o!=null&&v(n,["executableCode"],o);const s=y(t,["fileData"]);s!=null&&v(n,["fileData"],hQ(s));const u=y(t,["functionCall"]);u!=null&&v(n,["functionCall"],pQ(u));const c=y(t,["functionResponse"]);c!=null&&v(n,["functionResponse"],c);const f=y(t,["inlineData"]);f!=null&&v(n,["inlineData"],BX(f));const h=y(t,["text"]);h!=null&&v(n,["text"],h);const p=y(t,["thought"]);p!=null&&v(n,["thought"],p);const g=y(t,["thoughtSignature"]);g!=null&&v(n,["thoughtSignature"],g);const E=y(t,["videoMetadata"]);return E!=null&&v(n,["videoMetadata"],E),n}function tZ(t,e){const n={},r=y(t,["productImage"]);return r!=null&&v(n,["image"],Zi(r)),n}function nZ(t,e,n){const r={},i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["baseSteps"]);e!==void 0&&o!=null&&v(e,["parameters","baseSteps"],o);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const u=y(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const h=y(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","compressionQuality"],g);const E=y(t,["enhancePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E);const S=y(t,["labels"]);return e!==void 0&&S!=null&&v(e,["labels"],S),r}function rZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&oZ(o,r);const s=y(e,["config"]);return s!=null&&nZ(s,r),r}function iZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ov(o))),v(n,["generatedImages"],i)}return n}function oZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["personImage"]);e!==void 0&&o!=null&&v(e,["instances[0]","personImage","image"],Zi(o));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>tZ(c))),v(e,["instances[0]","productImages"],u)}return r}function aZ(t,e){const n={},r=y(t,["referenceImage"]);r!=null&&v(n,["referenceImage"],Zi(r));const i=y(t,["referenceId"]);i!=null&&v(n,["referenceId"],i);const o=y(t,["referenceType"]);o!=null&&v(n,["referenceType"],o);const s=y(t,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],ZQ(s));const u=y(t,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],$X(u));const c=y(t,["styleImageConfig"]);c!=null&&v(n,["styleImageConfig"],c);const f=y(t,["subjectImageConfig"]);return f!=null&&v(n,["subjectImageConfig"],f),n}function Z3(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function eB(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function sZ(t,e){const n={},r=y(t,["category"]);if(r!=null&&v(n,["category"],r),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(t,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function lZ(t,e){const n={},r=y(t,["image"]);return r!=null&&v(n,["image"],Zi(r)),n}function uZ(t,e,n){const r={},i=y(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const o=y(t,["maxPredictions"]);e!==void 0&&o!=null&&v(e,["parameters","maxPredictions"],o);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&v(e,["parameters","confidenceThreshold"],s);const u=y(t,["maskDilation"]);e!==void 0&&u!=null&&v(e,["parameters","maskDilation"],u);const c=y(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const f=y(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),r}function cZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&dZ(o,r);const s=y(e,["config"]);return s!=null&&uZ(s,r),r}function fZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>LQ(o))),v(n,["generatedMasks"],i)}return n}function dZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],Zi(o));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&v(e,["instances[0]","scribble"],lZ(s)),r}function hZ(t,e){const n={},r=y(t,["retrievalConfig"]);r!=null&&v(n,["retrievalConfig"],r);const i=y(t,["functionCallingConfig"]);return i!=null&&v(n,["functionCallingConfig"],mQ(i)),n}function pZ(t,e){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["computerUse"]);r!=null&&v(n,["computerUse"],r);const i=y(t,["fileSearch"]);i!=null&&v(n,["fileSearch"],i);const o=y(t,["codeExecution"]);if(o!=null&&v(n,["codeExecution"],o),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>g)),v(n,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(n,["googleMaps"],qQ(u));const c=y(t,["googleSearch"]);c!=null&&v(n,["googleSearch"],jQ(c));const f=y(t,["googleSearchRetrieval"]);f!=null&&v(n,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(n,["urlContext"],h),n}function tB(t,e){const n={},r=y(t,["retrieval"]);r!=null&&v(n,["retrieval"],r);const i=y(t,["computerUse"]);if(i!=null&&v(n,["computerUse"],i),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(t,["codeExecution"]);o!=null&&v(n,["codeExecution"],o);const s=y(t,["enterpriseWebSearch"]);s!=null&&v(n,["enterpriseWebSearch"],s);const u=y(t,["functionDeclarations"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>gQ(E))),v(n,["functionDeclarations"],g)}const c=y(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],f);const h=y(t,["googleSearchRetrieval"]);h!=null&&v(n,["googleSearchRetrieval"],h);const p=y(t,["urlContext"]);return p!=null&&v(n,["urlContext"],p),n}function mZ(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function gZ(t,e){const n={},r=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function yZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&v(e,["defaultCheckpointId"],s),r}function vZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&v(e,["defaultCheckpointId"],s),r}function _Z(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","name"],pt(t,i));const o=y(e,["config"]);return o!=null&&yZ(o,r),r}function bZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["config"]);return o!=null&&vZ(o,r),r}function EZ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&v(e,["parameters","safetySetting"],o);const s=y(t,["personGeneration"]);e!==void 0&&s!=null&&v(e,["parameters","personGeneration"],s);const u=y(t,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const c=y(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const f=y(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const h=y(t,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=y(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=y(t,["labels"]);e!==void 0&&g!=null&&v(e,["labels"],g);const E=y(t,["numberOfImages"]);e!==void 0&&E!=null&&v(e,["parameters","sampleCount"],E);const S=y(t,["mode"]);return e!==void 0&&S!=null&&v(e,["parameters","mode"],S),r}function TZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["image"]);o!=null&&v(r,["instances[0]","image"],Zi(o));const s=y(e,["upscaleFactor"]);s!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],s);const u=y(e,["config"]);return u!=null&&EZ(u,r),r}function SZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ov(s))),v(n,["generatedImages"],o)}return n}function wZ(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["encodedVideo"]);i!=null&&v(n,["videoBytes"],Hs(i));const o=y(t,["encoding"]);return o!=null&&v(n,["mimeType"],o),n}function AZ(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["videoBytes"],Hs(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function xZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["_self"],Zi(r));const i=y(t,["maskMode"]);return i!=null&&v(n,["maskMode"],i),n}function CZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],av(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function IZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],Zi(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function nB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["encodedVideo"],Hs(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["encoding"],o),n}function rB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["bytesBase64Encoded"],Hs(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PZ(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function RZ(t){const e={},n=y(t,["config"]);return n!=null&&PZ(n,e),e}function MZ(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function NZ(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&MZ(r,e),e}function DZ(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function OZ(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function kZ(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const s=y(t,["response"]);return s!=null&&v(e,["response"],VZ(s)),e}function LZ(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&OZ(i,e),e}function VZ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function UZ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function BZ(t){const e={},n=y(t,["config"]);return n!=null&&UZ(n,e),e}function FZ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["fileSearchStores"],o)}return e}function iB(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),v(e,["customMetadata"],u)}const s=y(t,["chunkingConfig"]);return e!==void 0&&s!=null&&v(e,["chunkingConfig"],s),n}function zZ(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&iB(r,e),e}function qZ(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jZ="Content-Type",HZ="X-Server-Timeout",GZ="User-Agent",fS="x-goog-api-client",$Z="1.41.0",KZ=`google-genai-sdk/${$Z}`,YZ="v1beta1",WZ="v1beta",JZ=5,XZ=[408,429,500,502,503,504];class QZ{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:YZ}else{if(!this.clientOptions.apiKey)throw new rh({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:WZ,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===oS.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&ZZ(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xD(i),new aS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xD(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ki(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield qe(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),w=A.status,I=A.code,O=`got status: ${w}. ${JSON.stringify(S)}`;if(I>=400&&I<600)throw new rh({message:O,status:I})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let g=-1,E=0;for(;;){g=-1,E=0;for(const w of c){const I=s.indexOf(w);I!==-1&&(g===-1||I<g)&&(g=I,E=w.length)}if(g===-1)break;const S=s.substring(0,g);s=s.substring(g+E);const A=S.trim();if(A.startsWith(u)){const w=A.substring(u.length).trim();try{const I=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new aS(I))}catch(I){throw new Error(`exception parsing stream chunk ${w}. ${I}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return qY(async()=>{const s=await fetch(e,n);if(s.ok)return s;throw XZ.includes(s.status)?new Error(`Retryable HTTP Error: ${s.statusText}`):new L3(`Non-retryable exception ${s.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:JZ)-1})}getDefaultHeaders(){const e={},n=KZ+" "+this.clientOptions.userAgentExtra;return e[GZ]=n,e[fS]=n,e[jZ]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(HZ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=we("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&iB(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function xD(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new rh({message:i,status:n}):new Error(i)}}function ZZ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eee="mcp_used/unknown";let tee=!1;function oB(t){for(const e of t)if(nee(e)||typeof e=="object"&&"inputSchema"in e)return!0;return tee}function aB(t){var e;const n=(e=t[fS])!==null&&e!==void 0?e:"";t[fS]=(n+` ${eee}`).trimStart()}function nee(t){return t!==null&&typeof t=="object"&&t instanceof CA}function ree(t){return Ki(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield qe(n.listTools({cursor:i}));for(const u of s.tools)yield yield qe(u),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class CA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new CA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Yi(ree(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),RW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iee(t,e,n){const r=new TW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class oee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=lee(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(k=>{f=k}),p=e.callbacks,g=function(){f({})},E=this.apiClient,S={onopen:g,onmessage:k=>{iee(E,p.onmessage,k)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(k){}},A=this.webSocketFactory.create(c,see(s),S);A.connect(),await h;const O={setup:{model:pt(this.apiClient,e.model)}};return A.send(JSON.stringify(O)),new aee(A,this.apiClient)}}class aee{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=PX(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=IX(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(yc.PLAY)}pause(){this.sendPlaybackControl(yc.PAUSE)}stop(){this.sendPlaybackControl(yc.STOP)}resetContext(){this.sendPlaybackControl(yc.RESET_CONTEXT)}close(){this.conn.close()}}function see(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function lee(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uee="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cee(t,e,n){const r=new EW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=NX(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class fee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new oee(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&oB(e.config.tools)&&aB(p);const g=mee(p);if(this.apiClient.isVertexAI()){const N=this.apiClient.getProject(),z=this.apiClient.getLocation(),j=this.apiClient.getApiKey(),H=!!N&&!!z||!!j;this.apiClient.getCustomBaseUrl()&&!H?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const N=this.apiClient.getApiKey();let z="BidiGenerateContent",j="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",j="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${z}?${j}=${N}`}let E=()=>{};const S=new Promise(N=>{E=N}),A=e.callbacks,w=function(){var N;(N=A==null?void 0:A.onopen)===null||N===void 0||N.call(A),E({})},I=this.apiClient,O={onopen:w,onmessage:N=>{cee(I,A.onmessage,N)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(N){}},k=this.webSocketFactory.create(h,pee(g),O);k.connect(),await S;let B=pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const N=this.apiClient.getProject(),z=this.apiClient.getLocation();N&&z&&(B=`projects/${N}/locations/${z}/`+B)}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vg.AUDIO]}:e.config.responseModalities=[Vg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],M=[];for(const N of V)if(this.isCallableTool(N)){const z=N;M.push(await z.tool())}else M.push(N);M.length>0&&(e.config.tools=M);const D={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=CX(this.apiClient,D):F=xX(this.apiClient,D),delete F.config,k.send(JSON.stringify(F)),new hee(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dee={turnComplete:!0};class hee{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ei(n.turns),e.isVertexAI()||(r=r.map(i=>iv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(uee)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dee),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:MX(e)}:n={realtimeInput:RX(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function pee(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mee(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CD=10;function ID(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(wc(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function wc(t){return"callTool"in t&&typeof t.callTool=="function"}function gee(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>wc(i)))!==null&&r!==void 0?r:!1}function PD(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(wc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function RD(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yee extends Pa{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!gee(n)||ID(n.config))return await this.generateContentInternal(c);const f=PD(n);if(f.length>0){const A=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,p;const g=Ei(c.contents),E=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:CD;let S=0;for(;S<E&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,w=[];for(const I of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(wc(I)){const k=await I.callTool(h.functionCalls);w.push(...k)}S++,p={role:"user",parts:w},c.contents=Ei(c.contents),c.contents.push(A),c.contents.push(p),RD(c.config)&&(g.push(A),g.push(p))}return RD(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),ID(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=PD(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ou(va.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>wc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&oB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),aB(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(wc(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CD;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Ki(this,arguments,function*(){for(var g,E,S,A,w,I;u<o;){s&&(u++,s=!1);const F=yield qe(f.processParamsMaybeAddMcpUsage(p)),V=yield qe(f.generateContentStreamInternal(F)),M=[],D=[];try{for(var O=!0,k=(E=void 0,Yi(V)),B;B=yield qe(k.next()),g=B.done,!g;O=!0){A=B.value,O=!1;const N=A;if(yield yield qe(N),N.candidates&&(!((w=N.candidates[0])===null||w===void 0)&&w.content)){D.push(N.candidates[0].content);for(const z of(I=N.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(u<o&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const j=yield qe(h.get(z.functionCall.name).callTool([z.functionCall]));M.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(N){E={error:N}}finally{try{!O&&!g&&(S=k.return)&&(yield qe(S.call(k)))}finally{if(E)throw E.error}}if(M.length>0){s=!0;const N=new _d;N.candidates=[{content:{role:"user",parts:M}}],yield yield qe(N);const z=[];z.push(...D),z.push({role:"user",parts:M});const j=Ei(p.contents).concat(z);p.contents=j}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=SD(this.apiClient,e);return u=we("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=AD(h),g=new _d;return Object.assign(g,p),g})}else{const f=TD(this.apiClient,e);return u=we("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wD(h),g=new _d;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=SD(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Ki(this,arguments,function*(){var g,E,S,A;try{for(var w=!0,I=Yi(p),O;O=yield qe(I.next()),g=O.done,!g;w=!0){A=O.value,w=!1;const k=A,B=AD(yield qe(k.json()),e);B.sdkHttpResponse={headers:k.headers};const F=new _d;Object.assign(F,B),yield yield qe(F)}}catch(k){E={error:k}}finally{try{!w&&!g&&(S=I.return)&&(yield qe(S.call(I)))}finally{if(E)throw E.error}}})})}else{const f=TD(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Ki(this,arguments,function*(){var g,E,S,A;try{for(var w=!0,I=Yi(p),O;O=yield qe(I.next()),g=O.done,!g;w=!0){A=O.value,w=!1;const k=A,B=wD(yield qe(k.json()),e);B.sdkHttpResponse={headers:k.headers};const F=new _d;Object.assign(F,B),yield yield qe(F)}}catch(k){E={error:k}}finally{try{!w&&!g&&(S=I.return)&&(yield qe(S.call(I)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=uQ(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=fQ(h),g=new oD;return Object.assign(g,p),g})}else{const f=lQ(this.apiClient,e);return u=we("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=cQ(h),g=new oD;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=TQ(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wQ(h),g=new aD;return Object.assign(g,p),g})}else{const f=EQ(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=SQ(h),g=new aD;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=iQ(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=oQ(c),h=new uW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=TZ(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=SZ(c),h=new cW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=rZ(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=iZ(c),h=new fW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=cZ(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=fZ(c),h=new dW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zQ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>cS(h))}else{const f=FQ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>uS(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=JQ(this.apiClient,e);return u=we("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=QQ(h),g=new sD;return Object.assign(g,p),g})}else{const f=WQ(this.apiClient,e);return u=we("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=XQ(h),g=new sD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=bZ(this.apiClient,e);return u=we("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>cS(h))}else{const f=_Z(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>uS(h))}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=eQ(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=nQ(h),g=new lD;return Object.assign(g,p),g})}else{const f=ZX(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=tQ(h),g=new lD;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=JX(this.apiClient,e);return u=we("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=QX(h),g=new uD;return Object.assign(g,p),g})}else{const f=WX(this.apiClient,e);return u=we("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=XX(h),g=new uD;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=qX(this.apiClient,e);return o=we("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=jX(c),h=new hW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=RQ(this.apiClient,e);return u=we("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=IQ(h),g=new Ug;return Object.assign(g,p),g})}else{const f=PQ(this.apiClient,e);return u=we("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=CQ(h),g=new Ug;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vee extends Pa{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rW(e);return u=we("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=nW(e);return u=we("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=WY(e);return o=we("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ee(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function bee(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pee(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function Eee(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const s=y(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],Iee(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function Tee(t,e){const n={},r=y(e,["config"]);return r!=null&&v(n,["config"],Eee(t,r,n)),n}function See(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function wee(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aee(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function xee(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Cee(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],xA(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],bee(pr(S)));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let V=Xc(A);Array.isArray(V)&&(V=V.map(M=>Mee(Jc(M)))),v(e,["setup","tools"],V)}const w=y(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],Ree(w));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&v(e,["setup","inputAudioTranscription"],I);const O=y(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","outputAudioTranscription"],O);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&v(e,["setup","realtimeInputConfig"],k);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Iee(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],Cee(i,n)),n}function Pee(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],See(o));const s=y(t,["functionCall"]);s!=null&&v(e,["functionCall"],wee(s));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],_ee(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function Ree(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Mee(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],Aee(s));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],xee(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nee(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Dee(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Nee(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Oee extends Pa{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Tee(this.apiClient,e);o=we("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Dee(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kee(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Lee(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&kee(r,e),e}function Vee(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Uee(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Bee(t){const e={},n=y(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&Uee(r,e),e}function Fee(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zee extends Pa{constructor(e){super(),this.apiClient=e,this.list=async n=>new ou(va.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vee(e);return o=we("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lee(e);i=we("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Bee(e);return o=we("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Fee(c),h=new pW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qee extends Pa{constructor(e,n=new zee(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ou(va.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RZ(e);return o=we("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DZ(e);return o=we("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NZ(e);i=we("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BZ(e);return o=we("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=FZ(c),h=new mW;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zZ(e);return o=we("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qZ(c),h=new gW;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=LZ(e);return o=we("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=kZ(c),h=new EA;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return sB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const jee=()=>sB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const hS=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ti extends Error{}class wr extends Ti{constructor(e,n,r,i){super(`${wr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new sv({message:r,cause:hS(n)});const o=n;return e===400?new uB(e,o,r,i):e===401?new cB(e,o,r,i):e===403?new fB(e,o,r,i):e===404?new dB(e,o,r,i):e===409?new hB(e,o,r,i):e===422?new pB(e,o,r,i):e===429?new mB(e,o,r,i):e>=500?new gB(e,o,r,i):new wr(e,o,r,i)}}class pS extends wr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sv extends wr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class lB extends sv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uB extends wr{}class cB extends wr{}class fB extends wr{}class dB extends wr{}class hB extends wr{}class pB extends wr{}class mB extends wr{}class gB extends wr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hee=/^[a-z][a-z0-9+.-]*:/i,Gee=t=>Hee.test(t);let mS=t=>(mS=Array.isArray,mS(t));const $ee=mS;let Kee=$ee;const MD=Kee;function Yee(t){if(!t)return!0;for(const e in t)return!1;return!0}function Wee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Jee=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ti(`${t} must be an integer`);if(e<0)throw new Ti(`${t} must be a positive integer`);return e},Xee=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qee=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ac="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zee(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ete=()=>{var t,e,n,r,i;const o=Zee();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ac,"X-Stainless-OS":DD(Deno.build.os),"X-Stainless-Arch":ND(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ac,"X-Stainless-OS":DD((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ND((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=tte();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function tte(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const ND=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",DD=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Om;const nte=()=>Om??(Om=ete());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rte(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yB(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ite(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return yB({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function vB(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ote(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ate=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _B=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fb(t,e,n){return _B(),new File(t,e??"unknown_file",n)}function ste(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const lte=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bB=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ute=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&bB(t),cte=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function fte(t,e,n){if(_B(),t=await t,ute(t))return t instanceof File?t:Fb([await t.arrayBuffer()],t.name);if(cte(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Fb(await gS(i),e,n)}const r=await gS(t);if(e||(e=ste(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Fb(r,e,n)}async function gS(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(bB(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(lte(t))try{for(var u=!0,c=Yi(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await gS(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${dte(t)}`)}return s}function dte(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EB{constructor(e){this._client=e}}EB._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TB(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const OD=Object.freeze(Object.create(null)),hte=(t=TB)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,p,g)=>{var E,S,A;/[?#]/.test(p)&&(i=!0);const w=r[g];let I=(i?encodeURIComponent:t)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((E=w.hasOwnProperty)!==null&&E!==void 0?E:OD))!==null&&S!==void 0?S:OD))===null||A===void 0?void 0:A.toString))&&(I=w+"",o.push({start:h.length+p.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":I)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,E)=>{const S=" ".repeat(E.start-h),A="^".repeat(E.length);return h=E.start+E.length,g+S+A},"");throw new Ti(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),km=hte(TB);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SB extends EB{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Fg(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ti("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ti("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(km`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(km`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(km`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,u=Fg(o,["api_version"]);return this._client.get(km`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}SB._key=Object.freeze(["interactions"]);class wB extends SB{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pte(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Lm;function IA(t){let e;return(Lm??(e=new globalThis.TextEncoder,Lm=e.encode.bind(e)))(t)}let Vm;function kD(t){let e;return(Vm??(e=new globalThis.TextDecoder,Vm=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?IA(e):e;this.buffer=pte([this.buffer,n]);const r=[];let i;for(;(i=mte(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(kD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=kD(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}lv.NEWLINE_CHARS=new Set([`
`,"\r"]);lv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function mte(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function gte(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg={off:0,error:200,warn:300,info:400,debug:500},LD=(t,e,n)=>{if(t){if(Wee(zg,t))return t;_r(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(zg))}`)}};function Nd(){}function Um(t,e,n){return!e||zg[t]>zg[n]?Nd:e[t].bind(e)}const yte={error:Nd,warn:Nd,info:Nd,debug:Nd};let VD=new WeakMap;function _r(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return yte;const i=VD.get(n);if(i&&i[0]===r)return i[1];const o={error:Um("error",n,r),warn:Um("warn",n,r),info:Um("info",n,r),debug:Um("debug",n,r)};return VD.set(n,[r,o]),o}const Il=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?_r(r):console;function s(){return Ki(this,arguments,function*(){var c,f,h,p;if(i)throw new Ti("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,S=Yi(vte(e,n)),A;A=yield qe(S.next()),c=A.done,!c;E=!0){p=A.value,E=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield qe(JSON.parse(w.data))}catch(I){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),I}}}catch(w){f={error:w}}finally{try{!E&&!c&&(h=S.return)&&(yield qe(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(w){if(dS(w))return yield qe(void 0);throw w}finally{g||n.abort()}})}return new vc(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ki(this,arguments,function*(){var c,f,h,p;const g=new lv,E=vB(e);try{for(var S=!0,A=Yi(E),w;w=yield qe(A.next()),c=w.done,!c;S=!0){p=w.value,S=!1;const I=p;for(const O of g.decode(I))yield yield qe(O)}}catch(I){f={error:I}}finally{try{!S&&!c&&(h=A.return)&&(yield qe(h.call(A)))}finally{if(f)throw f.error}}for(const I of g.flush())yield yield qe(I)})}function s(){return Ki(this,arguments,function*(){var c,f,h,p;if(i)throw new Ti("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,S=Yi(o()),A;A=yield qe(S.next()),c=A.done,!c;E=!0){p=A.value,E=!1;const w=p;g||w&&(yield yield qe(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!E&&!c&&(h=S.return)&&(yield qe(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(w){if(dS(w))return yield qe(void 0);throw w}finally{g||n.abort()}})}return new vc(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new vc(()=>i(e),this.controller,this.client),new vc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return yB({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=IA(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function vte(t,e){return Ki(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ti("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ti("Attempted to iterate over a response with no body");const u=new bte,c=new lv,f=vB(t.body);try{for(var h=!0,p=Yi(_te(f)),g;g=yield qe(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const E=s;for(const S of c.decode(E)){const A=u.decode(S);A&&(yield yield qe(A))}}}catch(E){i={error:E}}finally{try{!h&&!r&&(o=p.return)&&(yield qe(o.call(p)))}finally{if(i)throw i.error}}for(const E of c.flush()){const S=u.decode(E);S&&(yield yield qe(S))}})}function _te(t){return Ki(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var u=!0,c=Yi(t),f;f=yield qe(c.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?IA(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let E;for(;(E=gte(s))!==-1;)yield yield qe(s.slice(0,E)),s=s.slice(E)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield qe(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield qe(s))})}class bte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Ete(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Ete(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Tte(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var u;if(e.options.stream)return _r(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):vc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return _r(t).debug(`[${r}] response parsed`,Il({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Promise{constructor(e,n,r=Tte){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new PA(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AB=Symbol("brand.privateNullableHeaders");function*Ste(t){if(!t)return;if(AB in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():MD(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=MD(r[1])?r[1]:[r[1]];let s=!1;for(const u of o)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const bd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Ste(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),s===null?(e.delete(o),n.add(u)):(e.append(o,s),n.delete(u))}}return{[AB]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zb=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=jY)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xB;class uv{constructor(e){var n,r,i,o,s,u,c,{baseURL:f=zb("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=zb("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=Fg(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:uv.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(o=LD(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:LD(zb("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=E.fetch)!==null&&c!==void 0?c:rte(),this.encoder=ate,this._options=E,this.apiKey=h,this.apiVersion=p,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=bd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return bd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ti(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ac}`}defaultIdempotencyKey(){return`stainless-node-retry-${jee()}`}makeStatusError(e,n,r,i){return wr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Gee(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Yee(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new PA(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(_r(this).debug(`[${g}] sending request`,Il({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new pS;const A=new AbortController,w=await this.fetchWithTimeout(h,f,p,A).catch(hS),I=Date.now();if(w instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new pS;const B=dS(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return _r(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${k}`),_r(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${k})`,Il({retryOfRequestLogID:r,url:h,durationMs:I-S,message:w.message})),this.retryRequest(u,n,r??g);throw _r(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),_r(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Il({retryOfRequestLogID:r,url:h,durationMs:I-S,message:w.message})),B?new lB:new sv({cause:w})}const O=`[${g}${E}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${I-S}ms`;if(!w.ok){const k=await this.shouldRetry(w);if(n&&k){const N=`retrying, ${n} attempts remaining`;return await ote(w.body),_r(this).info(`${O} - ${N}`),_r(this).debug(`[${g}] response error (${N})`,Il({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:I-S})),this.retryRequest(u,n,r??g,w.headers)}const B=k?"error; no more retries left":"error; not retryable";_r(this).info(`${O} - ${B}`);const F=await w.text().catch(N=>hS(N).message),V=Xee(F),M=V?void 0:F;throw _r(this).debug(`[${g}] response error (${B})`,Il({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:M,durationMs:Date.now()-S})),this.makeStatusError(w.status,V,M,w.headers)}return _r(this).info(O),_r(this).debug(`[${g}] response start`,Il({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:I-S})),{response:w,options:u,controller:A,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:u}=o,c=Fg(o,["signal","method"]),f=this._makeAbort(i);s&&s.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Qee(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Jee("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:E}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=bd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),nte()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=bd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ite(e)}:this.encoder({body:e,headers:r})}}uv.DEFAULT_TIMEOUT=6e4;class Gn extends uv{constructor(){super(...arguments),this.interactions=new wB(this)}}xB=Gn;Gn.GeminiNextGenAPIClient=xB;Gn.GeminiNextGenAPIClientError=Ti;Gn.APIError=wr;Gn.APIConnectionError=sv;Gn.APIConnectionTimeoutError=lB;Gn.APIUserAbortError=pS;Gn.NotFoundError=dB;Gn.ConflictError=hB;Gn.RateLimitError=mB;Gn.BadRequestError=uB;Gn.AuthenticationError=cB;Gn.InternalServerError=gB;Gn.PermissionDeniedError=fB;Gn.UnprocessableEntityError=pB;Gn.toFile=fte;Gn.Interactions=wB;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Ate(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function xte(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Cte(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Ite(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const s=y(t,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(y(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(y(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&v(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(y(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(y(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(y(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(y(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(y(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Pte(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const V=y(t,["validationDataset"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec"],qb(V))}else if(i==="PREFERENCE_TUNING"){const V=y(t,["validationDataset"]);e!==void 0&&V!=null&&v(e,["preferenceOptimizationSpec"],qb(V))}else if(i==="DISTILLATION"){const V=y(t,["validationDataset"]);e!==void 0&&V!=null&&v(e,["distillationSpec"],qb(V))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const s=y(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const V=y(t,["epochCount"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],V)}else if(u==="PREFERENCE_TUNING"){const V=y(t,["epochCount"]);e!==void 0&&V!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],V)}else if(u==="DISTILLATION"){const V=y(t,["epochCount"]);e!==void 0&&V!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],V)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const V=y(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],V)}else if(c==="PREFERENCE_TUNING"){const V=y(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],V)}else if(c==="DISTILLATION"){const V=y(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],V)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const V=y(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],V)}else if(f==="PREFERENCE_TUNING"){const V=y(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],V)}else if(f==="DISTILLATION"){const V=y(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],V)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const V=y(t,["adapterSize"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],V)}else if(h==="PREFERENCE_TUNING"){const V=y(t,["adapterSize"]);e!==void 0&&V!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],V)}else if(h==="DISTILLATION"){const V=y(t,["adapterSize"]);e!==void 0&&V!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],V)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const V=y(t,["tuningMode"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","tuningMode"],V)}const g=y(t,["customBaseModel"]);e!==void 0&&g!=null&&v(e,["customBaseModel"],g);let E=y(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const V=y(t,["batchSize"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],V)}let S=y(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const V=y(t,["learningRate"]);e!==void 0&&V!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],V)}const A=y(t,["labels"]);e!==void 0&&A!=null&&v(e,["labels"],A);const w=y(t,["beta"]);e!==void 0&&w!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],w);const I=y(t,["baseTeacherModel"]);e!==void 0&&I!=null&&v(e,["distillationSpec","baseTeacherModel"],I);const O=y(t,["tunedTeacherModelSource"]);e!==void 0&&O!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],O);const k=y(t,["sftLossWeightMultiplier"]);e!==void 0&&k!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const B=y(t,["outputUri"]);e!==void 0&&B!=null&&v(e,["outputUri"],B);const F=y(t,["encryptionSpec"]);return e!==void 0&&F!=null&&v(e,["encryptionSpec"],F),r}function Rte(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&zte(o);const s=y(t,["config"]);return s!=null&&Ite(s,n),n}function Mte(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&qte(o,n,e);const s=y(t,["config"]);return s!=null&&Pte(s,n,e),n}function Nte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Dte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Ote(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function kte(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function Lte(t,e){const n={},r=y(t,["config"]);return r!=null&&Ote(r,n),n}function Vte(t,e){const n={},r=y(t,["config"]);return r!=null&&kte(r,n),n}function Ute(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>CB(u))),v(n,["tuningJobs"],s)}return n}function Bte(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>yS(u))),v(n,["tuningJobs"],s)}return n}function Fte(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["model"],r);const i=y(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function zte(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function qte(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["distillationSpec","promptDatasetUri"],s)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["distillationSpec","promptDatasetUri"],s)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function CB(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],j3(o));const s=y(t,["createTime"]);s!=null&&v(n,["createTime"],s);const u=y(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&v(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&v(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&v(n,["tunedModel"],Fte(g)),n}function yS(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],j3(o));const s=y(t,["createTime"]);s!=null&&v(n,["createTime"],s);const u=y(t,["startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&v(n,["error"],h);const p=y(t,["description"]);p!=null&&v(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const E=y(t,["tunedModel"]);E!=null&&v(n,["tunedModel"],E);const S=y(t,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const A=y(t,["supervisedTuningSpec"]);A!=null&&v(n,["supervisedTuningSpec"],A);const w=y(t,["preferenceOptimizationSpec"]);w!=null&&v(n,["preferenceOptimizationSpec"],w);const I=y(t,["distillationSpec"]);I!=null&&v(n,["distillationSpec"],I);const O=y(t,["tuningDataStats"]);O!=null&&v(n,["tuningDataStats"],O);const k=y(t,["encryptionSpec"]);k!=null&&v(n,["encryptionSpec"],k);const B=y(t,["partnerModelTuningSpec"]);B!=null&&v(n,["partnerModelTuningSpec"],B);const F=y(t,["customBaseModel"]);F!=null&&v(n,["customBaseModel"],F);const V=y(t,["experiment"]);V!=null&&v(n,["experiment"],V);const M=y(t,["labels"]);M!=null&&v(n,["labels"],M);const D=y(t,["outputUri"]);D!=null&&v(n,["outputUri"],D);const N=y(t,["pipelineJob"]);N!=null&&v(n,["pipelineJob"],N);const z=y(t,["serviceAccount"]);z!=null&&v(n,["serviceAccount"],z);const j=y(t,["tunedModelDisplayName"]);j!=null&&v(n,["tunedModelDisplayName"],j);const H=y(t,["veoTuningSpec"]);return H!=null&&v(n,["veoTuningSpec"],H),n}function jte(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["metadata"]);o!=null&&v(n,["metadata"],o);const s=y(t,["done"]);s!=null&&v(n,["done"],s);const u=y(t,["error"]);return u!=null&&v(n,["error"],u),n}function qb(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hte extends Pa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ou(va.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:iS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Dte(e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>yS(h))}else{const f=Nte(e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>CB(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Vte(e);return u=we("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Bte(h),g=new cD;return Object.assign(g,p),g})}else{const f=Lte(e);return u=we("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ute(h),g=new cD;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ate(e);return u=we("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Cte(h),g=new fD;return Object.assign(g,p),g})}else{const f=wte(e);return u=we("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xte(h),g=new fD;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Mte(e,e);return o=we("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>yS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rte(e);return o=we("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>jte(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gte{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $te=1024*1024*8,Kte=3,Yte=1e3,Wte=2,qg="x-goog-upload-status";async function Jte(t,e,n){var r;const i=await IB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Xte(t,e,n){var r;const i=await IB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=V3(o),u=new TA;return Object.assign(u,s),u}async function IB(t,e,n){var r,i;let o=0,s=0,u=new aS(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min($te,o-s),h=t.slice(s,s+f);s+f>=o&&(c+=", finalize");let p=0,g=Yte;for(;p<Kte&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[qg]));)p++,await Zte(g),g=g*Wte;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[qg])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Qte(t){return{size:t.size,type:t.type}}function Zte(t){return new Promise(e=>setTimeout(e,t))}class ene{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jte(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xte(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qte(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tne{create(e,n,r){return new nne(e,n,r)}}class nne{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD="x-goog-api-key";class rne{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(UD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(UD,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ine="gl-node/";class one{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Gn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=KY(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new rne(this.apiKey);this.apiClient=new QZ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ine+"web",uploader:new ene,downloader:new Gte}),this.models=new yee(this.apiClient),this.live=new fee(this.apiClient,i,new tne),this.batches=new SJ(this.apiClient),this.chats=new iX(this.models,this.apiClient),this.caches=new tX(this.apiClient),this.files=new gX(this.apiClient),this.operations=new vee(this.apiClient),this.authTokens=new Oee(this.apiClient),this.tunings=new Hte(this.apiClient),this.fileSearchStores=new qee(this.apiClient)}}class ane{constructor(e){this.apiKey=e}async callModelWithFallback(e,n=0,r){var o,s;if(!this.apiKey)throw new Error("API Key is missing");const i=hg[n];try{return(await new one({apiKey:this.apiKey}).models.generateContent({model:i,contents:e,config:{systemInstruction:r,temperature:.3}})).text||null}catch(u){if(console.error(`Error calling ${i}:`,u),(((o=u.message)==null?void 0:o.includes("429"))||((s=u.message)==null?void 0:s.includes("503")))&&n<hg.length-1)return console.log(`Falling back to ${hg[n+1]}...`),this.callModelWithFallback(e,n+1,r);throw u}}async getTutorHelp(e,n){const r=`
      Context Passage:
      ${n}

      Student Question: ${e}

      You are a helpful and encouraging English Tutor for Grade 10 students. 
      Answer the student's question based ONLY on the context provided.
      Keep your answer simple, clear, and encouraging. Use emojis occasionally.
      If the answer isn't in the text, say so politely.
    `;return await this.callModelWithFallback(r,0,"You are a helpful English tutor.")||"I'm sorry, I couldn't generate a response at the moment. Please check your connection or API key."}async generateQuiz(e){const n=`
      Create a short reading passage (about 150 words) suitable for Grade 10 English students about the topic: "${e}" related to "New Ways to Learn" (e.g., online learning, blended learning, educational apps).
      
      Then create 3 questions based on this passage:
      1. One True/False question.
      2. Two Multiple Choice questions (4 options A,B,C,D).

      Return the result in strictly valid JSON format with this schema:
      {
        "title": "Title of passage",
        "content": "Full text content...",
        "questions": [
          {
            "text": "Question text",
            "type": "TRUE_FALSE" or "MULTIPLE_CHOICE",
            "options": [{"id": "A", "text": "Option text"}],
            "correctAnswerId": "A" or "true",
            "explanation": "Why this is correct",
            "difficulty": "medium"
          }
        ]
      }
      DO NOT add markdown formatting (like \`\`\`json) around the response. Just the raw JSON string.
    `;try{const r=await this.callModelWithFallback(n);return(r==null?void 0:r.replace(/```json/g,"").replace(/```/g,"").trim())||null}catch(r){throw console.error("Failed to generate quiz",r),r}}}function PB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PB(t))&&(r&&(r+=" "),r+=e);return r}var sne=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function RA(t){if(typeof t!="string")return!1;var e=sne;return e.includes(t)}var lne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],une=new Set(lne);function RB(t){return typeof t!="string"?!1:une.has(t)}function MB(t){return typeof t=="string"&&t.startsWith("data-")}function Bo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(RB(n)||MB(n))&&(e[n]=t[n]);return e}function ih(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Bo(e)}return typeof t=="object"&&!Array.isArray(t)?Bo(t):null}function Si(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(RB(n)||MB(n)||RA(n))&&(e[n]=t[n]);return e}var cne=["children","width","height","viewBox","className","style","title","desc"];function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}function fne(t,e){if(t==null)return{};var n,r,i=dne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MA=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:c,desc:f}=t,h=fne(t,cne),p=o||{width:r,height:i,x:0,y:0},g=xt("recharts-surface",s);return C.createElement("svg",vS({},Si(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),n)}),hne=["children","className"];function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(null,arguments)}function pne(t,e){if(t==null)return{};var n,r,i=mne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ar=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=pne(t,hne),o=xt("recharts-layer",r);return C.createElement("g",_S({className:o},Si(i),{ref:e}),n)}),NA=KU(),NB=C.createContext(null),gne=()=>C.useContext(NB);function kt(t){return function(){return t}}const DB=Math.cos,jg=Math.sin,eo=Math.sqrt,Hg=Math.PI,cv=2*Hg,bS=Math.PI,ES=2*bS,Pl=1e-6,yne=ES-Pl;function OB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vne(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OB;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OB:vne(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Pl)if(!(Math.abs(p*c-f*h)>Pl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-s,S=i-u,A=c*c+f*f,w=E*E+S*S,I=Math.sqrt(A),O=Math.sqrt(g),k=o*Math.tan((bS-Math.acos((A+g-w)/(2*I*O)))/2),B=k/O,F=k/I;Math.abs(B-1)>Pl&&this._append`L${e+B*h},${n+B*p}`,this._append`A${o},${o},0,0,${+(p*E>h*S)},${this._x1=e+F*c},${this._y1=n+F*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Pl||Math.abs(this._y1-h)>Pl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%ES+ES),g>yne?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Pl&&this._append`A${r},${r},0,${+(g>=bS)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ne(e)}function OA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kB(t){this._context=t}kB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fv(t){return new kB(t)}function LB(t){return t[0]}function VB(t){return t[1]}function UB(t,e){var n=kt(!0),r=null,i=fv,o=null,s=DA(u);t=typeof t=="function"?t:t===void 0?LB:kt(t),e=typeof e=="function"?e:e===void 0?VB:kt(e);function u(c){var f,h=(c=OA(c)).length,p,g=!1,E;for(r==null&&(o=i(E=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(E)return o=null,E+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:kt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:kt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:kt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Bm(t,e,n){var r=null,i=kt(!0),o=null,s=fv,u=null,c=DA(f);t=typeof t=="function"?t:t===void 0?LB:kt(+t),e=typeof e=="function"?e:kt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?VB:kt(+n);function f(p){var g,E,S,A=(p=OA(p)).length,w,I=!1,O,k=new Array(A),B=new Array(A);for(o==null&&(u=s(O=c())),g=0;g<=A;++g){if(!(g<A&&i(w=p[g],g,p))===I)if(I=!I)E=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=E;--S)u.point(k[S],B[S]);u.lineEnd(),u.areaEnd()}I&&(k[g]=+t(w,g,p),B[g]=+e(w,g,p),u.point(r?+r(w,g,p):k[g],n?+n(w,g,p):B[g]))}if(O)return u=null,O+""||null}function h(){return UB().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:kt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:kt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:kt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(u=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=u=null:u=s(o=p),f):o},f}class BB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bne(t){return new BB(t,!0)}function Ene(t){return new BB(t,!1)}const kA={draw(t,e){const n=eo(e/Hg);t.moveTo(n,0),t.arc(0,0,n,0,cv)}},Tne={draw(t,e){const n=eo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FB=eo(1/3),Sne=FB*2,wne={draw(t,e){const n=eo(e/Sne),r=n*FB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ane={draw(t,e){const n=eo(e),r=-n/2;t.rect(r,r,n,n)}},xne=.8908130915292852,zB=jg(Hg/10)/jg(7*Hg/10),Cne=jg(cv/10)*zB,Ine=-DB(cv/10)*zB,Pne={draw(t,e){const n=eo(e*xne),r=Cne*n,i=Ine*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=cv*o/5,u=DB(s),c=jg(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},jb=eo(3),Rne={draw(t,e){const n=-eo(e/(jb*3));t.moveTo(0,n*2),t.lineTo(-jb*n,-n),t.lineTo(jb*n,-n),t.closePath()}},di=-.5,hi=eo(3)/2,TS=1/eo(12),Mne=(TS/2+1)*3,Nne={draw(t,e){const n=eo(e/Mne),r=n/2,i=n*TS,o=r,s=n*TS+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(di*r-hi*i,hi*r+di*i),t.lineTo(di*o-hi*s,hi*o+di*s),t.lineTo(di*u-hi*c,hi*u+di*c),t.lineTo(di*r+hi*i,di*i-hi*r),t.lineTo(di*o+hi*s,di*s-hi*o),t.lineTo(di*u+hi*c,di*c-hi*u),t.closePath()}};function Dne(t,e){let n=null,r=DA(i);t=typeof t=="function"?t:kt(t||kA),e=typeof e=="function"?e:kt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:kt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:kt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Gg(){}function $g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function One(t){return new qB(t)}function jB(t){this._context=t}jB.prototype={areaStart:Gg,areaEnd:Gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kne(t){return new jB(t)}function HB(t){this._context=t}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lne(t){return new HB(t)}function GB(t){this._context=t}GB.prototype={areaStart:Gg,areaEnd:Gg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Vne(t){return new GB(t)}function BD(t){return t<0?-1:1}function FD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(BD(o)+BD(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function zD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,zD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,zD(this,n=FD(this,t,e)),n);break;default:Hb(this,this._t0,n=FD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $B(t){this._context=new KB(t)}($B.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function KB(t){this._context=t}KB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Une(t){return new Kg(t)}function Bne(t){return new $B(t)}function YB(t){this._context=t}YB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qD(t),i=qD(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Fne(t){return new YB(t)}function dv(t,e){this._context=t,this._t=e}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function zne(t){return new dv(t,.5)}function qne(t){return new dv(t,0)}function jne(t){return new dv(t,1)}function $l(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function SS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Hne(t,e){return t[e]}function Gne(t){const e=[];return e.key=t,e}function $ne(){var t=kt([]),e=SS,n=$l,r=Hne;function i(o){var s=Array.from(t.apply(this,arguments),Gne),u,c=s.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,o)]).data=p;for(u=0,h=OA(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:kt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:kt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?SS:typeof o=="function"?o:kt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??$l,i):n},i}function Kne(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$l(t,e)}}function Yne(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}$l(t,e)}}function Wne(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,E=(p-g)/2,S=0;S<u;++S){var A=t[e[S]],w=A[r][1]||0,I=A[r-1][1]||0;E+=w-I}c+=p,f+=E*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,$l(t,e)}}var Gb={},$b={},jD;function Jne(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})($b)),$b}var Kb={},HD;function WB(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Kb)),Kb}var Yb={},GD;function LA(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Yb)),Yb}var Wb={},Jb={},$D;function Xne(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Jb)),Jb}var KD;function VA(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xne(),n=LA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],s=i.length;if(s===0)return o;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<s;){const p=i[u];f?p==="\\"&&u+1<s?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,u++}return c&&o.push(c),o}t.toPath=r})(Wb)),Wb}var YD;function UA(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jne(),n=WB(),r=LA(),i=VA();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=o})(Gb)),Gb}var Xb,WD;function Qne(){return WD||(WD=1,Xb=UA().get),Xb}var Zne=Qne();const Kl=Ho(Zne);var ere=4;function Ss(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ere,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,s)=>{var u=n[s-1];return typeof u=="string"?i+u+o:u!==void 0?i+Ss(u)+o:i+o},"")}var or=t=>t===0?0:t>0?1:-1,Fo=t=>typeof t=="number"&&t!=+t,Yl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!Fo(t),zo=t=>Ve(t)||typeof t=="string",tre=0,oh=t=>{var e=++tre;return"".concat(t||"").concat(e)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var o;if(Yl(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Fo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},JB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Rn(t,e,n){return Ve(t)&&Ve(e)?Ss(t+n*(e-t)):e}function nre(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Kl(r,e))===n)}var Hn=t=>t===null||typeof t>"u",Oh=t=>Hn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Po(t){return t!=null}function Zc(){}var rre=["type","size","sizeType"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(null,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sre(t,e){if(t==null)return{};var n,r,i=lre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XB={symbolCircle:kA,symbolCross:Tne,symbolDiamond:wne,symbolSquare:Ane,symbolStar:Pne,symbolTriangle:Rne,symbolWye:Nne},ure=Math.PI/180,cre=t=>{var e="symbol".concat(Oh(t));return XB[e]||kA},fre=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ure;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},dre=(t,e)=>{XB["symbol".concat(Oh(t))]=e},BA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=sre(t,rre),o=XD(XD({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var g=cre(s),E=Dne().type(g).size(fre(n,r,s)),S=E();if(S!==null)return S},{className:c,cx:f,cy:h}=o,p=Si(o);return Ve(f)&&Ve(h)&&Ve(n)?C.createElement("path",wS({},p,{className:xt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};BA.registerSymbol=dre;var QB=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,hre=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{RA(i)&&(r[i]=(o=>n[i](n,o)))}),r},pre=(t,e,n)=>r=>(t(e,n,r),null),kh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];RA(i)&&typeof o=="function"&&(r||(r={}),r[i]=pre(o,e,n))}),r};function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return(e=yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e){var n=mre({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(null,arguments)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mi=32,Sre={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function wre(t){var{data:e,iconType:n,inactiveColor:r}=t,i=mi/2,o=mi/6,s=mi/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var f;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:mi,y2:i,className:"recharts-legend-icon"})}if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(mi,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-mi,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var h=_re({},e);return delete h.legendIcon,C.cloneElement(e.legendIcon,h)}return C.createElement(BA,{fill:u,cx:i,cy:i,size:mi,sizeType:"diameter",type:c})}function Are(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:s}=t,u={x:0,y:0,width:mi,height:mi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||i,E=xt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?o:h.color,A=g?g(h.value,h,p):h.value;return C.createElement("li",Yg({className:E,style:c,key:"legend-item-".concat(p)},kh(t,h,p)),C.createElement(MA,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(A," legend icon")},C.createElement(wre,{data:h,iconType:s,inactiveColor:o})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},A))})}var xre=t=>{var e=sr(t,Sre),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:o},C.createElement(Are,Yg({},e,{payload:n})))},Qb={},Zb={},eO;function Cre(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s,o,n);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(Zb)),Zb}var eE={},tO;function Ire(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(eE)),eE}var tE={},nO;function ZB(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(tE)),tE}var nE={},rE={},iE={},rO;function Pre(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(iE)),iE}var iO;function FA(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pre();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(rE)),rE}var oE={},oO;function Rre(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(oE)),oE}var aO;function Mre(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FA(),n=Rre();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(nE)),nE}var aE={},sE={},sO;function Nre(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(sE)),sE}var lE={},uE={},cE={},fE={},lO;function eF(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(fE)),fE}var dE={},uO;function tF(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(dE)),dE}var hE={},cO;function nF(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(hE)),hE}var fO;function Dre(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eF(),n=tF(),r=nF();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function E(S,A,w,I,O,k){const B=g(S,A,w,I,O,k);return B!==void 0?!!B:o(S,A,E,k)},new Map)}function o(h,p,g,E){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,E);case"function":return Object.keys(p).length>0?o(h,{...p},g,E):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function s(h,p,g,E){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,E);if(p instanceof Map)return u(h,p,g,E);if(p instanceof Set)return f(h,p,g,E);const S=Object.keys(p);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(E!=null&&E.has(p))return E.get(p)===h;E==null||E.set(p,h);try{for(let A=0;A<S.length;A++){const w=S[A];if(!n.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!g(h[w],p[w],w,h,p,E))return!1}return!0}finally{E==null||E.delete(p)}}function u(h,p,g,E){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,A]of p.entries()){const w=h.get(S);if(g(w,A,S,h,p,E)===!1)return!1}return!0}function c(h,p,g,E){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let A=0;A<p.length;A++){const w=p[A];let I=!1;for(let O=0;O<h.length;O++){if(S.has(O))continue;const k=h[O];let B=!1;if(g(k,w,A,h,p,E)&&(B=!0),B){S.add(O),I=!0;break}}if(!I)return!1}return!0}function f(h,p,g,E){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,E):!1}t.isMatchWith=i,t.isSetMatch=f})(cE)),cE}var dO;function rF(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dre();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(uE)),uE}var pE={},mE={},gE={},hO;function Ore(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(gE)),gE}var yE={},pO;function zA(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(yE)),yE}var vE={},mO;function iF(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",E="[object Object]",S="[object Error]",A="[object DataView]",w="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",B="[object BigUint64Array]",F="[object Int8Array]",V="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",N="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=N,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=V,t.int32ArrayTag=M,t.int8ArrayTag=F,t.mapTag=c,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=O,t.uint32ArrayTag=k,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=I})(vE)),vE}var _E={},gO;function kre(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(_E)),_E}var yO;function oF(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ore(),n=zA(),r=iF(),i=tF(),o=kre();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,E=new Map,S=void 0){const A=S==null?void 0:S(h,p,g,E);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const w=new Array(h.length);E.set(h,w);for(let I=0;I<h.length;I++)w[I]=u(h[I],I,g,E,S);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;E.set(h,w);for(const[I,O]of h)w.set(I,u(O,I,g,E,S));return w}if(h instanceof Set){const w=new Set;E.set(h,w);for(const I of h)w.add(u(I,void 0,g,E,S));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,w);for(let I=0;I<h.length;I++)w[I]=u(h[I],I,g,E,S);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,w),c(w,h,g,E,S),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return E.set(h,w),c(w,h,g,E,S),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return E.set(h,w),c(w,h,g,E,S),w}if(h instanceof Error){const w=new h.constructor;return E.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,g,E,S),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return E.set(h,w),c(w,h,g,E,S),w}if(h instanceof Number){const w=new Number(h.valueOf());return E.set(h,w),c(w,h,g,E,S),w}if(h instanceof String){const w=new String(h.valueOf());return E.set(h,w),c(w,h,g,E,S),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return E.set(h,w),c(w,h,g,E,S),w}return h}function c(h,p,g=h,E,S){const A=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<A.length;w++){const I=A[w],O=Object.getOwnPropertyDescriptor(h,I);(O==null||O.writable)&&(h[I]=u(p[I],I,g,E,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(mE)),mE}var vO;function Lre(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oF();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(pE)),pE}var _O;function Vre(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rF(),n=Lre();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(lE)),lE}var bE={},EE={},TE={},bO;function Ure(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oF(),n=zA(),r=iF();function i(o,s){return e.cloneDeepWith(o,(u,c,f,h)=>{const p=s==null?void 0:s(u,c,f,h);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),e.copyProperties(g,o,f,h),g}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(g,o),g}case r.argumentsTag:{const g={};return e.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(TE)),TE}var EO;function Bre(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ure();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(EE)),EE}var SE={},wE={},TO;function aF(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(wE)),wE}var AE={},SO;function Fre(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(AE)),AE}var wO;function zre(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WB(),n=aF(),r=Fre(),i=VA();function o(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=o})(SE)),SE}var AO;function qre(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rF(),n=LA(),r=Bre(),i=UA(),o=zre();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(bE)),bE}var xO;function jre(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZB(),n=Nre(),r=Vre(),i=qre();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(aE)),aE}var CO;function Hre(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cre(),n=Ire(),r=ZB(),i=Mre(),o=jre();function s(u,c=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(c),1)):[]}t.uniqBy=s})(Qb)),Qb}var xE,IO;function Gre(){return IO||(IO=1,xE=Hre().uniqBy),xE}var $re=Gre();const PO=Ho($re);function sF(t,e,n){return e===!0?PO(t,n):typeof e=="function"?PO(t,e):t}var CE={exports:{}},IE={},PE={exports:{}},RE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function Kre(){if(RO)return RE;RO=1;var t=$c();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var E=g(),S=r({inst:{value:E,getSnapshot:g}}),A=S[0].inst,w=S[1];return o(function(){A.value=E,A.getSnapshot=g,c(A)&&w({inst:A})},[p,E,g]),i(function(){return c(A)&&w({inst:A}),p(function(){c(A)&&w({inst:A})})},[p]),s(E),E}function c(p){var g=p.getSnapshot;p=p.value;try{var E=g();return!n(p,E)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return RE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,RE}var MO;function Yre(){return MO||(MO=1,PE.exports=Kre()),PE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function Wre(){if(NO)return IE;NO=1;var t=$c(),e=Yre();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return IE.useSyncExternalStoreWithSelector=function(f,h,p,g,E){var S=o(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function I(V){if(!O){if(O=!0,k=V,V=g(V),E!==void 0&&A.hasValue){var M=A.value;if(E(M,V))return B=M}return B=V}if(M=B,r(k,V))return M;var D=g(V);return E!==void 0&&E(M,D)?(k=V,M):(k=V,B=D)}var O=!1,k,B,F=p===void 0?null:p;return[function(){return I(h())},F===null?void 0:function(){return I(F())}]},[h,p,g,E]);var w=i(f,S[0],S[1]);return s(function(){A.hasValue=!0,A.value=w},[w]),c(w),w},IE}var DO;function Jre(){return DO||(DO=1,CE.exports=Wre()),CE.exports}var Xre=Jre(),qA=C.createContext(null),Qre=t=>t,Ut=()=>{var t=C.useContext(qA);return t?t.store.dispatch:Qre},gg=()=>{},Zre=()=>gg,eie=(t,e)=>t===e;function Le(t){var e=C.useContext(qA),n=C.useMemo(()=>e?r=>{if(r!=null)return t(r)}:gg,[e,t]);return Xre.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Zre,e?e.store.getState:gg,e?e.store.getState:gg,n,eie)}function tie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function nie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function rie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OO=t=>Array.isArray(t)?t:[t];function iie(t){const e=Array.isArray(t[0])?t[0]:t;return rie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var aie=class{constructor(t){this.value=t}deref(){return this.value}},sie=typeof WeakRef<"u"?WeakRef:aie,lie=0,kO=1;function Fm(){return{s:lie,v:void 0,o:null,p:null}}function lF(t,e={}){let n=Fm();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,E=c;g<E;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const w=A.get(S);w===void 0?(u=Fm(),A.set(S,u)):u=w}else{let A=u.p;A===null&&(u.p=A=new Map);const w=A.get(S);w===void 0?(u=Fm(),A.set(S,u)):u=w}}const f=u;let h;if(u.s===kO)h=u.v;else if(h=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new sie(h):h}return f.s=kO,f.v=h,h}return s.clearCache=()=>{n=Fm(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function uie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),tie(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:E=lF,argsMemoizeOptions:S=[]}=h,A=OO(g),w=OO(S),I=iie(i),O=p(function(){return o++,f.apply(null,arguments)},...A),k=E(function(){s++;const F=oie(I,arguments);return u=O.apply(null,F),u},...w);return Object.assign(k,{resultFunc:f,memoizedResultFunc:O,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var ne=uie(lF),cie=Object.assign((t,e=ne)=>{nie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>cie}),ME={},NE={},DE={},LO;function fie(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(DE)),DE}var OE={},kE={},VO;function uF(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(kE)),kE}var UO;function die(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(OE)),OE}var BO;function hie(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fie(),n=die(),r=VA();function i(o,s,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const f=(E,S)=>{let A=E;for(let w=0;w<S.length&&A!=null;++w)A=A[S[w]];return A},h=(E,S)=>S==null||E==null?S:typeof E=="object"&&"key"in E?Object.hasOwn(S,E.key)?S[E.key]:f(S,E.path):typeof E=="function"?E(S):Array.isArray(E)?f(S,E):typeof S=="object"?S[E]:S,p=s.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:p.map(S=>h(S,E))})).slice().sort((E,S)=>{for(let A=0;A<p.length;A++){const w=e.compareValues(E.criteria[A],S.criteria[A],u[A]);if(w!==0)return w}return 0}).map(E=>E.original)}t.orderBy=i})(NE)),NE}var LE={},FO;function pie(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(LE)),LE}var VE={},zO;function cF(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aF(),n=FA(),r=eF(),i=nF();function o(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],s):!1}t.isIterateeCall=o})(VE)),VE}var qO;function mie(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hie(),n=pie(),r=cF();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(ME)),ME}var UE,jO;function gie(){return jO||(jO=1,UE=mie().sortBy),UE}var yie=gie();const hv=Ho(yie);var fF=t=>t.legend.settings,vie=t=>t.legend.size,_ie=t=>t.legend.payload,bie=ne([_ie,fF],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?hv(r,n):r});function Eie(){return Le(bie)}var zm=1;function dF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>zm||Math.abs(s.left-e.left)>zm||Math.abs(s.top-e.top)>zm||Math.abs(s.width-e.width)>zm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tie=typeof Symbol=="function"&&Symbol.observable||"@@observable",HO=Tie,BE=()=>Math.random().toString(36).substring(7).split("").join("."),Sie={INIT:`@@redux/INIT${BE()}`,REPLACE:`@@redux/REPLACE${BE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${BE()}`},Wg=Sie;function jA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function hF(t,e,n){if(typeof t!="function")throw new Error(er(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(er(1));return n(hF)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,c=!1;function f(){s===o&&(s=new Map,o.forEach((w,I)=>{s.set(I,w)}))}function h(){if(c)throw new Error(er(3));return i}function p(w){if(typeof w!="function")throw new Error(er(4));if(c)throw new Error(er(5));let I=!0;f();const O=u++;return s.set(O,w),function(){if(I){if(c)throw new Error(er(6));I=!1,f(),s.delete(O),o=null}}}function g(w){if(!jA(w))throw new Error(er(7));if(typeof w.type>"u")throw new Error(er(8));if(typeof w.type!="string")throw new Error(er(17));if(c)throw new Error(er(9));try{c=!0,i=r(i,w)}finally{c=!1}return(o=s).forEach(O=>{O()}),w}function E(w){if(typeof w!="function")throw new Error(er(10));r=w,g({type:Wg.REPLACE})}function S(){const w=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(er(11));function O(){const B=I;B.next&&B.next(h())}return O(),{unsubscribe:w(O)}},[HO](){return this}}}return g({type:Wg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:E,[HO]:S}}function wie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Wg.INIT})>"u")throw new Error(er(12));if(typeof n(void 0,{type:Wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function pF(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{wie(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],E=s[p],S=g(E,u);if(typeof S>"u")throw u&&u.type,new Error(er(14));f[p]=S,c=c||S!==E}return c=c||r.length!==Object.keys(s).length,c?f:s}}function Jg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Aie(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(er(15))};const s={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(s));return o=Jg(...u)(i.dispatch),{...i,dispatch:o}}}function mF(t){return jA(t)&&"type"in t&&typeof t.type=="string"}var gF=Symbol.for("immer-nothing"),GO=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yr=Object,Dc=Yr.getPrototypeOf,Xg="constructor",pv="prototype",AS="configurable",Qg="enumerable",yg="writable",ah="value",_a=t=>!!t&&!!t[xr];function Xi(t){var e;return t?yF(t)||gv(t)||!!t[GO]||!!((e=t[Xg])!=null&&e[GO])||yv(t)||vv(t):!1}var xie=Yr[pv][Xg].toString(),$O=new WeakMap;function yF(t){if(!t||!HA(t))return!1;const e=Dc(t);if(e===null||e===Yr[pv])return!0;const n=Yr.hasOwnProperty.call(e,Xg)&&e[Xg];if(n===Object)return!0;if(!sc(n))return!1;let r=$O.get(n);return r===void 0&&(r=Function.toString.call(n),$O.set(n,r)),r===xie}function mv(t,e,n=!0){Lh(t)===0?(n?Reflect.ownKeys(t):Yr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lh(t){const e=t[xr];return e?e.type_:gv(t)?1:yv(t)?2:vv(t)?3:0}var KO=(t,e,n=Lh(t))=>n===2?t.has(e):Yr[pv].hasOwnProperty.call(t,e),xS=(t,e,n=Lh(t))=>n===2?t.get(e):t[e],Zg=(t,e,n,r=Lh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Cie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var gv=Array.isArray,yv=t=>t instanceof Map,vv=t=>t instanceof Set,HA=t=>typeof t=="object",sc=t=>typeof t=="function",FE=t=>typeof t=="boolean";function Iie(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var da=t=>t.copy_||t.base_,GA=t=>t.modified_?t.copy_:t.base_;function CS(t,e){if(yv(t))return new Map(t);if(vv(t))return new Set(t);if(gv(t))return Array[pv].slice.call(t);const n=yF(t);if(e===!0||e==="class_only"&&!n){const r=Yr.getOwnPropertyDescriptors(t);delete r[xr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u[yg]===!1&&(u[yg]=!0,u[AS]=!0),(u.get||u.set)&&(r[s]={[AS]:!0,[yg]:!0,[Qg]:u[Qg],[ah]:t[s]})}return Yr.create(Dc(t),r)}else{const r=Dc(t);if(r!==null&&n)return{...t};const i=Yr.create(r);return Yr.assign(i,t)}}function $A(t,e=!1){return _v(t)||_a(t)||!Xi(t)||(Lh(t)>1&&Yr.defineProperties(t,{set:qm,add:qm,clear:qm,delete:qm}),Yr.freeze(t),e&&mv(t,(n,r)=>{$A(r,!0)},!1)),t}function Pie(){qi(2)}var qm={[ah]:Pie};function _v(t){return t===null||!HA(t)?!0:Yr.isFrozen(t)}var ey="MapSet",IS="Patches",YO="ArrayMethods",vF={};function Wl(t){const e=vF[t];return e||qi(0,t),e}var WO=t=>!!vF[t],sh,_F=()=>sh,Rie=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:WO(ey)?Wl(ey):void 0,arrayMethodsPlugin_:WO(YO)?Wl(YO):void 0});function JO(t,e){e&&(t.patchPlugin_=Wl(IS),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PS(t){RS(t),t.drafts_.forEach(Mie),t.drafts_=null}function RS(t){t===sh&&(sh=t.parent_)}var XO=t=>sh=Rie(sh,t);function Mie(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[xr].modified_&&(PS(e),qi(4)),Xi(t)&&(t=ZO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[xr].base_,t,e)}else t=ZO(e,n);return Nie(e,t,!0),PS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==gF?t:void 0}function ZO(t,e){if(_v(e))return e;const n=e[xr];if(!n)return ty(e,t.handledSet_,t);if(!bv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);TF(n,t)}return n.copy_}function Nie(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$A(e,n)}function bF(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var bv=(t,e)=>t.scope_===e,Die=[];function EF(t,e,n,r){const i=da(t),o=t.type_;if(r!==void 0&&xS(i,r,o)===e){Zg(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;mv(i,(c,f)=>{if(_a(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=t.draftLocations_.get(e)??Die;for(const u of s)Zg(i,u,n,o)}function Oie(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!bv(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const s=GA(o);EF(t,o.draft_??o,s,n),TF(o,i)})}function TF(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}bF(t)}}function kie(t,e,n){const{scope_:r}=t;if(_a(n)){const i=n[xr];bv(i,r)&&i.callbacks_.push(function(){vg(t);const s=GA(i);EF(t,n,s,e)})}else Xi(n)&&t.callbacks_.push(function(){const o=da(t);t.type_===3?o.has(n)&&ty(n,r.handledSet_,r):xS(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&ty(xS(t.copy_,e,t.type_),r.handledSet_,r)})}function ty(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_a(t)||e.has(t)||!Xi(t)||_v(t)||(e.add(t),mv(t,(r,i)=>{if(_a(i)){const o=i[xr];if(bv(o,n)){const s=GA(o);Zg(t,r,s,t.type_),bF(o)}}else Xi(i)&&ty(i,e,n)})),t}function Lie(t,e){const n=gv(t),r={type_:n?1:0,scope_:e?e.scope_:_F(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=ny;n&&(i=[r],o=lh);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,[u,r]}var ny={get(t,e){if(e===xr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=da(t);if(!KO(i,e,t.type_))return Vie(t,i,e);const o=i[e];if(t.finalized_||!Xi(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Iie(e))return o;if(o===zE(t.base_,e)){vg(t);const s=t.type_===1?+e:e,u=NS(t.scope_,o,t,s);return t.copy_[s]=u}return o},has(t,e){return e in da(t)},ownKeys(t){return Reflect.ownKeys(da(t))},set(t,e,n){const r=SF(da(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=zE(da(t),e),o=i==null?void 0:i[xr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Cie(n,i)&&(n!==void 0||KO(t.base_,e,t.type_)))return!0;vg(t),MS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),kie(t,e,n)),!0},deleteProperty(t,e){return vg(t),zE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),MS(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=da(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[yg]:!0,[AS]:t.type_!==1||e!=="length",[Qg]:r[Qg],[ah]:n[e]}},defineProperty(){qi(11)},getPrototypeOf(t){return Dc(t.base_)},setPrototypeOf(){qi(12)}},lh={};for(let t in ny){let e=ny[t];lh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}lh.deleteProperty=function(t,e){return lh.set.call(this,t,e,void 0)};lh.set=function(t,e,n){return ny.set.call(this,t[0],e,n,t[0])};function zE(t,e){const n=t[xr];return(n?da(n):t)[e]}function Vie(t,e,n){var i;const r=SF(e,n);return r?ah in r?r[ah]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function SF(t,e){if(!(e in t))return;let n=Dc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dc(n)}}function MS(t){t.modified_||(t.modified_=!0,t.parent_&&MS(t.parent_))}function vg(t){t.copy_||(t.assigned_=new Map,t.copy_=CS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Uie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(sc(n)&&!sc(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,p=>r.call(this,p,...h))}}sc(r)||qi(6),i!==void 0&&!sc(i)&&qi(7);let o;if(Xi(n)){const s=XO(this),u=NS(s,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?PS(s):RS(s)}return JO(s,i),QO(o,s)}else if(!n||!HA(n)){if(o=r(n),o===void 0&&(o=n),o===gF&&(o=void 0),this.autoFreeze_&&$A(o,!0),i){const s=[],u=[];Wl(IS).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:u}),i(s,u)}return o}else qi(1,n)},this.produceWithPatches=(n,r)=>{if(sc(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},FE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),FE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),FE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xi(e)||qi(8),_a(e)&&(e=Wi(e));const n=XO(this),r=NS(n,e,void 0);return r[xr].isManual_=!0,RS(n),r}finishDraft(e,n){const r=e&&e[xr];(!r||!r.isManual_)&&qi(9);const{scope_:i}=r;return JO(i,n),QO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Wl(IS).applyPatches_;return _a(e)?i(e,n):this.produce(e,o=>i(o,n))}};function NS(t,e,n,r){const[i,o]=yv(e)?Wl(ey).proxyMap_(e,n):vv(e)?Wl(ey).proxySet_(e,n):Lie(e,n);return((n==null?void 0:n.scope_)??_F()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?Oie(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function Wi(t){return _a(t)||qi(10,t),wF(t)}function wF(t){if(!Xi(t)||_v(t))return t;const e=t[xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=CS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=CS(t,!0);return mv(n,(i,o)=>{Zg(n,i,wF(o))},r),e&&(e.finalized_=!1),n}var Bie=new Uie,AF=Bie.produce;function xF(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Fie=xF(),zie=xF,qie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jg:Jg.apply(null,arguments)};function wi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>mF(r)&&r.type===t,n}var CF=class Dd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dd.prototype)}static get[Symbol.species](){return Dd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dd(...e[0].concat(this)):new Dd(...e.concat(this))}};function e2(t){return Xi(t)?AF(t,()=>{}):t}function jm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function jie(t){return typeof t=="boolean"}var Hie=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new CF;return n&&(jie(n)?s.push(Fie):s.push(zie(n.extraArgument))),s},IF="RTK_autoBatch",Kt=()=>t=>({payload:t,meta:{[IF]:!0}}),t2=t=>e=>{setTimeout(e,t)},PF=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t2(10):t.type==="callback"?t.queueNotification:t2(t.timeout),f=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[IF]),o=!i,o&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},Gie=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new CF(t);return r&&i.push(PF(typeof r=="object"?r:void 0)),i};function $ie(t){const e=Hie(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(jA(n))u=pF(n);else throw new Error(Wr(1));let c;typeof r=="function"?c=r(e):c=e();let f=Jg;i&&(f=qie({trace:!1,...typeof i=="object"&&i}));const h=Aie(...c),p=Gie(h);let g=typeof s=="function"?s(p):p();const E=f(...g);return hF(u,o,E)}function RF(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Wr(28));if(u in e)throw new Error(Wr(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Kie(t){return typeof t=="function"}function Yie(t,e){let[n,r,i]=RF(e),o;if(Kie(t))o=()=>e2(t());else{const u=e2(t);o=()=>u}function s(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(_a(h)){const E=p(h,c);return E===void 0?h:E}else{if(Xi(h))return AF(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=o,s}var Wie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jie=(t=21)=>{let e="",n=t;for(;n--;)e+=Wie[Math.random()*64|0];return e},Xie=Symbol.for("rtk-slice-createasyncthunk");function Qie(t,e){return`${t}/${e}`}function Zie({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Xie];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Wr(11));const u=(typeof i.reducers=="function"?i.reducers(toe()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,F){const V=typeof B=="string"?B:B.type;if(!V)throw new Error(Wr(12));if(V in f.sliceCaseReducersByType)throw new Error(Wr(13));return f.sliceCaseReducersByType[V]=F,h},addMatcher(B,F){return f.sliceMatchers.push({matcher:B,reducer:F}),h},exposeAction(B,F){return f.actionCreators[B]=F,h},exposeCaseReducer(B,F){return f.sliceCaseReducersByName[B]=F,h}};c.forEach(B=>{const F=u[B],V={reducerName:B,type:Qie(o,B),createNotation:typeof i.reducers=="function"};roe(F)?ooe(V,F,h,e):noe(V,F,h)});function p(){const[B={},F=[],V=void 0]=typeof i.extraReducers=="function"?RF(i.extraReducers):[i.extraReducers],M={...B,...f.sliceCaseReducersByType};return Yie(i.initialState,D=>{for(let N in M)D.addCase(N,M[N]);for(let N of f.sliceMatchers)D.addMatcher(N.matcher,N.reducer);for(let N of F)D.addMatcher(N.matcher,N.reducer);V&&D.addDefaultCase(V)})}const g=B=>B,E=new Map,S=new WeakMap;let A;function w(B,F){return A||(A=p()),A(B,F)}function I(){return A||(A=p()),A.getInitialState()}function O(B,F=!1){function V(D){let N=D[B];return typeof N>"u"&&F&&(N=jm(S,V,I)),N}function M(D=g){const N=jm(E,F,()=>new WeakMap);return jm(N,D,()=>{const z={};for(const[j,H]of Object.entries(i.selectors??{}))z[j]=eoe(H,D,()=>jm(S,D,I),F);return z})}return{reducerPath:B,getSelectors:M,get selectors(){return M(V)},selectSlice:V}}const k={name:o,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...O(s),injectInto(B,{reducerPath:F,...V}={}){const M=F??s;return B.inject({reducerPath:M,reducer:w},V),{...k,...O(M,!0)}}};return k}}function eoe(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Vr=Zie();function toe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function noe({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!ioe(r))throw new Error(Wr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?wi(t,s):wi(t))}function roe(t){return t._reducerDefinitionType==="asyncThunk"}function ioe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ooe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wr(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,o,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||Hm,pending:u||Hm,rejected:c||Hm,settled:f||Hm})}function Hm(){}var aoe="task",MF="listener",NF="completed",KA="cancelled",soe=`task-${KA}`,loe=`task-${NF}`,DS=`${MF}-${KA}`,uoe=`${MF}-${NF}`,Ev=class{constructor(t){hb(this,"name","TaskAbortError");hb(this,"message");this.code=t,this.message=`${aoe} ${KA} (reason: ${t})`}},YA=(t,e)=>{if(typeof t!="function")throw new TypeError(Wr(32))},ry=()=>{},DF=(t,e=ry)=>(t.catch(e),t),OF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Fl=t=>{if(t.aborted)throw new Ev(t.reason)};function kF(t,e){let n=ry;return new Promise((r,i)=>{const o=()=>i(new Ev(t.reason));if(t.aborted){o();return}n=OF(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ry})}var coe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ev?"cancelled":"rejected",error:n}}finally{e==null||e()}},iy=t=>e=>DF(kF(t,e).then(n=>(Fl(t),n))),LF=t=>{const e=iy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ac}=Object,n2={},Tv="listenerMiddleware",foe=(t,e)=>{const n=r=>OF(t,()=>r.abort(t.reason));return(r,i)=>{YA(r);const o=new AbortController;n(o);const s=coe(async()=>{Fl(t),Fl(o.signal);const u=await r({pause:iy(o.signal),delay:LF(o.signal),signal:o.signal});return Fl(o.signal),u},()=>o.abort(loe));return i!=null&&i.autoJoin&&e.push(s.catch(ry)),{result:iy(t)(s),cancel(){o.abort(soe)}}}},doe=(t,e)=>{const n=async(r,i)=>{Fl(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await kF(e,Promise.race(u));return Fl(e),c}finally{o()}};return(r,i)=>DF(n(r,i))},VF=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=wi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Wr(21));return YA(o),{predicate:i,type:e,effect:o}},UF=Ac(t=>{const{type:e,predicate:n,effect:r}=VF(t);return{id:Jie(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wr(22))}}},{withTypes:()=>UF}),r2=(t,e)=>{const{type:n,effect:r,predicate:i}=VF(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},OS=t=>{t.pending.forEach(e=>{e.abort(DS)})},hoe=(t,e)=>()=>{for(const n of e.keys())OS(n);t.clear()},i2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},BF=Ac(wi(`${Tv}/add`),{withTypes:()=>BF}),poe=wi(`${Tv}/removeAll`),FF=Ac(wi(`${Tv}/remove`),{withTypes:()=>FF}),moe=(...t)=>{console.error(`${Tv}/error`,...t)},Vh=(t={})=>{const e=new Map,n=new Map,r=E=>{const S=n.get(E)??0;n.set(E,S+1)},i=E=>{const S=n.get(E)??1;S===1?n.delete(E):n.set(E,S-1)},{extra:o,onError:s=moe}=t;YA(s);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),S=>{E.unsubscribe(),S!=null&&S.cancelActive&&OS(E)}),c=E=>{const S=r2(e,E)??UF(E);return u(S)};Ac(c,{withTypes:()=>c});const f=E=>{const S=r2(e,E);return S&&(S.unsubscribe(),E.cancelActive&&OS(S)),!!S};Ac(f,{withTypes:()=>f});const h=async(E,S,A,w)=>{const I=new AbortController,O=doe(c,I.signal),k=[];try{E.pending.add(I),r(E),await Promise.resolve(E.effect(S,Ac({},A,{getOriginalState:w,condition:(B,F)=>O(B,F).then(Boolean),take:O,delay:LF(I.signal),pause:iy(I.signal),extra:o,signal:I.signal,fork:foe(I.signal,k),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((B,F,V)=>{B!==I&&(B.abort(DS),V.delete(B))})},cancel:()=>{I.abort(DS),E.pending.delete(I)},throwIfCancelled:()=>{Fl(I.signal)}})))}catch(B){B instanceof Ev||i2(s,B,{raisedBy:"effect"})}finally{await Promise.all(k),I.abort(uoe),i(E),E.pending.delete(I)}},p=hoe(e,n);return{middleware:E=>S=>A=>{if(!mF(A))return S(A);if(BF.match(A))return c(A.payload);if(poe.match(A)){p();return}if(FF.match(A))return f(A.payload);let w=E.getState();const I=()=>{if(w===n2)throw new Error(Wr(23));return w};let O;try{if(O=S(A),e.size>0){const k=E.getState(),B=Array.from(e.values());for(const F of B){let V=!1;try{V=F.predicate(A,k,w)}catch(M){V=!1,i2(s,M,{raisedBy:"predicate"})}V&&h(F,A,E,I)}}}finally{w=n2}return O},startListening:c,stopListening:f,clearListeners:p}};function Wr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var goe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zF=Vr({name:"chartLayout",initialState:goe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yoe,setLayout:voe,setChartSize:_oe,setScale:boe}=zF.actions,Eoe=zF.reducer;function qF(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vt(t){return Number.isFinite(t)}function ks(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){Toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Toe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=woe(t,"string");return typeof e=="symbol"?e:e+""}function woe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e,n){return Hn(t)||Hn(e)?n:zo(e)?Kl(t,e,n):typeof e=="function"?e(t):n}var Aoe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&Ve(t[o]))return _c(_c({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&Ve(t[s]))return _c(_c({},t),{},{[s]:t[s]+(i||0)})}return t},Gs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",xoe=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Coe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,u=0;u<n;++u){var c=t[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=Fo(h)?p:h;g>=0?(f[0]=o,o+=g,f[1]=o):(f[0]=s,s+=g,f[1]=s)}}}},Ioe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var u=t[s],c=u==null?void 0:u[i];if(c!=null){var f=Fo(c[1])?c[0]:c[1];f>=0?(c[0]=o,o+=f,c[1]=o):(c[0]=0,c[1]=0)}}}},Poe={sign:Coe,expand:Kne,none:$l,silhouette:Yne,wiggle:Wne,positive:Ioe},Roe=(t,e,n)=>{var r,i=(r=Poe[n])!==null&&r!==void 0?r:$l,o=$ne().keys(e).value((u,c)=>Number(jt(u,c,0))).order(SS).offset(i),s=o(t);return s.forEach((u,c)=>{u.forEach((f,h)=>{var p=jt(t[h],e[c],0);Array.isArray(p)&&p.length===2&&Ve(p[0])&&Ve(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function Moe(t){return t==null?void 0:String(t)}var a2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=jt(o,e.dataKey,e.scale.domain()[s]);if(Hn(u))return null;var c=e.scale.map(u);return Ve(c)?c-i/2+r:null},Noe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Doe=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},Ooe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],koe=(t,e,n)=>{if(t!=null)return Ooe(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:s}=o,u=s.reduce((c,f)=>{var h=qF(f,e,n),p=Doe(h);return!vt(p[0])||!vt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},s2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=hv(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function u2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return _c(_c({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Sv(t,e){if(t)return String(t);if(typeof e=="string")return e}var Loe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Voe=(t,e)=>e==="centric"?t.angle:t.radius,Ma=t=>t.layout.width,Na=t=>t.layout.height,Uoe=t=>t.layout.scale,jF=t=>t.layout.margin,wv=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Av=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),HF="data-recharts-item-index",GF="data-recharts-item-id",Uh=60;function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=t=>t.brush.height;function joe(t){var e=Av(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uh;return n+i}return n},0)}function Hoe(t){var e=Av(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uh;return n+i}return n},0)}function Goe(t){var e=wv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $oe(t){var e=wv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var On=ne([Ma,Na,jF,qoe,joe,Hoe,Goe,$oe,fF,vie],(t,e,n,r,i,o,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=Gm(Gm({},p),h),E=g.bottom;g.bottom+=r,g=Aoe(g,c,f);var S=t-g.left-g.right,A=e-g.top-g.bottom;return Gm(Gm({brushBottom:E},g),{},{width:Math.max(S,0),height:Math.max(A,0)})}),Koe=ne(On,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),WA=ne(Ma,Na,(t,e)=>({x:0,y:0,width:t,height:e})),Yoe=C.createContext(null),Xr=()=>C.useContext(Yoe)!=null,xv=t=>t.brush,Cv=ne([xv,On,jF],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),qE={},jE={},HE={},f2;function Woe(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{f&&h(),A()};let g=null;const E=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},S=()=>{g!==null&&(clearTimeout(g),g=null)},A=()=>{S(),s=void 0,u=null},w=()=>{h()},I=function(...O){if(i!=null&&i.aborted)return;s=this,u=O;const k=g==null;E(),c&&k&&h()};return I.schedule=E,I.cancel=A,I.flush=w,i==null||i.addEventListener("abort",A,{once:!0}),I}t.debounce=e})(HE)),HE}var d2;function Joe(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Woe();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...A){h=r.apply(this,A),p=null},i,{edges:f}),E=function(...A){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,A),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,A),h)},S=()=>(g.flush(),h);return E.cancel=g.cancel,E.flush=S,E}t.debounce=n})(jE)),jE}var h2;function Xoe(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Joe();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(qE)),qE}var GE,p2;function Qoe(){return p2||(p2=1,GE=Xoe().throttle),GE}var Zoe=Qoe();const eae=Ho(Zoe);var m2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Ro={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$F=(t,e,n)=>{var{width:r=Ro.width,height:i=Ro.height,aspect:o,maxHeight:s}=n,u=Yl(r)?t:Number(r),c=Yl(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},tae={width:0,height:0,overflow:"visible"},nae={width:0,overflowX:"visible"},rae={height:0,overflowY:"visible"},iae={},oae=t=>{var{width:e,height:n}=t,r=Yl(e),i=Yl(n);return r&&i?tae:r?nae:i?rae:iae};function aae(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i=Ro.width,o=Ro.height):i===void 0?i=r&&r>0?void 0:Ro.width:o===void 0&&(o=r&&r>0?void 0:Ro.height),{width:i,height:o}}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(null,arguments)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KF=C.createContext(Ro.initialDimension);function cae(t){return ks(t.width)&&ks(t.height)}function YF(t){var{children:e,width:n,height:r}=t,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return cae(i)?C.createElement(KF.Provider,{value:i},e):null}var JA=()=>C.useContext(KF),fae=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ro.initialDimension,width:i,height:o,minWidth:s=Ro.minWidth,minHeight:u,maxHeight:c,children:f,debounce:h=Ro.debounce,id:p,className:g,onResize:E,style:S={}}=t,A=C.useRef(null),w=C.useRef();w.current=E,C.useImperativeHandle(e,()=>A.current);var[I,O]=C.useState({containerWidth:r.width,containerHeight:r.height}),k=C.useCallback((D,N)=>{O(z=>{var j=Math.round(D),H=Math.round(N);return z.containerWidth===j&&z.containerHeight===H?z:{containerWidth:j,containerHeight:H}})},[]);C.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return Zc;var D=H=>{var $,ye=H[0];if(ye!=null){var{width:Se,height:Q}=ye.contentRect;k(Se,Q),($=w.current)===null||$===void 0||$.call(w,Se,Q)}};h>0&&(D=eae(D,h,{trailing:!0,leading:!1}));var N=new ResizeObserver(D),{width:z,height:j}=A.current.getBoundingClientRect();return k(z,j),N.observe(A.current),()=>{N.disconnect()}},[k,h]);var{containerWidth:B,containerHeight:F}=I;m2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:V,calculatedHeight:M}=$F(B,F,{width:i,height:o,aspect:n,maxHeight:c});return m2(V!=null&&V>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,M,i,o,s,u,n),C.createElement("div",{id:p?"".concat(p):void 0,className:xt("recharts-responsive-container",g),style:y2(y2({},S),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:c}),ref:A},C.createElement("div",{style:oae({width:i,height:o})},C.createElement(YF,{width:V,height:M},f)))}),ay=C.forwardRef((t,e)=>{var n=JA();if(ks(n.width)&&ks(n.height))return t.children;var{width:r,height:i}=aae({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:s}=$F(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(o)&&Ve(s)?C.createElement(YF,{width:o,height:s},t.children):C.createElement(fae,kS({},t,{width:r,height:i,ref:e}))});function XA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Iv=()=>{var t,e=Xr(),n=Le(Koe),r=Le(Cv),i=(t=Le(xv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hae=()=>{var t;return(t=Le(On))!==null&&t!==void 0?t:dae},WF=()=>Le(Ma),JF=()=>Le(Na),pae=()=>Le(t=>t.layout.margin),Et=t=>t.layout.layoutType,ef=()=>Le(Et),XF=()=>{var t=ef();if(t==="horizontal"||t==="vertical")return t},QF=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},mae=()=>{var t=ef();return t!==void 0},Bh=t=>{var e=Ut(),n=Xr(),{width:r,height:i}=t,o=JA(),s=r,u=i;return o&&(s=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&ks(s)&&ks(u)&&e(_oe({width:s,height:u}))},[e,n,s,u]),null},ZF=Symbol.for("immer-nothing"),v2=Symbol.for("immer-draftable"),Jr=Symbol.for("immer-state");function ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var uh=Object.getPrototypeOf;function Oc(t){return!!t&&!!t[Jr]}function Jl(t){var e;return t?e6(t)||Array.isArray(t)||!!t[v2]||!!((e=t.constructor)!=null&&e[v2])||Fh(t)||Rv(t):!1}var gae=Object.prototype.constructor.toString(),_2=new WeakMap;function e6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=_2.get(n);return r===void 0&&(r=Function.toString.call(n),_2.set(n,r)),r===gae}function sy(t,e,n=!0){Pv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Pv(t){const e=t[Jr];return e?e.type_:Array.isArray(t)?1:Fh(t)?2:Rv(t)?3:0}function LS(t,e){return Pv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function t6(t,e,n){const r=Pv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function yae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fh(t){return t instanceof Map}function Rv(t){return t instanceof Set}function Rl(t){return t.copy_||t.base_}function VS(t,e){if(Fh(t))return new Map(t);if(Rv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=e6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Jr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(uh(t),r)}else{const r=uh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QA(t,e=!1){return Mv(t)||Oc(t)||!Jl(t)||(Pv(t)>1&&Object.defineProperties(t,{set:$m,add:$m,clear:$m,delete:$m}),Object.freeze(t),e&&Object.values(t).forEach(n=>QA(n,!0))),t}function vae(){ji(2)}var $m={value:vae};function Mv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var _ae={};function Xl(t){const e=_ae[t];return e||ji(0,t),e}var ch;function n6(){return ch}function bae(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b2(t,e){e&&(Xl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function US(t){BS(t),t.drafts_.forEach(Eae),t.drafts_=null}function BS(t){t===ch&&(ch=t.parent_)}function E2(t){return ch=bae(ch,t)}function Eae(t){const e=t[Jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function T2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jr].modified_&&(US(e),ji(4)),Jl(t)&&(t=ly(e,t),e.parent_||uy(e,t)),e.patches_&&Xl("Patches").generateReplacementPatches_(n[Jr].base_,t,e.patches_,e.inversePatches_)):t=ly(e,n,[]),US(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZF?t:void 0}function ly(t,e,n){if(Mv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Jr];if(!i)return sy(e,(o,s)=>S2(t,i,e,o,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return uy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),sy(s,(c,f)=>S2(t,i,o,c,f,n,u),r),uy(t,o,!1),n&&t.patches_&&Xl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function S2(t,e,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const u=Mv(i);if(!(u&&!s)){if(Oc(i)){const c=o&&e&&e.type_!==3&&!LS(e.assigned_,r)?o.concat(r):void 0,f=ly(t,i,c);if(t6(n,r,f),Oc(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Jl(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ly(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Fh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&uy(t,i)}}}function uy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QA(e,n)}function Tae(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:n6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ZA;n&&(i=[r],o=fh);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var ZA={get(t,e){if(e===Jr)return t;const n=Rl(t);if(!LS(n,e))return Sae(t,n,e);const r=n[e];return t.finalized_||!Jl(r)?r:r===$E(t.base_,e)?(KE(t),t.copy_[e]=zS(r,t)):r},has(t,e){return e in Rl(t)},ownKeys(t){return Reflect.ownKeys(Rl(t))},set(t,e,n){const r=r6(Rl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$E(Rl(t),e),o=i==null?void 0:i[Jr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yae(n,i)&&(n!==void 0||LS(t.base_,e)))return!0;KE(t),FS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $E(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,KE(t),FS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Rl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ji(11)},getPrototypeOf(t){return uh(t.base_)},setPrototypeOf(){ji(12)}},fh={};sy(ZA,(t,e)=>{fh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fh.deleteProperty=function(t,e){return fh.set.call(this,t,e,void 0)};fh.set=function(t,e,n){return ZA.set.call(this,t[0],e,n,t[0])};function $E(t,e){const n=t[Jr];return(n?Rl(n):t)[e]}function Sae(t,e,n){var i;const r=r6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function r6(t,e){if(!(e in t))return;let n=uh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=uh(n)}}function FS(t){t.modified_||(t.modified_=!0,t.parent_&&FS(t.parent_))}function KE(t){t.copy_||(t.copy_=VS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var wae=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&ji(6),r!==void 0&&typeof r!="function"&&ji(7);let i;if(Jl(e)){const o=E2(this),s=zS(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?US(o):BS(o)}return b2(o,r),T2(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===ZF&&(i=void 0),this.autoFreeze_&&QA(i,!0),r){const o=[],s=[];Xl("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else ji(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Jl(t)||ji(8),Oc(t)&&(t=Aae(t));const e=E2(this),n=zS(t,void 0);return n[Jr].isManual_=!0,BS(e),n}finishDraft(t,e){const n=t&&t[Jr];(!n||!n.isManual_)&&ji(9);const{scope_:r}=n;return b2(r,e),T2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xl("Patches").applyPatches_;return Oc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function zS(t,e){const n=Fh(t)?Xl("MapSet").proxyMap_(t,e):Rv(t)?Xl("MapSet").proxySet_(t,e):Tae(t,e);return(e?e.scope_:n6()).drafts_.push(n),n}function Aae(t){return Oc(t)||ji(10,t),i6(t)}function i6(t){if(!Jl(t)||Mv(t))return t;const e=t[Jr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=VS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=VS(t,!0);return sy(n,(i,o)=>{t6(n,i,i6(o))},r),e&&(e.finalized_=!1),n}var xae=new wae;xae.produce;var Cae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},o6=Vr({name:"legend",initialState:Cae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Kt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Kt()},removeLegendPayload:{reducer(t,e){var n=Wi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Kt()}}}),{setLegendSize:w2,setLegendSettings:Iae,addLegendPayload:a6,replaceLegendPayload:s6,removeLegendPayload:l6}=o6.actions,Pae=o6.reducer,Rae=["contextPayload"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(null,arguments)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oae(t,e){if(t==null)return{};var n,r,i=kae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lae(t){return t.value}function Vae(t){var{contextPayload:e}=t,n=Oae(t,Rae),r=sF(e,t.payloadUniqBy,Lae),i=kc(kc({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(xre,i)}function Uae(t,e,n,r,i,o){var{layout:s,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&s==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),kc(kc({},f),h)}function Bae(t){var e=Ut();return C.useEffect(()=>{e(Iae(t))},[e,t]),null}function Fae(t){var e=Ut();return C.useEffect(()=>(e(w2(t)),()=>{e(w2({width:0,height:0}))}),[e,t]),null}function zae(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var qae={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function u6(t){var e=sr(t,qae),n=Eie(),r=gne(),i=pae(),{width:o,height:s,wrapperStyle:u,portal:c}=e,[f,h]=dF([n]),p=WF(),g=JF();if(p==null||g==null)return null;var E=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=zae(e.layout,s,o,E),A=c?u:kc(kc({position:"absolute",width:(S==null?void 0:S.width)||o||"auto",height:(S==null?void 0:S.height)||s||"auto"},Uae(u,e,i,p,g,f)),u),w=c??r;if(w==null||n==null)return null;var I=C.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},C.createElement(Bae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&C.createElement(Fae,{width:f.width,height:f.height}),C.createElement(Vae,qS({},e,S,{margin:i,chartWidth:p,chartHeight:g,contextPayload:n})));return NA.createPortal(I,w)}u6.displayName="Legend";function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(null,arguments)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t){return Array.isArray(t)&&zo(t[0])&&zo(t[1])?t.join(" ~ "):t}var tc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Kae=t=>{var{separator:e=tc.separator,contentStyle:n,itemStyle:r,labelStyle:i=tc.labelStyle,payload:o,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=tc.accessibilityLayer}=t,E=()=>{if(o&&o.length){var F={padding:0,margin:0},V=(u?hv(o,u):o).map((M,D)=>{if(M.type==="none")return null;var N=M.formatter||s||$ae,{value:z,name:j}=M,H=z,$=j;if(N){var ye=N(z,j,M,D,o);if(Array.isArray(ye))[H,$]=ye;else if(ye!=null)H=ye;else return null}var Se=Ed(Ed({},tc.itemStyle),{},{color:M.color||tc.itemStyle.color},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:Se},zo($)?C.createElement("span",{className:"recharts-tooltip-item-name"},$):null,zo($)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:F},V)}return null},S=Ed(Ed({},tc.contentStyle),n),A=Ed({margin:0},i),w=!Hn(h),I=w?h:"",O=xt("recharts-default-tooltip",c),k=xt("recharts-tooltip-label",f);w&&p&&o!==void 0&&o!==null&&(I=p(h,o));var B=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",jS({className:O,style:S},B),C.createElement("p",{className:k,style:A},C.isValidElement(I)?I:"".concat(I)),E())},Td="recharts-tooltip-wrapper",Yae={visibility:"hidden"};function Wae(t){var{coordinate:e,translateX:n,translateY:r}=t;return xt(Td,{["".concat(Td,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Td,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Td,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Td,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function C2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&Ve(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var E=h,S=g;return E<S?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var A=p+u,w=g+f;return A>w?Math.max(h,g):Math.max(p,g)}function Jae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:u,useTranslate3d:c,viewBox:f}=t,h,p,g;return u.height>0&&u.width>0&&n?(p=C2({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=C2({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=Jae({translateX:p,translateY:g,useTranslate3d:c})):h=Yae,{cssProperties:h,cssClasses:Wae({translateX:p,translateY:g,coordinate:n})}}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){HS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HS(t,e,n){return(e=Qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ese extends C.PureComponent{constructor(){super(...arguments),HS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),HS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:E,wrapperStyle:S,lastBoundingBox:A,innerRef:w,hasPortalFromProps:I}=this.props,O=typeof f=="number"?f:f.x,k=typeof f=="number"?f:f.y,{cssClasses:B,cssProperties:F}=Xae({allowEscapeViewBox:n,coordinate:s,offsetLeft:O,offsetTop:k,position:h,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:g,viewBox:E}),V=I?{}:Km(Km({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Km(Km({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:M,ref:w},o)}}var c6=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(null,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return(e=nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M2={curveBasisClosed:kne,curveBasisOpen:Lne,curveBasis:One,curveBumpX:bne,curveBumpY:Ene,curveLinearClosed:Vne,curveLinear:fv,curveMonotoneX:Une,curveMonotoneY:Bne,curveNatural:Fne,curveStep:zne,curveStepAfter:jne,curveStepBefore:qne},cy=t=>vt(t.x)&&vt(t.y),N2=t=>t.base!=null&&cy(t.base)&&cy(t),Sd=t=>t.x,wd=t=>t.y,ise=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Oh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=M2["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return M2[n]||fv},D2={connectNulls:!1,type:"linear"},ose=t=>{var{type:e=D2.type,points:n=[],baseLine:r,layout:i,connectNulls:o=D2.connectNulls}=t,s=ise(e,i),u=o?n.filter(cy):n;if(Array.isArray(r)){var c,f=n.map((S,A)=>R2(R2({},S),{},{base:r[A]}));i==="vertical"?c=Bm().y(wd).x1(Sd).x0(S=>S.base.x):c=Bm().x(Sd).y1(wd).y0(S=>S.base.y);var h=c.defined(N2).curve(s),p=o?f.filter(N2):f;return h(p)}var g;i==="vertical"&&Ve(r)?g=Bm().y(wd).x1(Sd).x0(r):Ve(r)?g=Bm().x(Sd).y1(wd).y0(r):g=UB().x(Sd).y(wd);var E=g.defined(cy).curve(s);return E(u)},ex=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=ef();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?ose(s):r;return C.createElement("path",GS({},Bo(t),hre(t),{className:xt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},ase=["x","y","top","left","width","height","className"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(null,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lse(t,e,n){return(e=use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fse(t,e){if(t==null)return{};var n,r,i=dse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hse=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),pse=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,c=fse(t,ase),f=sse({x:e,y:n,top:r,left:i,width:o,height:s},c);return!Ve(e)||!Ve(n)||!Ve(o)||!Ve(s)||!Ve(r)||!Ve(i)?null:C.createElement("path",$S({},Si(f),{className:xt("recharts-cross",u),d:hse(e,n,o,s,r,i)}))};function mse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e,n){return(e=yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _se=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),f6=(t,e,n)=>t.map(r=>"".concat(_se(r)," ").concat(e,"ms ").concat(n)).join(","),bse=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),dh=(t,e)=>Object.keys(e).reduce((n,r)=>L2(L2({},n),{},{[r]:t(r,e[r])}),{});function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return(e=Tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fy=(t,e,n)=>t+(e-t)*n,KS=t=>{var{from:e,to:n}=t;return e!==n},d6=(t,e,n)=>{var r=dh((i,o)=>{if(KS(o)){var[s,u]=t(o.from,o.to,o.velocity);return Mn(Mn({},o),{},{from:s,velocity:u})}return o},e);return n<1?dh((i,o)=>KS(o)&&r[i]!=null?Mn(Mn({},o),{},{velocity:fy(o.velocity,r[i].velocity,n),from:fy(o.from,r[i].from,n)}):o,e):d6(t,r,n-1)};function wse(t,e,n,r,i,o){var s,u=r.reduce((g,E)=>Mn(Mn({},g),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),c=()=>dh((g,E)=>E.from,u),f=()=>!Object.values(u).filter(KS).length,h=null,p=g=>{s||(s=g);var E=g-s,S=E/n.dt;u=d6(n,u,S),i(Mn(Mn(Mn({},t),e),c())),s=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function Ase(t,e,n,r,i,o,s){var u=null,c=i.reduce((p,g)=>{var E=t[g],S=e[g];return E==null||S==null?p:Mn(Mn({},p),{},{[g]:[E,S]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,E=dh((A,w)=>fy(...w,n(g)),c);if(o(Mn(Mn(Mn({},t),e),E)),g<1)u=s.setTimeout(h);else{var S=dh((A,w)=>fy(...w,n(1)),c);o(Mn(Mn(Mn({},t),e),S))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const xse=(t,e,n,r,i,o)=>{var s=bse(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?wse(t,e,n,s,i,o):Ase(t,e,n,r,s,i,o)};var dy=1e-4,h6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],p6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),U2=(t,e)=>n=>{var r=h6(t,e);return p6(r,n)},Cse=(t,e)=>n=>{var r=h6(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return p6(i,n)},Ise=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Pse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Ise(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Rse=(t,e,n,r)=>{var i=U2(t,n),o=U2(e,r),s=Cse(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var E=i(p)-h,S=s(p);if(Math.abs(E-h)<dy||S<dy)return o(p);p=u(p-E/S)}return o(p)};return c.isStepper=!1,c},B2=function(){return Rse(...Pse(...arguments))},Mse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,c)=>{var f=-(s-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<dy&&Math.abs(p)<dy?[u,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},Nse=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B2(t);case"spring":return Mse();default:if(t.split("(")[0]==="cubic-bezier")return B2(t)}return typeof t=="function"?t:null};function Dse(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Ose{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function kse(){return Dse(new Ose)}var Lse=C.createContext(kse);function Vse(t,e){var n=C.useContext(Lse);return C.useMemo(()=>e??n(t),[t,e,n])}var Use=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nv={isSsr:Use()},Bse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},F2={t:0},YE={t:1};function Dv(t){var e=sr(t,Bse),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!Nv.isSsr:n,p=Vse(e.animationId,e.animationManager),[g,E]=C.useState(h?F2:YE),S=C.useRef(null);return C.useEffect(()=>{h||E(YE)},[h]),C.useEffect(()=>{if(!h||!r)return Zc;var A=xse(F2,YE,Nse(o),i,E,p.getTimeoutController()),w=()=>{S.current=A()};return p.start([c,s,w,i,u]),()=>{p.stop(),S.current&&S.current(),u()}},[h,r,i,o,s,c,u,p]),f(g.t)}function Ov(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(oh(e)),r=C.useRef(t);return r.current!==t&&(n.current=oh(e),r.current=t),n.current}var Fse=["radius"],zse=["radius"],z2,q2,j2,H2,G2,$2,K2,Y2,W2,J2;function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Hse(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(null,arguments)}function Z2(t,e){if(t==null)return{};var n,r,i=Gse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ek=(t,e,n,r,i)=>{var o=Ss(n),s=Ss(r),u=Math.min(Math.abs(o)/2,Math.abs(s)/2),c=s>=0?1:-1,f=o>=0?1:-1,h=s>=0&&o>=0||s<0&&o<0?1:0,p;if(u>0&&Array.isArray(i)){for(var g=[0,0,0,0],E=0,S=4;E<S;E++){var A,w=(A=i[E])!==null&&A!==void 0?A:0;g[E]=w>u?u:w}p=nn(z2||(z2=wo(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=nn(q2||(q2=wo(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=nn(j2||(j2=wo(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=nn(H2||(H2=wo(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=nn(G2||(G2=wo(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=nn($2||($2=wo(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=nn(K2||(K2=wo(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=nn(Y2||(Y2=wo(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var I=Math.min(u,i);p=nn(W2||(W2=wo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*I,I,I,h,t+f*I,e,t+n-f*I,e,I,I,h,t+n,e+c*I,t+n,e+r-c*I,I,I,h,t+n-f*I,e+r,t+f*I,e+r,I,I,h,t,e+r-c*I)}else p=nn(J2||(J2=wo(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},tk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m6=t=>{var e=sr(t,tk),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:o,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:E,isAnimationActive:S,isUpdateAnimationActive:A}=e,w=C.useRef(u),I=C.useRef(c),O=C.useRef(o),k=C.useRef(s),B=C.useMemo(()=>({x:o,y:s,width:u,height:c,radius:f}),[o,s,u,c,f]),F=Ov(B,"rectangle-");if(o!==+o||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var V=xt("recharts-rectangle",h);if(!A){var M=Si(e),{radius:D}=M,N=Z2(M,Fse);return C.createElement("path",hy({},N,{x:Ss(o),y:Ss(s),width:Ss(u),height:Ss(c),radius:typeof f=="number"?f:void 0,className:V,d:ek(o,s,u,c,f)}))}var z=w.current,j=I.current,H=O.current,$=k.current,ye="0px ".concat(r===-1?1:r,"px"),Se="".concat(r,"px 0px"),Q=f6(["strokeDasharray"],g,typeof p=="string"?p:tk.animationEasing);return C.createElement(Dv,{animationId:F,key:F,canBegin:r>0,duration:g,easing:p,isActive:A,begin:E},oe=>{var he=Rn(z,u,oe),Te=Rn(j,c,oe),Y=Rn(H,o,oe),L=Rn($,s,oe);n.current&&(w.current=he,I.current=Te,O.current=Y,k.current=L);var J;S?oe>0?J={transition:Q,strokeDasharray:Se}:J={strokeDasharray:ye}:J={strokeDasharray:Se};var le=Si(e),{radius:ce}=le,_e=Z2(le,zse);return C.createElement("path",hy({},_e,{radius:typeof f=="number"?f:void 0,className:V,d:ek(Y,L,he,Te,f),ref:n,style:Q2(Q2({},J),e.style)}))})};function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){$se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $se(t,e,n){return(e=Kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var py=Math.PI/180,Wse=t=>t*180/Math.PI,An=(t,e,n,r)=>({x:t+Math.cos(-py*r)*n,y:e+Math.sin(-py*r)*n}),g6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Jse=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Xse=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=Jse({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:s,angle:Wse(c),angleInRadian:c}},Qse=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Zse=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},ele=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Xse({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=Qse(e),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?rk(rk({},e),{},{radius:i,angle:Zse(h,e)}):null};function y6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=An(e,n,r,i),u=An(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var ik,ok,ak,sk,lk,uk,ck;function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(null,arguments)}function kl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tle=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ym=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/py,p=c?i:i+o*h,g=An(e,n,f,p),E=An(e,n,r,p),S=c?i-o*h:i,A=An(e,n,f*Math.cos(h*py),S);return{center:g,circleTangency:E,lineTangency:A,theta:h}},v6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=tle(o,s),c=o+u,f=An(e,n,i,o),h=An(e,n,i,c),p=nn(ik||(ik=kl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>c),h.x,h.y);if(r>0){var g=An(e,n,r,o),E=An(e,n,r,c);p+=nn(ok||(ok=kl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),E.x,E.y,r,r,+(Math.abs(u)>180),+(o<=c),g.x,g.y)}else p+=nn(ak||(ak=kl(["L ",","," Z"])),e,n);return p},nle=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=or(f-c),{circleTangency:p,lineTangency:g,theta:E}=Ym({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:A,theta:w}=Ym({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),I=u?Math.abs(c-f):Math.abs(c-f)-E-w;if(I<0)return s?nn(sk||(sk=kl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):v6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var O=nn(lk||(lk=kl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(I>180),+(h<0),S.x,S.y,o,o,+(h<0),A.x,A.y);if(r>0){var{circleTangency:k,lineTangency:B,theta:F}=Ym({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:V,lineTangency:M,theta:D}=Ym({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),N=u?Math.abs(c-f):Math.abs(c-f)-F-D;if(N<0&&o===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+=nn(uk||(uk=kl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,o,o,+(h<0),V.x,V.y,r,r,+(N>180),+(h>0),k.x,k.y,o,o,+(h<0),B.x,B.y)}else O+=nn(ck||(ck=kl(["L",",","Z"])),e,n);return O},rle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_6=t=>{var e=sr(t,rle),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(o<i||f===h)return null;var g=xt("recharts-sector",p),E=o-i,S=gr(s,E,0,!0),A;return S>0&&Math.abs(f-h)<360?A=nle({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,E/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):A=v6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),C.createElement("path",YS({},Si(e),{className:g,d:A}))};function ile(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(QB(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:u}=e,c=An(r,i,o,u),f=An(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return y6(e)}}var WE={},JE={},XE={},fk;function ole(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uF();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(XE)),XE}var dk;function ale(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ole();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(JE)),JE}var hk;function sle(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cF(),n=ale();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(WE)),WE}var QE,pk;function lle(){return pk||(pk=1,QE=sle().range),QE}var ule=lle();const b6=Ho(ule);function As(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tx(t){let e,n,r;t.length!==2?(e=As,n=(u,c)=>As(t(u),c),r=(u,c)=>t(u)-c):(e=t===As||t===cle?t:fle,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:o}}function fle(){return 0}function E6(t){return t===null?NaN:+t}function*dle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hle=tx(As),zh=hle.right;tx(E6).center;class mk extends Map{constructor(e,n=gle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gk(this,e))}has(e){return super.has(gk(this,e))}set(e,n){return super.set(ple(this,e),n)}delete(e){return super.delete(mle(this,e))}}function gk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ple({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yle(t=As){if(t===As)return T6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vle=Math.sqrt(50),_le=Math.sqrt(10),ble=Math.sqrt(2);function my(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=vle?10:o>=_le?5:o>=ble?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?my(t,e,n*2):[u,c,f]}function WS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?my(e,t,n):my(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function JS(t,e,n){return e=+e,t=+t,n=+n,my(t,e,n)[2]}function XS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?JS(e,t,n):JS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?T6:yle(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),E=Math.max(n,Math.floor(e-f*p/c+g)),S=Math.min(r,Math.floor(e+(c-f)*p/c+g));S6(t,e,E,S,i)}const o=t[e];let s=n,u=r;for(Ad(t,n,e),i(t[r],o)>0&&Ad(t,n,r);s<u;){for(Ad(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Ad(t,n,u):(++u,Ad(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Ad(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ele(t,e,n){if(t=Float64Array.from(dle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vk(t);if(e>=1)return yk(t);var r,i=(r-1)*e,o=Math.floor(i),s=yk(S6(t,o).subarray(0,o+1)),u=vk(t.subarray(o+1));return s+(u-s)*(i-o)}}function Tle(t,e,n=E6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function Sle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const QS=Symbol("implicit");function nx(){var t=new mk,e=[],n=[],r=QS;function i(o){let s=t.get(o);if(s===void 0){if(r!==QS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new mk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nx(e,n).unknown(r)},xi.apply(i,arguments),i}function rx(){var t=nx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,E=i<r,S=E?i:r,A=E?r:i;o=(A-S)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),S+=(A-S-o*(g-c))*h,s=o*(1-c),u&&(S=Math.round(S),s=Math.round(s));var w=Sle(g).map(function(I){return S+o*I});return n(E?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return rx(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},xi.apply(p(),arguments)}function w6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w6(e())},t}function wle(){return w6(rx.apply(null,arguments).paddingInner(1))}function ix(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function A6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qh(){}var hh=.7,gy=1/hh,xc="\\s*([+-]?\\d+)\\s*",ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ale=/^#([0-9a-f]{3,8})$/,xle=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),Cle=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),Ile=new RegExp(`^rgba\\(${xc},${xc},${xc},${ph}\\)$`),Ple=new RegExp(`^rgba\\(${Do},${Do},${Do},${ph}\\)$`),Rle=new RegExp(`^hsl\\(${ph},${Do},${Do}\\)$`),Mle=new RegExp(`^hsla\\(${ph},${Do},${Do},${ph}\\)$`),_k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ix(qh,mh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:Nle,formatHsl:Dle,formatRgb:Ek,toString:Ek});function bk(){return this.rgb().formatHex()}function Nle(){return this.rgb().formatHex8()}function Dle(){return x6(this).formatHsl()}function Ek(){return this.rgb().formatRgb()}function mh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ale.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Tk(e):n===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xle.exec(t))?new Lr(e[1],e[2],e[3],1):(e=Cle.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ile.exec(t))?Wm(e[1],e[2],e[3],e[4]):(e=Ple.exec(t))?Wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rle.exec(t))?Ak(e[1],e[2]/100,e[3]/100,1):(e=Mle.exec(t))?Ak(e[1],e[2]/100,e[3]/100,e[4]):_k.hasOwnProperty(t)?Tk(_k[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function Tk(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function Wm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lr(t,e,n,r)}function Ole(t){return t instanceof qh||(t=mh(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function ZS(t,e,n,r){return arguments.length===1?Ole(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ix(Lr,ZS,A6(qh,{brighter(t){return t=t==null?gy:Math.pow(gy,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hh:Math.pow(hh,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(zl(this.r),zl(this.g),zl(this.b),yy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sk,formatHex:Sk,formatHex8:kle,formatRgb:wk,toString:wk}));function Sk(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function kle(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function wk(){const t=yy(this.opacity);return`${t===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${t===1?")":`, ${t})`}`}function yy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ll(t){return t=zl(t),(t<16?"0":"")+t.toString(16)}function Ak(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hi(t,e,n,r)}function x6(t){if(t instanceof Hi)return new Hi(t.h,t.s,t.l,t.opacity);if(t instanceof qh||(t=mh(t)),!t)return new Hi;if(t instanceof Hi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new Hi(s,u,c,t.opacity)}function Lle(t,e,n,r){return arguments.length===1?x6(t):new Hi(t,e,n,r??1)}function Hi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ix(Hi,Lle,A6(qh,{brighter(t){return t=t==null?gy:Math.pow(gy,t),new Hi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hh:Math.pow(hh,t),new Hi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lr(ZE(t>=240?t-240:t+120,i,r),ZE(t,i,r),ZE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hi(xk(this.h),Jm(this.s),Jm(this.l),yy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yy(this.opacity);return`${t===1?"hsl(":"hsla("}${xk(this.h)}, ${Jm(this.s)*100}%, ${Jm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xk(t){return t=(t||0)%360,t<0?t+360:t}function Jm(t){return Math.max(0,Math.min(1,t||0))}function ZE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ox=t=>()=>t;function Vle(t,e){return function(n){return t+n*e}}function Ule(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ble(t){return(t=+t)==1?C6:function(e,n){return n-e?Ule(e,n,t):ox(isNaN(e)?n:e)}}function C6(t,e){var n=e-t;return n?Vle(t,n):ox(isNaN(t)?e:t)}const Ck=(function t(e){var n=Ble(e);function r(i,o){var s=n((i=ZS(i)).r,(o=ZS(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=C6(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function Fle(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function zle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=tf(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function jle(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Hle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ew=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eT=new RegExp(ew.source,"g");function Gle(t){return function(){return t}}function $le(t){return function(e){return t(e)+""}}function Kle(t,e){var n=ew.lastIndex=eT.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=ew.exec(t))&&(i=eT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:vy(r,i)})),n=eT.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?$le(c[0].x):Gle(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function tf(t,e){var n=typeof e,r;return e==null||n==="boolean"?ox(e):(n==="number"?vy:n==="string"?(r=mh(e))?(e=r,Ck):Kle:e instanceof mh?Ck:e instanceof Date?jle:zle(e)?Fle:Array.isArray(e)?qle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hle:vy)(t,e)}function ax(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yle(t,e){e===void 0&&(e=t,t=tf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function Wle(t){return function(){return t}}function _y(t){return+t}var Ik=[0,1];function Sr(t){return t}function tw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wle(isNaN(e)?NaN:.5)}function Jle(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Xle(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=tw(i,r),o=n(s,o)):(r=tw(r,i),o=n(o,s)),function(u){return o(r(u))}}function Qle(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=tw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=zh(t,u,1,r)-1;return o[c](i[c](u))}}function jh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kv(){var t=Ik,e=Ik,n=tf,r,i,o,s=Sr,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==Sr&&(s=Jle(t[0],t[g-1])),u=g>2?Qle:Xle,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),vy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,_y),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=ax,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Sr,h()):s!==Sr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,E){return r=g,i=E,h()}}function sx(){return kv()(Sr,Sr)}function Zle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function by(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lc(t){return t=by(Math.abs(t)),t?t[1]:NaN}function eue(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function tue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gh(t){if(!(e=nue.exec(t)))throw new Error("invalid format: "+t);var e;return new lx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gh.prototype=lx.prototype;function lx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ey;function iue(t,e){var n=by(t,e);if(!n)return Ey=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Ey=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+by(t,Math.max(0,e+o-1))[0]}function Pk(t,e){var n=by(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pk(t*100,e),r:Pk,s:iue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mk(t){return t}var Nk=Array.prototype.map,Dk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oue(t){var e=t.grouping===void 0||t.thousands===void 0?Mk:eue(Nk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Mk:tue(Nk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=gh(p);var E=p.fill,S=p.align,A=p.sign,w=p.symbol,I=p.zero,O=p.width,k=p.comma,B=p.precision,F=p.trim,V=p.type;V==="n"?(k=!0,V="g"):Rk[V]||(B===void 0&&(B=12),F=!0,V="g"),(I||E==="0"&&S==="=")&&(I=!0,E="0",S="=");var M=(g&&g.prefix!==void 0?g.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():""),D=(w==="$"?r:/[%p]/.test(V)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),N=Rk[V],z=/[defgprs%]/.test(V);B=B===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function j(H){var $=M,ye=D,Se,Q,oe;if(V==="c")ye=N(H)+ye,H="";else{H=+H;var he=H<0||1/H<0;if(H=isNaN(H)?c:N(Math.abs(H),B),F&&(H=rue(H)),he&&+H==0&&A!=="+"&&(he=!1),$=(he?A==="("?A:u:A==="-"||A==="("?"":A)+$,ye=(V==="s"&&!isNaN(H)&&Ey!==void 0?Dk[8+Ey/3]:"")+ye+(he&&A==="("?")":""),z){for(Se=-1,Q=H.length;++Se<Q;)if(oe=H.charCodeAt(Se),48>oe||oe>57){ye=(oe===46?i+H.slice(Se+1):H.slice(Se))+ye,H=H.slice(0,Se);break}}}k&&!I&&(H=e(H,1/0));var Te=$.length+H.length+ye.length,Y=Te<O?new Array(O-Te+1).join(E):"";switch(k&&I&&(H=e(Y+H,Y.length?O-ye.length:1/0),Y=""),S){case"<":H=$+H+ye+Y;break;case"=":H=$+Y+H+ye;break;case"^":H=Y.slice(0,Te=Y.length>>1)+$+H+ye+Y.slice(Te);break;default:H=Y+$+H+ye;break}return o(H)}return j.toString=function(){return p+""},j}function h(p,g){var E=Math.max(-8,Math.min(8,Math.floor(Lc(g)/3)))*3,S=Math.pow(10,-E),A=f((p=gh(p),p.type="f",p),{suffix:Dk[8+E/3]});return function(w){return A(S*w)}}return{format:f,formatPrefix:h}}var Xm,ux,I6;aue({thousands:",",grouping:[3],currency:["$",""]});function aue(t){return Xm=oue(t),ux=Xm.format,I6=Xm.formatPrefix,Xm}function sue(t){return Math.max(0,-Lc(Math.abs(t)))}function lue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lc(e)/3)))*3-Lc(Math.abs(t)))}function uue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lc(e)-Lc(t))+1}function P6(t,e,n,r){var i=XS(t,e,n),o;switch(r=gh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=lue(i,s))&&(r.precision=o),I6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sue(i))&&(r.precision=o-(r.type==="%")*2);break}}return ux(r)}function $s(t){var e=t.domain;return t.ticks=function(n){var r=e();return WS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return P6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=JS(s,u,n),f===c)return r[i]=s,r[o]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function R6(){var t=sx();return t.copy=function(){return jh(t,R6())},xi.apply(t,arguments),$s(t)}function M6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_y),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return M6(t).unknown(e)},t=arguments.length?Array.from(t,_y):[0,1],$s(n)}function N6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Ok(t){return Math.log(t)}function kk(t){return Math.exp(t)}function cue(t){return-Math.log(-t)}function fue(t){return-Math.exp(-t)}function due(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hue(t){return t===10?due:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Lk(t){return(e,n)=>-t(-e,n)}function cx(t){const e=t(Ok,kk),n=e.domain;let r=10,i,o;function s(){return i=pue(r),o=hue(r),n()[0]<0?(i=Lk(i),o=Lk(o),t(cue,fue)):t(Ok,kk),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),E=i(h),S,A;const w=u==null?10:+u;let I=[];if(!(r%1)&&E-g<w){if(g=Math.floor(g),E=Math.ceil(E),f>0){for(;g<=E;++g)for(S=1;S<r;++S)if(A=g<0?S/o(-g):S*o(g),!(A<f)){if(A>h)break;I.push(A)}}else for(;g<=E;++g)for(S=r-1;S>=1;--S)if(A=g>0?S/o(-g):S*o(g),!(A<f)){if(A>h)break;I.push(A)}I.length*2<w&&(I=WS(f,h,w))}else I=WS(g,E,Math.min(E-g,w)).map(o);return p?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=gh(c)).precision==null&&(c.trim=!0),c=ux(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(N6(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function D6(){const t=cx(kv()).domain([1,10]);return t.copy=()=>jh(t,D6()).base(t.base()),xi.apply(t,arguments),t}function Vk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Uk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fx(t){var e=1,n=t(Vk(e),Uk(e));return n.constant=function(r){return arguments.length?t(Vk(e=+r),Uk(e)):e},$s(n)}function O6(){var t=fx(kv());return t.copy=function(){return jh(t,O6()).constant(t.constant())},xi.apply(t,arguments)}function Bk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gue(t){return t<0?-t*t:t*t}function dx(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(mue,gue):t(Bk(n),Bk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},$s(e)}function hx(){var t=dx(kv());return t.copy=function(){return jh(t,hx()).exponent(t.exponent())},xi.apply(t,arguments),t}function yue(){return hx.apply(null,arguments).exponent(.5)}function Fk(t){return Math.sign(t)*t*t}function vue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k6(){var t=sx(),e=[0,1],n=!1,r;function i(o){var s=vue(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Fk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,_y)).map(Fk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return k6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xi.apply(i,arguments),$s(i)}function L6(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=Tle(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[zh(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(As),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return L6().domain(t).range(e).unknown(r)},xi.apply(o,arguments)}function V6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[zh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return V6().domain([t,e]).range(i).unknown(o)},xi.apply($s(s),arguments)}function U6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[zh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return U6().domain(t).range(e).unknown(n)},xi.apply(i,arguments)}const tT=new Date,nT=new Date;function kn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>kn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(tT.setTime(+o),nT.setTime(+s),t(tT),t(nT),Math.floor(n(tT,nT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ty=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ty.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ty);Ty.range;const pa=1e3,_i=pa*60,ma=_i*60,ba=ma*24,px=ba*7,zk=ba*30,rT=ba*365,Vl=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getUTCSeconds());Vl.range;const mx=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pa)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getMinutes());mx.range;const gx=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCMinutes());gx.range;const yx=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pa-t.getMinutes()*_i)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getHours());yx.range;const vx=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCHours());vx.range;const Hh=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_i)/ba,t=>t.getDate()-1);Hh.range;const Lv=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>t.getUTCDate()-1);Lv.range;const B6=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>Math.floor(t/ba));B6.range;function au(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_i)/px)}const Vv=au(0),Sy=au(1),_ue=au(2),bue=au(3),Vc=au(4),Eue=au(5),Tue=au(6);Vv.range;Sy.range;_ue.range;bue.range;Vc.range;Eue.range;Tue.range;function su(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/px)}const Uv=su(0),wy=su(1),Sue=su(2),wue=su(3),Uc=su(4),Aue=su(5),xue=su(6);Uv.range;wy.range;Sue.range;wue.range;Uc.range;Aue.range;xue.range;const _x=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_x.range;const bx=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bx.range;const Ea=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ea.range;const Ta=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ta.range;function F6(t,e,n,r,i,o){const s=[[Vl,1,pa],[Vl,5,5*pa],[Vl,15,15*pa],[Vl,30,30*pa],[o,1,_i],[o,5,5*_i],[o,15,15*_i],[o,30,30*_i],[i,1,ma],[i,3,3*ma],[i,6,6*ma],[i,12,12*ma],[r,1,ba],[r,2,2*ba],[n,1,px],[e,1,zk],[e,3,3*zk],[t,1,rT]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const E=p&&typeof p.range=="function"?p:c(f,h,p),S=E?E.range(f,+h+1):[];return g?S.reverse():S}function c(f,h,p){const g=Math.abs(h-f)/p,E=tx(([,,w])=>w).right(s,g);if(E===s.length)return t.every(XS(f/rT,h/rT,p));if(E===0)return Ty.every(Math.max(XS(f,h,p),1));const[S,A]=s[g/s[E-1][2]<s[E][2]/g?E-1:E];return S.every(A)}return[u,c]}const[Cue,Iue]=F6(Ta,bx,Uv,B6,vx,gx),[Pue,Rue]=F6(Ea,_x,Vv,Hh,yx,mx);function iT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Mue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Cd(i),h=Id(i),p=Cd(o),g=Id(o),E=Cd(s),S=Id(s),A=Cd(u),w=Id(u),I=Cd(c),O=Id(c),k={a:oe,A:he,b:Te,B:Y,c:null,d:Kk,e:Kk,f:ece,g:cce,G:dce,H:Xue,I:Que,j:Zue,L:z6,m:tce,M:nce,p:L,q:J,Q:Jk,s:Xk,S:rce,u:ice,U:oce,V:ace,w:sce,W:lce,x:null,X:null,y:uce,Y:fce,Z:hce,"%":Wk},B={a:le,A:ce,b:_e,B:be,c:null,d:Yk,e:Yk,f:yce,g:Cce,G:Pce,H:pce,I:mce,j:gce,L:j6,m:vce,M:_ce,p:ve,q:Oe,Q:Jk,s:Xk,S:bce,u:Ece,U:Tce,V:Sce,w:wce,W:Ace,x:null,X:null,y:xce,Y:Ice,Z:Rce,"%":Wk},F={a:z,A:j,b:H,B:$,c:ye,d:Gk,e:Gk,f:Kue,g:Hk,G:jk,H:$k,I:$k,j:jue,L:$ue,m:que,M:Hue,p:N,q:zue,Q:Wue,s:Jue,S:Gue,u:Lue,U:Vue,V:Uue,w:kue,W:Bue,x:Se,X:Q,y:Hk,Y:jk,Z:Fue,"%":Yue};k.x=V(n,k),k.X=V(r,k),k.c=V(e,k),B.x=V(n,B),B.X=V(r,B),B.c=V(e,B);function V(ie,xe){return function(Ce){var fe=[],Ke=-1,Ae=0,Ze=ie.length,it,Ct,an;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ke<Ze;)ie.charCodeAt(Ke)===37&&(fe.push(ie.slice(Ae,Ke)),(Ct=qk[it=ie.charAt(++Ke)])!=null?it=ie.charAt(++Ke):Ct=it==="e"?" ":"0",(an=xe[it])&&(it=an(Ce,Ct)),fe.push(it),Ae=Ke+1);return fe.push(ie.slice(Ae,Ke)),fe.join("")}}function M(ie,xe){return function(Ce){var fe=xd(1900,void 0,1),Ke=D(fe,ie,Ce+="",0),Ae,Ze;if(Ke!=Ce.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(xe&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ae=oT(xd(fe.y,0,1)),Ze=Ae.getUTCDay(),Ae=Ze>4||Ze===0?wy.ceil(Ae):wy(Ae),Ae=Lv.offset(Ae,(fe.V-1)*7),fe.y=Ae.getUTCFullYear(),fe.m=Ae.getUTCMonth(),fe.d=Ae.getUTCDate()+(fe.w+6)%7):(Ae=iT(xd(fe.y,0,1)),Ze=Ae.getDay(),Ae=Ze>4||Ze===0?Sy.ceil(Ae):Sy(Ae),Ae=Hh.offset(Ae,(fe.V-1)*7),fe.y=Ae.getFullYear(),fe.m=Ae.getMonth(),fe.d=Ae.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ze="Z"in fe?oT(xd(fe.y,0,1)).getUTCDay():iT(xd(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ze+5)%7:fe.w+fe.U*7-(Ze+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,oT(fe)):iT(fe)}}function D(ie,xe,Ce,fe){for(var Ke=0,Ae=xe.length,Ze=Ce.length,it,Ct;Ke<Ae;){if(fe>=Ze)return-1;if(it=xe.charCodeAt(Ke++),it===37){if(it=xe.charAt(Ke++),Ct=F[it in qk?xe.charAt(Ke++):it],!Ct||(fe=Ct(ie,Ce,fe))<0)return-1}else if(it!=Ce.charCodeAt(fe++))return-1}return fe}function N(ie,xe,Ce){var fe=f.exec(xe.slice(Ce));return fe?(ie.p=h.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function z(ie,xe,Ce){var fe=E.exec(xe.slice(Ce));return fe?(ie.w=S.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function j(ie,xe,Ce){var fe=p.exec(xe.slice(Ce));return fe?(ie.w=g.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function H(ie,xe,Ce){var fe=I.exec(xe.slice(Ce));return fe?(ie.m=O.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function $(ie,xe,Ce){var fe=A.exec(xe.slice(Ce));return fe?(ie.m=w.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function ye(ie,xe,Ce){return D(ie,e,xe,Ce)}function Se(ie,xe,Ce){return D(ie,n,xe,Ce)}function Q(ie,xe,Ce){return D(ie,r,xe,Ce)}function oe(ie){return s[ie.getDay()]}function he(ie){return o[ie.getDay()]}function Te(ie){return c[ie.getMonth()]}function Y(ie){return u[ie.getMonth()]}function L(ie){return i[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function le(ie){return s[ie.getUTCDay()]}function ce(ie){return o[ie.getUTCDay()]}function _e(ie){return c[ie.getUTCMonth()]}function be(ie){return u[ie.getUTCMonth()]}function ve(ie){return i[+(ie.getUTCHours()>=12)]}function Oe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var xe=V(ie+="",k);return xe.toString=function(){return ie},xe},parse:function(ie){var xe=M(ie+="",!1);return xe.toString=function(){return ie},xe},utcFormat:function(ie){var xe=V(ie+="",B);return xe.toString=function(){return ie},xe},utcParse:function(ie){var xe=M(ie+="",!0);return xe.toString=function(){return ie},xe}}}var qk={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,Nue=/^%/,Due=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Oue(t){return t.replace(Due,"\\$&")}function Cd(t){return new RegExp("^(?:"+t.map(Oue).join("|")+")","i")}function Id(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kue(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lue(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Vue(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Uue(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Bue(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jk(t,e,n){var r=$n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Hk(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zue(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function que(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gk(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jue(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $k(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Hue(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Gue(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $ue(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kue(t,e,n){var r=$n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yue(t,e,n){var r=Nue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Wue(t,e,n){var r=$n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jue(t,e,n){var r=$n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Kk(t,e){return mt(t.getDate(),e,2)}function Xue(t,e){return mt(t.getHours(),e,2)}function Que(t,e){return mt(t.getHours()%12||12,e,2)}function Zue(t,e){return mt(1+Hh.count(Ea(t),t),e,3)}function z6(t,e){return mt(t.getMilliseconds(),e,3)}function ece(t,e){return z6(t,e)+"000"}function tce(t,e){return mt(t.getMonth()+1,e,2)}function nce(t,e){return mt(t.getMinutes(),e,2)}function rce(t,e){return mt(t.getSeconds(),e,2)}function ice(t){var e=t.getDay();return e===0?7:e}function oce(t,e){return mt(Vv.count(Ea(t)-1,t),e,2)}function q6(t){var e=t.getDay();return e>=4||e===0?Vc(t):Vc.ceil(t)}function ace(t,e){return t=q6(t),mt(Vc.count(Ea(t),t)+(Ea(t).getDay()===4),e,2)}function sce(t){return t.getDay()}function lce(t,e){return mt(Sy.count(Ea(t)-1,t),e,2)}function uce(t,e){return mt(t.getFullYear()%100,e,2)}function cce(t,e){return t=q6(t),mt(t.getFullYear()%100,e,2)}function fce(t,e){return mt(t.getFullYear()%1e4,e,4)}function dce(t,e){var n=t.getDay();return t=n>=4||n===0?Vc(t):Vc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function hce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function Yk(t,e){return mt(t.getUTCDate(),e,2)}function pce(t,e){return mt(t.getUTCHours(),e,2)}function mce(t,e){return mt(t.getUTCHours()%12||12,e,2)}function gce(t,e){return mt(1+Lv.count(Ta(t),t),e,3)}function j6(t,e){return mt(t.getUTCMilliseconds(),e,3)}function yce(t,e){return j6(t,e)+"000"}function vce(t,e){return mt(t.getUTCMonth()+1,e,2)}function _ce(t,e){return mt(t.getUTCMinutes(),e,2)}function bce(t,e){return mt(t.getUTCSeconds(),e,2)}function Ece(t){var e=t.getUTCDay();return e===0?7:e}function Tce(t,e){return mt(Uv.count(Ta(t)-1,t),e,2)}function H6(t){var e=t.getUTCDay();return e>=4||e===0?Uc(t):Uc.ceil(t)}function Sce(t,e){return t=H6(t),mt(Uc.count(Ta(t),t)+(Ta(t).getUTCDay()===4),e,2)}function wce(t){return t.getUTCDay()}function Ace(t,e){return mt(wy.count(Ta(t)-1,t),e,2)}function xce(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Cce(t,e){return t=H6(t),mt(t.getUTCFullYear()%100,e,2)}function Ice(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Pce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uc(t):Uc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Rce(){return"+0000"}function Wk(){return"%"}function Jk(t){return+t}function Xk(t){return Math.floor(+t/1e3)}var nc,G6,$6;Mce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mce(t){return nc=Mue(t),G6=nc.format,nc.parse,$6=nc.utcFormat,nc.utcParse,nc}function Nce(t){return new Date(t)}function Dce(t){return t instanceof Date?+t:+new Date(+t)}function Ex(t,e,n,r,i,o,s,u,c,f){var h=sx(),p=h.invert,g=h.domain,E=f(".%L"),S=f(":%S"),A=f("%I:%M"),w=f("%I %p"),I=f("%a %d"),O=f("%b %d"),k=f("%B"),B=f("%Y");function F(V){return(c(V)<V?E:u(V)<V?S:s(V)<V?A:o(V)<V?w:r(V)<V?i(V)<V?I:O:n(V)<V?k:B)(V)}return h.invert=function(V){return new Date(p(V))},h.domain=function(V){return arguments.length?g(Array.from(V,Dce)):g().map(Nce)},h.ticks=function(V){var M=g();return t(M[0],M[M.length-1],V??10)},h.tickFormat=function(V,M){return M==null?F:f(M)},h.nice=function(V){var M=g();return(!V||typeof V.range!="function")&&(V=e(M[0],M[M.length-1],V??10)),V?g(N6(M,V)):h},h.copy=function(){return jh(h,Ex(t,e,n,r,i,o,s,u,c,f))},h}function Oce(){return xi.apply(Ex(Pue,Rue,Ea,_x,Vv,Hh,yx,mx,Vl,G6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kce(){return xi.apply(Ex(Cue,Iue,Ta,bx,Uv,Lv,vx,gx,Vl,$6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bv(){var t=0,e=1,n,r,i,o,s=Sr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var E,S;return arguments.length?([E,S]=g,s=p(E,S),f):[s(0),s(1)]}}return f.range=h(tf),f.rangeRound=h(ax),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ks(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function K6(){var t=$s(Bv()(Sr));return t.copy=function(){return Ks(t,K6())},Da.apply(t,arguments)}function Y6(){var t=cx(Bv()).domain([1,10]);return t.copy=function(){return Ks(t,Y6()).base(t.base())},Da.apply(t,arguments)}function W6(){var t=fx(Bv());return t.copy=function(){return Ks(t,W6()).constant(t.constant())},Da.apply(t,arguments)}function Tx(){var t=dx(Bv());return t.copy=function(){return Ks(t,Tx()).exponent(t.exponent())},Da.apply(t,arguments)}function Lce(){return Tx.apply(null,arguments).exponent(.5)}function J6(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((zh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(As),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Ele(t,o/r))},n.copy=function(){return J6(e).domain(t)},Da.apply(n,arguments)}function Fv(){var t=0,e=.5,n=1,r=1,i,o,s,u,c,f=Sr,h,p=!1,g;function E(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-o)*(r*A<r*o?u:c),f(p?Math.max(0,Math.min(1,A)):A))}E.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(A){return arguments.length?(p=!!A,E):p},E.interpolator=function(A){return arguments.length?(f=A,E):f};function S(A){return function(w){var I,O,k;return arguments.length?([I,O,k]=w,f=Yle(A,[I,O,k]),E):[f(0),f(.5),f(1)]}}return E.range=S(tf),E.rangeRound=S(ax),E.unknown=function(A){return arguments.length?(g=A,E):g},function(A){return h=A,i=A(t),o=A(e),s=A(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,E}}function X6(){var t=$s(Fv()(Sr));return t.copy=function(){return Ks(t,X6())},Da.apply(t,arguments)}function Q6(){var t=cx(Fv()).domain([.1,1,10]);return t.copy=function(){return Ks(t,Q6()).base(t.base())},Da.apply(t,arguments)}function Z6(){var t=fx(Fv());return t.copy=function(){return Ks(t,Z6()).constant(t.constant())},Da.apply(t,arguments)}function Sx(){var t=dx(Fv());return t.copy=function(){return Ks(t,Sx()).exponent(t.exponent())},Da.apply(t,arguments)}function Vce(){return Sx.apply(null,arguments).exponent(.5)}const Od=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rx,scaleDiverging:X6,scaleDivergingLog:Q6,scaleDivergingPow:Sx,scaleDivergingSqrt:Vce,scaleDivergingSymlog:Z6,scaleIdentity:M6,scaleImplicit:QS,scaleLinear:R6,scaleLog:D6,scaleOrdinal:nx,scalePoint:wle,scalePow:hx,scaleQuantile:L6,scaleQuantize:V6,scaleRadial:k6,scaleSequential:K6,scaleSequentialLog:Y6,scaleSequentialPow:Tx,scaleSequentialQuantile:J6,scaleSequentialSqrt:Lce,scaleSequentialSymlog:W6,scaleSqrt:yue,scaleSymlog:O6,scaleThreshold:U6,scaleTime:Oce,scaleUtc:kce,tickFormat:P6},Symbol.toStringTag,{value:"Module"}));var Oa=t=>t.chartData,zv=ne([Oa],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),e5=(t,e,n,r)=>r?zv(t):Oa(t),Uce=(t,e,n)=>n?zv(t):Oa(t);function Sa(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vt(e)&&vt(n))return!0}return!1}function Qk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function t5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Sa(s))return s}}function Bce(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Sa(r))return Qk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ve(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&s2.test(i)){var c=s2.exec(i);if(c==null||c[1]==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ve(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&l2.test(o)){var h=l2.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[s,u];if(Sa(g))return e==null?g:Qk(g,e,n)}}}var nf=1e9,Fce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ax,Yt=!0,Ai="[DecimalError] ",ql=Ai+"Invalid argument: ",wx=Ai+"Exponent out of range: ",rf=Math.floor,Ml=Math.pow,zce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,qn=1e7,zt=7,n5=9007199254740991,Ay=rf(n5/zt),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(t){return ga(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return Ot(ga(e,new n(t),0,1),n.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return Cn(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kr))throw Error(Ai+"NaN");if(n.s<1)throw Error(Ai+(n.s?"NaN":"-Infinity"));return n.eq(Kr)?new r(0):(Yt=!1,e=ga(yh(n,o),yh(t,o),o),Yt=!0,Ot(e,i))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o5(e,t):r5(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ai+"NaN");return n.s?(Yt=!1,e=ga(n,t,0,1).times(t),Yt=!0,n.minus(e)):Ot(new r(n),i)};Re.naturalExponential=Re.exp=function(){return i5(this)};Re.naturalLogarithm=Re.ln=function(){return yh(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r5(e,t):o5(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ql+t);if(e=Cn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ai+"NaN")}for(t=Cn(u),Yt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Mo(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(ga(u,o,s+2)).times(.5),Mo(o.d).slice(0,s)===(e=Mo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ot(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Yt=!0,Ot(r,n)};Re.times=Re.mul=function(t){var e,n,r,i,o,s,u,c,f,h=this,p=h.constructor,g=h.d,E=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=E.length,c<f&&(o=g,g=E,E=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+E[r]*g[i-r-1]+e,o[i--]=u%qn|0,e=u/qn|0;o[i]=(o[i]+e)%qn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Yt?Ot(t,p.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qo(t,0,nf),e===void 0?e=r.rounding:qo(e,0,8),Ot(n,t+Cn(n)+1,e))};Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ql(r,!0):(qo(t,0,nf),e===void 0?e=i.rounding:qo(e,0,8),r=Ot(new i(r),t+1,e),n=Ql(r,!0,t+1)),n};Re.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ql(i):(qo(t,0,nf),e===void 0?e=o.rounding:qo(e,0,8),r=Ot(new o(i),t+Cn(i)+1,e),n=Ql(r.abs(),!1,t+Cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),Cn(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,n,r,i,o,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Kr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ai+"Infinity");return u}if(u.eq(Kr))return u;if(r=c.precision,t.eq(Kr))return Ot(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=n5){for(i=new c(Kr),e=Math.ceil(r/zt+4),Yt=!1;n%2&&(i=i.times(u),eL(i.d,e)),n=rf(n/2),n!==0;)u=u.times(u),eL(u.d,e);return Yt=!0,t.s<0?new c(Kr).div(i):Ot(i,r)}}else if(o<0)throw Error(Ai+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Yt=!1,i=t.times(yh(u,r+f)),Yt=!0,i=i5(i),i.s=o,i};Re.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Cn(i),r=Ql(i,n<=o.toExpNeg||n>=o.toExpPos)):(qo(t,1,nf),e===void 0?e=o.rounding:qo(e,0,8),i=Ot(new o(i),t,e),n=Cn(i),r=Ql(i,t<=n||n<=o.toExpNeg,t)),r};Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qo(t,1,nf),e===void 0?e=r.rounding:qo(e,0,8)),Ot(new r(n),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Cn(t),n=t.constructor;return Ql(t,e<=n.toExpNeg||e>=n.toExpPos)};function r5(t,e){var n,r,i,o,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Yt?Ot(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/zt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/qn|0,c[o]%=qn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Yt?Ot(e,p):e}function qo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ql+t)}function Mo(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(o+=vs(n)),o+=r;s=t[e],r=s+"",n=zt-r.length,n&&(o+=vs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ga=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%qn|0,s=o/qn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,f,h,p,g,E,S,A,w,I,O,k,B,F,V,M,D,N=r.constructor,z=r.s==i.s?1:-1,j=r.d,H=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ai+"Division by zero");for(c=r.e-i.e,M=H.length,F=j.length,E=new N(z),S=E.d=[],f=0;H[f]==(j[f]||0);)++f;if(H[f]>(j[f]||0)&&--c,o==null?O=o=N.precision:s?O=o+(Cn(r)-Cn(i))+1:O=o,O<0)return new N(0);if(O=O/zt+2|0,f=0,M==1)for(h=0,H=H[0],O++;(f<F||h)&&O--;f++)k=h*qn+(j[f]||0),S[f]=k/H|0,h=k%H|0;else{for(h=qn/(H[0]+1)|0,h>1&&(H=t(H,h),j=t(j,h),M=H.length,F=j.length),B=M,A=j.slice(0,M),w=A.length;w<M;)A[w++]=0;D=H.slice(),D.unshift(0),V=H[0],H[1]>=qn/2&&++V;do h=0,u=e(H,A,M,w),u<0?(I=A[0],M!=w&&(I=I*qn+(A[1]||0)),h=I/V|0,h>1?(h>=qn&&(h=qn-1),p=t(H,h),g=p.length,w=A.length,u=e(p,A,g,w),u==1&&(h--,n(p,M<g?D:H,g))):(h==0&&(u=h=1),p=H.slice()),g=p.length,g<w&&p.unshift(0),n(A,p,w),u==-1&&(w=A.length,u=e(H,A,M,w),u<1&&(h++,n(A,M<w?D:H,w))),w=A.length):u===0&&(h++,A=[0]),S[f++]=h,u&&A[0]?A[w++]=j[B]||0:(A=[j[B]],w=1);while((B++<F||A[0]!==void 0)&&O--)}return S[0]||S.shift(),E.e=c,Ot(E,s?o+Cn(E)+1:o)}})();function i5(t,e){var n,r,i,o,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Cn(t)>16)throw Error(wx+Cn(t));if(!t.s)return new h(Kr);for(Yt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Ml(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Kr),h.precision=u;;){if(i=Ot(i.times(t),u),n=n.times(++c),s=o.plus(ga(i,n,u)),Mo(s.d).slice(0,u)===Mo(o.d).slice(0,u)){for(;f--;)o=Ot(o.times(o),u);return h.precision=p,e==null?(Yt=!0,Ot(o,p)):o}o=s}}function Cn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function aT(t,e,n){if(e>t.LN10.sd())throw Yt=!0,n&&(t.precision=n),Error(Ai+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function vs(t){for(var e="";t--;)e+="0";return e}function yh(t,e){var n,r,i,o,s,u,c,f,h,p=1,g=10,E=t,S=E.d,A=E.constructor,w=A.precision;if(E.s<1)throw Error(Ai+(E.s?"NaN":"-Infinity"));if(E.eq(Kr))return new A(0);if(e==null?(Yt=!1,f=w):f=e,E.eq(10))return e==null&&(Yt=!0),aT(A,f);if(f+=g,A.precision=f,n=Mo(S),r=n.charAt(0),o=Cn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=Mo(E.d),r=n.charAt(0),p++;o=Cn(E),r>1?(E=new A("0."+n),o++):E=new A(r+"."+n.slice(1))}else return c=aT(A,f+2,w).times(o+""),E=yh(new A(r+"."+n.slice(1)),f-g).plus(c),A.precision=w,e==null?(Yt=!0,Ot(E,w)):E;for(u=s=E=ga(E.minus(Kr),E.plus(Kr),f),h=Ot(E.times(E),f),i=3;;){if(s=Ot(s.times(h),f),c=u.plus(ga(s,new A(i),f)),Mo(c.d).slice(0,f)===Mo(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(aT(A,f+2,w).times(o+""))),u=ga(u,new A(p),f),A.precision=w,e==null?(Yt=!0,Ot(u,w)):u;u=c,i+=2}}function Zk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rf(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Yt&&(t.e>Ay||t.e<-Ay))throw Error(wx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,o,s,u,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=zt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/zt),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=zt,i=r-zt+s}if(n!==void 0&&(o=Ml(10,s-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ml(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Cn(t),p.length=1,e=e-o-1,p[0]=Ml(10,(zt-e%zt)%zt),t.e=rf(-e/zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ml(10,zt-r),p[h]=i>0?(f/Ml(10,s-i)%Ml(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==qn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=qn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Yt&&(t.e>Ay||t.e<-Ay))throw Error(wx+Cn(t));return t}function o5(t,e){var n,r,i,o,s,u,c,f,h,p,g=t.constructor,E=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Yt?Ot(e,E):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(E/zt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=qn-1;--c[o],c[i]+=qn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Yt?Ot(e,E):e):new g(0)}function Ql(t,e,n){var r,i=Cn(t),o=Mo(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+vs(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+vs(-i-1)+o,n&&(r=n-s)>0&&(o+=vs(r))):i>=s?(o+=vs(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+vs(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=vs(r))),t.s<0?"-"+o:o}function eL(t,e){if(t.length>e)return t.length=e,!0}function a5(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ql+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Zk(s,o.toString())}else if(typeof o!="string")throw Error(ql+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,zce.test(o))Zk(s,o);else throw Error(ql+o)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a5,i.config=i.set=qce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qce(t){if(!t||typeof t!="object")throw Error(Ai+"Object expected");var e,n,r,i=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ql+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ql+n+": "+r);return this}var Ax=a5(Fce);Kr=new Ax(1);const At=Ax;function s5(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function l5(t,e,n){for(var r=new At(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var u5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},c5=(t,e,n)=>{if(t.lte(0))return new At(0);var r=s5(t.toNumber()),i=new At(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new At(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new At(c.toNumber()):new At(Math.ceil(c.toNumber()))},jce=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new At(10).pow(s5(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));for(var s=Math.floor((e-1)/2),u=[],c=0;c<e;c++)u.push(i.add(new At(c-s).mul(r)).toNumber());return u},f5=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var s=c5(new At(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new At(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?f5(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new At(c).mul(s)),tickMax:u.add(new At(f).mul(s))})},Hce=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=u5([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?f.reverse():f}if(u===c)return jce(u,i,o);var{step:h,tickMin:p,tickMax:g}=f5(u,c,s,o,0),E=l5(p,g.add(new At(.1).mul(h)),h);return n>r?E.reverse():E},Gce=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=u5([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=c5(new At(u).sub(s).div(c-1),o,0),h=[...l5(new At(s),new At(u),f),u];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},d5=t=>t.rootProps.maxBarSize,$ce=t=>t.rootProps.barGap,h5=t=>t.rootProps.barCategoryGap,Kce=t=>t.rootProps.barSize,Gh=t=>t.rootProps.stackOffset,p5=t=>t.rootProps.reverseStackOrder,xx=t=>t.options.chartName,Cx=t=>t.rootProps.syncId,m5=t=>t.rootProps.syncMethod,Ix=t=>t.options.eventEmitter,mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Al={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ao={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},qv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function jv(t,e,n){if(n!=="auto")return n;if(t!=null)return Gs(t,e)?"category":"number"}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Jce(t,"string");return typeof e=="symbol"?e:e+""}function Jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nL={allowDataOverflow:Al.allowDataOverflow,allowDecimals:Al.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Al.angleAxisId,includeHidden:!1,name:void 0,reversed:Al.reversed,scale:Al.scale,tick:Al.tick,tickCount:void 0,ticks:void 0,type:Al.type,unit:void 0},rL={allowDataOverflow:Ao.allowDataOverflow,allowDecimals:Ao.allowDecimals,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.radiusAxisId,includeHidden:Ao.includeHidden,name:void 0,reversed:Ao.reversed,scale:Ao.scale,tick:Ao.tick,tickCount:Ao.tickCount,ticks:void 0,type:Ao.type,unit:void 0},Xce=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Px=ne([Xce,QF],(t,e)=>{var n;if(t!=null)return t;var r=(n=jv(e,"angleAxis",nL.type))!==null&&n!==void 0?n:"category";return xy(xy({},nL),{},{type:r})}),Qce=(t,e)=>t.polarAxis.radiusAxis[e],Rx=ne([Qce,QF],(t,e)=>{var n;if(t!=null)return t;var r=(n=jv(e,"radiusAxis",rL.type))!==null&&n!==void 0?n:"category";return xy(xy({},rL),{},{type:r})}),Hv=t=>t.polarOptions,Mx=ne([Ma,Na,On],g6),g5=ne([Hv,Mx],(t,e)=>{if(t!=null)return gr(t.innerRadius,e,0)}),y5=ne([Hv,Mx],(t,e)=>{if(t!=null)return gr(t.outerRadius,e,e*.8)}),Zce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},v5=ne([Hv],Zce);ne([Px,v5],qv);var _5=ne([Mx,g5,y5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([Rx,_5],qv);var b5=ne([Et,Hv,g5,y5,Ma,Na],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:gr(s,i,i/2),cy:gr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Xt=(t,e)=>e,$h=(t,e,n)=>n;function Nx(t){return t==null?void 0:t.id}function E5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=Nx(u);f.forEach((p,g)=>{var E=o==null||i?g:String(jt(p,o,null)),S=jt(p,u.dataKey,0),A;s.has(E)?A=s.get(E):A={},Object.assign(A,{[h]:S}),s.set(E,A)})}}),Array.from(s.values())}function Gv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var $v=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Kv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function efe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Kn=t=>{var e=Et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},of=t=>t.tooltip.settings.axisId;function tfe(t){if(t in Od)return Od[t]();var e="scale".concat(Oh(t));if(e in Od)return Od[e]()}function iL(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],u=i[1];return s<=u?o>=s&&o<=u:o>=u&&o<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,s)=>{var u=t(o);if(u!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var c=t.bandwidth();switch(s.position){case"middle":u+=c/2;break;case"end":u+=c;break}}return u}}}}function oL(t,e,n){if(typeof t=="function")return iL(t.copy().domain(e).range(n));if(t!=null){var r=tfe(t);if(r!=null)return r.domain(e).range(n),iL(r)}}var T5=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Sa(e)){for(var n,r,i=0;i<e.length;i++){var o=e[i];vt(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nw=[0,"auto"],Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},S5=(t,e)=>t.cartesianAxis.xAxis[e],ka=(t,e)=>{var n=S5(t,e);return n??Fn},zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Uh},w5=(t,e)=>t.cartesianAxis.yAxis[e],La=(t,e)=>{var n=w5(t,e);return n??zn},ofe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ofe},on=(t,e,n)=>{switch(e){case"xAxis":return ka(t,n);case"yAxis":return La(t,n);case"zAxis":return Dx(t,n);case"angleAxis":return Px(t,n);case"radiusAxis":return Rx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},afe=(t,e,n)=>{switch(e){case"xAxis":return ka(t,n);case"yAxis":return La(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},af=(t,e,n)=>{switch(e){case"xAxis":return ka(t,n);case"yAxis":return La(t,n);case"angleAxis":return Px(t,n);case"radiusAxis":return Rx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},A5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Ox(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var kx=t=>t.graphicalItems.cartesianItems,sfe=ne([Xt,$h],Ox),Lx=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Kh=ne([kx,on,sfe],Lx,{memoizeOptions:{resultEqualityCheck:Kv}}),x5=ne([Kh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Gv)),C5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),lfe=ne([Kh],C5),Vx=t=>t.map(e=>e.data).filter(Boolean).flat(1),ufe=ne([Kh],Vx,{memoizeOptions:{resultEqualityCheck:Kv}}),Ux=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Bx=ne([ufe,e5],Ux),Fx=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:jt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jt(i,r)}))):t.map(r=>({value:r})),Yv=ne([Bx,on,Kh],Fx);function I5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function _g(t){if(zo(t)||t instanceof Date){var e=Number(t);if(vt(e))return e}}function sL(t){if(Array.isArray(t)){var e=[_g(t[0]),_g(t[1])];return Sa(e)?e:void 0}var n=_g(t);if(n!=null)return[n,n]}function wa(t){return t.map(_g).filter(Po)}function cfe(t,e,n){return!n||typeof e!="number"||Fo(e)?[]:n.length?wa(n.flatMap(r=>{var i=jt(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!vt(o)||!vt(s)))return[e-o,e+s]})):[]}var Ln=t=>{var e=Kn(t),n=of(t);return af(t,e,n)},Yh=ne([Ln],t=>t==null?void 0:t.dataKey),ffe=ne([x5,e5,Ln],E5),P5=(t,e,n,r)=>{var i={},o=e.reduce((s,u)=>{if(u.stackId==null)return s;var c=s[u.stackId];return c==null&&(c=[]),c.push(u),s[u.stackId]=c,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(Nx);return[u,{stackedData:Roe(t,h,n),graphicalItems:f}]}))},rw=ne([ffe,x5,Gh,p5],P5),R5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var s=koe(t,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},dfe=ne([on],t=>t.allowDataOverflow),zx=t=>{var e;if(t==null||!("domain"in t))return nw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=wa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:nw},qx=ne([on],zx),jx=ne([qx,dfe],t5),hfe=ne([rw,Oa,Xt,jx],R5,{memoizeOptions:{resultEqualityCheck:$v}}),Wv=t=>t.errorBars,pfe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>I5(n,r)),Iy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},Hx=(t,e,n,r,i)=>{var o,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(I=>I5(i,I)),g=jt(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),E=cfe(u,g,p);if(E.length>=2){var S=Math.min(...E),A=Math.max(...E);(o==null||S<o)&&(o=S),(s==null||A>s)&&(s=A)}var w=sL(g);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=sL(jt(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),vt(o)&&vt(s))return[o,s]},mfe=ne([Bx,on,lfe,Wv,Xt],Hx,{memoizeOptions:{resultEqualityCheck:$v}});function gfe(t){var{value:e}=t;if(zo(e)||e instanceof Date)return e}var yfe=(t,e,n)=>{var r=t.map(gfe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&JB(r))?b6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},M5=t=>t.referenceElements.dots,sf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),vfe=ne([M5,Xt,$h],sf),N5=t=>t.referenceElements.areas,_fe=ne([N5,Xt,$h],sf),D5=t=>t.referenceElements.lines,bfe=ne([D5,Xt,$h],sf),O5=(t,e)=>{if(t!=null){var n=wa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Efe=ne(vfe,Xt,O5),k5=(t,e)=>{if(t!=null){var n=wa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Tfe=ne([_fe,Xt],k5);function Sfe(t){var e;if(t.x!=null)return wa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:wa(n)}function wfe(t){var e;if(t.y!=null)return wa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:wa(n)}var L5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Sfe(r):wfe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Afe=ne([bfe,Xt],L5),xfe=ne(Efe,Afe,Tfe,(t,e,n)=>Iy(t,n,e)),Gx=(t,e,n,r,i,o,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?Iy(r,o,i):Iy(o,i);return Bce(e,f,t.allowDataOverflow)},Cfe=ne([on,qx,jx,hfe,mfe,xfe,Et,Xt],Gx,{memoizeOptions:{resultEqualityCheck:$v}}),Ife=[0,1],$x=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=Gs(e,o);if(f&&u==null){var h;return b6(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?yfe(r,t,f):i==="expand"?Ife:s}},Kx=ne([on,Et,Bx,Yv,Gh,Xt,Cfe],$x);function Pfe(t){return t in Od}var V5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Oh(r));return Pfe(o)?o:"point"}}},Ys=ne([on,A5,xx],V5);function Yx(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?oL(t.scale,n,r):oL(e,n,r)}var Wx=(t,e,n)=>{var r=zx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Sa(t))return Hce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Sa(t))return Gce(t,e.tickCount,e.allowDecimals)}},Jx=ne([Kx,af,Ys],Wx),Xx=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Sa(e)&&Array.isArray(n)&&n.length>0){var i,o,s=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,u),Math.max(c,f)]}return e},Rfe=ne([on,Kx,Jx,Xt],Xx),Mfe=ne(Yv,on,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(wa(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/s}}),U5=ne(Mfe,Et,h5,On,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!vt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=gr(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),Nfe=(t,e,n)=>{var r=ka(t,e);return r==null||typeof r.padding!="string"?0:U5(t,"xAxis",e,n,r.padding)},Dfe=(t,e,n)=>{var r=La(t,e);return r==null||typeof r.padding!="string"?0:U5(t,"yAxis",e,n,r.padding)},Ofe=ne(ka,Nfe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kfe=ne(La,Dfe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Lfe=ne([On,Ofe,Cv,xv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Vfe=ne([On,Et,kfe,Cv,xv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Wh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Lfe(t,n,r);case"yAxis":return Vfe(t,n,r);case"zAxis":return(i=Dx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return v5(t);case"radiusAxis":return _5(t,n);default:return}},B5=ne([on,Wh],qv),Ufe=ne([Ys,Rfe],T5),Jv=ne([on,Ys,Ufe,B5],Yx);ne([Kh,Wv,Xt],pfe);function F5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Xv=(t,e)=>e,Qv=(t,e,n)=>n,Bfe=ne(wv,Xv,Qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F5)),Ffe=ne(Av,Xv,Qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F5)),z5=(t,e)=>({width:t.width,height:e.height}),zfe=(t,e)=>{var n=typeof e.width=="number"?e.width:Uh;return{width:n,height:t.height}},q5=ne(On,ka,z5),qfe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},jfe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Hfe=ne(Na,On,Bfe,Xv,Qv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=z5(e,u);s==null&&(s=qfe(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),o}),Gfe=ne(Ma,On,Ffe,Xv,Qv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=zfe(e,u);s==null&&(s=jfe(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),o}),$fe=(t,e)=>{var n=ka(t,e);if(n!=null)return Hfe(t,n.orientation,n.mirror)},Kfe=ne([On,ka,$fe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Yfe=(t,e)=>{var n=La(t,e);if(n!=null)return Gfe(t,n.orientation,n.mirror)},Wfe=ne([On,La,Yfe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),j5=ne(On,La,(t,e)=>{var n=typeof e.width=="number"?e.width:Uh;return{width:n,height:t.height}}),lL=(t,e,n)=>{switch(e){case"xAxis":return q5(t,n).width;case"yAxis":return j5(t,n).height;default:return}},H5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=Gs(t,r),c=e.map(f=>f.value);if(s&&u&&o==="category"&&i&&JB(c))return c}},Qx=ne([Et,Yv,on,Xt],H5),G5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Gs(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},Zx=ne([Et,Yv,af,Xt],G5);ne([Et,afe,Ys,Jv,Qx,Zx,Wh,Jx,Xt],(t,e,n,r,i,o,s,u,c)=>{if(e!=null){var f=Gs(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}});var Jfe=(t,e,n,r,i,o,s,u,c)=>{if(!(e==null||r==null)){var f=Gs(t,c),{type:h,ticks:p,tickCount:g}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/E:0;S=c==="angleAxis"&&o!=null&&o.length>=2?or(o[0]-o[1])*2*S:S;var A=p||i;return A?A.map((w,I)=>{var O=s?s.indexOf(w):w,k=r.map(O);return vt(k)?{index:I,coordinate:k+S,value:w,offset:S}:null}).filter(Po):f&&u?u.map((w,I)=>{var O=r.map(w);return vt(O)?{coordinate:O+S,value:w,index:I,offset:S}:null}).filter(Po):r.ticks?r.ticks(g).map((w,I)=>{var O=r.map(w);return vt(O)?{coordinate:O+S,value:w,index:I,offset:S}:null}).filter(Po):r.domain().map((w,I)=>{var O=r.map(w);return vt(O)?{coordinate:O+S,value:s?s[w]:w,index:I,offset:S}:null}).filter(Po)}},$5=ne([Et,af,Ys,Jv,Jx,Wh,Qx,Zx,Xt],Jfe),Xfe=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Gs(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?or(r[0]-r[1])*2*f:f,u&&o?o.map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Po):n.ticks?n.ticks(c).map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Po):n.domain().map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:i?i[h]:h,index:p,offset:f}:null}).filter(Po)}},Bc=ne([Et,af,Jv,Wh,Qx,Zx,Xt],Xfe),Fc=ne(on,Jv,(t,e)=>{if(!(t==null||e==null))return Cy(Cy({},t),{},{scale:e})}),Qfe=ne([on,Ys,Kx,B5],Yx);ne((t,e,n)=>Dx(t,n),Qfe,(t,e)=>{if(!(t==null||e==null))return Cy(Cy({},t),{},{scale:e})});var Zfe=ne([Et,wv,Av],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),K5=t=>t.options.defaultTooltipEventType,Y5=t=>t.options.validateTooltipEventTypes;function W5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function eC(t,e){var n=K5(t),r=Y5(t);return W5(e,n,r)}function ede(t){return Le(e=>eC(e,t))}var J5=(t,e)=>{var n,r=Number(e);if(!(Fo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tde=t=>t.tooltip.settings,bs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nde={itemInteraction:{click:bs,hover:bs},axisInteraction:{click:bs,hover:bs},keyboardInteraction:bs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},X5=Vr({name:"tooltip",initialState:nde,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Kt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Kt()},removeTooltipEntrySettings:{reducer(t,e){var n=Wi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Kt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:rde,replaceTooltipEntrySettings:ide,removeTooltipEntrySettings:ode,setTooltipSettingsState:ade,setActiveMouseOverItemIndex:Q5,mouseLeaveItem:sde,mouseLeaveChart:Z5,setActiveClickItemIndex:lde,setMouseOverAxisIndex:ez,setMouseClickAxisIndex:ude,setSyncInteraction:iw,setKeyboardInteraction:ow}=X5.actions,cde=X5.reducer;function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=hde(t,"string");return typeof e=="symbol"?e:e+""}function hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function mde(t){return t.index!=null}var tz=(t,e,n,r)=>{if(e==null)return bs;var i=pde(t,e,n);if(i==null)return bs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(mde(i)){if(o)return Qm(Qm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qm(Qm({},bs),{},{coordinate:i.coordinate})};function gde(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function yde(t,e){var n=gde(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function vde(t,e,n){if(n==null||e==null)return!0;var r=jt(t,e);return r==null||!Sa(n)?!0:yde(r,n)}var tC=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!vt(o))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(o,u)),f=e[c];return f==null||vde(f,n,r)?String(c):null},nz=(t,e,n,r,i,o,s)=>{if(o!=null){var u=s[0],c=u==null?void 0:u.getPosition(o);if(c!=null)return c;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},rz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},iz=t=>t.options.tooltipPayloadSearcher,lf=t=>t.tooltip;function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=Ede(t,"string");return typeof e=="symbol"?e:e+""}function Ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tde(t,e){return t??e}var oz=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,E)=>{var S,{dataDefinedOnItem:A,settings:w}=E,I=Tde(A,u),O=Array.isArray(I)?qF(I,f,h):I,k=(S=w==null?void 0:w.dataKey)!==null&&S!==void 0?S:r,B=w==null?void 0:w.nameKey,F;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&s==="axis"?F=nre(O,r,i):F=o(O,e,c,B),Array.isArray(F))F.forEach(M=>{var D=fL(fL({},w),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(u2({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:jt(M.payload,M.dataKey),name:M.name}))});else{var V;g.push(u2({tooltipEntrySettings:w,dataKey:k,payload:F,value:jt(F,k),name:(V=jt(F,B))!==null&&V!==void 0?V:w==null?void 0:w.name}))}return g},p)}},nC=ne([Ln,A5,xx],V5),Sde=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wde=ne([Kn,of],Ox),uf=ne([Sde,Ln,wde],Lx,{memoizeOptions:{resultEqualityCheck:Kv}}),Ade=ne([uf],t=>t.filter(Gv)),xde=ne([uf],Vx,{memoizeOptions:{resultEqualityCheck:Kv}}),cf=ne([xde,Oa],Ux),Cde=ne([Ade,Oa,Ln],E5),rC=ne([cf,Ln,uf],Fx),az=ne([Ln],zx),Ide=ne([Ln],t=>t.allowDataOverflow),sz=ne([az,Ide],t5),Pde=ne([uf],t=>t.filter(Gv)),Rde=ne([Cde,Pde,Gh,p5],P5),Mde=ne([Rde,Oa,Kn,sz],R5),Nde=ne([uf],C5),Dde=ne([cf,Ln,Nde,Wv,Kn],Hx,{memoizeOptions:{resultEqualityCheck:$v}}),Ode=ne([M5,Kn,of],sf),kde=ne([Ode,Kn],O5),Lde=ne([N5,Kn,of],sf),Vde=ne([Lde,Kn],k5),Ude=ne([D5,Kn,of],sf),Bde=ne([Ude,Kn],L5),Fde=ne([kde,Bde,Vde],Iy),zde=ne([Ln,az,sz,Mde,Dde,Fde,Et,Kn],Gx),Jh=ne([Ln,Et,cf,rC,Gh,Kn,zde],$x),qde=ne([Jh,Ln,nC],Wx),jde=ne([Ln,Jh,qde,Kn],Xx),lz=t=>{var e=Kn(t),n=of(t),r=!1;return Wh(t,e,n,r)},uz=ne([Ln,lz],qv),cz=ne([Ln,nC,jde,uz],Yx),Hde=ne([Et,rC,Ln,Kn],H5),Gde=ne([Et,rC,Ln,Kn],G5),$de=(t,e,n,r,i,o,s,u)=>{if(e){var{type:c}=e,f=Gs(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?or(i[0]-i[1])*2*p:p,f&&s?s.map((g,E)=>{var S=r.map(g);return vt(S)?{coordinate:S+p,value:g,index:E,offset:p}:null}).filter(Po):r.domain().map((g,E)=>{var S=r.map(g);return vt(S)?{coordinate:S+p,value:o?o[g]:g,index:E,offset:p}:null}).filter(Po)}}},Va=ne([Et,Ln,nC,cz,lz,Hde,Gde,Kn],$de),iC=ne([K5,Y5,tde],(t,e,n)=>W5(n.shared,t,e)),fz=t=>t.tooltip.settings.trigger,oC=t=>t.tooltip.settings.defaultIndex,Xh=ne([lf,iC,fz,oC],tz),Zl=ne([Xh,cf,Yh,Jh],tC),dz=ne([Va,Zl],J5),aC=ne([Xh],t=>{if(t)return t.dataKey}),Kde=ne([Xh],t=>{if(t)return t.graphicalItemId}),hz=ne([lf,iC,fz,oC],rz),Yde=ne([Ma,Na,Et,On,Va,oC,hz],nz),Wde=ne([Xh,Yde],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Jde=ne([Xh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),Xde=ne([hz,Zl,Oa,Yh,dz,iz,iC],oz);ne([Xde],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var the=()=>Le(Ln),nhe=()=>{var t=the(),e=Le(Va),n=Le(cz);return oy(!t||!n?void 0:hL(hL({},t),{},{scale:n}),e)};function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rhe(t,e,n){return(e=ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ahe=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},she=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:s}=r;return rc(rc(rc({},r),An(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:c}=r;return rc(rc(rc({},r),An(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lhe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var pz=(t,e,n,r,i)=>{var o,s=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var c,f,h,p,g,E=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,A=u>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(E==null||S==null||A==null))if(or(S-E)!==or(A-S)){var I=[];if(or(A-S)===or(i[1]-i[0])){w=A;var O=S+i[1]-i[0];I[0]=Math.min(O,(O+E)/2),I[1]=Math.max(O,(O+E)/2)}else{w=E;var k=A+i[1]-i[0];I[0]=Math.min(S,(k+S)/2),I[1]=Math.max(S,(k+S)/2)}var B=[Math.min(S,(w+S)/2),Math.max(S,(w+S)/2)];if(t>B[0]&&t<=B[1]||t>=I[0]&&t<=I[1]){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}else{var V=Math.min(E,A),M=Math.max(E,A);if(t>(V+S)/2&&t<=(M+S)/2){var D;return(D=n[u])===null||D===void 0?void 0:D.index}}}else if(e)for(var N=0;N<s;N++){var z=e[N];if(z!=null){var j=e[N+1],H=e[N-1];if(N===0&&j!=null&&t<=(z.coordinate+j.coordinate)/2||N===s-1&&H!=null&&t>(z.coordinate+H.coordinate)/2||N>0&&N<s-1&&H!=null&&j!=null&&t>(z.coordinate+H.coordinate)/2&&t<=(z.coordinate+j.coordinate)/2)return z.index}}return-1},uhe=()=>Le(xx),sC=(t,e)=>e,mz=(t,e,n)=>n,lC=(t,e,n,r)=>r,che=ne(Va,t=>hv(t,e=>e.coordinate)),uC=ne([lf,sC,mz,lC],tz),cC=ne([uC,cf,Yh,Jh],tC),fhe=(t,e,n)=>{if(e!=null){var r=lf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gz=ne([lf,sC,mz,lC],rz),Py=ne([Ma,Na,Et,On,Va,lC,gz],nz),dhe=ne([uC,Py],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),yz=ne([Va,cC],J5),hhe=ne([gz,cC,Oa,Yh,yz,iz,sC],oz),phe=ne([uC,cC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),mhe=(t,e,n,r,i,o,s)=>{if(!(!t||!n||!r||!i)&&lhe(t,s)){var u=Loe(t,e),c=pz(u,o,i,n,r),f=ahe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},ghe=(t,e,n,r,i,o,s)=>{if(!(!t||!r||!i||!o||!n)){var u=ele(t,n);if(u){var c=Voe(u,e),f=pz(c,s,o,r,i),h=she(e,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},yhe=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?mhe(t,e,r,i,o,s,u):ghe(t,e,n,r,i,o,s)},vhe=ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),_he=ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(mr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:efe}});function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=Ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ehe(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var She={},whe={zIndexMap:Object.values(mr).reduce((t,e)=>gL(gL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),She)},Ahe=new Set(Object.values(mr));function xhe(t){return Ahe.has(t)}var vz=Vr({name:"zIndex",initialState:whe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Kt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!xhe(n)&&delete t.zIndexMap[n])},prepare:Kt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Kt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Kt()}}}),{registerZIndexPortal:Che,unregisterZIndexPortal:Ihe,registerZIndexPortalElement:Phe,unregisterZIndexPortalElement:Rhe}=vz.actions,Mhe=vz.reducer;function Go(t){var{zIndex:e,children:n}=t,r=mae(),i=r&&e!==void 0&&e!==0,o=Xr(),s=Ut();C.useLayoutEffect(()=>i?(s(Che({zIndex:e})),()=>{s(Ihe({zIndex:e}))}):Zc,[s,e,i]);var u=Le(c=>vhe(c,e,o));return i?u?NA.createPortal(n,u):null:n}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(null,arguments)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){Nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=Ohe(t,"string");return typeof e=="symbol"?e:e+""}function Ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function Lhe(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,E=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,A,w;if(h==="ScatterChart")S=p,A=pse,w=mr.cursorLine;else if(h==="BarChart")S=mse(u,p,o,s),A=m6,w=mr.cursorRectangle;else if(u==="radial"&&QB(p)){var{cx:I,cy:O,radius:k,startAngle:B,endAngle:F}=y6(p);S={cx:I,cy:O,startAngle:B,endAngle:F,innerRadius:k,outerRadius:k},A=_6,w=mr.cursorLine}else S={points:ile(u,p,o)},A=ex,w=mr.cursorLine;var V=typeof c=="object"&&"className"in c?c.className:void 0,M=Zm(Zm(Zm(Zm({stroke:"#ccc",pointerEvents:"none"},o),S),ih(c)),{},{payload:g,payloadIndex:E,className:xt("recharts-tooltip-cursor",V)});return C.createElement(Go,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},C.createElement(khe,{cursor:c,cursorComp:A,cursorProps:M}))}function Vhe(t){var e=nhe(),n=hae(),r=ef(),i=uhe();return e==null||n==null||r==null||i==null?null:C.createElement(Lhe,aw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var _z=C.createContext(null),Uhe=()=>C.useContext(_z),sT={exports:{}},vL;function Bhe(){return vL||(vL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,p||c,g),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],E]:c._events[S].push(E):(c._events[S]=E,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,E=p.length,S=new Array(E);g<E;g++)S[g]=p[g].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,E,S){var A=n?n+f:f;if(!this._events[A])return!1;var w=this._events[A],I=arguments.length,O,k;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),I){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,E),!0;case 6:return w.fn.call(w.context,h,p,g,E,S),!0}for(k=1,O=new Array(I-1);k<I;k++)O[k-1]=arguments[k];w.fn.apply(w.context,O)}else{var B=w.length,F;for(k=0;k<B;k++)switch(w[k].once&&this.removeListener(f,w[k].fn,void 0,!0),I){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,h);break;case 3:w[k].fn.call(w[k].context,h,p);break;case 4:w[k].fn.call(w[k].context,h,p,g);break;default:if(!O)for(F=1,O=new Array(I-1);F<I;F++)O[F-1]=arguments[F];w[k].fn.apply(w[k].context,O)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var E=n?n+f:f;if(!this._events[E])return this;if(!h)return s(this,E),this;var S=this._events[E];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&s(this,E);else{for(var A=0,w=[],I=S.length;A<I;A++)(S[A].fn!==h||g&&!S[A].once||p&&S[A].context!==p)&&w.push(S[A]);w.length?this._events[E]=w.length===1?w[0]:w:s(this,E)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(sT)),sT.exports}var Fhe=Bhe();const zhe=Ho(Fhe);var vh=new zhe,sw="recharts.syncEvent.tooltip",_L="recharts.syncEvent.brush",bz=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Fo(n))return t[n]}},qhe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Ez=Vr({name:"options",initialState:qhe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jhe=Ez.reducer,{createEventEmitter:Hhe}=Ez.actions;function Ghe(t){return t.tooltip.syncInteraction}var $he={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Tz=Vr({name:"chartData",initialState:$he,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:bL,setDataStartEndIndexes:Khe,setComputedData:cAe}=Tz.actions,Yhe=Tz.reducer,Whe=["x","y"];function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t,e){if(t==null)return{};var n,r,i=epe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tpe(){var t=Le(Cx),e=Le(Ix),n=Ut(),r=Le(m5),i=Le(Va),o=ef(),s=Iv(),u=Le(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return Zc;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x:S,y:A}=E,w=Zhe(E,Whe),{x:I,y:O,width:k,height:B}=h.payload.sourceViewBox,F=ic(ic({},w),{},{x:s.x+(k?(S-I)/k:0)*s.width,y:s.y+(B?(A-O)/B:0)*s.height});n(ic(ic({},h),{},{payload:ic(ic({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var V;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},D=r(i,M);V=i[D]}else r==="value"&&(V=i.find(Q=>String(Q.value)===h.payload.label));var{coordinate:N}=h.payload;if(V==null||h.payload.active===!1||N==null||s==null){n(iw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:j}=N,H=Math.min(z,s.x+s.width),$=Math.min(j,s.y+s.height),ye={x:o==="horizontal"?V.coordinate:H,y:o==="horizontal"?$:V.coordinate},Se=iw({active:h.payload.active,coordinate:ye,dataKey:h.payload.dataKey,index:String(V.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Se)}}};return vh.on(sw,c),()=>{vh.off(sw,c)}},[u,n,e,t,r,i,o,s])}function npe(){var t=Le(Cx),e=Le(Ix),n=Ut();C.useEffect(()=>{if(t==null)return Zc;var r=(i,o,s)=>{e!==s&&t===i&&n(Khe(o))};return vh.on(_L,r),()=>{vh.off(_L,r)}},[n,e,t])}function rpe(){var t=Ut();C.useEffect(()=>{t(Hhe())},[t]),tpe(),npe()}function ipe(t,e,n,r,i,o){var s=Le(E=>fhe(E,t,e)),u=Le(Ix),c=Le(Cx),f=Le(m5),h=Le(Ghe),p=h==null?void 0:h.active,g=Iv();C.useEffect(()=>{if(!p&&c!=null&&u!=null){var E=iw({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});vh.emit(sw,c,E,u)}},[p,n,s,i,r,u,c,f,o,g])}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return(e=ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ape(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t){return t.dataKey}function upe(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(Kae,e)}var wL=[],cpe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ry(t){var e,n,r=sr(t,cpe),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:E,reverseDirection:S,useTranslate3d:A,wrapperStyle:w,cursor:I,shared:O,trigger:k,defaultIndex:B,portal:F,axisId:V}=r,M=Ut(),D=typeof B=="number"?String(B):B;C.useEffect(()=>{M(ade({shared:O,trigger:k,axisId:V,active:i,defaultIndex:D}))},[M,O,k,V,i,D]);var N=Iv(),z=c6(),j=ede(O),{activeIndex:H,isActive:$}=(e=Le(ve=>phe(ve,j,k,D)))!==null&&e!==void 0?e:{},ye=Le(ve=>hhe(ve,j,k,D)),Se=Le(ve=>yz(ve,j,k,D)),Q=Le(ve=>dhe(ve,j,k,D)),oe=ye,he=Uhe(),Te=(n=i??$)!==null&&n!==void 0?n:!1,[Y,L]=dF([oe,Te]),J=j==="axis"?Se:void 0;ipe(j,k,Q,J,H,Te);var le=F??he;if(le==null||N==null||j==null)return null;var ce=oe??wL;Te||(ce=wL),f&&ce.length&&(ce=sF(ce.filter(ve=>ve.value!=null&&(ve.hide!==!0||r.includeHidden)),g,lpe));var _e=ce.length>0,be=C.createElement(ese,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:Te,coordinate:Q,hasPayload:_e,offset:p,position:E,reverseDirection:S,useTranslate3d:A,viewBox:N,wrapperStyle:w,lastBoundingBox:Y,innerRef:L,hasPortalFromProps:!!F},upe(c,SL(SL({},r),{},{payload:ce,label:J,active:Te,activeIndex:H,coordinate:Q,accessibilityLayer:z})));return C.createElement(C.Fragment,null,NA.createPortal(be,le),Te&&C.createElement(Vhe,{cursor:I,tooltipEventType:j,coordinate:Q,payload:ce,index:H}))}var xs=t=>null;xs.displayName="Cell";function fpe(t,e,n){return(e=dpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=hpe(t,"string");return typeof e=="symbol"?e:e+""}function hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ppe{constructor(e){fpe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){gpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gpe(t,e,n){return(e=ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=vpe(t,"string");return typeof e=="symbol"?e:e+""}function vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe={cacheSize:2e3,enableCache:!0},Sz=mpe({},_pe),xL=new ppe(Sz.cacheSize),bpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CL="recharts_measurement_span";function Epe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var IL=(t,e)=>{try{var n=document.getElementById(CL);n||(n=document.createElement("span"),n.setAttribute("id",CL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bpe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nv.isSsr)return{width:0,height:0};if(!Sz.enableCache)return IL(e,n);var r=Epe(e,n),i=xL.get(r);if(i)return i;var o=IL(e,n);return xL.set(r,o),o},wz;function Tpe(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=wpe(t,"string");return typeof e=="symbol"?e:e+""}function wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ape=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cpe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ipe=["cm","mm","pt","pc","in","Q","px"];function Ppe(t){return Ipe.includes(t)}var bc="NaN";function Rpe(t,e){return t*Cpe[e]}class nr{static parse(e){var n,[,r,i]=(n=xpe.exec(e))!==null&&n!==void 0?n:[];return r==null?nr.NaN:new nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Fo(e)&&(this.unit=""),n!==""&&!Ape.test(n)&&(this.num=NaN,this.unit=""),Ppe(n)&&(this.num=Rpe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fo(this.num)}}wz=nr;Tpe(nr,"NaN",new wz(NaN,""));function Az(t){if(t==null||t.includes(bc))return bc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=PL.exec(e))!==null&&n!==void 0?n:[],s=nr.parse(r??""),u=nr.parse(o??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return bc;e=e.replace(PL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=RL.exec(e))!==null&&f!==void 0?f:[],E=nr.parse(h??""),S=nr.parse(g??""),A=p==="+"?E.add(S):E.subtract(S);if(A.isNaN())return bc;e=e.replace(RL,A.toString())}return e}var ML=/\(([^()]*)\)/;function Mpe(t){for(var e=t,n;(n=ML.exec(e))!=null;){var[,r]=n;e=e.replace(ML,Az(r))}return e}function Npe(t){var e=t.replace(/\s+/g,"");return e=Mpe(e),e=Az(e),e}function Dpe(t){try{return Npe(t)}catch{return bc}}function lT(t){var e=Dpe(t.slice(5,-1));return e===bc?"":e}var Ope=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kpe=["dx","dy","angle","className","breakAll"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function NL(t,e){if(t==null)return{};var n,r,i=Lpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xz=/[ \f\n\r\t\v\u2028\u2029]+/,Cz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Hn(e)||(n?i=e.toString().split(""):i=e.toString().split(xz));var o=i.map(u=>({word:u,width:Gd(u,r).width})),s=n?0:Gd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Vpe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Iz=(t,e,n,r)=>t.reduce((i,o)=>{var{word:s,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),Pz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Upe="",DL=(t,e,n,r,i,o,s,u)=>{var c=t.slice(0,e),f=Cz({breakAll:n,style:r,children:c+Upe});if(!f)return[!1,[]];var h=Iz(f.wordsWithComputedWidth,o,s,u),p=h.length>i||Pz(h).width>Number(o);return[p,h]},Bpe=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:c}=t,f=Ve(o),h=String(s),p=Iz(e,r,n,i);if(!f||i)return p;var g=p.length>o||Pz(p).width>Number(r);if(!g)return p;for(var E=0,S=h.length-1,A=0,w;E<=S&&A<=h.length-1;){var I=Math.floor((E+S)/2),O=I-1,[k,B]=DL(h,O,c,u,o,r,n,i),[F]=DL(h,I,c,u,o,r,n,i);if(!k&&!F&&(E=I+1),k&&F&&(S=I-1),!k&&F){w=B;break}A++}return w||p},OL=t=>{var e=Hn(t)?[]:t.toString().split(xz);return[{words:e,width:void 0}]},Fpe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Nv.isSsr){var u,c,f=Cz({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return OL(r);return Bpe({breakAll:o,children:r,maxLines:s,style:i},u,c,e,!!n)}return OL(r)},Rz="#808080",zpe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Rz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zv=C.forwardRef((t,e)=>{var n=sr(t,zpe),{x:r,y:i,lineHeight:o,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=NL(n,Ope),g=C.useMemo(()=>Fpe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:E,dy:S,angle:A,className:w,breakAll:I}=p,O=NL(p,kpe);if(!zo(r)||!zo(i)||g.length===0)return null;var k=Number(r)+(Ve(E)?E:0),B=Number(i)+(Ve(S)?S:0);if(!vt(k)||!vt(B))return null;var F;switch(h){case"start":F=lT("calc(".concat(s,")"));break;case"middle":F=lT("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:F=lT("calc(".concat(g.length-1," * -").concat(o,")"));break}var V=[],M=g[0];if(c&&M!=null){var D=M.width,{width:N}=p;V.push("scale(".concat(Ve(N)&&Ve(D)?N/D:1,")"))}return A&&V.push("rotate(".concat(A,", ").concat(k,", ").concat(B,")")),V.length&&(O.transform=V.join(" ")),C.createElement("text",lw({},Si(O),{ref:e,x:k,y:B,className:xt("recharts-text",w),textAnchor:f,fill:u.includes("url")?Rz:u}),g.map((z,j)=>{var H=z.words.join(I?"":" ");return C.createElement("tspan",{x:k,dy:j===0?F:o,key:"".concat(H,"-").concat(j)},H)}))});Zv.displayName="Text";function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return(e=jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gpe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:o,y:s,height:u,upperWidth:c,lowerWidth:f}=XA(e),h=o,p=o+(c-f)/2,g=(h+p)/2,E=(c+f)/2,S=h+c/2,A=u>=0?1:-1,w=A*r,I=A>0?"end":"start",O=A>0?"start":"end",k=c>=0?1:-1,B=k*r,F=k>0?"end":"start",V=k>0?"start":"end",M=i;if(n==="top"){var D={x:h+c/2,y:s-w,horizontalAnchor:"middle",verticalAnchor:I};return M&&(D.height=Math.max(s-M.y,0),D.width=c),D}if(n==="bottom"){var N={x:p+f/2,y:s+u+w,horizontalAnchor:"middle",verticalAnchor:O};return M&&(N.height=Math.max(M.y+M.height-(s+u),0),N.width=f),N}if(n==="left"){var z={x:g-B,y:s+u/2,horizontalAnchor:F,verticalAnchor:"middle"};return M&&(z.width=Math.max(z.x-M.x,0),z.height=u),z}if(n==="right"){var j={x:g+E+B,y:s+u/2,horizontalAnchor:V,verticalAnchor:"middle"};return M&&(j.width=Math.max(M.x+M.width-j.x,0),j.height=u),j}var H=M?{width:E,height:u}:{};return n==="insideLeft"?xo({x:g+B,y:s+u/2,horizontalAnchor:V,verticalAnchor:"middle"},H):n==="insideRight"?xo({x:g+E-B,y:s+u/2,horizontalAnchor:F,verticalAnchor:"middle"},H):n==="insideTop"?xo({x:h+c/2,y:s+w,horizontalAnchor:"middle",verticalAnchor:O},H):n==="insideBottom"?xo({x:p+f/2,y:s+u-w,horizontalAnchor:"middle",verticalAnchor:I},H):n==="insideTopLeft"?xo({x:h+B,y:s+w,horizontalAnchor:V,verticalAnchor:O},H):n==="insideTopRight"?xo({x:h+c-B,y:s+w,horizontalAnchor:F,verticalAnchor:O},H):n==="insideBottomLeft"?xo({x:p+B,y:s+u-w,horizontalAnchor:V,verticalAnchor:I},H):n==="insideBottomRight"?xo({x:p+f-B,y:s+u-w,horizontalAnchor:F,verticalAnchor:I},H):n&&typeof n=="object"&&(Ve(n.x)||Yl(n.x))&&(Ve(n.y)||Yl(n.y))?xo({x:o+gr(n.x,E),y:s+gr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},H):xo({x:S,y:s+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},$pe=["labelRef"],Kpe=["content"];function LL(t,e){if(t==null)return{};var n,r,i=Ype(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){Wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(null,arguments)}var Mz=C.createContext(null),Qpe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:u}=t,c=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[e,n,r,i,o,s]);return C.createElement(Mz.Provider,{value:c},u)},Nz=()=>{var t=C.useContext(Mz),e=Iv();return t||(e?XA(e):void 0)},Zpe=C.createContext(null),eme=()=>{var t=C.useContext(Zpe),e=Le(b5);return t||e},tme=t=>{var{value:e,formatter:n}=t,r=Hn(t.children)?e:t.children;return typeof n=="function"?n(r):r},fC=t=>t!=null&&typeof t=="function",nme=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},rme=(t,e,n,r,i)=>{var{offset:o,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:E}=i,S=(f+h)/2,A=nme(p,g),w=A>=0?1:-1,I,O;switch(e){case"insideStart":I=p+w*o,O=E;break;case"insideEnd":I=g-w*o,O=!E;break;case"end":I=g+w*o,O=E;break;default:throw new Error("Unsupported position ".concat(e))}O=A<=0?O:!O;var k=An(u,c,S,I),B=An(u,c,S,I+(O?1:-1)*359),F="M".concat(k.x,",").concat(k.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(B.x,",").concat(B.y),V=Hn(t.id)?oh("recharts-radial-line-"):t.id;return C.createElement("text",ha({},r,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:V,d:F})),C.createElement("textPath",{xlinkHref:"#".concat(V)},n))},ime=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=An(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+s)/2,{x:E,y:S}=An(r,i,g,f);return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},bg=t=>t!=null&&"cx"in t&&Ve(t.cx),ome={angle:0,offset:5,zIndex:mr.label,position:"middle",textBreakAll:!1};function ame(t){if(!bg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function _s(t){var e=sr(t,ome),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:u,className:c="",textBreakAll:f,labelRef:h}=e,p=eme(),g=Nz(),E=i==="center"?g:p??g,S,A,w;n==null?S=E:bg(n)?S=n:S=XA(n);var I=ame(S);if(!S||Hn(o)&&Hn(s)&&!C.isValidElement(u)&&typeof u!="function")return null;var O=kd(kd({},e),{},{viewBox:S});if(C.isValidElement(u)){var{labelRef:k}=O,B=LL(O,$pe);return C.cloneElement(u,B)}if(typeof u=="function"){var{content:F}=O,V=LL(O,Kpe);if(A=C.createElement(u,V),C.isValidElement(A))return A}else A=tme(e);var M=Si(e);if(bg(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return rme(e,i,A,M,S);w=ime(S,e.offset,e.position)}else{if(!I)return null;var D=Gpe({viewBox:I,position:i,offset:e.offset,parentViewBox:bg(r)?void 0:r});w=kd(kd({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return C.createElement(Go,{zIndex:e.zIndex},C.createElement(Zv,ha({ref:h,className:xt("recharts-label",c)},M,w,{textAnchor:Vpe(M.textAnchor)?M.textAnchor:w.textAnchor,breakAll:f}),A))}_s.displayName="Label";var sme=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(_s,ha({key:"label-implicit"},r)):zo(t)?C.createElement(_s,ha({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===_s?C.cloneElement(t,kd({key:"label-implicit"},r)):C.createElement(_s,ha({key:"label-implicit",content:t},r)):fC(t)?C.createElement(_s,ha({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(_s,ha({},t,{key:"label-implicit"},r)):null};function lme(t){var{label:e,labelRef:n}=t,r=Nz();return sme(e,r,n)||null}var uT={},cT={},UL;function ume(){return UL||(UL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(cT)),cT}var fT={},BL;function cme(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(fT)),fT}var FL;function fme(){return FL||(FL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ume(),n=cme(),r=FA();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(uT)),uT}var dT,zL;function dme(){return zL||(zL=1,dT=fme().last),dT}var hme=dme();const pme=Ho(hme);var mme=["valueAccessor"],gme=["dataKey","clockWise","id","textBreakAll","zIndex"];function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(null,arguments)}function qL(t,e){if(t==null)return{};var n,r,i=yme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vme=t=>Array.isArray(t.value)?pme(t.value):t.value,Dz=C.createContext(void 0),_me=Dz.Provider,Oz=C.createContext(void 0),bme=Oz.Provider;function Eme(){return C.useContext(Dz)}function Tme(){return C.useContext(Oz)}function Eg(t){var{valueAccessor:e=vme}=t,n=qL(t,mme),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:u}=n,c=qL(n,gme),f=Eme(),h=Tme(),p=f||h;return!p||!p.length?null:C.createElement(Go,{zIndex:u??mr.label},C.createElement(Ar,{className:"recharts-label-list"},p.map((g,E)=>{var S,A=Hn(r)?e(g,E):jt(g.payload,r),w=Hn(o)?{}:{id:"".concat(o,"-").concat(E)};return C.createElement(_s,My({key:"label-".concat(E)},Si(g),c,w,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:s,viewBox:g.viewBox,index:E,zIndex:0}))})))}Eg.displayName="LabelList";function kz(t){var{label:e}=t;return e?e===!0?C.createElement(Eg,{key:"labelList-implicit"}):C.isValidElement(e)||fC(e)?C.createElement(Eg,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(Eg,My({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Lz=t=>t.graphicalItems.polarItems,Sme=ne([Xt,$h],Ox),e0=ne([Lz,on,Sme],Lx),wme=ne([e0],Vx),t0=ne([wme,zv],Ux),Ame=ne([t0,on,e0],Fx);ne([t0,on,e0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=jt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:jt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var jL=()=>{},xme=ne([t0,on,e0,Wv,Xt],Hx),Cme=ne([on,qx,jx,jL,xme,jL,Et,Xt],Gx),Vz=ne([on,Et,t0,Ame,Gh,Xt,Cme],$x),Ime=ne([Vz,af,Ys],Wx),Pme=ne([on,Vz,Ime,Xt],Xx);ne([Ys,Pme],T5);var Rme={radiusAxis:{},angleAxis:{}},Uz=Vr({name:"polarAxis",initialState:Rme,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:fAe,removeRadiusAxis:dAe,addAngleAxis:hAe,removeAngleAxis:pAe}=Uz.actions,Mme=Uz.reducer;function Bz(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){Nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nme(t,e,n){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kme=(t,e)=>e,dC=ne([Lz,kme],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Lme=[],hC=(t,e,n)=>(n==null?void 0:n.length)===0?Lme:n,Fz=ne([zv,dC,hC],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>GL(GL({},e.presentationProps),o.props))),i!=null)return i}}),Vme=ne([Fz,dC,hC],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,s=jt(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Sv(s,e.dataKey),color:u,payload:r,type:e.legendType}})}),Ume=ne([Fz,dC,hC,On],(t,e,n,r)=>{if(!(e==null||t==null))return zge({offset:r,pieSettings:e,displayedData:t,cells:n})}),hT={exports:{}},Nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L;function Bme(){if($L)return Nt;$L=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function S(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case t:switch(A=A.type,A){case n:case i:case r:case c:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case s:case u:case p:case h:return A;case o:return A;default:return w}}case e:return w}}}return Nt.ContextConsumer=o,Nt.ContextProvider=s,Nt.Element=t,Nt.ForwardRef=u,Nt.Fragment=n,Nt.Lazy=p,Nt.Memo=h,Nt.Portal=e,Nt.Profiler=i,Nt.StrictMode=r,Nt.Suspense=c,Nt.SuspenseList=f,Nt.isContextConsumer=function(A){return S(A)===o},Nt.isContextProvider=function(A){return S(A)===s},Nt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Nt.isForwardRef=function(A){return S(A)===u},Nt.isFragment=function(A){return S(A)===n},Nt.isLazy=function(A){return S(A)===p},Nt.isMemo=function(A){return S(A)===h},Nt.isPortal=function(A){return S(A)===e},Nt.isProfiler=function(A){return S(A)===i},Nt.isStrictMode=function(A){return S(A)===r},Nt.isSuspense=function(A){return S(A)===c},Nt.isSuspenseList=function(A){return S(A)===f},Nt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===c||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===p||A.$$typeof===h||A.$$typeof===s||A.$$typeof===o||A.$$typeof===u||A.$$typeof===E||A.getModuleId!==void 0)},Nt.typeOf=S,Nt}var KL;function Fme(){return KL||(KL=1,hT.exports=Bme()),hT.exports}var zme=Fme(),YL=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",WL=null,pT=null,zz=t=>{if(t===WL&&Array.isArray(pT))return pT;var e=[];return C.Children.forEach(t,n=>{Hn(n)||(zme.isFragment(n)?e=e.concat(zz(n.props.children)):e.push(n))}),pT=e,WL=t,e};function pC(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>YL(i)):r=[YL(e)],zz(t).forEach(i=>{var o=Kl(i,"type.displayName")||Kl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var mT={},JL;function qme(){return JL||(JL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(mT)),mT}var gT,XL;function jme(){return XL||(XL=1,gT=qme().isPlainObject),gT}var Hme=jme();const Gme=Ho(Hme);var QL,ZL,eV,tV,nV;function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){$me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $me(t,e,n){return(e=Kme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kme(t){var e=Yme(t,"string");return typeof e=="symbol"?e:e+""}function Yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function Pd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var oV=(t,e,n,r,i)=>{var o=n-r,s;return s=nn(QL||(QL=Pd(["M ",",",""])),t,e),s+=nn(ZL||(ZL=Pd(["L ",",",""])),t+n,e),s+=nn(eV||(eV=Pd(["L ",",",""])),t+n-o/2,e+i),s+=nn(tV||(tV=Pd(["L ",",",""])),t+n-o/2-r,e+i),s+=nn(nV||(nV=Pd(["L ",","," Z"])),t,e),s},Wme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jme=t=>{var e=sr(t,Wme),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=C.useRef(null),[E,S]=C.useState(-1),A=C.useRef(i),w=C.useRef(o),I=C.useRef(s),O=C.useRef(n),k=C.useRef(r),B=Ov(t,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ye=g.current.getTotalLength();ye&&S(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var F=xt("recharts-trapezoid",u);if(!p)return C.createElement("g",null,C.createElement("path",Ny({},Si(e),{className:F,d:oV(n,r,i,o,s)})));var V=A.current,M=w.current,D=I.current,N=O.current,z=k.current,j="0px ".concat(E===-1?1:E,"px"),H="".concat(E,"px 0px"),$=f6(["strokeDasharray"],f,c);return C.createElement(Dv,{animationId:B,key:B,canBegin:E>0,duration:f,easing:c,isActive:p,begin:h},ye=>{var Se=Rn(V,i,ye),Q=Rn(M,o,ye),oe=Rn(D,s,ye),he=Rn(N,n,ye),Te=Rn(z,r,ye);g.current&&(A.current=Se,w.current=Q,I.current=oe,O.current=he,k.current=Te);var Y=ye>0?{transition:$,strokeDasharray:H}:{strokeDasharray:j};return C.createElement("path",Ny({},Si(e),{className:F,d:oV(he,Te,Se,Q,oe),ref:g,style:iV(iV({},Y),e.style)}))})},Xme=["option","shapeType","activeClassName"];function Qme(t,e){if(t==null)return{};var n,r,i=Zme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rge(t,e){return Dy(Dy({},e),t)}function ige(t,e){return t==="symbols"}function sV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(m6,n);case"trapezoid":return C.createElement(Jme,n);case"sector":return C.createElement(_6,n);case"symbols":if(ige(e))return C.createElement(BA,n);break;case"curve":return C.createElement(ex,n);default:return null}}function oge(t){return C.isValidElement(t)?t.props:t}function qz(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Qme(t,Xme),o;if(C.isValidElement(e))o=C.cloneElement(e,Dy(Dy({},i),oge(e)));else if(typeof e=="function")o=e(i,i.index);else if(Gme(e)&&typeof e!="boolean"){var s=rge(e,i);o=C.createElement(sV,{shapeType:n,elementProps:s})}else{var u=i;o=C.createElement(sV,{shapeType:n,elementProps:u})}return i.isActive?C.createElement(Ar,{className:r},o):o}var mC=(t,e,n)=>{var r=Ut();return(i,o)=>s=>{t==null||t(i,o,s),r(Q5({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},gC=t=>{var e=Ut();return(n,r)=>i=>{t==null||t(n,r,i),e(sde())}},yC=(t,e,n)=>{var r=Ut();return(i,o)=>s=>{t==null||t(i,o,s),r(lde({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function jz(t){var{tooltipEntrySettings:e}=t,n=Ut(),r=Xr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(rde(e)):i.current!==e&&n(ide({prev:i.current,next:e})),i.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(ode(i.current)),i.current=null)},[n]),null}function age(t){var{legendPayload:e}=t,n=Ut(),r=Xr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(a6(e)):i.current!==e&&n(s6({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(l6(i.current)),i.current=null)},[n]),null}function sge(t){var{legendPayload:e}=t,n=Ut(),r=Le(Et),i=C.useRef(null);return C.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(a6(e)):i.current!==e&&n(s6({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(l6(i.current)),i.current=null)},[n]),null}var yT,lge=()=>{var[t]=C.useState(()=>oh("uid-"));return t},uge=(yT=WH.useId)!==null&&yT!==void 0?yT:lge;function cge(t,e){var n=uge();return e||(t?"".concat(t,"-").concat(n):n)}var fge=C.createContext(void 0),Hz=t=>{var{id:e,type:n,children:r}=t,i=cge("recharts-".concat(n),e);return C.createElement(fge.Provider,{value:i},r(i))},dge={cartesianItems:[],polarItems:[]},Gz=Vr({name:"graphicalItems",initialState:dge,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Kt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Wi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Kt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Wi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Kt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Kt()},removePolarGraphicalItem:{reducer(t,e){var n=Wi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Kt()}}}),{addCartesianGraphicalItem:hge,replaceCartesianGraphicalItem:pge,removeCartesianGraphicalItem:mge,addPolarGraphicalItem:gge,removePolarGraphicalItem:yge}=Gz.actions,vge=Gz.reducer,_ge=t=>{var e=Ut(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(hge(t)):n.current!==t&&e(pge({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(mge(n.current)),n.current=null)},[e]),null},bge=C.memo(_ge);function Ege(t){var e=Ut();return C.useLayoutEffect(()=>(e(gge(t)),()=>{e(yge(t))}),[e,t]),null}var Tge=["key"],Sge=["onMouseEnter","onClick","onMouseLeave"],wge=["id"],Age=["id"];function lV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(n),!0).forEach(function(r){xge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e,n){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(null,arguments)}function n0(t,e){if(t==null)return{};var n,r,i=Pge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rge(t){var e=C.useMemo(()=>pC(t.children,xs),[t.children]),n=Le(r=>Vme(r,t.id,e));return n==null?null:C.createElement(sge,{legendPayload:n})}var Mge=C.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:u,hide:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),getPosition:g=>{var E;return(E=r[Number(g)])===null||E===void 0?void 0:E.tooltipPosition},settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:Sv(u,e),hide:c,type:f,color:s,unit:"",graphicalItemId:h}};return C.createElement(jz,{tooltipEntrySettings:p})}),Nge=(t,e)=>t>e?"start":t<e?"end":"middle",Dge=(t,e,n)=>gr(typeof e=="function"?e(t):e,n,n*.8),Oge=(t,e,n)=>{var{top:r,left:i,width:o,height:s}=e,u=g6(o,s),c=i+gr(t.cx,o,o/2),f=r+gr(t.cy,s,s/2),h=gr(t.innerRadius,u,0),p=Dge(n,t.outerRadius,u),g=t.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},kge=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Lge=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var n=xt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=n0(e,Tge);return C.createElement(ex,Ls({},i,{type:"linear",className:n}))},Vge=(t,e,n)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),C.isValidElement(r)))return r;var i=xt("recharts-pie-label-text",Bz(t));return C.createElement(Zv,Ls({},e,{alignmentBaseline:"middle",className:i}),r)};function Uge(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!e)return null;var u=Bo(n),c=ih(i),f=ih(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,E)=>{var S=(g.startAngle+g.endAngle)/2,A=An(g.cx,g.cy,g.outerRadius+h,S),w=rn(rn(rn(rn({},u),g),{},{stroke:"none"},c),{},{index:E,textAnchor:Nge(A.x,g.cx)},A),I=rn(rn(rn(rn({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:E,points:[An(g.cx,g.cy,g.outerRadius,S),A],key:"line"});return C.createElement(Go,{zIndex:mr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(E)},C.createElement(Ar,null,o&&Lge(o,I),Vge(i,w,jt(g,s))))});return C.createElement(Ar,{className:"recharts-pie-labels"},p)}function Bge(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(kz,{label:i}):C.createElement(Uge,{sectors:e,props:n,showLabels:r})}function Fge(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:s}=t,u=Le(Zl),c=Le(aC),f=Le(Kde),{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,E=n0(i,Sge),S=mC(h,i.dataKey,s),A=gC(g),w=yC(p,i.dataKey,s);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((I,O)=>{if((I==null?void 0:I.startAngle)===0&&(I==null?void 0:I.endAngle)===0&&e.length!==1)return null;var k=f==null||f===s,B=String(O)===u&&(c==null||i.dataKey===c)&&k,F=u?r:null,V=n&&B?n:F,M=rn(rn({},I),{},{stroke:I.stroke,tabIndex:-1,[HF]:O,[GF]:s});return C.createElement(Ar,Ls({key:"sector-".concat(I==null?void 0:I.startAngle,"-").concat(I==null?void 0:I.endAngle,"-").concat(I.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},kh(E,I,O),{onMouseEnter:S(I,O),onMouseLeave:A(I,O),onClick:w(I,O)}),C.createElement(qz,Ls({option:o??V,index:O,shapeType:"sector",isActive:B},M)))}))}function zge(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:s,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),E=kge(u,c),S=Math.abs(E),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(V=>jt(V,f,0)!==0).length,I=(S>=360?w:w-1)*A,O=S-w*g-I,k=r.reduce((V,M)=>{var D=jt(M,f,0);return V+(Ve(D)?D:0)},0),B;if(k>0){var F;B=r.map((V,M)=>{var D=jt(V,f,0),N=jt(V,h,M),z=Oge(n,o,V),j=(Ve(D)?D:0)/k,H,$=rn(rn({},V),i&&i[M]&&i[M].props);M?H=F.endAngle+or(E)*A*(D!==0?1:0):H=u;var ye=H+or(E)*((D!==0?g:0)+j*O),Se=(H+ye)/2,Q=(z.innerRadius+z.outerRadius)/2,oe=[{name:N,value:D,payload:$,dataKey:f,type:p,graphicalItemId:n.id}],he=An(z.cx,z.cy,Q,Se);return F=rn(rn(rn(rn({},n.presentationProps),{},{percent:j,cornerRadius:typeof s=="string"?parseFloat(s):s,name:N,tooltipPayload:oe,midAngle:Se,middleRadius:Q,tooltipPosition:he},$),z),{},{value:D,dataKey:f,startAngle:H,endAngle:ye,payload:$,paddingAngle:or(E)*A}),F})}return B}function qge(t){var{showLabels:e,sectors:n,children:r}=t,i=C.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return C.createElement(bme,{value:e?i:void 0},r)}function jge(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,E=Ov(e,"recharts-pie-"),S=n.current,[A,w]=C.useState(!1),I=C.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),O=C.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return C.createElement(qge,{showLabels:!A,sectors:i},C.createElement(Dv,{animationId:E,begin:s,duration:u,isActive:o,easing:c,onAnimationStart:O,onAnimationEnd:I,key:E},k=>{var B,F=[],V=i&&i[0],M=(B=V==null?void 0:V.startAngle)!==null&&B!==void 0?B:0;return i==null||i.forEach((D,N)=>{var z=S&&S[N],j=N>0?Kl(D,"paddingAngle",0):0;if(z){var H=Rn(z.endAngle-z.startAngle,D.endAngle-D.startAngle,k),$=rn(rn({},D),{},{startAngle:M+j,endAngle:M+H+j});F.push($),M=$.endAngle}else{var{endAngle:ye,startAngle:Se}=D,Q=Rn(0,ye-Se,k),oe=rn(rn({},D),{},{startAngle:M+j,endAngle:M+Q+j});F.push(oe),M=oe.endAngle}}),n.current=F,C.createElement(Ar,null,C.createElement(Fge,{sectors:F,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),C.createElement(Bge,{showLabels:!A,sectors:i,props:e}),e.children)}var Hge={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mr.area};function Gge(t){var{id:e}=t,n=n0(t,wge),{hide:r,className:i,rootTabIndex:o}=t,s=C.useMemo(()=>pC(t.children,xs),[t.children]),u=Le(h=>Ume(h,e,s)),c=C.useRef(null),f=xt("recharts-pie",i);return r||u==null?(c.current=null,C.createElement(Ar,{tabIndex:o,className:f})):C.createElement(Go,{zIndex:t.zIndex},C.createElement(Mge,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(Ar,{tabIndex:o,className:f},C.createElement(jge,{props:rn(rn({},n),{},{sectors:u}),previousSectorsRef:c,id:e})))}function vC(t){var e=sr(t,Hge),{id:n}=e,r=n0(e,Age),i=Bo(r);return C.createElement(Hz,{id:n,type:"pie"},o=>C.createElement(C.Fragment,null,C.createElement(Ege,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(Rge,Ls({},r,{id:o})),C.createElement(Gge,Ls({},r,{id:o}))))}vC.displayName="Pie";function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){$ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ge(t,e,n){return(e=Kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z=0,Wge={xAxis:{},yAxis:{},zAxis:{}},Kz=Vr({name:"cartesianAxis",initialState:Wge,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Kt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Kt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Kt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Kt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Kt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Kt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Kt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Kt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Kt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...s,r].slice(-3);t.yAxis[n]=cV(cV({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:Jge,replaceXAxis:Xge,removeXAxis:Qge,addYAxis:Zge,replaceYAxis:eye,removeYAxis:tye,addZAxis:mAe,replaceZAxis:gAe,removeZAxis:yAe,updateYAxisWidth:nye}=Kz.actions,rye=Kz.reducer,iye=ne([On],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),oye=ne([iye,Ma,Na],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Yz=()=>Le(oye),fV=(t,e,n)=>{var r=n??t;if(!Hn(r))return gr(r,e,0)},aye=(t,e,n)=>{var r={},i=t.filter(Gv),o=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},r),u=Object.entries(s).map(f=>{var h,[p,g]=f,E=g.map(A=>A.dataKey),S=fV(e,n,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:E,barSize:S}}),c=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=fV(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e,n){return(e=lye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t,e,n,r,i){var o,s=r.length;if(!(s<1)){var u=gr(t,n,0,!0),c,f=[];if(vt((o=r[0])===null||o===void 0?void 0:o.barSize)){var h=!1,p=n/s,g=r.reduce((O,k)=>O+(k.barSize||0),0);g+=(s-1)*u,g>=n&&(g-=(s-1)*u,u=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var E=(n-g)/2>>0,S={offset:E-u,size:0};c=r.reduce((O,k)=>{var B,F={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S.offset+S.size+u,size:h?p:(B=k.barSize)!==null&&B!==void 0?B:0}},V=[...O,F];return S=F.position,V},f)}else{var A=gr(e,n,0,!0);n-2*A-(s-1)*u<=0&&(u=0);var w=(n-2*A-(s-1)*u)/s;w>1&&(w>>=0);var I=vt(i)?Math.min(w,i):w;c=r.reduce((O,k,B)=>[...O,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:A+(w+u)*B+(w-I)/2,size:I}}],f)}return c}}var fye=(t,e,n,r,i,o,s)=>{var u=Hn(s)?e:s,c=cye(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(f=>eg(eg({},f),{},{position:eg(eg({},f.position),{},{offset:f.position.offset-i/2})}))),c},dye=(t,e)=>{var n=Nx(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},hye=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function pye(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&vt(t.zIndex)?t.zIndex:e}var Wz=t=>{var{chartData:e}=t,n=Ut(),r=Xr();return C.useEffect(()=>r?()=>{}:(n(bL(e)),()=>{n(bL(void 0))}),[e,n,r]),null},hV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Jz=Vr({name:"brush",initialState:hV,reducers:{setBrushSettings(t,e){return e.payload==null?hV:e.payload}}}),{setBrushSettings:vAe}=Jz.actions,mye=Jz.reducer;function gye(t){return(t%180+180)%180}var yye=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=gye(i),s=o*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},vye={dots:[],areas:[],lines:[]},Xz=Vr({name:"referenceElements",initialState:vye,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Wi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Wi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Wi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:_Ae,removeDot:bAe,addArea:EAe,removeArea:TAe,addLine:SAe,removeLine:wAe}=Xz.actions,_ye=Xz.reducer,bye=C.createContext(void 0),Eye=t=>{var{children:e}=t,[n]=C.useState("".concat(oh("recharts"),"-clip")),r=Yz();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return C.createElement(bye.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:s}))),e)};function Qz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Tye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return yye(r,n)}function Sye(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function _h(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function wye(t,e){return Qz(t,e+1)}function Aye(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:Qz(r,f)};var A=c,w,I=()=>(w===void 0&&(w=n(S,A)),w),O=S.coordinate,k=c===0||_h(t,O,I,h,u);k||(c=0,h=s,f+=1),k&&(h=O+t*(I()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function xye(t,e,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:u,end:c}=e,f=1;f<=s;f++){for(var h=(s-1)%f,p=u,g=!0,E=function(){var B=r[A];if(B==null)return 0;var F=A,V,M=()=>(V===void 0&&(V=n(B,F)),V),D=B.coordinate,N=A===h||_h(t,D,M,p,c);if(!N)return g=!1,1;N&&(p=D+t*(M()/2+i))},S,A=h;A<s&&(S=E(),!(S!==0&&S===1));A+=f);if(g){for(var w=[],I=h;I<s;I+=f){var O=r[I];O!=null&&w.push(O)}return w}}return[]}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){Cye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cye(t,e,n){return(e=Iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Pye(t,"string");return typeof e=="symbol"?e:e+""}function Pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rye(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:c}=e,f=function(g){var E=o[g];if(E==null)return 1;var S=E,A,w=()=>(A===void 0&&(A=n(E,g)),A);if(g===s-1){var I=t*(S.coordinate+t*w()/2-c);o[g]=S=cr(cr({},S),{},{tickCoord:I>0?S.coordinate-I*t:S.coordinate})}else o[g]=S=cr(cr({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var O=_h(t,S.tickCoord,w,u,c);O&&(c=S.tickCoord-t*(w()/2+i),o[g]=cr(cr({},S),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return o}function Mye(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(o){var h=r[u-1];if(h!=null){var p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);if(s[u-1]=h=cr(cr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var E=_h(t,h.tickCoord,()=>p,c,f);E&&(f=h.tickCoord-t*(p/2+i),s[u-1]=cr(cr({},h),{},{isShow:!0}))}}}for(var S=o?u-1:u,A=function(O){var k=s[O];if(k==null)return 1;var B=k,F,V=()=>(F===void 0&&(F=n(k,O)),F);if(O===0){var M=t*(B.coordinate-t*V()/2-c);s[O]=B=cr(cr({},B),{},{tickCoord:M<0?B.coordinate-M*t:B.coordinate})}else s[O]=B=cr(cr({},B),{},{tickCoord:B.coordinate});if(B.tickCoord!=null){var D=_h(t,B.tickCoord,V,c,f);D&&(c=B.tickCoord+t*(V()/2+i),s[O]=cr(cr({},B),{},{isShow:!0}))}},w=0;w<S;w++)A(w);return s}function Nye(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ve(c)||Nv.isSsr){var g;return(g=wye(i,Ve(c)?c:0))!==null&&g!==void 0?g:[]}var E=[],S=u==="top"||u==="bottom"?"width":"height",A=h&&S==="width"?Gd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(F,V)=>{var M=typeof f=="function"?f(F.value,V):F.value;return S==="width"?Tye(Gd(M,{fontSize:e,letterSpacing:n}),A,p):Gd(M,{fontSize:e,letterSpacing:n})[S]},I=i[0],O=i[1],k=i.length>=2&&I!=null&&O!=null?or(O.coordinate-I.coordinate):1,B=Sye(o,k,S);return c==="equidistantPreserveStart"?Aye(k,B,w,i,s):c==="equidistantPreserveEnd"?xye(k,B,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?E=Mye(k,B,w,i,s,c==="preserveStartEnd"):E=Rye(k,B,w,i,s),E.filter(F=>F.isShow))}var Dye=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=s+c+u+(n?r:0);return Math.round(f)}return 0},Oye=["axisLine","width","height","className","hide","ticks","axisType"];function kye(t,e){if(t==null)return{};var n,r,i=Lye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){Vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vye(t,e,n){return(e=Uye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=Bye(t,"string");return typeof e=="symbol"?e:e+""}function Bye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mr.axis};function Fye(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=en(en(en({},c),Bo(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!s||o==="bottom"&&s);f=en(en({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);f=en(en({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return C.createElement("line",eu({},f,{className:xt("recharts-cartesian-axis-line",Kl(u,"className"))}))}function zye(t,e,n,r,i,o,s,u,c){var f,h,p,g,E,S,A=u?-1:1,w=t.tickSize||s,I=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,g=n+ +!u*i,p=g-A*w,S=p-A*c,E=I;break;case"left":p=g=t.coordinate,h=e+ +!u*r,f=h-A*w,E=f-A*c,S=I;break;case"right":p=g=t.coordinate,h=e+ +u*r,f=h+A*w,E=f+A*c,S=I;break;default:f=h=t.coordinate,g=n+ +u*i,p=g+A*w,S=p+A*c,E=I;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:E,y:S}}}function qye(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function jye(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Hye(t){var{option:e,tickProps:n,value:r}=t,i,o=xt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,en(en({},n),{},{className:o}));else if(typeof e=="function")i=e(en(en({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=xt(s,Bz(e))),i=C.createElement(Zv,eu({},n,{className:s}),r)}return i}var Gye=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:E,width:S,height:A,tickSize:w,tickMargin:I,fontSize:O,letterSpacing:k,getTicksConfig:B,events:F,axisType:V}=t,M=Nye(en(en({},B),{},{ticks:n}),O,k),D=qye(h,p),N=jye(h,p),z=Bo(B),j=ih(r),H={};typeof i=="object"&&(H=i);var $=en(en({},z),{},{fill:"none"},H),ye=M.map(oe=>en({entry:oe},zye(oe,g,E,S,A,h,w,p,I))),Se=ye.map(oe=>{var{entry:he,line:Te}=oe;return C.createElement(Ar,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&C.createElement("line",eu({},$,Te,{className:xt("recharts-cartesian-axis-tick-line",Kl(i,"className"))})))}),Q=ye.map((oe,he)=>{var Te,Y,{entry:L,tick:J}=oe,le=en(en(en(en({verticalAnchor:N},z),{},{textAnchor:D,stroke:"none",fill:o},J),{},{index:he,payload:L,visibleTicksCount:M.length,tickFormatter:s,padding:c},f),{},{angle:(Te=(Y=f==null?void 0:f.angle)!==null&&Y!==void 0?Y:z.angle)!==null&&Te!==void 0?Te:0}),ce=en(en({},le),j);return C.createElement(Ar,eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},kh(F,L,he)),r&&C.createElement(Hye,{option:r,tickProps:ce,value:"".concat(typeof s=="function"?s(L.value,he):L.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},Q.length>0&&C.createElement(Go,{zIndex:mr.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},Q)),Se.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},Se))}),$ye=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:u,axisType:c}=t,f=kye(t,Oye),[h,p]=C.useState(""),[g,E]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Dye({ticks:S.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=C.useCallback(w=>{if(w){var I=w.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=I;var O=I[0];if(O){var k=window.getComputedStyle(O),B=k.fontSize,F=k.letterSpacing;(B!==h||F!==g)&&(p(B),E(F))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Go,{zIndex:t.zIndex},C.createElement(Ar,{className:xt("recharts-cartesian-axis",o)},C.createElement(Fye,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Bo(t)}),C.createElement(Gye,{ref:A,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(Qpe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(lme,{label:t.label,labelRef:t.labelRef}),t.children)))}),_C=C.forwardRef((t,e)=>{var n=sr(t,jl);return C.createElement($ye,eu({},n,{ref:e}))});_C.displayName="CartesianAxis";var Kye={},Zz=Vr({name:"errorBars",initialState:Kye,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:AAe,replaceErrorBar:xAe,removeErrorBar:CAe}=Zz.actions,Yye=Zz.reducer,Wye=["children"];function Jye(t,e){if(t==null)return{};var n,r,i=Xye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zye=C.createContext(Qye);function eve(t){var{children:e}=t,n=Jye(t,Wye);return C.createElement(Zye.Provider,{value:n},e)}function eq(t,e){var n,r,i=Le(f=>ka(f,t)),o=Le(f=>La(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Fn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function tve(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Yz(),{needClipX:o,needClipY:s,needClip:u}=eq(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?c:c-h/2,y:s?f:f-p/2,width:o?h:h*2,height:s?p:p*2}))}var vT={exports:{}},_T={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gV;function nve(){if(gV)return _T;gV=1;var t=$c();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return _T.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var E=i(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=s(function(){function w(F){if(!I){if(I=!0,O=F,F=p(F),g!==void 0&&S.hasValue){var V=S.value;if(g(V,F))return k=V}return k=F}if(V=k,n(O,F))return V;var M=p(F);return g!==void 0&&g(V,M)?(O=F,V):(O=F,k=M)}var I=!1,O,k,B=h===void 0?null:h;return[function(){return w(f())},B===null?void 0:function(){return w(B())}]},[f,h,p,g]);var A=r(c,E[0],E[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},_T}var yV;function rve(){return yV||(yV=1,vT.exports=nve()),vT.exports}rve();function ive(t){t()}function ove(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ive(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vV={notify(){},get:()=>[]};function ave(t,e){let n,r=vV,i=0,o=!1;function s(A){h();const w=r.subscribe(A);let I=!1;return()=>{I||(I=!0,w(),p())}}function u(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=ove())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vV)}function g(){o||(o=!0,h())}function E(){o&&(o=!1,p())}const S={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:E,getListeners:()=>r};return S}var sve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lve=sve(),uve=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cve=uve(),fve=()=>lve||cve?C.useLayoutEffect:C.useEffect,dve=fve();function _V(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function hve(t,e){if(_V(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!_V(t[n[i]],e[n[i]]))return!1;return!0}var bT=Symbol.for("react-redux-context"),ET=typeof globalThis<"u"?globalThis:{};function pve(){if(!C.createContext)return{};const t=ET[bT]??(ET[bT]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var mve=pve();function gve(t){const{children:e,context:n,serverState:r,store:i}=t,o=C.useMemo(()=>{const c=ave(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=C.useMemo(()=>i.getState(),[i]);dve(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const u=n||mve;return C.createElement(u.Provider,{value:o},e)}var yve=gve,vve=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function _ve(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function bC(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(vve.has(r)){if(t[r]==null&&e[r]==null)continue;if(!hve(t[r],e[r]))return!1}else if(!_ve(t[r],e[r]))return!1;return!0}function lu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:$z}function uu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:$z}var bve="Invariant failed";function Eve(t,e){throw new Error(bve)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function Oy(t){return C.createElement(qz,uw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Tve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var o=Ve(r)||Hn(r);return o?e(r,i):(o||Eve(),n)}},Sve=(t,e,n)=>n,wve=(t,e)=>e,Qh=ne([kx,wve],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Ave=ne([Qh],t=>t==null?void 0:t.maxBarSize),xve=(t,e,n,r)=>r,Cve=ne([Et,kx,lu,uu,Sve],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Ive=(t,e,n)=>{var r=Et(t),i=lu(t,e),o=uu(t,e);if(!(i==null||o==null))return r==="horizontal"?rw(t,"yAxis",o,n):rw(t,"xAxis",i,n)},Pve=(t,e)=>{var n=Et(t),r=lu(t,e),i=uu(t,e);if(!(r==null||i==null))return n==="horizontal"?lL(t,"xAxis",r):lL(t,"yAxis",i)},Rve=ne([Cve,Kce,Pve],aye),Mve=(t,e,n)=>{var r,i,o=Qh(t,e);if(o==null)return 0;var s=lu(t,e),u=uu(t,e);if(s==null||u==null)return 0;var c=Et(t),f=d5(t),{maxBarSize:h}=o,p=Hn(h)?f:h,g,E;return c==="horizontal"?(g=Fc(t,"xAxis",s,n),E=Bc(t,"xAxis",s,n)):(g=Fc(t,"yAxis",u,n),E=Bc(t,"yAxis",u,n)),(r=(i=oy(g,E,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},tq=(t,e,n)=>{var r=Et(t),i=lu(t,e),o=uu(t,e);if(!(i==null||o==null)){var s,u;return r==="horizontal"?(s=Fc(t,"xAxis",i,n),u=Bc(t,"xAxis",i,n)):(s=Fc(t,"yAxis",o,n),u=Bc(t,"yAxis",o,n)),oy(s,u)}},Nve=ne([Rve,d5,$ce,h5,Mve,tq,Ave],fye),Dve=(t,e,n)=>{var r=lu(t,e);if(r!=null)return Fc(t,"xAxis",r,n)},Ove=(t,e,n)=>{var r=uu(t,e);if(r!=null)return Fc(t,"yAxis",r,n)},kve=(t,e,n)=>{var r=lu(t,e);if(r!=null)return Bc(t,"xAxis",r,n)},Lve=(t,e,n)=>{var r=uu(t,e);if(r!=null)return Bc(t,"yAxis",r,n)},Vve=ne([Nve,Qh],hye),Uve=ne([Ive,Qh],dye),Bve=ne([On,WA,Dve,Ove,kve,Lve,Vve,Et,Uce,tq,Uve,Qh,xve],(t,e,n,r,i,o,s,u,c,f,h,p,g)=>{var{chartData:E,dataStartIndex:S,dataEndIndex:A}=c;if(!(p==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:w}=p,I;if(w!=null&&w.length>0?I=w:I=E==null?void 0:E.slice(S,A+1),I!=null)return h0e({layout:u,barSettings:p,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:I,offset:t,cells:g,dataStartIndex:S})}}),Fve=["index"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function zve(t,e){if(t==null)return{};var n,r,i=qve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nq=C.createContext(void 0),jve=t=>{var e=C.useContext(nq);if(e!=null)return e.stackId;if(t!=null)return Moe(t)},Hve=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Gve=t=>{var e=C.useContext(nq);if(e!=null){var{stackId:n}=e;return"url(#".concat(Hve(n,t),")")}},rq=t=>{var{index:e}=t,n=zve(t,Fve),r=Gve(e);return C.createElement(Ar,cw({className:"recharts-bar-stack-layer",clipPath:r},n))},$ve=["onMouseEnter","onMouseLeave","onClick"],Kve=["value","background","tooltipPosition"],Yve=["id"],Wve=["onMouseEnter","onClick","onMouseLeave"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){Jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jve(t,e,n){return(e=Xve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Qve(t,"string");return typeof e=="symbol"?e:e+""}function Qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(t,e){if(t==null)return{};var n,r,i=Zve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e0e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Sv(n,e),payload:t}]},t0e=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u,tooltipType:c,id:f}=t,h={dataDefinedOnItem:void 0,getPosition:Zc,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Sv(o,e),hide:s,type:c,color:i,unit:u,graphicalItemId:f}};return C.createElement(jz,{tooltipEntrySettings:h})});function n0e(t){var e=Le(Zl),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=o,f=ky(o,$ve),h=mC(s,r,o.id),p=gC(u),g=yC(c,r,o.id);if(!i||n==null)return null;var E=ih(i);return C.createElement(Go,{zIndex:pye(i,mr.barBackground)},n.map((S,A)=>{var{value:w,background:I,tooltipPosition:O}=S,k=ky(S,Kve);if(!I)return null;var B=h(S,A),F=p(S,A),V=g(S,A),M=br(br(br(br(br({option:i,isActive:String(A)===e},k),{},{fill:"#eee"},I),E),kh(f,S,A)),{},{onMouseEnter:B,onMouseLeave:F,onClick:V,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return C.createElement(Oy,Aa({key:"background-bar-".concat(A)},M))}))}function r0e(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return br(br({},s),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:s,fill:o.fill})});return C.createElement(_me,{value:e?i:void 0},n)}function i0e(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:s}=t,u=Le(Zl),c=Le(aC),f=n&&String(o)===u&&(c==null||s===c),h=f?n:e;return f?C.createElement(Go,{zIndex:mr.activeBar},C.createElement(rq,{index:o},C.createElement(Oy,Aa({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s})))):C.createElement(Oy,Aa({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s}))}function o0e(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return C.createElement(Oy,Aa({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function a0e(t){var e,{data:n,props:r}=t,i=(e=Bo(r))!==null&&e!==void 0?e:{},{id:o}=i,s=ky(i,Yve),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,E=ky(r,Wve),S=mC(h,c,o),A=gC(g),w=yC(p,c,o);return n?C.createElement(C.Fragment,null,n.map((I,O)=>C.createElement(rq,Aa({index:O,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(O),className:"recharts-bar-rectangle"},kh(E,I,O),{onMouseEnter:S(I,O),onMouseLeave:A(I,O),onClick:w(I,O)}),f?C.createElement(i0e,{shape:u,activeBar:f,baseProps:s,entry:I,index:O,dataKey:c}):C.createElement(o0e,{shape:u,baseProps:s,entry:I,index:O,dataKey:c})))):null}function s0e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,g=Ov(e,"recharts-bar-"),[E,S]=C.useState(!1),A=!E,w=C.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),I=C.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return C.createElement(r0e,{showLabels:A,rects:r},C.createElement(Dv,{animationId:g,begin:s,duration:u,isActive:o,easing:c,onAnimationEnd:w,onAnimationStart:I,key:g},O=>{var k=O===1?r:r==null?void 0:r.map((B,F)=>{var V=p&&p[F];if(V)return br(br({},B),{},{x:Rn(V.x,B.x,O),y:Rn(V.y,B.y,O),width:Rn(V.width,B.width,O),height:Rn(V.height,B.height,O)});if(i==="horizontal"){var M=Rn(0,B.height,O),D=Rn(B.stackedBarStart,B.y,O);return br(br({},B),{},{y:D,height:M})}var N=Rn(0,B.width,O),z=Rn(B.stackedBarStart,B.x,O);return br(br({},B),{},{width:N,x:z})});return O>0&&(n.current=k??null),k==null?null:C.createElement(Ar,null,C.createElement(a0e,{props:e,data:k}))}),C.createElement(kz,{label:e.label}),e.children)}function l0e(t){var e=C.useRef(null);return C.createElement(s0e,{previousRectanglesRef:e,props:t})}var iq=0,u0e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:jt(t,e)}};class c0e extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=xt("recharts-bar",i),p=f;return C.createElement(Ar,{className:h,id:f},u&&C.createElement("defs",null,C.createElement(tve,{clipPathId:p,xAxisId:o,yAxisId:s})),C.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},C.createElement(n0e,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(l0e,this.props)))}}var f0e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:iq,xAxisId:0,yAxisId:0,zIndex:mr.bar};function d0e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=eq(e,n),g=ef(),E=Xr(),S=pC(t.children,xs),A=Le(O=>Bve(O,t.id,E,S));if(g!=="vertical"&&g!=="horizontal")return null;var w,I=A==null?void 0:A[0];return I==null||I.height==null||I.width==null?w=0:w=g==="vertical"?I.height/2:I.width/2,C.createElement(eve,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:u0e,errorBarOffset:w},C.createElement(c0e,Aa({},t,{layout:g,needClip:p,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function h0e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:E,parentViewBox:S,dataStartIndex:A}=t,w=e==="horizontal"?u:s,I=h?w.scale.domain():null,O=Noe({numericAxis:w}),k=w.scale.map(O);return p.map((B,F)=>{var V,M,D,N,z,j;if(h){var H=h[F+A];if(H==null)return null;V=xoe(H,I)}else V=jt(B,n),Array.isArray(V)||(V=[O,V]);var $=Tve(r,iq)(V[1],F);if(e==="horizontal"){var ye,Se=u.scale.map(V[0]),Q=u.scale.map(V[1]);if(Se==null||Q==null)return null;M=a2({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:B,index:F}),D=(ye=Q??Se)!==null&&ye!==void 0?ye:void 0,N=i.size;var oe=Se-Q;if(z=Fo(oe)?0:oe,j={x:M,y:g.top,width:N,height:g.height},Math.abs($)>0&&Math.abs(z)<Math.abs($)){var he=or(z||$)*(Math.abs($)-Math.abs(z));D-=he,z+=he}}else{var Te=s.scale.map(V[0]),Y=s.scale.map(V[1]);if(Te==null||Y==null)return null;if(M=Te,D=a2({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:B,index:F}),N=Y-Te,z=i.size,j={x:g.left,y:D,width:g.width,height:z},Math.abs($)>0&&Math.abs(N)<Math.abs($)){var L=or(N||$)*(Math.abs($)-Math.abs(N));N+=L}}if(M==null||D==null||N==null||z==null)return null;var J=br(br({},B),{},{stackedBarStart:k,x:M,y:D,width:N,height:z,value:h?V:V[1],payload:B,background:j,tooltipPosition:{x:M+N/2,y:D+z/2},parentViewBox:S},E&&E[F]&&E[F].props);return J}).filter(Boolean)}function p0e(t){var e=sr(t,f0e),n=jve(e.stackId),r=Xr();return C.createElement(Hz,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(age,{legendPayload:e0e(e)}),C.createElement(t0e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),C.createElement(bge,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Go,{zIndex:e.zIndex},C.createElement(d0e,Aa({},e,{id:i})))))}var EC=C.memo(p0e,bC);EC.displayName="Bar";var m0e=["domain","range"],g0e=["domain","range"];function EV(t,e){if(t==null)return{};var n,r,i=y0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function oq(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=EV(t,m0e),{domain:o,range:s}=e,u=EV(e,g0e);return!TV(n,o)||!TV(r,s)?!1:bC(i,u)}var v0e=["type"],_0e=["dangerouslySetInnerHTML","ticks","scale"],b0e=["id","scale"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){E0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0e(t,e,n){return(e=T0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:e+""}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dw(t,e){if(t==null)return{};var n,r,i=w0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A0e(t){var e=Ut(),n=C.useRef(null),r=XF(),{type:i}=t,o=dw(t,v0e),s=jv(r,"xAxis",i),u=C.useMemo(()=>{if(s!=null)return wV(wV({},o),{},{type:s})},[o,s]);return C.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Jge(u)):n.current!==u&&e(Xge({prev:n.current,next:u})),n.current=u)},[u,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Qge(n.current)),n.current=null)},[e]),null}var x0e=t=>{var{xAxisId:e,className:n}=t,r=Le(WA),i=Xr(),o="xAxis",s=Le(I=>$5(I,o,e,i)),u=Le(I=>q5(I,e)),c=Le(I=>Kfe(I,e)),f=Le(I=>S5(I,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=t,E=dw(t,_0e),{id:S,scale:A}=f,w=dw(f,b0e);return C.createElement(_C,fw({},E,w,{x:c.x,y:c.y,width:u.width,height:u.height,className:xt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},C0e={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,angle:Fn.angle,axisLine:jl.axisLine,height:Fn.height,hide:!1,includeHidden:Fn.includeHidden,interval:Fn.interval,label:!1,minTickGap:Fn.minTickGap,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,tickLine:jl.tickLine,tickSize:jl.tickSize,type:Fn.type,xAxisId:0},I0e=t=>{var e=sr(t,C0e);return C.createElement(C.Fragment,null,C.createElement(A0e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(x0e,e))},TC=C.memo(I0e,oq);TC.displayName="XAxis";var P0e=["type"],R0e=["dangerouslySetInnerHTML","ticks","scale"],M0e=["id","scale"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){N0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N0e(t,e,n){return(e=D0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D0e(t){var e=O0e(t,"string");return typeof e=="symbol"?e:e+""}function O0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pw(t,e){if(t==null)return{};var n,r,i=k0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L0e(t){var e=Ut(),n=C.useRef(null),r=XF(),{type:i}=t,o=pw(t,P0e),s=jv(r,"yAxis",i),u=C.useMemo(()=>{if(s!=null)return xV(xV({},o),{},{type:s})},[s,o]);return C.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Zge(u)):n.current!==u&&e(eye({prev:n.current,next:u})),n.current=u)},[u,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(tye(n.current)),n.current=null)},[e]),null}function V0e(t){var{yAxisId:e,className:n,width:r,label:i}=t,o=C.useRef(null),s=C.useRef(null),u=Le(WA),c=Xr(),f=Ut(),h="yAxis",p=Le(V=>j5(V,e)),g=Le(V=>Wfe(V,e)),E=Le(V=>$5(V,h,e,c)),S=Le(V=>w5(V,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!p||fC(i)||C.isValidElement(i)||S==null)){var V=o.current;if(V){var M=V.getCalculatedWidth();Math.round(p.width)!==Math.round(M)&&f(nye({id:e,width:M}))}}},[E,p,f,i,e,r,S]),p==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:w,scale:I}=t,O=pw(t,R0e),{id:k,scale:B}=S,F=pw(S,M0e);return C.createElement(_C,hw({},O,F,{ref:o,labelRef:s,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:xt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:E,axisType:h}))}var U0e={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,angle:zn.angle,axisLine:jl.axisLine,hide:!1,includeHidden:zn.includeHidden,interval:zn.interval,label:!1,minTickGap:zn.minTickGap,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,tickLine:jl.tickLine,tickSize:jl.tickSize,type:zn.type,width:zn.width,yAxisId:0},B0e=t=>{var e=sr(t,U0e);return C.createElement(C.Fragment,null,C.createElement(L0e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(V0e,e))},SC=C.memo(B0e,oq);SC.displayName="YAxis";var F0e=(t,e)=>e,wC=ne([F0e,Et,b5,Kn,uz,Va,che,On],yhe),AC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},aq=wi("mouseClick"),sq=Vh();sq.startListening({actionCreator:aq,effect:(t,e)=>{var n=t.payload,r=wC(e.getState(),AC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(ude({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mw=wi("mouseMove"),lq=Vh(),tg=null;lq.startListening({actionCreator:mw,effect:(t,e)=>{var n=t.payload;tg!==null&&cancelAnimationFrame(tg);var r=AC(n);tg=requestAnimationFrame(()=>{var i=e.getState(),o=eC(i,i.tooltip.settings.shared);if(o==="axis"){var s=wC(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(ez({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Z5())}tg=null})}});function z0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var CV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uq=Vr({name:"rootProps",initialState:CV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:CV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),q0e=uq.reducer,{updateOptions:j0e}=uq.actions,H0e=null,G0e={updatePolarOptions:(t,e)=>e.payload},cq=Vr({name:"polarOptions",initialState:H0e,reducers:G0e}),{updatePolarOptions:$0e}=cq.actions,K0e=cq.reducer,fq=wi("keyDown"),dq=wi("focus"),xC=Vh();xC.startListening({actionCreator:fq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=tC(i,cf(n),Yh(n),Jh(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Va(n);if(o==="Enter"){var f=Py(n,"axis","hover",String(i.index));e.dispatch(ow({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=Zfe(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,E=u+g*p;if(!(c==null||E>=c.length||E<0)){var S=Py(n,"axis","hover",String(E));e.dispatch(ow({active:!0,activeIndex:E.toString(),activeCoordinate:S}))}}}}}});xC.startListening({actionCreator:dq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Py(n,"axis","hover",String(o));e.dispatch(ow({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var pi=wi("externalEvent"),hq=Vh(),TT=new Map;hq.startListening({actionCreator:pi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=TT.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:Wde(u),activeDataKey:aC(u),activeIndex:Zl(u),activeLabel:dz(u),activeTooltipIndex:Zl(u),isTooltipActive:Jde(u)};n(c,r)}finally{TT.delete(i)}});TT.set(i,s)}}});var Y0e=ne([lf],t=>t.tooltipItemPayloads),W0e=ne([Y0e,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),pq=wi("touchMove"),mq=Vh();mq.startListening({actionCreator:pq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=eC(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=wC(r,AC({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(ez({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(HF),p=(u=f.getAttribute(GF))!==null&&u!==void 0?u:void 0,g=uf(r).find(A=>A.id===p);if(h==null||g==null||p==null)return;var{dataKey:E}=g,S=W0e(r,h,p);e.dispatch(Q5({activeDataKey:E,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:p}))}}}});var J0e=pF({brush:mye,cartesianAxis:rye,chartData:Yhe,errorBars:Yye,graphicalItems:vge,layout:Eoe,legend:Pae,options:jhe,polarAxis:Mme,polarOptions:K0e,referenceElements:_ye,rootProps:q0e,tooltip:cde,zIndex:Mhe}),X0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $ie({reducer:J0e,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([sq.middleware,lq.middleware,xC.middleware,hq.middleware,mq.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(PF({type:"raf"}))},devTools:{serialize:{replacer:z0e},name:"recharts-".concat(n)}})};function gq(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Xr(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=X0e(e,r));var s=qA;return C.createElement(yve,{context:s,store:o.current},n)}function Q0e(t){var{layout:e,margin:n}=t,r=Ut(),i=Xr();return C.useEffect(()=>{i||(r(voe(e)),r(yoe(n)))},[r,i,e,n]),null}var yq=C.memo(Q0e,bC);function vq(t){var e=Ut();return C.useEffect(()=>{e(j0e(t))},[e,t]),null}function IV(t){var{zIndex:e,isPanorama:n}=t,r=C.useRef(null),i=Ut();return C.useLayoutEffect(()=>(r.current&&i(Phe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Rhe({zIndex:e,isPanorama:n}))}),[i,e,n]),C.createElement("g",{tabIndex:-1,ref:r})}function PV(t){var{children:e,isPanorama:n}=t,r=Le(_he);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return C.createElement(C.Fragment,null,i.map(s=>C.createElement(IV,{key:s,zIndex:s,isPanorama:n})),e,o.map(s=>C.createElement(IV,{key:s,zIndex:s,isPanorama:n})))}var Z0e=["children"];function e_e(t,e){if(t==null)return{};var n,r,i=t_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(null,arguments)}var n_e={width:"100%",height:"100%",display:"block"},r_e=C.forwardRef((t,e)=>{var n=WF(),r=JF(),i=c6();if(!ks(n)||!ks(r))return null;var{children:o,otherAttributes:s,title:u,desc:c}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),C.createElement(MA,Ly({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:n_e,ref:e}),o)}),i_e=t=>{var{children:e}=t,n=Le(Cv);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return C.createElement(MA,{width:r,height:i,x:s,y:o},e)},RV=C.forwardRef((t,e)=>{var{children:n}=t,r=e_e(t,Z0e),i=Xr();return i?C.createElement(i_e,null,C.createElement(PV,{isPanorama:!0},n)):C.createElement(r_e,Ly({ref:e},r),C.createElement(PV,{isPanorama:!1},n))});function o_e(){var t=Ut(),[e,n]=C.useState(null),r=Le(Uoe);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;vt(o)&&o!==r&&t(boe(o))}},[e,t,r]),n}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return(e=l_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_e(t){var e=u_e(t,"string");return typeof e=="symbol"?e:e+""}function u_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}var c_e=()=>(rpe(),null);function Vy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var f_e=C.forwardRef((t,e)=>{var n,r,i=C.useRef(null),[o,s]=C.useState({containerWidth:Vy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Vy((r=t.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,h)=>{s(p=>{var g=Math.round(f),E=Math.round(h);return p.containerWidth===g&&p.containerHeight===E?p:{containerWidth:g,containerHeight:E}})},[]),c=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=S=>{var A=S[0];if(A!=null){var{width:w,height:I}=A.contentRect;u(w,I)}},E=new ResizeObserver(g);E.observe(f),i.current=E}},[e,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(Bh,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",Cs({ref:c},t)))}),d_e=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=C.useState({containerWidth:Vy(n),containerHeight:Vy(r)}),s=C.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=C.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[e,s]);return C.createElement(C.Fragment,null,C.createElement(Bh,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Cs({ref:u},t)))}),h_e=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(Bh,{width:n,height:r}),C.createElement("div",Cs({ref:e},t)))}),p_e=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?C.createElement(d_e,Cs({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?C.createElement(h_e,Cs({},t,{width:n,height:r,ref:e})):C.createElement(C.Fragment,null,C.createElement(Bh,{width:n,height:r}),C.createElement("div",Cs({ref:e},t)))});function m_e(t){return t?f_e:p_e}var g_e=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:E,onTouchMove:S,onTouchStart:A,style:w,width:I,responsive:O,dispatchTouchEvents:k=!0}=t,B=C.useRef(null),F=Ut(),[V,M]=C.useState(null),[D,N]=C.useState(null),z=o_e(),j=JA(),H=(j==null?void 0:j.width)>0?j.width:I,$=(j==null?void 0:j.height)>0?j.height:i,ye=C.useCallback(ie=>{z(ie),typeof e=="function"&&e(ie),M(ie),N(ie),ie!=null&&(B.current=ie)},[z,e,M,N]),Se=C.useCallback(ie=>{F(aq(ie)),F(pi({handler:o,reactEvent:ie}))},[F,o]),Q=C.useCallback(ie=>{F(mw(ie)),F(pi({handler:f,reactEvent:ie}))},[F,f]),oe=C.useCallback(ie=>{F(Z5()),F(pi({handler:h,reactEvent:ie}))},[F,h]),he=C.useCallback(ie=>{F(mw(ie)),F(pi({handler:p,reactEvent:ie}))},[F,p]),Te=C.useCallback(()=>{F(dq())},[F]),Y=C.useCallback(ie=>{F(fq(ie.key))},[F]),L=C.useCallback(ie=>{F(pi({handler:s,reactEvent:ie}))},[F,s]),J=C.useCallback(ie=>{F(pi({handler:u,reactEvent:ie}))},[F,u]),le=C.useCallback(ie=>{F(pi({handler:c,reactEvent:ie}))},[F,c]),ce=C.useCallback(ie=>{F(pi({handler:g,reactEvent:ie}))},[F,g]),_e=C.useCallback(ie=>{F(pi({handler:A,reactEvent:ie}))},[F,A]),be=C.useCallback(ie=>{k&&F(pq(ie)),F(pi({handler:S,reactEvent:ie}))},[F,k,S]),ve=C.useCallback(ie=>{F(pi({handler:E,reactEvent:ie}))},[F,E]),Oe=m_e(O);return C.createElement(_z.Provider,{value:V},C.createElement(NB.Provider,{value:D},C.createElement(Oe,{width:H??(w==null?void 0:w.width),height:$??(w==null?void 0:w.height),className:xt("recharts-wrapper",r),style:a_e({position:"relative",cursor:"default",width:H,height:$},w),onClick:Se,onContextMenu:L,onDoubleClick:J,onFocus:Te,onKeyDown:Y,onMouseDown:le,onMouseEnter:Q,onMouseLeave:oe,onMouseMove:he,onMouseUp:ce,onTouchEnd:ve,onTouchMove:be,onTouchStart:_e,ref:ye},C.createElement(c_e,null),n)))}),y_e=["width","height","responsive","children","className","style","compact","title","desc"];function v_e(t,e){if(t==null)return{};var n,r,i=__e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _q=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:u,compact:c,title:f,desc:h}=t,p=v_e(t,y_e),g=Bo(p);return c?C.createElement(C.Fragment,null,C.createElement(Bh,{width:n,height:r}),C.createElement(RV,{otherAttributes:g,title:f,desc:h},o)):C.createElement(g_e,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(RV,{otherAttributes:g,title:f,desc:h,ref:e},C.createElement(Eye,null,o)))});function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(null,arguments)}var b_e={top:5,right:5,bottom:5,left:5},E_e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:b_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},T_e=C.forwardRef(function(e,n){var r,i=sr(e.categoricalChartProps,E_e),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return C.createElement(gq,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement(Wz,{chartData:f.data}),C.createElement(yq,{layout:i.layout,margin:i.margin}),C.createElement(vq,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(_q,gw({},i,{ref:n})))}),S_e=["axis","item"],bq=C.forwardRef((t,e)=>C.createElement(T_e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S_e,tooltipPayloadSearcher:bz,categoricalChartProps:t,ref:e}));function w_e(t){var e=Ut();return C.useEffect(()=>{e($0e(t))},[e,t]),null}var A_e=["layout"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function x_e(t,e){if(t==null)return{};var n,r,i=C_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I_e={top:5,right:5,bottom:5,left:5},Eq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:I_e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},P_e=C.forwardRef(function(e,n){var r,i=sr(e.categoricalChartProps,Eq),{layout:o}=i,s=x_e(i,A_e),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(gq,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},C.createElement(Wz,{chartData:i.data}),C.createElement(yq,{layout:o,margin:i.margin}),C.createElement(vq,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(w_e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(_q,yw({},s,{ref:n})))});function NV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(n),!0).forEach(function(r){R_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_e(t,e,n){return(e=M_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M_e(t){var e=N_e(t,"string");return typeof e=="symbol"?e:e+""}function N_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D_e=["item"],O_e=DV(DV({},Eq),{},{layout:"centric",startAngle:0,endAngle:360}),Tq=C.forwardRef((t,e)=>{var n=sr(t,O_e);return C.createElement(P_e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:D_e,tooltipPayloadSearcher:bz,categoricalChartProps:n,ref:e})});const k_e=({onStart:t,onClose:e})=>{const[n,r]=C.useState(""),[i,o]=C.useState(""),[s,u]=C.useState(""),c=()=>{if(!n.trim()||!i.trim()){u("Please fill in all fields");return}t(n,i)};return U.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/40 backdrop-blur-md",children:[U.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-blue-900 via-indigo-900 to-purple-900 opacity-95"}),U.jsxs(Os.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 border border-white/20 mx-4 md:mx-0 max-h-[90vh] flex flex-col",children:[U.jsx("button",{onClick:e,className:"absolute top-3 right-3 md:top-4 md:right-4 text-slate-400 hover:text-slate-600 z-10 p-2",children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),U.jsxs("div",{className:"p-6 md:p-8 flex flex-col items-center text-center overflow-y-auto",children:[U.jsx("h2",{className:"text-xs md:text-sm font-bold text-indigo-600 mb-2 uppercase tracking-wide",children:"NEW WAYS TO LEARN"}),U.jsx("h3",{className:"text-xl md:text-2xl font-extrabold text-slate-800 mb-4 md:mb-6 uppercase tracking-wide leading-tight",children:"LEARNING EVOLUTION QUEST"}),U.jsx("p",{className:"text-slate-500 mb-6 md:mb-8 text-sm md:text-base",children:"Enter your details to start the quest!"}),U.jsxs("div",{className:"w-full space-y-4 text-left",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"playerName",className:"block text-xs font-bold text-slate-700 uppercase mb-2 ml-1",children:"Full Name"}),U.jsx("input",{id:"playerName",type:"text",value:n,onChange:f=>{r(f.target.value),u("")},placeholder:"Enter your full name",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm md:text-base"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"playerClass",className:"block text-xs font-bold text-slate-700 uppercase mb-2 ml-1",children:"Class"}),U.jsx("input",{id:"playerClass",type:"text",value:i,onChange:f=>{o(f.target.value),u("")},placeholder:"Enter your class",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-sm md:text-base"})]}),s&&U.jsx("p",{className:"text-red-500 text-sm text-center font-medium bg-red-50 p-2 rounded-lg",children:s}),U.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transform active:scale-95 transition-all mt-4 text-base md:text-lg tracking-wide uppercase",children:"START"})]})]})]})]})},L_e=()=>{};var OV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V_e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,E=f&63;c||(E=64,s||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V_e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new U_e;const g=o<<2|u>>4;if(r.push(g),f!==64){const E=u<<4&240|f>>2;if(r.push(E),p!==64){const S=f<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B_e=function(t){const e=Sq(t);return wq.encodeByteArray(e,!0)},Uy=function(t){return B_e(t).replace(/\./g,"")},F_e=function(t){try{return wq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_e=()=>z_e().__FIREBASE_DEFAULTS__,j_e=()=>{if(typeof process>"u"||typeof OV>"u")return;const t=OV.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H_e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F_e(t[1]);return e&&JSON.parse(e)},CC=()=>{try{return L_e()||q_e()||j_e()||H_e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G_e=t=>{var e,n;return(n=(e=CC())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$_e=t=>{const e=G_e(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Aq=()=>{var t;return(t=CC())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y_e(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uy(JSON.stringify(n)),Uy(JSON.stringify(s)),""].join(".")}const $d={};function J_e(){const t={prod:[],emulator:[]};for(const e of Object.keys($d))$d[e]?t.emulator.push(e):t.prod.push(e);return t}function X_e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kV=!1;function Q_e(t,e){if(typeof window>"u"||typeof document>"u"||!IC(window.location.host)||$d[t]===e||$d[t]||kV)return;$d[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=J_e().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{kV=!0,s()},g}function h(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=X_e(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),w=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),O=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;u(k),h(w,A);const B=f();c(O,I),k.append(O,S,w,B),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ebe(){var e;const t=(e=CC())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tbe(){return!ebe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nbe(){try{return typeof indexedDB=="object"}catch{return!1}}function rbe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ibe="FirebaseError";class ff extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ibe,Object.setPrototypeOf(this,ff.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xq.prototype.create)}}class xq{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?obe(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ff(i,u,r)}}function obe(t,e){return t.replace(abe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const abe=/\{\$([^}]+)}/g;function By(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(LV(o)&&LV(s)){if(!By(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LV(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return t&&t._delegate?t._delegate:t}class bh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K_e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ube(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lbe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lbe(t){return t===Nl?void 0:t}function ube(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sbe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const fbe={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},dbe=ut.INFO,hbe={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},pbe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hbe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cq{constructor(e){this.name=e,this._logLevel=dbe,this._logHandler=pbe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fbe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const mbe=(t,e)=>e.some(n=>t instanceof n);let VV,UV;function gbe(){return VV||(VV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ybe(){return UV||(UV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iq=new WeakMap,vw=new WeakMap,Pq=new WeakMap,ST=new WeakMap,PC=new WeakMap;function vbe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Is(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Iq.set(n,t)}).catch(()=>{}),PC.set(e,t),e}function _be(t){if(vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vw.set(t,e)}let _w={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bbe(t){_w=t(_w)}function Ebe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wT(this),e,...n);return Pq.set(r,e.sort?e.sort():[e]),Is(r)}:ybe().includes(t)?function(...e){return t.apply(wT(this),e),Is(Iq.get(this))}:function(...e){return Is(t.apply(wT(this),e))}}function Tbe(t){return typeof t=="function"?Ebe(t):(t instanceof IDBTransaction&&_be(t),mbe(t,gbe())?new Proxy(t,_w):t)}function Is(t){if(t instanceof IDBRequest)return vbe(t);if(ST.has(t))return ST.get(t);const e=Tbe(t);return e!==t&&(ST.set(t,e),PC.set(e,t)),e}const wT=t=>PC.get(t);function Sbe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=Is(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Is(s.result),c.oldVersion,c.newVersion,Is(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const wbe=["get","getKey","getAll","getAllKeys","count"],Abe=["put","add","delete","clear"],AT=new Map;function BV(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(AT.get(e))return AT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Abe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wbe.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return AT.set(e,o),o}bbe(t=>({...t,get:(e,n,r)=>BV(e,n)||t.get(e,n,r),has:(e,n)=>!!BV(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cbe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cbe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bw="@firebase/app",FV="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Cq("@firebase/app"),Ibe="@firebase/app-compat",Pbe="@firebase/analytics-compat",Rbe="@firebase/analytics",Mbe="@firebase/app-check-compat",Nbe="@firebase/app-check",Dbe="@firebase/auth",Obe="@firebase/auth-compat",kbe="@firebase/database",Lbe="@firebase/data-connect",Vbe="@firebase/database-compat",Ube="@firebase/functions",Bbe="@firebase/functions-compat",Fbe="@firebase/installations",zbe="@firebase/installations-compat",qbe="@firebase/messaging",jbe="@firebase/messaging-compat",Hbe="@firebase/performance",Gbe="@firebase/performance-compat",$be="@firebase/remote-config",Kbe="@firebase/remote-config-compat",Ybe="@firebase/storage",Wbe="@firebase/storage-compat",Jbe="@firebase/firestore",Xbe="@firebase/ai",Qbe="@firebase/firestore-compat",Zbe="firebase",eEe="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="[DEFAULT]",tEe={[bw]:"fire-core",[Ibe]:"fire-core-compat",[Rbe]:"fire-analytics",[Pbe]:"fire-analytics-compat",[Nbe]:"fire-app-check",[Mbe]:"fire-app-check-compat",[Dbe]:"fire-auth",[Obe]:"fire-auth-compat",[kbe]:"fire-rtdb",[Lbe]:"fire-data-connect",[Vbe]:"fire-rtdb-compat",[Ube]:"fire-fn",[Bbe]:"fire-fn-compat",[Fbe]:"fire-iid",[zbe]:"fire-iid-compat",[qbe]:"fire-fcm",[jbe]:"fire-fcm-compat",[Hbe]:"fire-perf",[Gbe]:"fire-perf-compat",[$be]:"fire-rc",[Kbe]:"fire-rc-compat",[Ybe]:"fire-gcs",[Wbe]:"fire-gcs-compat",[Jbe]:"fire-fst",[Qbe]:"fire-fst-compat",[Xbe]:"fire-vertex","fire-js":"fire-js",[Zbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map,nEe=new Map,Tw=new Map;function zV(t,e){try{t.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zy(t){const e=t.name;if(Tw.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;Tw.set(e,t);for(const n of Fy.values())zV(n,t);for(const n of nEe.values())zV(n,t);return!0}function rEe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iEe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oEe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new xq("app","Firebase",oEe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aEe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sEe=eEe;function Rq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ew,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=Aq()),!n)throw Ps.create("no-options");const o=Fy.get(i);if(o){if(By(n,o.options)&&By(r,o.config))return o;throw Ps.create("duplicate-app",{appName:i})}const s=new cbe(i);for(const c of Tw.values())s.addComponent(c);const u=new aEe(n,r,s);return Fy.set(i,u),u}function lEe(t=Ew){const e=Fy.get(t);if(!e&&t===Ew&&Aq())return Rq();if(!e)throw Ps.create("no-app",{appName:t});return e}function Cc(t,e,n){let r=tEe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(s.join(" "));return}zy(new bh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uEe="firebase-heartbeat-database",cEe=1,Eh="firebase-heartbeat-store";let xT=null;function Mq(){return xT||(xT=Sbe(uEe,cEe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),xT}async function fEe(t){try{const n=(await Mq()).transaction(Eh),r=await n.objectStore(Eh).get(Nq(t));return await n.done,r}catch(e){if(e instanceof ff)xa.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xa.warn(n.message)}}}async function qV(t,e){try{const r=(await Mq()).transaction(Eh,"readwrite");await r.objectStore(Eh).put(e,Nq(t)),await r.done}catch(n){if(n instanceof ff)xa.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xa.warn(r.message)}}}function Nq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dEe=1024,hEe=30;class pEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jV();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>hEe){const s=yEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jV(),{heartbeatsToSend:r,unsentEntries:i}=mEe(this._heartbeatsCache.heartbeats),o=Uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xa.warn(n),""}}}function jV(){return new Date().toISOString().substring(0,10)}function mEe(t,e=dEe){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nbe()?rbe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fEe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function HV(t){return Uy(JSON.stringify({version:2,heartbeats:t})).length}function yEe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vEe(t){zy(new bh("platform-logger",e=>new xbe(e),"PRIVATE")),zy(new bh("heartbeat",e=>new pEe(e),"PRIVATE")),Cc(bw,FV,t),Cc(bw,FV,"esm2020"),Cc("fire-js","")}vEe("");var _Ee="firebase",bEe="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc(_Ee,bEe,"app");var GV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,Dq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function N(){}N.prototype=D.prototype,M.F=D.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(z,j,H){for(var $=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)$[ye-2]=arguments[ye];return D.prototype[j].apply(z,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,D,N){N||(N=0);const z=Array(16);if(typeof D=="string")for(var j=0;j<16;++j)z[j]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(j=0;j<16;++j)z[j]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=M.g[0],N=M.g[1],j=M.g[2];let H=M.g[3],$;$=D+(H^N&(j^H))+z[0]+3614090360&4294967295,D=N+($<<7&4294967295|$>>>25),$=H+(j^D&(N^j))+z[1]+3905402710&4294967295,H=D+($<<12&4294967295|$>>>20),$=j+(N^H&(D^N))+z[2]+606105819&4294967295,j=H+($<<17&4294967295|$>>>15),$=N+(D^j&(H^D))+z[3]+3250441966&4294967295,N=j+($<<22&4294967295|$>>>10),$=D+(H^N&(j^H))+z[4]+4118548399&4294967295,D=N+($<<7&4294967295|$>>>25),$=H+(j^D&(N^j))+z[5]+1200080426&4294967295,H=D+($<<12&4294967295|$>>>20),$=j+(N^H&(D^N))+z[6]+2821735955&4294967295,j=H+($<<17&4294967295|$>>>15),$=N+(D^j&(H^D))+z[7]+4249261313&4294967295,N=j+($<<22&4294967295|$>>>10),$=D+(H^N&(j^H))+z[8]+1770035416&4294967295,D=N+($<<7&4294967295|$>>>25),$=H+(j^D&(N^j))+z[9]+2336552879&4294967295,H=D+($<<12&4294967295|$>>>20),$=j+(N^H&(D^N))+z[10]+4294925233&4294967295,j=H+($<<17&4294967295|$>>>15),$=N+(D^j&(H^D))+z[11]+2304563134&4294967295,N=j+($<<22&4294967295|$>>>10),$=D+(H^N&(j^H))+z[12]+1804603682&4294967295,D=N+($<<7&4294967295|$>>>25),$=H+(j^D&(N^j))+z[13]+4254626195&4294967295,H=D+($<<12&4294967295|$>>>20),$=j+(N^H&(D^N))+z[14]+2792965006&4294967295,j=H+($<<17&4294967295|$>>>15),$=N+(D^j&(H^D))+z[15]+1236535329&4294967295,N=j+($<<22&4294967295|$>>>10),$=D+(j^H&(N^j))+z[1]+4129170786&4294967295,D=N+($<<5&4294967295|$>>>27),$=H+(N^j&(D^N))+z[6]+3225465664&4294967295,H=D+($<<9&4294967295|$>>>23),$=j+(D^N&(H^D))+z[11]+643717713&4294967295,j=H+($<<14&4294967295|$>>>18),$=N+(H^D&(j^H))+z[0]+3921069994&4294967295,N=j+($<<20&4294967295|$>>>12),$=D+(j^H&(N^j))+z[5]+3593408605&4294967295,D=N+($<<5&4294967295|$>>>27),$=H+(N^j&(D^N))+z[10]+38016083&4294967295,H=D+($<<9&4294967295|$>>>23),$=j+(D^N&(H^D))+z[15]+3634488961&4294967295,j=H+($<<14&4294967295|$>>>18),$=N+(H^D&(j^H))+z[4]+3889429448&4294967295,N=j+($<<20&4294967295|$>>>12),$=D+(j^H&(N^j))+z[9]+568446438&4294967295,D=N+($<<5&4294967295|$>>>27),$=H+(N^j&(D^N))+z[14]+3275163606&4294967295,H=D+($<<9&4294967295|$>>>23),$=j+(D^N&(H^D))+z[3]+4107603335&4294967295,j=H+($<<14&4294967295|$>>>18),$=N+(H^D&(j^H))+z[8]+1163531501&4294967295,N=j+($<<20&4294967295|$>>>12),$=D+(j^H&(N^j))+z[13]+2850285829&4294967295,D=N+($<<5&4294967295|$>>>27),$=H+(N^j&(D^N))+z[2]+4243563512&4294967295,H=D+($<<9&4294967295|$>>>23),$=j+(D^N&(H^D))+z[7]+1735328473&4294967295,j=H+($<<14&4294967295|$>>>18),$=N+(H^D&(j^H))+z[12]+2368359562&4294967295,N=j+($<<20&4294967295|$>>>12),$=D+(N^j^H)+z[5]+4294588738&4294967295,D=N+($<<4&4294967295|$>>>28),$=H+(D^N^j)+z[8]+2272392833&4294967295,H=D+($<<11&4294967295|$>>>21),$=j+(H^D^N)+z[11]+1839030562&4294967295,j=H+($<<16&4294967295|$>>>16),$=N+(j^H^D)+z[14]+4259657740&4294967295,N=j+($<<23&4294967295|$>>>9),$=D+(N^j^H)+z[1]+2763975236&4294967295,D=N+($<<4&4294967295|$>>>28),$=H+(D^N^j)+z[4]+1272893353&4294967295,H=D+($<<11&4294967295|$>>>21),$=j+(H^D^N)+z[7]+4139469664&4294967295,j=H+($<<16&4294967295|$>>>16),$=N+(j^H^D)+z[10]+3200236656&4294967295,N=j+($<<23&4294967295|$>>>9),$=D+(N^j^H)+z[13]+681279174&4294967295,D=N+($<<4&4294967295|$>>>28),$=H+(D^N^j)+z[0]+3936430074&4294967295,H=D+($<<11&4294967295|$>>>21),$=j+(H^D^N)+z[3]+3572445317&4294967295,j=H+($<<16&4294967295|$>>>16),$=N+(j^H^D)+z[6]+76029189&4294967295,N=j+($<<23&4294967295|$>>>9),$=D+(N^j^H)+z[9]+3654602809&4294967295,D=N+($<<4&4294967295|$>>>28),$=H+(D^N^j)+z[12]+3873151461&4294967295,H=D+($<<11&4294967295|$>>>21),$=j+(H^D^N)+z[15]+530742520&4294967295,j=H+($<<16&4294967295|$>>>16),$=N+(j^H^D)+z[2]+3299628645&4294967295,N=j+($<<23&4294967295|$>>>9),$=D+(j^(N|~H))+z[0]+4096336452&4294967295,D=N+($<<6&4294967295|$>>>26),$=H+(N^(D|~j))+z[7]+1126891415&4294967295,H=D+($<<10&4294967295|$>>>22),$=j+(D^(H|~N))+z[14]+2878612391&4294967295,j=H+($<<15&4294967295|$>>>17),$=N+(H^(j|~D))+z[5]+4237533241&4294967295,N=j+($<<21&4294967295|$>>>11),$=D+(j^(N|~H))+z[12]+1700485571&4294967295,D=N+($<<6&4294967295|$>>>26),$=H+(N^(D|~j))+z[3]+2399980690&4294967295,H=D+($<<10&4294967295|$>>>22),$=j+(D^(H|~N))+z[10]+4293915773&4294967295,j=H+($<<15&4294967295|$>>>17),$=N+(H^(j|~D))+z[1]+2240044497&4294967295,N=j+($<<21&4294967295|$>>>11),$=D+(j^(N|~H))+z[8]+1873313359&4294967295,D=N+($<<6&4294967295|$>>>26),$=H+(N^(D|~j))+z[15]+4264355552&4294967295,H=D+($<<10&4294967295|$>>>22),$=j+(D^(H|~N))+z[6]+2734768916&4294967295,j=H+($<<15&4294967295|$>>>17),$=N+(H^(j|~D))+z[13]+1309151649&4294967295,N=j+($<<21&4294967295|$>>>11),$=D+(j^(N|~H))+z[4]+4149444226&4294967295,D=N+($<<6&4294967295|$>>>26),$=H+(N^(D|~j))+z[11]+3174756917&4294967295,H=D+($<<10&4294967295|$>>>22),$=j+(D^(H|~N))+z[2]+718787259&4294967295,j=H+($<<15&4294967295|$>>>17),$=N+(H^(j|~D))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(j+($<<21&4294967295|$>>>11))&4294967295,M.g[2]=M.g[2]+j&4294967295,M.g[3]=M.g[3]+H&4294967295}r.prototype.v=function(M,D){D===void 0&&(D=M.length);const N=D-this.blockSize,z=this.C;let j=this.h,H=0;for(;H<D;){if(j==0)for(;H<=N;)i(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<D;)if(z[j++]=M.charCodeAt(H++),j==this.blockSize){i(this,z),j=0;break}}else for(;H<D;)if(z[j++]=M[H++],j==this.blockSize){i(this,z),j=0;break}}this.h=j,this.o+=D},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,N=0;N<4;++N)for(let z=0;z<32;z+=8)M[D++]=this.g[N]>>>z&255;return M};function o(M,D){var N=u;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=D(M)}function s(M,D){this.h=D;const N=[];let z=!0;for(let j=M.length-1;j>=0;j--){const H=M[j]|0;z&&H==D||(N[j]=H,z=!1)}this.g=N}var u={};function c(M){return-128<=M&&M<128?o(M,function(D){return new s([D|0],D<0?-1:0)}):new s([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return p;if(M<0)return w(f(-M));const D=[];let N=1;for(let z=0;M>=N;z++)D[z]=M/N|0,N*=4294967296;return new s(D,0)}function h(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return w(h(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(D,8));let z=p;for(let H=0;H<M.length;H+=8){var j=Math.min(8,M.length-H);const $=parseInt(M.substring(H,H+j),D);j<8?(j=f(Math.pow(D,j)),z=z.j(j).add(f($))):(z=z.j(N),z=z.add(f($)))}return z}var p=c(0),g=c(1),E=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-w(this).m();let M=0,D=1;for(let N=0;N<this.g.length;N++){const z=this.i(N);M+=(z>=0?z:4294967296+z)*D,D*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(A(this))return"-"+w(this).toString(M);const D=f(Math.pow(M,6));var N=this;let z="";for(;;){const j=B(N,D).g;N=I(N,j.j(D));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=j,S(N))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function A(M){return M.h==-1}t.l=function(M){return M=I(this,M),A(M)?-1:S(M)?0:1};function w(M){const D=M.g.length,N=[];for(let z=0;z<D;z++)N[z]=~M.g[z];return new s(N,~M.h).add(g)}t.abs=function(){return A(this)?w(this):this},t.add=function(M){const D=Math.max(this.g.length,M.g.length),N=[];let z=0;for(let j=0;j<=D;j++){let H=z+(this.i(j)&65535)+(M.i(j)&65535),$=(H>>>16)+(this.i(j)>>>16)+(M.i(j)>>>16);z=$>>>16,H&=65535,$&=65535,N[j]=$<<16|H}return new s(N,N[N.length-1]&-2147483648?-1:0)};function I(M,D){return M.add(w(D))}t.j=function(M){if(S(this)||S(M))return p;if(A(this))return A(M)?w(this).j(w(M)):w(w(this).j(M));if(A(M))return w(this.j(w(M)));if(this.l(E)<0&&M.l(E)<0)return f(this.m()*M.m());const D=this.g.length+M.g.length,N=[];for(var z=0;z<2*D;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(let j=0;j<M.g.length;j++){const H=this.i(z)>>>16,$=this.i(z)&65535,ye=M.i(j)>>>16,Se=M.i(j)&65535;N[2*z+2*j]+=$*Se,O(N,2*z+2*j),N[2*z+2*j+1]+=H*Se,O(N,2*z+2*j+1),N[2*z+2*j+1]+=$*ye,O(N,2*z+2*j+1),N[2*z+2*j+2]+=H*ye,O(N,2*z+2*j+2)}for(M=0;M<D;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=D;M<2*D;M++)N[M]=0;return new s(N,0)};function O(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function k(M,D){this.g=M,this.h=D}function B(M,D){if(S(D))throw Error("division by zero");if(S(M))return new k(p,p);if(A(M))return D=B(w(M),D),new k(w(D.g),w(D.h));if(A(D))return D=B(M,w(D)),new k(w(D.g),D.h);if(M.g.length>30){if(A(M)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var N=g,z=D;z.l(M)<=0;)N=F(N),z=F(z);var j=V(N,1),H=V(z,1);for(z=V(z,2),N=V(N,2);!S(z);){var $=H.add(z);$.l(M)<=0&&(j=j.add(N),H=$),z=V(z,1),N=V(N,1)}return D=I(M,j.j(D)),new k(j,D)}for(j=p;M.l(D)>=0;){for(N=Math.max(1,Math.floor(M.m()/D.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(N),$=H.j(D);A($)||$.l(M)>0;)N-=z,H=f(N),$=H.j(D);S(H)&&(H=g),j=j.add(H),M=I(M,$)}return new k(j,M)}t.B=function(M){return B(this,M).h},t.and=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let z=0;z<D;z++)N[z]=this.i(z)&M.i(z);return new s(N,this.h&M.h)},t.or=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let z=0;z<D;z++)N[z]=this.i(z)|M.i(z);return new s(N,this.h|M.h)},t.xor=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let z=0;z<D;z++)N[z]=this.i(z)^M.i(z);return new s(N,this.h^M.h)};function F(M){const D=M.g.length+1,N=[];for(let z=0;z<D;z++)N[z]=M.i(z)<<1|M.i(z-1)>>>31;return new s(N,M.h)}function V(M,D){const N=D>>5;D%=32;const z=M.g.length-N,j=[];for(let H=0;H<z;H++)j[H]=D>0?M.i(H+N)>>>D|M.i(H+N+1)<<32-D:M.i(H+N);return new s(j,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Dq=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Rs=s}).apply(typeof GV<"u"?GV:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oq,Ld,kq,Tg,Sw,Lq,Vq,Uq;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var x=0;x<_.length;++x){var R=_[x];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(_,x){if(x)e:{var R=r;_=_.split(".");for(var G=0;G<_.length-1;G++){var Z=_[G];if(!(Z in R))break e;R=R[Z]}_=_[_.length-1],G=R[_],x=x(G),x!=G&&x!=null&&e(R,_,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(x){var R=[],G;for(G in x)Object.prototype.hasOwnProperty.call(x,G)&&R.push([G,x[G]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(_){var x=typeof _;return x=="object"&&_!=null||x=="function"}function c(_,x,R){return _.call.apply(_.bind,arguments)}function f(_,x,R){return f=c,f.apply(null,arguments)}function h(_,x){var R=Array.prototype.slice.call(arguments,1);return function(){var G=R.slice();return G.push.apply(G,arguments),_.apply(this,G)}}function p(_,x){function R(){}R.prototype=x.prototype,_.Z=x.prototype,_.prototype=new R,_.prototype.constructor=_,_.Ob=function(G,Z,ae){for(var Ee=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Ee[Ye-2]=arguments[Ye];return x.prototype[Z].apply(G,Ee)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function E(_){const x=_.length;if(x>0){const R=Array(x);for(let G=0;G<x;G++)R[G]=_[G];return R}return[]}function S(_,x){for(let G=1;G<arguments.length;G++){const Z=arguments[G];var R=typeof Z;if(R=R!="object"?R:Z?Array.isArray(Z)?"array":R:"null",R=="array"||R=="object"&&typeof Z.length=="number"){R=_.length||0;const ae=Z.length||0;_.length=R+ae;for(let Ee=0;Ee<ae;Ee++)_[R+Ee]=Z[Ee]}else _.push(Z)}}class A{constructor(x,R){this.i=x,this.j=R,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(_){s.setTimeout(()=>{throw _},0)}function I(){var _=M;let x=null;return _.g&&(x=_.g,_.g=_.g.next,_.g||(_.h=null),x.next=null),x}class O{constructor(){this.h=this.g=null}add(x,R){const G=k.get();G.set(x,R),this.h?this.h.next=G:this.g=G,this.h=G}}var k=new A(()=>new B,_=>_.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,R){this.h=x,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let F,V=!1,M=new O,D=()=>{const _=Promise.resolve(void 0);F=()=>{_.then(N)}};function N(){for(var _;_=I();){try{_.h.call(_.g)}catch(R){w(R)}var x=k;x.j(_),x.h<100&&(x.h++,_.next=x.g,x.g=_)}V=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(_,x){this.type=_,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,x=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const R=()=>{};s.addEventListener("test",R,x),s.removeEventListener("test",R,x)}catch{}return _})();function $(_){return/^[\s\xa0]*$/.test(_)}function ye(_,x){j.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,x)}p(ye,j),ye.prototype.init=function(_,x){const R=this.type=_.type,G=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=x,x=_.relatedTarget,x||(R=="mouseover"?x=_.fromElement:R=="mouseout"&&(x=_.toElement)),this.relatedTarget=x,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(_,x,R,G,Z){this.listener=_,this.proxy=null,this.src=x,this.type=R,this.capture=!!G,this.ha=Z,this.key=++Q,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Te(_,x,R){for(const G in _)x.call(R,_[G],G,_)}function Y(_,x){for(const R in _)x.call(void 0,_[R],R,_)}function L(_){const x={};for(const R in _)x[R]=_[R];return x}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(_,x){let R,G;for(let Z=1;Z<arguments.length;Z++){G=arguments[Z];for(R in G)_[R]=G[R];for(let ae=0;ae<J.length;ae++)R=J[ae],Object.prototype.hasOwnProperty.call(G,R)&&(_[R]=G[R])}}function ce(_){this.src=_,this.g={},this.h=0}ce.prototype.add=function(_,x,R,G,Z){const ae=_.toString();_=this.g[ae],_||(_=this.g[ae]=[],this.h++);const Ee=be(_,x,G,Z);return Ee>-1?(x=_[Ee],R||(x.fa=!1)):(x=new oe(x,this.src,ae,!!G,Z),x.fa=R,_.push(x)),x};function _e(_,x){const R=x.type;if(R in _.g){var G=_.g[R],Z=Array.prototype.indexOf.call(G,x,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(G,Z,1),ae&&(he(x),_.g[R].length==0&&(delete _.g[R],_.h--))}}function be(_,x,R,G){for(let Z=0;Z<_.length;++Z){const ae=_[Z];if(!ae.da&&ae.listener==x&&ae.capture==!!R&&ae.ha==G)return Z}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Oe={};function ie(_,x,R,G,Z){if(Array.isArray(x)){for(let ae=0;ae<x.length;ae++)ie(_,x[ae],R,G,Z);return null}return R=an(R),_&&_[Se]?_.J(x,R,u(G)?!!G.capture:!1,Z):xe(_,x,R,!1,G,Z)}function xe(_,x,R,G,Z,ae){if(!x)throw Error("Invalid event type");const Ee=u(Z)?!!Z.capture:!!Z;let Ye=it(_);if(Ye||(_[ve]=Ye=new ce(_)),R=Ye.add(x,R,G,Ee,ae),R.proxy)return R;if(G=Ce(),R.proxy=G,G.src=_,G.listener=R,_.addEventListener)H||(Z=Ee),Z===void 0&&(Z=!1),_.addEventListener(x.toString(),G,Z);else if(_.attachEvent)_.attachEvent(Ae(x.toString()),G);else if(_.addListener&&_.removeListener)_.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ce(){function _(R){return x.call(_.src,_.listener,R)}const x=Ze;return _}function fe(_,x,R,G,Z){if(Array.isArray(x))for(var ae=0;ae<x.length;ae++)fe(_,x[ae],R,G,Z);else G=u(G)?!!G.capture:!!G,R=an(R),_&&_[Se]?(_=_.i,ae=String(x).toString(),ae in _.g&&(x=_.g[ae],R=be(x,R,G,Z),R>-1&&(he(x[R]),Array.prototype.splice.call(x,R,1),x.length==0&&(delete _.g[ae],_.h--)))):_&&(_=it(_))&&(x=_.g[x.toString()],_=-1,x&&(_=be(x,R,G,Z)),(R=_>-1?x[_]:null)&&Ke(R))}function Ke(_){if(typeof _!="number"&&_&&!_.da){var x=_.src;if(x&&x[Se])_e(x.i,_);else{var R=_.type,G=_.proxy;x.removeEventListener?x.removeEventListener(R,G,_.capture):x.detachEvent?x.detachEvent(Ae(R),G):x.addListener&&x.removeListener&&x.removeListener(G),(R=it(x))?(_e(R,_),R.h==0&&(R.src=null,x[ve]=null)):he(_)}}}function Ae(_){return _ in Oe?Oe[_]:Oe[_]="on"+_}function Ze(_,x){if(_.da)_=!0;else{x=new ye(x,this);const R=_.listener,G=_.ha||_.src;_.fa&&Ke(_),_=R.call(G,x)}return _}function it(_){return _=_[ve],_ instanceof ce?_:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(_){return typeof _=="function"?_:(_[Ct]||(_[Ct]=function(x){return _.handleEvent(x)}),_[Ct])}function _t(){z.call(this),this.i=new ce(this),this.M=this,this.G=null}p(_t,z),_t.prototype[Se]=!0,_t.prototype.removeEventListener=function(_,x,R,G){fe(this,_,x,R,G)};function ct(_,x){var R,G=_.G;if(G)for(R=[];G;G=G.G)R.push(G);if(_=_.M,G=x.type||x,typeof x=="string")x=new j(x,_);else if(x instanceof j)x.target=x.target||_;else{var Z=x;x=new j(G,_),le(x,Z)}Z=!0;let ae,Ee;if(R)for(Ee=R.length-1;Ee>=0;Ee--)ae=x.g=R[Ee],Z=Qr(ae,G,!0,x)&&Z;if(ae=x.g=_,Z=Qr(ae,G,!0,x)&&Z,Z=Qr(ae,G,!1,x)&&Z,R)for(Ee=0;Ee<R.length;Ee++)ae=x.g=R[Ee],Z=Qr(ae,G,!1,x)&&Z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var _=this.i;for(const x in _.g){const R=_.g[x];for(let G=0;G<R.length;G++)he(R[G]);delete _.g[x],_.h--}}this.G=null},_t.prototype.J=function(_,x,R,G){return this.i.add(String(_),x,!1,R,G)},_t.prototype.K=function(_,x,R,G){return this.i.add(String(_),x,!0,R,G)};function Qr(_,x,R,G){if(x=_.i.g[String(x)],!x)return!0;x=x.concat();let Z=!0;for(let ae=0;ae<x.length;++ae){const Ee=x[ae];if(Ee&&!Ee.da&&Ee.capture==R){const Ye=Ee.listener,cn=Ee.ha||Ee.src;Ee.fa&&_e(_.i,Ee),Z=Ye.call(cn,G)!==!1&&Z}}return Z&&!G.defaultPrevented}function $o(_,x){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=f(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:s.setTimeout(_,x||0)}function Ua(_){_.g=$o(()=>{_.g=null,_.i&&(_.i=!1,Ua(_))},_.l);const x=_.h;_.h=null,_.m.apply(null,x)}class sn extends z{constructor(x,R){super(),this.m=x,this.l=R,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(_){z.call(this),this.h=_,this.g={}}p(Ci,z);var to=[];function Me(_){Te(_.g,function(x,R){this.g.hasOwnProperty(R)&&Ke(x)},_),_.g={}}Ci.prototype.N=function(){Ci.Z.N.call(this),Me(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=s.JSON.stringify,ot=s.JSON.parse,ft=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function st(){}function Ht(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yn(){j.call(this,"d")}p(Yn,j);function Zr(){j.call(this,"c")}p(Zr,j);var un={},ip=null;function pu(){return ip=ip||new _t}un.Ia="serverreachability";function op(_){j.call(this,un.Ia,_)}p(op,j);function no(_){const x=pu();ct(x,new op(x))}un.STAT_EVENT="statevent";function Js(_,x){j.call(this,un.STAT_EVENT,_),this.stat=x}p(Js,j);function pn(_){const x=pu();ct(x,new Js(x,_))}un.Ja="timingevent";function ro(_,x){j.call(this,un.Ja,_),this.size=x}p(ro,j);function io(_,x){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},x)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function y0(_,x,R,G,Z,ae){_.info(function(){if(_.g)if(ae){var Ee="",Ye=ae.split("&");for(let gt=0;gt<Ye.length;gt++){var cn=Ye[gt].split("=");if(cn.length>1){const Gt=cn[0];cn=cn[1];const ri=Gt.split("_");Ee=ri.length>=2&&ri[1]=="type"?Ee+(Gt+"="+cn+"&"):Ee+(Gt+"=redacted&")}}}else Ee=null;else Ee=ae;return"XMLHTTP REQ ("+G+") [attempt "+Z+"]: "+x+`
`+R+`
`+Ee})}function ap(_,x,R,G,Z,ae,Ee){_.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+Z+"]: "+x+`
`+R+`
`+ae+" "+Ee})}function oo(_,x,R,G){_.info(function(){return"XMLHTTP TEXT ("+x+"): "+v0(_,R)+(G?" "+G:"")})}function Xs(_,x){_.info(function(){return"TIMEOUT: "+x})}Ii.prototype.info=function(){};function v0(_,x){if(!_.g)return x;if(!x)return null;try{const ae=JSON.parse(x);if(ae){for(_=0;_<ae.length;_++)if(Array.isArray(ae[_])){var R=ae[_];if(!(R.length<2)){var G=R[1];if(Array.isArray(G)&&!(G.length<1)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let Ee=1;Ee<G.length;Ee++)G[Ee]=""}}}}return He(ae)}catch{return x}}var Qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vf;function Zs(){}p(Zs,st),Zs.prototype.g=function(){return new XMLHttpRequest},vf=new Zs;function Ko(_){return encodeURIComponent(String(_))}function sp(_){var x=1;_=_.split(":");const R=[];for(;x>0&&_.length;)R.push(_.shift()),x--;return _.length&&R.push(_.join(":")),R}function Pi(_,x,R,G){this.j=_,this.i=x,this.l=R,this.S=G||1,this.V=new Ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var mn={},Vn={};function ao(_,x,R){_.M=1,_.A=el(yn(x)),_.u=R,_.R=!0,mu(_,null)}function mu(_,x){_.F=Date.now(),so(_),_.B=yn(_.A);var R=_.B,G=_.S;Array.isArray(G)||(G=[String(G)]),_u(R.i,"t",G),_.C=0,R=_.j.L,_.h=new Ri,_.g=Tp(_.j,R?x:null,!_.u),_.P>0&&(_.O=new sn(f(_.Y,_,_.g),_.P)),x=_.V,R=_.g,G=_.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(to[0]=Z.toString()),Z=to);for(let ae=0;ae<Z.length;ae++){const Ee=ie(R,Z[ae],G||x.handleEvent,!1,x.h||x);if(!Ee)break;x.g[Ee.key]=Ee}x=_.J?L(_.J):{},_.u?(_.v||(_.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,x)):(_.v="GET",_.g.ea(_.B,_.v,null,x)),no(),y0(_.i,_.v,_.B,_.l,_.S,_.u)}Pi.prototype.ba=function(_){_=_.target;const x=this.O;x&&Di(_)==3?x.j():this.Y(_)},Pi.prototype.Y=function(_){try{if(_==this.g)e:{const Ye=Di(this.g),cn=this.g.ya(),gt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Wn(this.g)))){this.K||Ye!=4||cn==7||(cn==8||gt<=0?no(3):no(2)),lo(this);var x=this.g.ca();this.X=x;var R=_0(this);if(this.o=x==200,ap(this.i,this.v,this.B,this.l,this.S,Ye,x),this.o){if(this.U&&!this.L){t:{if(this.g){var G,Z=this.g;if((G=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(G)){var ae=G;break t}}ae=null}if(_=ae)oo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uo(this,_);else{this.o=!1,this.m=3,pn(12),Ur(this),ei(this);break e}}if(this.R){_=!0;let Gt;for(;!this.K&&this.C<R.length;)if(Gt=up(this,R),Gt==Vn){Ye==4&&(this.m=4,pn(14),_=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==mn){this.m=4,pn(15),oo(this.i,this.l,R,"[Invalid Chunk]"),_=!1;break}else oo(this.i,this.l,Gt,null),uo(this,Gt);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||R.length!=0||this.h.h||(this.m=1,pn(16),_=!1),this.o=this.o&&_,!_)oo(this.i,this.l,R,"[Invalid Chunked Response]"),Ur(this),ei(this);else if(R.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Df(Ee),Ee.P=!0,pn(11))}}else oo(this.i,this.l,R,null),uo(this,R);Ye==4&&Ur(this),this.o&&!this.K&&(Ye==4?vp(this.j,this):(this.o=!1,so(this)))}else Wo(this.g),x==400&&R.indexOf("Unknown SID")>0?(this.m=3,pn(12)):(this.m=0,pn(13)),Ur(this),ei(this)}}}catch{}finally{}};function _0(_){if(!lp(_))return _.g.la();const x=Wn(_.g);if(x==="")return"";let R="";const G=x.length,Z=Di(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Ur(_),ei(_),"";_.h.i=new s.TextDecoder}for(let ae=0;ae<G;ae++)_.h.h=!0,R+=_.h.i.decode(x[ae],{stream:!(Z&&ae==G-1)});return x.length=0,_.h.g+=R,_.C=0,_.h.g}function lp(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function up(_,x){var R=_.C,G=x.indexOf(`
`,R);return G==-1?Vn:(R=Number(x.substring(R,G)),isNaN(R)?mn:(G+=1,G+R>x.length?Vn:(x=x.slice(G,G+R),_.C=G+R,x)))}Pi.prototype.cancel=function(){this.K=!0,Ur(this)};function so(_){_.T=Date.now()+_.H,gu(_,_.H)}function gu(_,x){if(_.D!=null)throw Error("WatchDog timer not null");_.D=io(f(_.aa,_),x)}function lo(_){_.D&&(s.clearTimeout(_.D),_.D=null)}Pi.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(Xs(this.i,this.B),this.M!=2&&(no(),pn(17)),Ur(this),this.m=2,ei(this)):gu(this,this.T-_)};function ei(_){_.j.I==0||_.K||vp(_.j,_)}function Ur(_){lo(_);var x=_.O;x&&typeof x.dispose=="function"&&x.dispose(),_.O=null,Me(_.V),_.g&&(x=_.g,_.g=null,x.abort(),x.dispose())}function uo(_,x){try{var R=_.j;if(R.I!=0&&(R.g==_||fo(R.h,_))){if(!_.L&&fo(R.h,_)&&R.I==3){try{var G=R.Ba.g.parse(x)}catch{G=null}if(Array.isArray(G)&&G.length==3){var Z=G;if(Z[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<_.F)wu(R),$a(R);else break e;sl(R),pn(18)}}else R.xa=Z[1],0<R.xa-R.K&&Z[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=io(f(R.Va,R),6e3));co(R.h)<=1&&R.ta&&(R.ta=void 0)}else vo(R,11)}else if((_.L||R.g==_)&&wu(R),!$(x))for(Z=R.Ba.g.parse(x),x=0;x<Z.length;x++){let gt=Z[x];const Gt=gt[0];if(!(Gt<=R.K))if(R.K=Gt,gt=gt[1],R.I==2)if(gt[0]=="c"){R.M=gt[1],R.ba=gt[2];const ri=gt[3];ri!=null&&(R.ka=ri,R.j.info("VER="+R.ka));const _o=gt[4];_o!=null&&(R.za=_o,R.j.info("SVER="+R.za));const Oi=gt[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(G=1.5*Oi,R.O=G,R.j.info("backChannelRequestTimeoutMs_="+G)),G=R;const ki=_.g;if(ki){const ll=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ll){var ae=G.h;ae.g||ll.indexOf("spdy")==-1&&ll.indexOf("quic")==-1&&ll.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Ef(ae,ae.h),ae.h=null))}if(G.G){const Au=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(G.wa=Au,Tt(G.J,G.G,Au))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-_.F,R.j.info("Handshake RTT: "+R.T+"ms")),G=R;var Ee=_;if(G.na=Ep(G,G.L?G.ba:null,G.W),Ee.L){Tf(G.h,Ee);var Ye=Ee,cn=G.O;cn&&(Ye.H=cn),Ye.D&&(lo(Ye),so(Ye)),G.g=Ee}else gp(G);R.i.length>0&&yo(R)}else gt[0]!="stop"&&gt[0]!="close"||vo(R,7);else R.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?vo(R,7):Mf(R):gt[0]!="noop"&&R.l&&R.l.qa(gt),R.A=0)}}no(4)}catch{}}var gn=class{constructor(_,x){this.g=_,this.map=x}};function _f(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bf(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function co(_){return _.h?1:_.g?_.g.size:0}function fo(_,x){return _.h?_.h==x:_.g?_.g.has(x):!1}function Ef(_,x){_.g?_.g.add(x):_.h=x}function Tf(_,x){_.h&&_.h==x?_.h=null:_.g&&_.g.has(x)&&_.g.delete(x)}_f.prototype.cancel=function(){if(this.i=Sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Sf(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let x=_.i;for(const R of _.g.values())x=x.concat(R.G);return x}return E(_.i)}var cp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yu(_,x){if(_){_=_.split("&");for(let R=0;R<_.length;R++){const G=_[R].indexOf("=");let Z,ae=null;G>=0?(Z=_[R].substring(0,G),ae=_[R].substring(G+1)):Z=_[R],x(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Br(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;_ instanceof Br?(this.l=_.l,Un(this,_.j),this.o=_.o,this.g=_.g,Ba(this,_.u),this.h=_.h,wf(this,pp(_.i)),this.m=_.m):_&&(x=String(_).match(cp))?(this.l=!1,Un(this,x[1]||"",!0),this.o=ho(x[2]||""),this.g=ho(x[3]||"",!0),Ba(this,x[4]),this.h=ho(x[5]||"",!0),wf(this,x[6]||"",!0),this.m=ho(x[7]||"")):(this.l=!1,this.i=new za(null,this.l))}Br.prototype.toString=function(){const _=[];var x=this.j;x&&_.push(tl(x,vu,!0),":");var R=this.g;return(R||x=="file")&&(_.push("//"),(x=this.o)&&_.push(tl(x,vu,!0),"@"),_.push(Ko(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&_.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&_.push("/"),_.push(tl(R,R.charAt(0)=="/"?Af:fp,!0))),(R=this.i.toString())&&_.push("?",R),(R=this.m)&&_.push("#",tl(R,dp)),_.join("")},Br.prototype.resolve=function(_){const x=yn(this);let R=!!_.j;R?Un(x,_.j):R=!!_.o,R?x.o=_.o:R=!!_.g,R?x.g=_.g:R=_.u!=null;var G=_.h;if(R)Ba(x,_.u);else if(R=!!_.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var Z=x.h.lastIndexOf("/");Z!=-1&&(G=x.h.slice(0,Z+1)+G)}if(Z=G,Z==".."||Z==".")G="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){G=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let Ee=0;Ee<Z.length;){const Ye=Z[Ee++];Ye=="."?G&&Ee==Z.length&&ae.push(""):Ye==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),G&&Ee==Z.length&&ae.push("")):(ae.push(Ye),G=!0)}G=ae.join("/")}else G=Z}return R?x.h=G:R=_.i.toString()!=="",R?wf(x,pp(_.i)):R=!!_.m,R&&(x.m=_.m),x};function yn(_){return new Br(_)}function Un(_,x,R){_.j=R?ho(x,!0):x,_.j&&(_.j=_.j.replace(/:$/,""))}function Ba(_,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);_.u=x}else _.u=null}function wf(_,x,R){x instanceof za?(_.i=x,bu(_.i,_.l)):(R||(x=tl(x,Fa)),_.i=new za(x,_.l))}function Tt(_,x,R){_.i.set(x,R)}function el(_){return Tt(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function ho(_,x){return _?x?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function tl(_,x,R){return typeof _=="string"?(_=encodeURI(_).replace(x,Ir),R&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Ir(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var vu=/[#\/\?@]/g,fp=/[#\?:]/g,Af=/[#\?]/g,Fa=/[#\?@]/g,dp=/#/g;function za(_,x){this.h=this.g=null,this.i=_||null,this.j=!!x}function Pr(_){_.g||(_.g=new Map,_.h=0,_.i&&yu(_.i,function(x,R){_.add(decodeURIComponent(x.replace(/\+/g," ")),R)}))}t=za.prototype,t.add=function(_,x){Pr(this),this.i=null,_=qa(this,_);let R=this.g.get(_);return R||this.g.set(_,R=[]),R.push(x),this.h+=1,this};function hp(_,x){Pr(_),x=qa(_,x),_.g.has(x)&&(_.i=null,_.h-=_.g.get(x).length,_.g.delete(x))}function xf(_,x){return Pr(_),x=qa(_,x),_.g.has(x)}t.forEach=function(_,x){Pr(this),this.g.forEach(function(R,G){R.forEach(function(Z){_.call(x,Z,G,this)},this)},this)};function Cf(_,x){Pr(_);let R=[];if(typeof x=="string")xf(_,x)&&(R=R.concat(_.g.get(qa(_,x))));else for(_=Array.from(_.g.values()),x=0;x<_.length;x++)R=R.concat(_[x]);return R}t.set=function(_,x){return Pr(this),this.i=null,_=qa(this,_),xf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[x]),this.h+=1,this},t.get=function(_,x){return _?(_=Cf(this,_),_.length>0?String(_[0]):x):x};function _u(_,x,R){hp(_,x),R.length>0&&(_.i=null,_.g.set(qa(_,x),E(R)),_.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],x=Array.from(this.g.keys());for(let G=0;G<x.length;G++){var R=x[G];const Z=Ko(R);R=Cf(this,R);for(let ae=0;ae<R.length;ae++){let Ee=Z;R[ae]!==""&&(Ee+="="+Ko(R[ae])),_.push(Ee)}}return this.i=_.join("&")};function pp(_){const x=new za;return x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),x}function qa(_,x){return x=String(x),_.j&&(x=x.toLowerCase()),x}function bu(_,x){x&&!_.j&&(Pr(_),_.i=null,_.g.forEach(function(R,G){const Z=G.toLowerCase();G!=Z&&(hp(this,G),_u(this,Z,R))},_)),_.j=x}function Mi(_,x){const R=new Ii;if(s.Image){const G=new Image;G.onload=h(ti,R,"TestLoadImage: loaded",!0,x,G),G.onerror=h(ti,R,"TestLoadImage: error",!1,x,G),G.onabort=h(ti,R,"TestLoadImage: abort",!1,x,G),G.ontimeout=h(ti,R,"TestLoadImage: timeout",!1,x,G),s.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=_}else x(!1)}function If(_,x){const R=new Ii,G=new AbortController,Z=setTimeout(()=>{G.abort(),ti(R,"TestPingServer: timeout",!1,x)},1e4);fetch(_,{signal:G.signal}).then(ae=>{clearTimeout(Z),ae.ok?ti(R,"TestPingServer: ok",!0,x):ti(R,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),ti(R,"TestPingServer: error",!1,x)})}function ti(_,x,R,G,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),G(R)}catch{}}function ja(){this.g=new ft}function po(_){this.i=_.Sb||null,this.h=_.ab||!1}p(po,st),po.prototype.g=function(){return new nl(this.i,this.h)};function nl(_,x){_t.call(this),this.H=_,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(nl,_t),t=nl.prototype,t.open=function(_,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=x,this.readyState=1,Ni(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(x.body=_),(this.H||s).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eu(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eu(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var x=_.value?_.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!_.done}))&&(this.response=this.responseText+=x)}_.done?Ha(this):Ni(this),this.readyState==3&&Eu(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,Ha(this))},t.Na=function(_){this.g&&(this.response=_,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(_){_.readyState=4,_.l=null,_.j=null,_.B=null,Ni(_)}t.setRequestHeader=function(_,x){this.A.append(_,x)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],x=this.h.entries();for(var R=x.next();!R.done;)R=R.value,_.push(R[0]+": "+R[1]),R=x.next();return _.join(`\r
`)};function Ni(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function ni(_){let x="";return Te(_,function(R,G){x+=G,x+=":",x+=R,x+=`\r
`}),x}function rl(_,x,R){e:{for(G in R){var G=!1;break e}G=!0}G||(R=ni(R),typeof _=="string"?R!=null&&Ko(R):Tt(_,x,R))}function It(_){_t.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(It,_t);var mo=/^https?$/i,Pf=["POST","PUT"];t=It.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,x,R,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);x=x?x.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vf.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(_),!0),this.B=!1}catch(ae){il(this,ae);return}if(_=R||"",R=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var Z in G)R.set(Z,G[Z]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ae of G.keys())R.set(ae,G.get(ae));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(R.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Pf,x,void 0)>=0)||G||Z||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ee]of R)this.g.setRequestHeader(ae,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(ae){il(this,ae)}};function il(_,x){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=x,_.o=5,Rf(_),Yo(_)}function Rf(_){_.A||(_.A=!0,ct(_,"complete"),ct(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,ct(this,"complete"),ct(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ol(this):this.Xa())},t.Xa=function(){ol(this)};function ol(_){if(_.h&&typeof o<"u"){if(_.v&&Di(_)==4)setTimeout(_.Ca.bind(_),0);else if(ct(_,"readystatechange"),Di(_)==4){_.h=!1;try{const ae=_.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var R;if(!(R=x)){var G;if(G=ae===0){let Ee=String(_.D).match(cp)[1]||null;!Ee&&s.self&&s.self.location&&(Ee=s.self.location.protocol.slice(0,-1)),G=!mo.test(Ee?Ee.toLowerCase():"")}R=G}if(R)ct(_,"complete"),ct(_,"success");else{_.o=6;try{var Z=Di(_)>2?_.g.statusText:""}catch{Z=""}_.l=Z+" ["+_.ca()+"]",Rf(_)}}finally{Yo(_)}}}}function Yo(_,x){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const R=_.g;_.g=null,x||ct(_,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Di(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var x=this.g.responseText;return _&&x.indexOf(_)==0&&(x=x.substring(_.length)),ot(x)}};function Wn(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Wo(_){const x={};_=(_.g&&Di(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<_.length;G++){if($(_[G]))continue;var R=sp(_[G]);const Z=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ae=x[Z]||[];x[Z]=ae,ae.push(R)}Y(x,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(_,x,R){return R&&R.internalChannelParams&&R.internalChannelParams[_]||x}function Ga(_){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=go("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=go("baseRetryDelayMs",5e3,_),this.Za=go("retryDelaySeedMs",1e4,_),this.Ta=go("forwardChannelMaxRetries",2,_),this.va=go("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new _f(_&&_.concurrentRequestLimit),this.Ba=new ja,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ga.prototype,t.ka=8,t.I=1,t.connect=function(_,x,R,G){pn(0),this.W=_,this.H=x||{},R&&G!==void 0&&(this.H.OSID=R,this.H.OAID=G),this.F=this.X,this.J=Ep(this,null,this.W),yo(this)};function Mf(_){if(Tu(_),_.I==3){var x=_.V++,R=yn(_.J);if(Tt(R,"SID",_.M),Tt(R,"RID",x),Tt(R,"TYPE","terminate"),al(_,R),x=new Pi(_,_.j,x),x.M=2,x.A=el(yn(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(x.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=x.A,R=!0),R||(x.g=Tp(x.j,null),x.g.ea(x.A)),x.F=Date.now(),so(x)}bp(_)}function $a(_){_.g&&(Df(_),_.g.cancel(),_.g=null)}function Tu(_){$a(_),_.v&&(s.clearTimeout(_.v),_.v=null),wu(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function yo(_){if(!bf(_.h)&&!_.m){_.m=!0;var x=_.Ea;F||D(),V||(F(),V=!0),M.add(x,_),_.D=0}}function Su(_,x){return co(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=x.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=io(f(_.Ea,_,x),_p(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const Z=new Pi(this,this.j,_);let ae=this.o;if(this.U&&(ae?(ae=L(ae),le(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var x=0,R=0;R<this.i.length;R++){t:{var G=this.i[R];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(x+=G,x>4096){x=R;break e}if(x===4096||R===this.i.length-1){x=R+1;break e}}x=1e3}else x=1e3;x=mp(this,Z,x),R=yn(this.J),Tt(R,"RID",_),Tt(R,"CVER",22),this.G&&Tt(R,"X-HTTP-Session-Id",this.G),al(this,R),ae&&(this.R?x="headers="+Ko(ni(ae))+"&"+x:this.u&&rl(R,this.u,ae)),Ef(this.h,Z),this.Ra&&Tt(R,"TYPE","init"),this.S?(Tt(R,"$req",x),Tt(R,"SID","null"),Z.U=!0,ao(Z,R,null)):ao(Z,R,x),this.I=2}}else this.I==3&&(_?Nf(this,_):this.i.length==0||bf(this.h)||Nf(this))};function Nf(_,x){var R;x?R=x.l:R=_.V++;const G=yn(_.J);Tt(G,"SID",_.M),Tt(G,"RID",R),Tt(G,"AID",_.K),al(_,G),_.u&&_.o&&rl(G,_.u,_.o),R=new Pi(_,_.j,R,_.D+1),_.u===null&&(R.J=_.o),x&&(_.i=x.G.concat(_.i)),x=mp(_,R,1e3),R.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Ef(_.h,R),ao(R,G,x)}function al(_,x){_.H&&Te(_.H,function(R,G){Tt(x,G,R)}),_.l&&Te({},function(R,G){Tt(x,G,R)})}function mp(_,x,R){R=Math.min(_.i.length,R);const G=_.l?f(_.l.Ka,_.l,_):null;e:{var Z=_.i;let Ye=-1;for(;;){const cn=["count="+R];Ye==-1?R>0?(Ye=Z[0].g,cn.push("ofs="+Ye)):Ye=0:cn.push("ofs="+Ye);let gt=!0;for(let Gt=0;Gt<R;Gt++){var ae=Z[Gt].g;const ri=Z[Gt].map;if(ae-=Ye,ae<0)Ye=Math.max(0,Z[Gt].g-100),gt=!1;else try{ae="req"+ae+"_"||"";try{var Ee=ri instanceof Map?ri:Object.entries(ri);for(const[_o,Oi]of Ee){let ki=Oi;u(Oi)&&(ki=He(Oi)),cn.push(ae+_o+"="+encodeURIComponent(ki))}}catch(_o){throw cn.push(ae+"type="+encodeURIComponent("_badmap")),_o}}catch{G&&G(ri)}}if(gt){Ee=cn.join("&");break e}}Ee=void 0}return _=_.i.splice(0,R),x.G=_,Ee}function gp(_){if(!_.g&&!_.v){_.Y=1;var x=_.Da;F||D(),V||(F(),V=!0),M.add(x,_),_.A=0}}function sl(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=io(f(_.Da,_),_p(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,yp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=io(f(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pn(10),$a(this),yp(this))};function Df(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function yp(_){_.g=new Pi(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var x=yn(_.na);Tt(x,"RID","rpc"),Tt(x,"SID",_.M),Tt(x,"AID",_.K),Tt(x,"CI",_.F?"0":"1"),!_.F&&_.ia&&Tt(x,"TO",_.ia),Tt(x,"TYPE","xmlhttp"),al(_,x),_.u&&_.o&&rl(x,_.u,_.o),_.O&&(_.g.H=_.O);var R=_.g;_=_.ba,R.M=1,R.A=el(yn(x)),R.u=null,R.R=!0,mu(R,_)}t.Va=function(){this.C!=null&&(this.C=null,$a(this),sl(this),pn(19))};function wu(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function vp(_,x){var R=null;if(_.g==x){wu(_),Df(_),_.g=null;var G=2}else if(fo(_.h,x))R=x.G,Tf(_.h,x),G=1;else return;if(_.I!=0){if(x.o)if(G==1){R=x.u?x.u.length:0,x=Date.now()-x.F;var Z=_.D;G=pu(),ct(G,new ro(G,R)),yo(_)}else gp(_);else if(Z=x.m,Z==3||Z==0&&x.X>0||!(G==1&&Su(_,x)||G==2&&sl(_)))switch(R&&R.length>0&&(x=_.h,x.i=x.i.concat(R)),Z){case 1:vo(_,5);break;case 4:vo(_,10);break;case 3:vo(_,6);break;default:vo(_,2)}}}function _p(_,x){let R=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(R*=2),R*x}function vo(_,x){if(_.j.info("Error code "+x),x==2){var R=f(_.bb,_),G=_.Ua;const Z=!G;G=new Br(G||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Un(G,"https"),el(G),Z?Mi(G.toString(),R):If(G.toString(),R)}else pn(2);_.I=0,_.l&&_.l.pa(x),bp(_),Tu(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function bp(_){if(_.I=0,_.ja=[],_.l){const x=Sf(_.h);(x.length!=0||_.i.length!=0)&&(S(_.ja,x),S(_.ja,_.i),_.h.i.length=0,E(_.i),_.i.length=0),_.l.oa()}}function Ep(_,x,R){var G=R instanceof Br?yn(R):new Br(R);if(G.g!="")x&&(G.g=x+"."+G.g),Ba(G,G.u);else{var Z=s.location;G=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new Br(null);G&&Un(ae,G),x&&(ae.g=x),Z&&Ba(ae,Z),R&&(ae.h=R),G=ae}return R=_.G,x=_.wa,R&&x&&Tt(G,R,x),Tt(G,"VER",_.ka),al(_,G),G}function Tp(_,x,R){if(x&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=_.Aa&&!_.ma?new It(new po({ab:R})):new It(_.ma),x.Fa(_.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sp(){}t=Sp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ka(){}Ka.prototype.g=function(_,x){return new yr(_,x)};function yr(_,x){_t.call(this),this.g=new Ga(x),this.l=_,this.h=x&&x.messageUrlParams||null,_=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(_?_["X-WebChannel-Content-Type"]=x.messageContentType:_={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(_?_["X-WebChannel-Client-Profile"]=x.sa:_={"X-WebChannel-Client-Profile":x.sa}),this.g.U=_,(_=x&&x.Qb)&&!$(_)&&(this.g.u=_),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!$(x)&&(this.g.G=x,_=this.h,_!==null&&x in _&&(_=this.h,x in _&&delete _[x])),this.j=new Jo(this)}p(yr,_t),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){Mf(this.g)},yr.prototype.o=function(_){var x=this.g;if(typeof _=="string"){var R={};R.__data__=_,_=R}else this.v&&(R={},R.__data__=He(_),_=R);x.i.push(new gn(x.Ya++,_)),x.I==3&&yo(x)},yr.prototype.N=function(){this.g.l=null,delete this.j,Mf(this.g),delete this.g,yr.Z.N.call(this)};function wp(_){Yn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var x=_.__sm__;if(x){e:{for(const R in x){_=R;break e}_=void 0}(this.i=_)&&(_=this.i,x=x!==null&&_ in x?x[_]:void 0),this.data=x}else this.data=_}p(wp,Yn);function Ap(){Zr.call(this),this.status=1}p(Ap,Zr);function Jo(_){this.g=_}p(Jo,Sp),Jo.prototype.ra=function(){ct(this.g,"a")},Jo.prototype.qa=function(_){ct(this.g,new wp(_))},Jo.prototype.pa=function(_){ct(this.g,new Ap)},Jo.prototype.oa=function(){ct(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,Uq=function(){return new Ka},Vq=function(){return pu()},Lq=un,Sw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Tg=Qs,yf.COMPLETE="complete",kq=yf,Ht.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ld=Ht,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,Oq=It}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df="12.9.0";function EEe(t){df=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Cq("@firebase/firestore");function lc(){return nu.logLevel}function Pe(t,...e){if(nu.logLevel<=ut.DEBUG){const n=e.map(RC);nu.debug(`Firestore (${df}): ${t}`,...n)}}function Ca(t,...e){if(nu.logLevel<=ut.ERROR){const n=e.map(RC);nu.error(`Firestore (${df}): ${t}`,...n)}}function ru(t,...e){if(nu.logLevel<=ut.WARN){const n=e.map(RC);nu.warn(`Firestore (${df}): ${t}`,...n)}}function RC(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Bq(t,r,n)}function Bq(t,e,n){let r=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ca(r),new Error(r)}function bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Bq(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends ff{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class SEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wEe{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hl,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hl)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new Fq(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class AEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new AEe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $V{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CEe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iEe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $V(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $V(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IEe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function ww(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return CT(i)===CT(o)?nt(i,o):CT(i)?1:-1}return nt(t.length,e.length)}const PEe=55296,REe=57343;function CT(t){const e=t.charCodeAt(0);return e>=PEe&&e<=REe}function zc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="__name__";class Io{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Io.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return nt(e.length,n.length)}static compareSegments(e,n){const r=Io.isNumericId(e),i=Io.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Io.extractNumericId(e).compare(Io.extractNumericId(n)):ww(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class Lt extends Io{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const MEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Io{construct(e,n,r){return new ir(e,n,r)}static isValidIdentifier(e){return MEe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KV}static keyField(){return new ir([KV])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(n)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Lt.fromString(e))}static fromName(e){return new Be(Lt.fromString(e).popFirst(5))}static empty(){return new Be(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e,n){if(!n)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NEe(t,e,n,r){if(e===!0&&r===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YV(t){if(!Be.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WV(t){if(Be.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function r0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Ic(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r0(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zh(t,e){if(!qq(t))throw new Ie(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ie(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=-62135596800,XV=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*XV);return new qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JV)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XV}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zh(e,qt._jsonSchema))return new qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qt._jsonSchemaVersion="firestore/timestamp/1.0",qt._jsonSchema={type:xn("string",qt._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new qt(0,0))}static max(){return new je(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function DEe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Vs(i,Be.empty(),e)}function OEe(t){return new Vs(t.readTime,t.key,Th)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(je.min(),Be.empty(),Th)}static max(){return new Vs(je.max(),Be.empty(),Th)}}function kEe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==LEe)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function UEe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}i0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=-1;function o0(t){return t==null}function qy(t){return t===0&&1/t==-1/0}function BEe(t){return typeof t=="number"&&Number.isInteger(t)&&!qy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="";function FEe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QV(e)),e=zEe(t.get(n),e);return QV(e)}function zEe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case jq:n+="";break;default:n+=o}}return n}function QV(t){return t+jq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rg(this.root,e,this.comparator,!0)}}class rg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eU(this.data.getIterator())}getIteratorFrom(e){return new eU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class eU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new Dn(ir.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gq("Invalid base64 string: "+o):o}})(e);return new ar(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const qEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=qEe.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="server_timestamp",Kq="__type__",Yq="__previous_value__",Wq="__local_write_time__";function DC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Kq])==null?void 0:r.stringValue)===$q}function a0(t){const e=t.mapValue.fields[Yq];return DC(e)?a0(e):e}function Sh(t){const e=Us(t.mapValue.fields[Wq].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jEe{constructor(e,n,r,i,o,s,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const jy="(default)";class wh{constructor(e,n){this.projectId=e,this.database=n||jy}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database===jy}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}function HEe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq="__type__",GEe="__max__",ig={mapValue:{}},Xq="__vector__",Hy="value";function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DC(t)?4:KEe(t)?9007199254740991:$Ee(t)?10:11:ze(28295,{value:t})}function jo(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sh(t).isEqual(Sh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Us(i.timestampValue),u=Us(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Bs(i.bytesValue).isEqual(Bs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return hn(i.geoPointValue.latitude)===hn(o.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return hn(i.integerValue)===hn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=hn(i.doubleValue),u=hn(o.doubleValue);return s===u?qy(s)===qy(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(ZV(s)!==ZV(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!jo(s[c],u[c])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function Ah(t,e){return(t.values||[]).find((n=>jo(n,e)))!==void 0}function qc(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=hn(o.integerValue||o.doubleValue),c=hn(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return tU(t.timestampValue,e.timestampValue);case 4:return tU(Sh(t),Sh(e));case 5:return ww(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=Bs(o),c=Bs(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=nt(u[f],c[f]);if(h!==0)return h}return nt(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=nt(hn(o.latitude),hn(s.latitude));return u!==0?u:nt(hn(o.longitude),hn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return nU(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var g,E,S,A;const u=o.fields||{},c=s.fields||{},f=(g=u[Hy])==null?void 0:g.arrayValue,h=(E=c[Hy])==null?void 0:E.arrayValue,p=nt(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return p!==0?p:nU(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===ig.mapValue&&s===ig.mapValue)return 0;if(o===ig.mapValue)return 1;if(s===ig.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=ww(c[p],h[p]);if(g!==0)return g;const E=qc(u[c[p]],f[h[p]]);if(E!==0)return E}return nt(c.length,h.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function tU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Us(t),r=Us(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function nU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=qc(n[i],r[i]);if(o)return o}return nt(n.length,r.length)}function jc(t){return Aw(t)}function Aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Aw(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Aw(n.fields[s])}`;return i+"}"})(t.mapValue):ze(61005,{value:t})}function Sg(t){switch(Fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=a0(t);return e?16+Sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Sg(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return cu(r.fields,((o,s)=>{i+=o.length+Sg(s)})),i})(t.mapValue);default:throw ze(13486,{value:t})}}function rU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xw(t){return!!t&&"integerValue"in t}function OC(t){return!!t&&"arrayValue"in t}function iU(t){return!!t&&"nullValue"in t}function oU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wg(t){return!!t&&"mapValue"in t}function $Ee(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Jq])==null?void 0:r.stringValue)===Xq}function Kd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kd(t.arrayValue.values[n]);return e}return{...t}}function KEe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(n)}setAll(e){let n=ir.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Kd(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cu(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new gi(Kd(this.value))}}function Qq(t){const e=[];return cu(t.fields,((n,r)=>{const i=new ir([n]);if(wg(r)){const o=Qq(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new dr(e,0,je.min(),je.min(),je.min(),gi.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,je.min(),je.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,je.min(),je.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.position=e,this.inclusive=n}}function aU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(s.referenceValue),n.key):r=qc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function YEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{}class wn extends Zq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JEe(e,n,r):n==="array-contains"?new ZEe(e,r):n==="in"?new eTe(e,r):n==="not-in"?new tTe(e,r):n==="array-contains-any"?new nTe(e,r):new wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XEe(e,r):new QEe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qc(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(qc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends Zq{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qi(e,n)}matches(e){return ej(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ej(t){return t.op==="and"}function tj(t){return WEe(t)&&ej(t)}function WEe(t){for(const e of t.filters)if(e instanceof Qi)return!1;return!0}function Cw(t){if(t instanceof wn)return t.field.canonicalString()+t.op.toString()+jc(t.value);if(tj(t))return t.filters.map((e=>Cw(e))).join(",");{const e=t.filters.map((n=>Cw(n))).join(",");return`${t.op}(${e})`}}function nj(t,e){return t instanceof wn?(function(r,i){return i instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&jo(r.value,i.value)})(t,e):t instanceof Qi?(function(r,i){return i instanceof Qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&nj(s,i.filters[u])),!0):!1})(t,e):void ze(19439)}function rj(t){return t instanceof wn?(function(n){return`${n.field.canonicalString()} ${n.op} ${jc(n.value)}`})(t):t instanceof Qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(rj).join(" ,")+"}"})(t):"Filter"}class JEe extends wn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class XEe extends wn{constructor(e,n){super(e,"in",n),this.keys=ij("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QEe extends wn{constructor(e,n){super(e,"not-in",n),this.keys=ij("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ij(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class ZEe extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return OC(n)&&Ah(n.arrayValue,this.value)}}class eTe extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ah(this.value.arrayValue,n)}}class tTe extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ah(this.value.arrayValue,n)}}class nTe extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!OC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ah(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rTe{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function lU(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rTe(t,e,n,r,i,o,s)}function kC(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Cw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),o0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jc(r))).join(",")),e.Te=n}return e.Te}function LC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YEe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sU(t.startAt,e.startAt)&&sU(t.endAt,e.endAt)}function Iw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iTe(t,e,n,r,i,o,s,u){return new mf(t,e,n,r,i,o,s,u)}function VC(t){return new mf(t)}function uU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oTe(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function oj(t){return t.collectionGroup!==null}function Yd(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Dn(ir.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new xh(o,r))})),n.has(ir.keyField().canonicalString())||e.Ie.push(new xh(ir.keyField(),r))}return e.Ie}function Oo(t){const e=$e(t);return e.Ee||(e.Ee=aTe(e,Yd(t))),e.Ee}function aTe(t,e){if(t.limitType==="F")return lU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new xh(i.field,o)}));const n=t.endAt?new Gy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gy(t.startAt.position,t.startAt.inclusive):null;return lU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pw(t,e){const n=t.filters.concat([e]);return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sTe(t,e){const n=t.explicitOrderBy.concat([e]);return new mf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function $y(t,e,n){return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function s0(t,e){return LC(Oo(t),Oo(e))&&t.limitType===e.limitType}function aj(t){return`${kC(Oo(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>rj(i))).join(", ")}]`),o0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>jc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>jc(i))).join(",")),`Target(${r})`})(Oo(t))}; limitType=${t.limitType})`}function l0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Yd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=aU(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,Yd(r),i)||r.endAt&&!(function(s,u,c){const f=aU(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,Yd(r),i))})(t,e)}function lTe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sj(t){return(e,n)=>{let r=!1;for(const i of Yd(t)){const o=uTe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uTe(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?qc(c,f):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Hq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cTe=new Jt(Be.comparator);function Ia(){return cTe}const lj=new Jt(Be.comparator);function Vd(...t){let e=lj;for(const n of t)e=e.insert(n.key,n);return e}function uj(t){let e=lj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ul(){return Wd()}function cj(){return Wd()}function Wd(){return new fu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fTe=new Jt(Be.comparator),dTe=new Dn(Be.comparator);function rt(...t){let e=dTe;for(const n of t)e=e.add(n);return e}const hTe=new Dn(nt);function pTe(){return hTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qy(e)?"-0":e}}function fj(t){return{integerValue:""+t}}function mTe(t,e){return BEe(e)?fj(e):UC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this._=void 0}}function gTe(t,e,n){return t instanceof Ky?(function(i,o){const s={fields:{[Kq]:{stringValue:$q},[Wq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&DC(o)&&(o=a0(o)),o&&(s.fields[Yq]=o),{mapValue:s}})(n,e):t instanceof Ch?hj(t,e):t instanceof Ih?pj(t,e):(function(i,o){const s=dj(i,o),u=cU(s)+cU(i.Ae);return xw(s)&&xw(i.Ae)?fj(u):UC(i.serializer,u)})(t,e)}function yTe(t,e,n){return t instanceof Ch?hj(t,e):t instanceof Ih?pj(t,e):n}function dj(t,e){return t instanceof Yy?(function(r){return xw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ky extends u0{}class Ch extends u0{constructor(e){super(),this.elements=e}}function hj(t,e){const n=mj(e);for(const r of t.elements)n.some((i=>jo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ih extends u0{constructor(e){super(),this.elements=e}}function pj(t,e){let n=mj(e);for(const r of t.elements)n=n.filter((i=>!jo(i,r)));return{arrayValue:{values:n}}}class Yy extends u0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cU(t){return hn(t.integerValue||t.doubleValue)}function mj(t){return OC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vTe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ch&&i instanceof Ch||r instanceof Ih&&i instanceof Ih?zc(r.elements,i.elements,jo):r instanceof Yy&&i instanceof Yy?jo(r.Ae,i.Ae):r instanceof Ky&&i instanceof Ky})(t.transform,e.transform)}class _Te{constructor(e,n){this.version=e,this.transformResults=n}}class ko{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class c0{}function gj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BC(t.key,ko.none()):new ep(t.key,t.data,ko.none());{const n=t.data,r=gi.empty();let i=new Dn(ir.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new du(t.key,r,new Gi(i.toArray()),ko.none())}}function bTe(t,e,n){t instanceof ep?(function(i,o,s){const u=i.value.clone(),c=dU(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof du?(function(i,o,s){if(!Ag(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=dU(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(yj(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Jd(t,e,n,r){return t instanceof ep?(function(o,s,u,c){if(!Ag(o.precondition,s))return u;const f=o.value.clone(),h=hU(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof du?(function(o,s,u,c){if(!Ag(o.precondition,s))return u;const f=hU(o.fieldTransforms,c,s),h=s.data;return h.setAll(yj(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,s,u){return Ag(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function ETe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dj(r.transform,i||null);o!=null&&(n===null&&(n=gi.empty()),n.set(r.field,o))}return n||null}function fU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,((o,s)=>vTe(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ep extends c0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class du extends c0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function dU(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,yTe(s,u,n[i]))}return r}function hU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,gTe(o,s,e))}return r}class BC extends c0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TTe extends c0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class STe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bTe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cj();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=gj(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,((n,r)=>fU(n,r)))&&zc(this.baseMutations,e.baseMutations,((n,r)=>fU(n,r)))}}class FC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return fTe})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new FC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ATe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,lt;function xTe(t){switch(t){case me.OK:return ze(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function vj(t){if(t===void 0)return Ca("GRPC error has no .code"),me.UNKNOWN;switch(t){case Tn.OK:return me.OK;case Tn.CANCELLED:return me.CANCELLED;case Tn.UNKNOWN:return me.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return me.INTERNAL;case Tn.UNAVAILABLE:return me.UNAVAILABLE;case Tn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Tn.NOT_FOUND:return me.NOT_FOUND;case Tn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Tn.ABORTED:return me.ABORTED;case Tn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Tn.DATA_LOSS:return me.DATA_LOSS;default:return ze(39323,{code:t})}}(lt=Tn||(Tn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ITe=new Rs([4294967295,4294967295],0);function pU(t){const e=CTe().encode(t),n=new Dq;return n.update(e),new Uint8Array(n.digest())}function mU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([i,o],0)]}class zC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ud(`Invalid padding: ${n}`);if(r<0)throw new Ud(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ud(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ud(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Rs.fromNumber(r)));return i.compare(ITe)===1&&(i=new Rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pU(e),[r,i]=mU(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zC(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=pU(e),[r,i]=mU(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new f0(je.min(),i,new Jt(nt),Ia(),rt())}}class tp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tp(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _j{constructor(e,n){this.targetId=e,this.Ce=n}}class bj{constructor(e,n,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gU{constructor(){this.ve=0,this.Fe=yU(),this.Me=ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:o})}})),new tp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=yU()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class PTe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.He=og(),this.Je=og(),this.Ze=new Jt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Iw(o))if(r===0){const s=new Be(o.path);this.et(n,s,dr.newNoDocument(s,je.min()))}else bt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=Bs(r).toUint8Array()}catch(c){if(c instanceof Gq)return ru("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new zC(s,i,o)}catch(c){return ru(c instanceof Ud?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&Iw(u.target)){const c=new Be(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,dr.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=rt();this.Je.forEach(((o,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new f0(e,n,this.Ze,this.je,r);return this.je=Ia(),this.He=og(),this.Je=og(),this.Ze=new Jt(nt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new gU,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Dn(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Dn(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gU),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function og(){return new Jt(Be.comparator)}function yU(){return new Jt(Be.comparator)}const RTe={asc:"ASCENDING",desc:"DESCENDING"},MTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NTe={and:"AND",or:"OR"};class DTe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rw(t,e){return t.useProto3Json||o0(e)?e:{value:e}}function Wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ej(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OTe(t,e){return Wy(t,e.toTimestamp())}function Lo(t){return bt(!!t,49232),je.fromTimestamp((function(n){const r=Us(n);return new qt(r.seconds,r.nanos)})(t))}function qC(t,e){return Mw(t,e).canonicalString()}function Mw(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Tj(t){const e=Lt.fromString(t);return bt(Cj(e),10190,{key:e.toString()}),e}function Nw(t,e){return qC(t.databaseId,e.path)}function IT(t,e){const n=Tj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(wj(n))}function Sj(t,e){return qC(t.databaseId,e)}function kTe(t){const e=Tj(t);return e.length===4?Lt.emptyPath():wj(e)}function Dw(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wj(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vU(t,e,n){return{name:Nw(t,e),fields:n.value.mapValue.fields}}function LTe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(bt(h===void 0||typeof h=="string",58123),ar.fromBase64String(h||"")):(bt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ar.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?me.UNKNOWN:vj(f.code);return new Ie(h,f.message||"")})(s);n=new bj(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=IT(t,r.document.name),o=Lo(r.document.updateTime),s=r.document.createTime?Lo(r.document.createTime):je.min(),u=new gi({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,o,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new xg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=IT(t,r.document),o=r.readTime?Lo(r.readTime):je.min(),s=dr.newNoDocument(i,o),u=r.removedTargetIds||[];n=new xg([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=IT(t,r.document),o=r.removedTargetIds||[];n=new xg([],o,i,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ATe(i,o),u=r.targetId;n=new _j(u,s)}}return n}function VTe(t,e){let n;if(e instanceof ep)n={update:vU(t,e.key,e.value)};else if(e instanceof BC)n={delete:Nw(t,e.key)};else if(e instanceof du)n={update:vU(t,e.key,e.data),updateMask:$Te(e.fieldMask)};else{if(!(e instanceof TTe))return ze(16599,{dt:e.type});n={verify:Nw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof Ky)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ch)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ih)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yy)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw ze(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:OTe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(t,e.precondition)),n}function UTe(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?Lo(i.updateTime):Lo(o);return s.isEqual(je.min())&&(s=Lo(o)),new _Te(s,i.transformResults||[])})(n,e)))):[]}function BTe(t,e){return{documents:[Sj(t,e.path)]}}function FTe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sj(t,i);const o=(function(f){if(f.length!==0)return xj(Qi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:cc(g.field),direction:jTe(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=Rw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function zTe(t){let e=kTe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=Aj(p);return g instanceof Qi&&tj(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(S){return new xh(fc(S.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,o0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,E=p.values||[];return new Gy(E,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,E=p.values||[];return new Gy(E,g)})(n.endAt)),iTe(e,i,s,o,u,"F",c,f)}function qTe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fc(n.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fc(n.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return wn.create(fc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qi.create(n.compositeFilter.filters.map((r=>Aj(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function jTe(t){return RTe[t]}function HTe(t){return MTe[t]}function GTe(t){return NTe[t]}function cc(t){return{fieldPath:t.canonicalString()}}function fc(t){return ir.fromServerFormat(t.fieldPath)}function xj(t){return t instanceof wn?(function(n){if(n.op==="=="){if(oU(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(iU(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oU(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(iU(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:HTe(n.op),value:n.value}}})(t):t instanceof Qi?(function(n){const r=n.getFilters().map((i=>xj(i)));return r.length===1?r[0]:{compositeFilter:{op:GTe(n.op),filters:r}}})(t):ze(54877,{filter:t})}function $Te(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Cj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Ij(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,o=je.min(),s=je.min(),u=ar.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KTe{constructor(e){this.yt=e}}function YTe(t){const e=zTe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WTe{constructor(){this.Sn=new JTe}addToCollectionParentIndex(e,n){return this.Sn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Vs.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class JTe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pj=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(Pj,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Hc(0)}static ar(){return new Hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="LruGarbageCollector",XTe=1048576;function EU([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class QTe{constructor(e){this.Pr=e,this.buffer=new Dn(EU),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();EU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZTe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(bU,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pf(n)?Pe(bU,"Ignoring IndexedDB error during garbage collection: ",n):await hf(n)}await this.Ar(3e5)}))}}class eSe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(i0.ce);const r=new QTe(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(_U)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_U):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),lc()<=ut.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function tSe(t,e){return new eSe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nSe{constructor(){this.changes=new fu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rSe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iSe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jd(r.mutation,i,Gi.empty(),qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const i=Ul();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Vd();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ul();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=Ia();const s=Wd(),u=(function(){return Wd()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof du)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Jd(h.mutation,f,h.mutation.getFieldMask(),qt.now())):s.set(f.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new rSe(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Wd();let i=new Jt(((s,u)=>s-u)),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Gi.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||rt()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=cj();h.forEach((g=>{if(!o.has(g)){const E=gj(n.get(g),r.get(g));E!==null&&p.set(g,E),o=o.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ge.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return oTe(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(Ul());let u=Th,c=o;return s.next((f=>ge.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?ge.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,rt()))).next((h=>({batchId:u,changes:uj(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Vd();return this.indexManager.getCollectionParents(e,o).next((u=>ge.forEach(u,(c=>{const f=(function(p,g){return new mf(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,dr.newInvalidDocument(h)))}));let u=Vd();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&Jd(h.mutation,f,Gi.empty(),qt.now()),l0(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oSe{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ge.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Lo(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:YTe(i.bundledQuery),readTime:Lo(i.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aSe{constructor(){this.overlays=new Jt(Be.comparator),this.Lr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ul();return ge.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Ul(),o=n.length+1,s=new Be(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Ul(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ul(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return ge.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wTe(n,r));let o=this.Lr.get(n);o===void 0&&(o=rt(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.kr=new Dn(jn.Kr),this.qr=new Dn(jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new jn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Be(new Lt([])),r=new jn(n,e),i=new jn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Be(new Lt([])),r=new jn(n,e),i=new jn(n,e+1);let o=rt();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new jn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Be.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lSe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Dn(jn.Kr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new STe(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new jn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(s)}lookupMutationBatch(e,n){return ge.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?NC:this.Yn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const u=this.Zr(s.Hr);o.push(u)})),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(nt);return n.forEach((i=>{const o=new jn(i,0),s=new jn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(u=>{r=r.add(u.Hr)}))})),ge.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const s=new jn(new Be(o),0);let u=new Dn(nt);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),s),ge.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){bt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ge.forEach(n.mutations,(i=>{const o=new jn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new jn(n,0),i=this.Jr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uSe{constructor(e){this.ti=e,this.docs=(function(){return new Jt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=Ia();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ia();const s=n.path,u=new Be(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||kEe(OEe(h),r)<=0||(i.has(h.key)||l0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ze(9500)}ni(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cSe(this)}getSize(e){return ge.resolve(this.size)}}class cSe extends nSe{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fSe{constructor(e){this.persistence=e,this.ri=new fu((n=>kC(n)),LC),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new jC,this.targetCount=0,this.oi=Hc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ge.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Hc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.lr(n),ge.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ge.waitFor(o).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this._i={},this.overlays={},this.ai=new i0(0),this.ui=!1,this.ui=!0,this.ci=new sSe,this.referenceDelegate=e(this),this.li=new fSe(this),this.indexManager=new WTe,this.remoteDocumentCache=(function(i){return new uSe(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new KTe(n),this.Pi=new oSe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aSe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new lSe(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new dSe(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ge.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class dSe extends VEe{constructor(e){super(),this.currentSequenceNumber=e}}class HC{constructor(e){this.persistence=e,this.Ri=new jC,this.Ai=null}static Vi(e){return new HC(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,(r=>{const i=Be.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,je.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jy{constructor(e,n){this.persistence=e,this.fi=new fu((r=>FEe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=tSe(this,n)}static Vi(e,n){return new Jy(e,n)}Ti(){}Ii(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ge.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ge.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((u=>{u||(r++,o.removeEntry(s,je.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sg(e.data.value)),n}wr(e,n,r){return ge.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=rt(),i=rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new GC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pSe{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tbe()?8:UEe(Z_e())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new hSe;return this.ys(e,n,s).next((u=>{if(o.result=u,this.As)return this.ws(e,n,s,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(lc()<=ut.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(lc()<=ut.DEBUG&&Pe("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(lc()<=ut.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oo(n))):ge.resolve())}gs(e,n){if(uU(n))return ge.resolve(null);let r=Oo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=$y(n,null,"F"),r=Oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=rt(...o);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,s,c.readTime)?this.gs(e,$y(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return uU(n)||i.isEqual(je.min())?ge.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?ge.resolve(null):(lc()<=ut.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.Ds(e,s,n,DEe(i,Th)).next((u=>u)))}))}bs(e,n){let r=new Dn(sj(e));return n.forEach(((i,o)=>{l0(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return lc()<=ut.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",uc(n)),this.fs.getDocumentsMatchingQuery(e,n,Vs.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="LocalStore",mSe=3e8;class gSe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Jt(nt),this.Fs=new fu((o=>kC(o)),LC),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iSe(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ySe(t,e,n,r){return new gSe(t,e,n,r)}async function Mj(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let c=rt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function vSe(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,g=p.keys();let E=ge.resolve();return g.forEach((S=>{E=E.next((()=>h.getEntry(c,S))).next((A=>{const w=f.docVersions.get(S);bt(w!==null,48541),A.version.compareTo(w)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Nj(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _Se(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(ar.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),(function(A,w,I){return A.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=mSe?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(g,E,h)&&u.push(n.li.updateTargetData(o,E))}));let c=Ia(),f=rt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(bSe(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(je.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ge.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function bSe(t,e,n){let r=rt(),i=rt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=Ia();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Pe($C,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function ESe(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=NC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TSe(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ge.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new ws(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Ow(t,e,n){const r=$e(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!pf(s))throw s;Pe($C,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function TU(t,e,n){const r=$e(t);let i=je.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=$e(c),g=p.Fs.get(h);return g!==void 0?ge.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,s,Oo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:je.min(),n?o:rt()))).next((u=>(SSe(r,lTe(e),u),{documents:u,ks:o})))))}function SSe(t,e,n){let r=t.Ms.get(e)||je.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class SU{constructor(){this.activeTargetIds=pTe()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wSe{constructor(){this.vo=new SU,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new SU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="ConnectivityMonitor";class AU{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(wU,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(wU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=null;function kw(){return ag===null?ag=(function(){return 268435456+Math.round(2147483648*Math.random())})():ag++,"0x"+ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="RestConnection",xSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class CSe{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===jy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=kw(),u=this.Qo(e,n.toUriEncodedString());Pe(PT,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=IC(f);return this.zo(e,u,c,r,h).then((p=>(Pe(PT,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw ru(PT,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+df})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=xSe[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ISe{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection",Rd=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Pc extends CSe{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pc.c_){const e=Vq();Rd(e,Lq.STAT_EVENT,(n=>{n.stat===Sw.PROXY?Pe(ur,"STAT_EVENT: detected buffering proxy"):n.stat===Sw.NOPROXY&&Pe(ur,"STAT_EVENT: detected no buffering proxy")})),Pc.c_=!0}}zo(e,n,r,i,o){const s=kw();return new Promise(((u,c)=>{const f=new Oq;f.setWithCredentials(!0),f.listenOnce(kq.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Tg.NO_ERROR:const p=f.getResponseJson();Pe(ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Tg.TIMEOUT:Pe(ur,`RPC '${e}' ${s} timed out`),c(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:const g=f.getStatus();if(Pe(ur,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=(function(I){const O=I.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(O)>=0?O:me.UNKNOWN})(S.status);c(new Ie(A,S.message))}else c(new Ie(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Pe(ur,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Pe(ur,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=kw(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Pe(ur,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=s.createWebChannel(f,u);this.I_(h);let p=!1,g=!1;const E=new ISe({Ho:S=>{g?Pe(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(Pe(ur,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Pe(ur,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return Rd(h,Ld.EventType.OPEN,(()=>{g||(Pe(ur,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),Rd(h,Ld.EventType.CLOSE,(()=>{g||(g=!0,Pe(ur,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(h))})),Rd(h,Ld.EventType.ERROR,(S=>{g||(g=!0,ru(ur,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new Ie(me.UNAVAILABLE,"The operation could not be completed")))})),Rd(h,Ld.EventType.MESSAGE,(S=>{var A;if(!g){const w=S.data[0];bt(!!w,16349);const I=w,O=(I==null?void 0:I.error)||((A=I[0])==null?void 0:A.error);if(O){Pe(ur,`RPC '${e}' stream ${i} received error:`,O);const k=O.status;let B=(function(M){const D=Tn[M];if(D!==void 0)return vj(D)})(k),F=O.message;k==="NOT_FOUND"&&F.includes("database")&&F.includes("does not exist")&&F.includes(this.databaseId.database)&&ru(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=me.INTERNAL,F="Unknown error status: "+k+" with message "+O.message),g=!0,E.o_(new Ie(B,F)),h.close()}else Pe(ur,`RPC '${e}' stream ${i} received:`,w),E.__(w)}})),Pc.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Uq()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PSe(t){return new Pc(t)}function RT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return new DTe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pc.c_=!1;class Dj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="PersistentStream";class Oj{constructor(e,n,r,i,o,s,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Ca(n.toString()),Ca("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(xU,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Pe(xU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RSe extends Oj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LTe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?je.min():s.readTime?Lo(s.readTime):je.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Dw(this.serializer),n.addTarget=(function(o,s){let u;const c=s.target;if(u=Iw(c)?{documents:BTe(o,c)}:{query:FTe(o,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=Ej(o,s.resumeToken);const f=Rw(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(je.min())>0){u.readTime=Wy(o,s.snapshotVersion.toTimestamp());const f=Rw(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=qTe(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Dw(this.serializer),n.removeTarget=e,this.K_(n)}}class MSe extends Oj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UTe(e.writeResults,e.commitTime),r=Lo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>VTe(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NSe{}class DSe extends NSe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,Mw(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(me.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,Mw(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(me.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OSe(t,e,n,r){return new DSe(t,e,n,r)}class kSe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ca(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="RemoteStore";class LSe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{hu(this)&&(Pe(iu,"Restarting streams for network reachability change."),await(async function(c){const f=$e(c);f.Ea.add(4),await np(f),f.Va.set("Unknown"),f.Ea.delete(4),await h0(f)})(this))}))})),this.Va=new kSe(r,i)}}async function h0(t){if(hu(t))for(const e of t.Ra)await e(!0)}async function np(t){for(const e of t.Ra)await e(!1)}function kj(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),JC(n)?WC(n):gf(n).O_()&&YC(n,e))}function KC(t,e){const n=$e(t),r=gf(n);n.Ia.delete(e),r.O_()&&Lj(n,e),n.Ia.size===0&&(r.O_()?r.L_():hu(n)&&n.Va.set("Unknown"))}function YC(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gf(t).Z_(e)}function Lj(t,e){t.da.$e(e),gf(t).X_(e)}function WC(t){t.da=new PTe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gf(t).start(),t.Va.ua()}function JC(t){return hu(t)&&!gf(t).x_()&&t.Ia.size>0}function hu(t){return $e(t).Ea.size===0}function Vj(t){t.da=void 0}async function VSe(t){t.Va.set("Online")}async function USe(t){t.Ia.forEach(((e,n)=>{YC(t,e)}))}async function BSe(t,e){Vj(t),JC(t)?(t.Va.ha(e),WC(t)):t.Va.set("Unknown")}async function FSe(t,e,n){if(t.Va.set("Online"),e instanceof bj&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Pe(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xy(t,r)}else if(e instanceof xg?t.da.Xe(e):e instanceof _j?t.da.st(e):t.da.tt(e),!n.isEqual(je.min()))try{const r=await Nj(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.da.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(ar.EMPTY_BYTE_STRING,h.snapshotVersion)),Lj(o,c);const p=new ws(h.target,c,f,h.sequenceNumber);YC(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Pe(iu,"Failed to raise snapshot:",r),await Xy(t,r)}}async function Xy(t,e,n){if(!pf(e))throw e;t.Ea.add(1),await np(t),t.Va.set("Offline"),n||(n=()=>Nj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(iu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await h0(t)}))}function Uj(t,e){return e().catch((n=>Xy(t,n,e)))}async function p0(t){const e=$e(t),n=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:NC;for(;zSe(e);)try{const i=await ESe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,qSe(e,i)}catch(i){await Xy(e,i)}Bj(e)&&Fj(e)}function zSe(t){return hu(t)&&t.Ta.length<10}function qSe(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Bj(t){return hu(t)&&!zs(t).x_()&&t.Ta.length>0}function Fj(t){zs(t).start()}async function jSe(t){zs(t).ra()}async function HSe(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function GSe(t,e,n){const r=t.Ta.shift(),i=FC.from(r,e,n);await Uj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await p0(t)}async function $Se(t,e){e&&zs(t).Y_&&await(async function(r,i){if((function(s){return xTe(s)&&s!==me.ABORTED})(i.code)){const o=r.Ta.shift();zs(r).B_(),await Uj(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await p0(r)}})(t,e),Bj(t)&&Fj(t)}async function CU(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Pe(iu,"RemoteStore received new credentials");const r=hu(n);n.Ea.add(3),await np(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await h0(n)}async function KSe(t,e){const n=$e(t);e?(n.Ea.delete(2),await h0(n)):e||(n.Ea.add(2),await np(n),n.Va.set("Unknown"))}function gf(t){return t.ma||(t.ma=(function(n,r,i){const o=$e(n);return o.sa(),new RSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:VSe.bind(null,t),Yo:USe.bind(null,t),t_:BSe.bind(null,t),J_:FSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),JC(t)?WC(t):t.Va.set("Unknown")):(await t.ma.stop(),Vj(t))}))),t.ma}function zs(t){return t.fa||(t.fa=(function(n,r,i){const o=$e(n);return o.sa(),new MSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jSe.bind(null,t),t_:$Se.bind(null,t),ta:HSe.bind(null,t),na:GSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await p0(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(iu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new XC(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QC(t,e){if(Ca("AsyncQueue",`${e}: ${t}`),pf(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{static emptySet(e){return new Rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Vd(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.ga=new Jt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Gc{constructor(e,n,r,i,o,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Gc(e,n,Rc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YSe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class WSe{constructor(){this.queries=PU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=$e(n),o=i.queries;i.queries=PU(),o.forEach(((s,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Ie(me.ABORTED,"Firestore shutting down"))}}function PU(){return new fu((t=>aj(t)),s0)}async function JSe(t,e){const n=$e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new YSe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=QC(s,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&ZC(n)}async function XSe(t,e){const n=$e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QSe(t,e){const n=$e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.ba)u.Fa(i)&&(r=!0);s.wa=i}}r&&ZC(n)}function ZSe(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function ZC(t){t.Ca.forEach((e=>{e.next()}))}var Lw,RU;(RU=Lw||(Lw={})).Ma="default",RU.Cache="cache";class ewe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.key=e}}class qj{constructor(e){this.key=e}}class twe{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=sj(e),this.tu=new Rc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new IU,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),E=l0(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let w=!1;g&&E?g.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),w=!0):this.su(g,E)||(r.track({type:2,doc:E}),w=!0,(c&&this.eu(E,c)>0||f&&this.eu(E,f)<0)&&(u=!0)):!g&&E?(r.track({type:0,doc:E}),w=!0):g&&!E&&(r.track({type:1,doc:g}),w=!0,(c||f)&&(u=!0)),w&&(E?(s=s.add(E),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(E,S){const A=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:w})}};return A(E)-A(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Gc(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IU,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new qj(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new zj(r))})),n}cu(e){this.Za=e.ks,this.Ya=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const e1="SyncEngine";class nwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rwe{constructor(e){this.key=e,this.hu=!1}}class iwe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new fu((u=>aj(u)),s0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jt(Be.comparator),this.Au=new Map,this.Vu=new jC,this.du={},this.mu=new Map,this.fu=Hc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function owe(t,e,n=!0){const r=Yj(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await jj(r,e,n,!0),i}async function awe(t,e){const n=Yj(t);await jj(n,e,!0,!1)}async function jj(t,e,n,r){const i=await TSe(t.localStore,Oo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await swe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kj(t.remoteStore,i),u}async function swe(t,e,n,r,i){t.pu=(p,g,E)=>(async function(A,w,I,O){let k=w.view.ru(I);k.Ss&&(k=await TU(A.localStore,w.query,!1).then((({documents:M})=>w.view.ru(M,k))));const B=O&&O.targetChanges.get(w.targetId),F=O&&O.targetMismatches.get(w.targetId)!=null,V=w.view.applyChanges(k,A.isPrimaryClient,B,F);return NU(A,w.targetId,V.au),V.snapshot})(t,p,g,E);const o=await TU(t.localStore,e,!0),s=new twe(e,o.ks),u=s.ru(o.documents),c=tp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);NU(t,n,f.au);const h=new nwe(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function lwe(t,e,n){const r=$e(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!s0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ow(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KC(r.remoteStore,i.targetId),Vw(r,i.targetId)})).catch(hf)):(Vw(r,i.targetId),await Ow(r.localStore,i.targetId,!0))}async function uwe(t,e){const n=$e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KC(n.remoteStore,r.targetId))}async function cwe(t,e,n){const r=ywe(t);try{const i=await(function(s,u){const c=$e(s),f=qt.now(),h=u.reduce(((E,S)=>E.add(S.key)),rt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=Ia(),A=rt();return c.xs.getEntries(E,h).next((w=>{S=w,S.forEach(((I,O)=>{O.isValidDocument()||(A=A.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,S))).next((w=>{p=w;const I=[];for(const O of u){const k=ETe(O,p.get(O.key).overlayedDocument);k!=null&&I.push(new du(O.key,k,Qq(k.value.mapValue),ko.exists(!0)))}return c.mutationQueue.addMutationBatch(E,f,I,u)})).next((w=>{g=w;const I=w.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(E,w.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:uj(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.du[s.currentUser.toKey()];f||(f=new Jt(nt)),f=f.insert(u,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await rp(r,i.changes),await p0(r.remoteStore)}catch(i){const o=QC(i,"Failed to persist write");n.reject(o)}}async function Hj(t,e){const n=$e(t);try{const r=await _Se(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?bt(s.hu,14607):i.removedDocuments.size>0&&(bt(s.hu,42227),s.hu=!1))})),await rp(n,r,e)}catch(r){await hf(r)}}function MU(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=$e(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(u)&&(f=!0)})),f&&ZC(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fwe(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Jt(Be.comparator);s=s.insert(o,dr.newNoDocument(o,je.min()));const u=rt().add(o),c=new f0(je.min(),new Map,new Jt(nt),s,u);await Hj(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),t1(r)}else await Ow(r.localStore,e,!1).then((()=>Vw(r,e,n))).catch(hf)}async function dwe(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await vSe(n.localStore,e);$j(n,r,null),Gj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rp(n,i)}catch(i){await hf(i)}}async function hwe(t,e,n){const r=$e(t);try{const i=await(function(s,u){const c=$e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(bt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);$j(r,e,n),Gj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rp(r,i)}catch(i){await hf(i)}}function Gj(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $j(t,e,n){const r=$e(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Vw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Kj(t,r)}))}function Kj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(KC(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),t1(t))}function NU(t,e,n){for(const r of n)r instanceof zj?(t.Vu.addReference(r.key,e),pwe(t,r)):r instanceof qj?(Pe(e1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Kj(t,r.key)):ze(19791,{wu:r})}function pwe(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Pe(e1,"New document in limbo: "+n),t.Eu.add(r),t1(t))}function t1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new rwe(n)),t.Ru=t.Ru.insert(n,r),kj(t.remoteStore,new ws(Oo(VC(n.path)),r,"TargetPurposeLimboResolution",i0.ce))}}async function rp(t,e,n){const r=$e(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=GC.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=$e(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ge.forEach(f,(g=>ge.forEach(g.Ts,(E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E))).next((()=>ge.forEach(g.Is,(E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))))))}catch(p){if(!pf(p))throw p;Pe($C,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const E=h.vs.get(g),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(g,A)}}})(r.localStore,o))}async function mwe(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Pe(e1,"User change. New user:",e.toKey());const r=await Mj(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ie(me.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rp(n,r.Ns)}}function gwe(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let i=rt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function Yj(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fwe.bind(null,e),e.Pu.J_=QSe.bind(null,e.eventManager),e.Pu.yu=ZSe.bind(null,e.eventManager),e}function ywe(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hwe.bind(null,e),e}class Qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=d0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ySe(this.persistence,new pSe,e.initialUser,this.serializer)}Cu(e){return new Rj(HC.Vi,this.serializer)}Du(e){return new wSe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qy.provider={build:()=>new Qy};class vwe extends Qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof Jy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZTe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new Rj((r=>Jy.Vi(r,n)),this.serializer)}}class Uw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mwe.bind(null,this.syncEngine),await KSe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WSe})()}createDatastore(e){const n=d0(e.databaseInfo.databaseId),r=PSe(e.databaseInfo);return OSe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new LSe(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>MU(this.syncEngine,n,0)),(function(){return AU.v()?new AU:new ASe})())}createSyncEngine(e,n){return(function(i,o,s,u,c,f,h){const p=new iwe(i,o,s,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=$e(i);Pe(iu,"RemoteStore shutting down."),o.Ea.add(5),await np(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Uw.provider={build:()=>new Uw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _we{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ca("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class bwe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=MC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Pe(qs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Pe(qs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function MT(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Mj(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ewe(t);Pe(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>CU(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>CU(e.remoteStore,i))),t._onlineComponents=e}async function Ewe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(qs,"Using user provided OfflineComponentProvider");try{await MT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ru("Error using user provided cache. Falling back to memory cache: "+n),await MT(t,new Qy)}}else Pe(qs,"Using default OfflineComponentProvider"),await MT(t,new vwe(void 0));return t._offlineComponents}async function Wj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(qs,"Using user provided OnlineComponentProvider"),await DU(t,t._uninitializedComponentsProvider._online)):(Pe(qs,"Using default OnlineComponentProvider"),await DU(t,new Uw))),t._onlineComponents}function Twe(t){return Wj(t).then((e=>e.syncEngine))}async function OU(t){const e=await Wj(t),n=e.eventManager;return n.onListen=owe.bind(null,e.syncEngine),n.onUnlisten=lwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=awe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uwe.bind(null,e.syncEngine),n}function Swe(t,e,n,r){const i=new _we(r),o=new ewe(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>JSe(await OU(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>XSe(await OU(t),o)))}}function wwe(t,e){const n=new Hl;return t.asyncQueue.enqueueAndForget((async()=>cwe(await Twe(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe="ComponentProvider",kU=new Map;function xwe(t,e,n,r,i){return new jEe(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Jj(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firestore.googleapis.com",LU=!0;class VU{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xj,this.ssl=LU}else this.host=e.host,this.ssl=e.ssl??LU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XTe)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NEe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TEe;switch(r.type){case"firstParty":return new xEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kU.get(n);r&&(Pe(Awe,"Removing Datastore"),kU.delete(n),r.terminate())})(this),Promise.resolve()}}function Cwe(t,e,n,r={}){var f;t=Ic(t,m0);const i=IC(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Y_e(`https://${u}`),Q_e("Firestore",!0)),o.host!==Xj&&o.host!==u&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!By(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=fr.MOCK_USER;else{h=W_e(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ie(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fr(g)}t._authCredentials=new SEe(new Fq(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}toJSON(){return{type:Nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zh(n,Nn._jsonSchema))return new Nn(e,r||null,new Be(Lt.fromString(n.referencePath)))}}Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:xn("string",Nn._jsonSchemaVersion),referencePath:xn("string")};class Ms extends Ws{constructor(e,n,r){super(e,n,VC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Be(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Qj(t,e,...n){if(t=tu(t),zq("collection","path",e),t instanceof m0){const r=Lt.fromString(e,...n);return WV(r),new Ms(t,null,r)}{if(!(t instanceof Nn||t instanceof Ms))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return WV(r),new Ms(t.firestore,null,r)}}function Zj(t,e,...n){if(t=tu(t),arguments.length===1&&(e=MC.newId()),zq("doc","path",e),t instanceof m0){const r=Lt.fromString(e,...n);return YV(r),new Nn(t,null,new Be(r))}{if(!(t instanceof Nn||t instanceof Ms))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return YV(r),new Nn(t.firestore,t instanceof Ms?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="AsyncQueue";class BU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dj(this,"async_queue_retry"),this._c=()=>{const r=RT();r&&Pe(UU,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=RT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=RT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pf(e))throw e;Pe(UU,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ca("INTERNAL UNHANDLED ERROR: ",FU(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XC.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&ze(47125,{Pc:FU(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ph extends m0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BU(e),this._firestoreClient=void 0,await e}}}function Iwe(t,e){const n=typeof t=="object"?t:lEe(),r=typeof t=="string"?t:jy,i=rEe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$_e("firestore");o&&Cwe(i,...o)}return i}function e9(t){if(t._terminated)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pwe(t),t._firestoreClient}function Pwe(t){var r,i,o,s;const e=t._freezeSettings(),n=xwe(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bwe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(ar.fromBase64String(e))}catch(n){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zh(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:xn("string",yi._jsonSchemaVersion),bytes:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vo._jsonSchemaVersion}}static fromJSON(e){if(Zh(e,Vo._jsonSchema))return new Vo(e.latitude,e.longitude)}}Vo._jsonSchemaVersion="firestore/geoPoint/1.0",Vo._jsonSchema={type:xn("string",Vo._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zh(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new Ie(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:xn("string",Ji._jsonSchemaVersion),vectorValues:xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rwe=/^__.*__$/;class Mwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new du(e,this.data,this.fieldMask,n,this.fieldTransforms):new ep(e,this.data,n,this.fieldTransforms)}}function r9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:t})}}class n1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(r9(this.dataSource)&&Rwe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Nwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||d0(e)}createContext(e,n,r,i=!1){return new n1({dataSource:e,methodName:n,targetDoc:r,path:ir.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i9(t){const e=t._freezeSettings(),n=d0(t._databaseId);return new Nwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dwe(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);s9("Data must be an object, but it was:",s,r);const u=o9(r,s);let c,f;if(o.merge)c=new Gi(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=g0(e,p,n);if(!s.contains(g))throw new Ie(me.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Vwe(h,g)||h.push(g)}c=new Gi(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new Mwe(new gi(u),c,f)}function Owe(t,e,n,r=!1){return r1(n,t.createContext(r?4:3,e))}function r1(t,e){if(a9(t=tu(t)))return s9("Unsupported field value:",e,t),o9(t,e);if(t instanceof n9)return(function(r,i){if(!r9(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let c=r1(u,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=tu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mTe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qt.fromDate(r);return{timestampValue:Wy(i.serializer,o)}}if(r instanceof qt){const o=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wy(i.serializer,o)}}if(r instanceof Vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yi)return{bytesValue:Ej(i.serializer,r._byteString)};if(r instanceof Nn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ji)return(function(s,u){const c=s instanceof Ji?s.toArray():s;return{mapValue:{fields:{[Jq]:{stringValue:Xq},[Hy]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return UC(u.serializer,h)}))}}}}}})(r,i);if(Ij(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${r0(r)}`)})(t,e)}function o9(t,e){const n={};return Hq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cu(t,((r,i)=>{const o=r1(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function a9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Vo||t instanceof yi||t instanceof Nn||t instanceof n9||t instanceof Ji||Ij(t))}function s9(t,e,n){if(!a9(n)||!qq(n)){const r=r0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function g0(t,e,n){if((e=tu(e))instanceof t9)return e._internalPath;if(typeof e=="string")return Lwe(t,e);throw Zy("Field path arguments must be of type string or ",t,!1,void 0,n)}const kwe=new RegExp("[~\\*/\\[\\]]");function Lwe(t,e,n){if(e.search(kwe)>=0)throw Zy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t9(...e.split("."))._internalPath}catch{throw Zy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(me.INVALID_ARGUMENT,u+t+c)}function Vwe(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cu(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Hy].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>hn(s.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Vo(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const n=Us(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);bt(Cj(r),9688,{name:e});const i=new wh(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||Ca(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9 extends Uwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}const zU="@firebase/firestore",qU="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(g0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bwe extends u9{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class o1 extends i1{}function zwe(t,e,...n){let r=[];e instanceof i1&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((c=>c instanceof s1)).length,u=o.filter((c=>c instanceof a1)).length;if(s>1||s>0&&u>0)throw new Ie(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class a1 extends o1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new a1(e,n,r)}_apply(e){const n=this._parse(e);return c9(e._query,n),new Ws(e.firestore,e.converter,Pw(e._query,n))}_parse(e){const n=i9(e.firestore);return(function(o,s,u,c,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$U(p,h);const S=[];for(const A of p)S.push(GU(c,o,A));g={arrayValue:{values:S}}}else g=GU(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$U(p,h),g=Owe(u,s,p,h==="in"||h==="not-in");return wn.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class s1 extends i1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const c of u)c9(s,c),s=Pw(s,c)})(e._query,n),new Ws(e.firestore,e.converter,Pw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l1 extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new l1(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(o,s)})(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,sTe(e._query,n))}}function HU(t,e="asc"){const n=e,r=g0("orderBy",t);return l1._create(r,n)}class u1 extends o1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new u1(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,$y(e._query,this._limit,this._limitType))}}function qwe(t){return u1._create("limit",t,"F")}function GU(t,e,n){if(typeof(n=tu(n))=="string"){if(n==="")throw new Ie(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oj(e)&&n.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Be.isDocumentKey(r))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rU(t,new Be(r))}if(n instanceof Nn)return rU(t,n._key);throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(n)}.`)}function $U(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c9(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function jwe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Bd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends u9{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:xn("string",Gl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class Cg extends Gl{data(e={}){return super.data(e)}}class Mc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Cg(this._firestore,this._userDataWriter,r.key,r,new Bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Cg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Cg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:Hwe(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=MC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mc._jsonSchemaVersion="firestore/querySnapshot/1.0",Mc._jsonSchema={type:xn("string",Mc._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};function Gwe(t){return f9(Ic(t.firestore,Ph),[new BC(t._key,ko.none())])}function $we(t,e){const n=Ic(t.firestore,Ph),r=Zj(t),i=jwe(t.converter,e),o=i9(t.firestore);return f9(n,[Dwe(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ko.exists(!1))]).then((()=>r))}function Kwe(t,...e){var f,h,p;t=tu(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jU(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jU(e[r])){const g=e[r];e[r]=(f=g.next)==null?void 0:f.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let o,s,u;if(t instanceof Nn)s=Ic(t.firestore,Ph),u=VC(t._key.path),o={next:g=>{e[r]&&e[r](Ywe(s,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Ic(t,Ws);s=Ic(g.firestore,Ph),u=g._query;const E=new l9(s);o={next:S=>{e[r]&&e[r](new Mc(s,E,g,S))},error:e[r+1],complete:e[r+2]},Fwe(t._query)}const c=e9(s);return Swe(c,u,i,o)}function f9(t,e){const n=e9(t);return wwe(n,e)}function Ywe(t,e,n){const r=n.docs.get(e._key),i=new l9(t);return new Gl(t,i,e._key,r,new Bd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){EEe(sEe),zy(new bh("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new Ph(new wEe(r.getProvider("auth-internal")),new CEe(s,r.getProvider("app-check-internal")),HEe(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Cc(zU,qU,e),Cc(zU,qU,"esm2020")})();const Wwe={apiKey:"AIzaSyAUmcuxm_Z6pk3TZ3QIWW1J-wGWJDv2T7Y",authDomain:"game10-22e63.firebaseapp.com",projectId:"game10-22e63",storageBucket:"game10-22e63.firebasestorage.app",messagingSenderId:"546602582151",appId:"1:546602582151:web:08c031d16303fea86bf822"},Jwe=Rq(Wwe),Bw=Iwe(Jwe),NT={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},Xwe=[{id:1,name:"Digital Spark",icon:""},{id:2,name:"Smart Apps",icon:""},{id:3,name:"Virtual Class",icon:""},{id:4,name:"Cloud Library",icon:""},{id:5,name:"Blended Learning",icon:""},{id:6,name:"AI Assistant",icon:""},{id:7,name:"Global Classroom",icon:""},{id:8,name:"Innovation Lab",icon:""}],Qwe=({onGameOver:t,onWin:e})=>{var D;const[n,r]=C.useState(0),[i,o]=C.useState([]),[s,u]=C.useState(null),[c,f]=C.useState(null),[h,p]=C.useState(0),{isHighlighterActive:g,toggleHighlighter:E,addHighlight:S,renderHighlightedText:A}=XU(),w="learning-quest-main",[I]=Ec(NT.correct),[O]=Ec(NT.incorrect),[k]=Ec(NT.levelUp);C.useEffect(()=>{const N=[...OY];o(N)},[]);const B=N=>{if(c||s)return;const z=i[n];f(N),N===z.correctAnswerId?(I(),p(j=>j+10),u("correct")):(O(),u("incorrect"))},F=()=>{u(null),f(null),n<7?(k(),r(N=>N+1)):e(h)};if(i.length===0)return U.jsx("div",{children:"Loading..."});const V=i[n],M=V.options.length===3;return U.jsxs("div",{className:"flex flex-col h-[100dvh] bg-slate-50 overflow-hidden font-sans text-slate-800",children:[U.jsxs("div",{className:"bg-white p-3 shadow-sm flex flex-col md:flex-row justify-between items-center z-30 sticky top-0 border-b border-indigo-100 shrink-0 gap-2 md:gap-0",children:[U.jsxs("div",{className:"flex justify-between w-full md:w-auto items-center",children:[U.jsx("div",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-pink-600 text-lg md:text-xl tracking-wide shrink-0",children:"QUEST"}),U.jsxs("div",{className:"md:hidden text-xs font-bold bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border border-indigo-100",children:[n+1,"/8"]})]}),U.jsx("div",{className:"flex-1 w-full md:w-auto mx-0 md:mx-4 overflow-x-auto no-scrollbar mask-gradient-x",children:U.jsx("div",{className:"flex items-center gap-2 md:gap-3 w-max px-2 py-1",children:Xwe.map((N,z)=>{const j=z===n,H=z<n;return U.jsxs("div",{className:`flex flex-col items-center gap-1 transition-all duration-300 ${j?"opacity-100 scale-110":"opacity-50 scale-95"}`,children:[U.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm md:text-lg border-2 shadow-sm shrink-0
                                        ${j?"bg-indigo-600 border-indigo-200 text-white":H?"bg-emerald-500 border-emerald-300 text-white":"bg-white border-slate-200 text-slate-300"}
                                     `,children:N.icon}),j&&U.jsx("div",{className:"h-1 w-1 bg-indigo-600 rounded-full hidden md:block"})]},N.id)})})}),U.jsx("div",{className:"hidden md:flex items-center gap-2 shrink-0",children:U.jsxs("div",{className:"text-sm font-bold bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border border-indigo-100",children:["Stage ",n+1," / 8"]})})]}),U.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden min-h-0 bg-slate-100",children:[U.jsxs("div",{className:"flex-1 md:w-1/2 bg-white border-b-4 border-slate-200 md:border-b-0 md:border-r overflow-hidden flex flex-col shadow-sm relative z-10",children:[U.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 bg-white border-b border-slate-100 shrink-0",children:[U.jsx("div",{className:"flex items-center gap-2 text-indigo-600 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:U.jsx("span",{className:"bg-indigo-50 px-2 py-1 rounded-md border border-indigo-100",children:" Reading Passage"})}),U.jsxs("button",{onClick:E,className:`p-1.5 rounded-lg transition-all flex items-center gap-2 text-[10px] md:text-xs font-bold ${g?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[U.jsx(JU,{size:14,className:"md:w-3.5 md:h-3.5"}),U.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 prose prose-indigo prose-sm md:prose-lg max-w-none custom-scrollbar",children:[DY.split(`
`).map((N,z)=>N.startsWith("# ")?U.jsx("h1",{className:"text-xl md:text-3xl font-extrabold text-slate-900 mb-4 md:mb-6 leading-tight mt-0",children:N.replace("# ","")},z):N.startsWith("**")?U.jsx("h3",{className:"text-base md:text-xl font-bold text-indigo-700 mt-4 md:mt-6 mb-2 md:mb-3",children:N.replaceAll("**","")},z):U.jsx("p",{className:`mb-3 md:mb-4 text-slate-600 leading-relaxed text-sm md:text-lg ${g?"cursor-text selection:bg-yellow-200":""}`,onMouseUp:()=>S(w,z,N),onTouchEnd:()=>S(w,z,N),children:A(N,w,z)},z)),U.jsx("div",{className:"h-8"})]})]}),U.jsx("div",{className:"flex-1 md:w-1/2 relative z-20 overflow-hidden flex flex-col bg-gradient-to-br from-[#1E3A8A] to-[#E0E7FF]",children:U.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:U.jsx("div",{className:"max-w-2xl mx-auto flex flex-col justify-center min-h-full",children:s?U.jsxs(Os.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 p-6",children:[U.jsx("div",{className:`inline-block p-4 rounded-full mb-4 shadow-lg ${s==="correct"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:s==="correct"?U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:U.jsx("polyline",{points:"20 6 9 17 4 12"})}):U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),U.jsx("h2",{className:"text-xl md:text-3xl font-black mb-2 text-white drop-shadow-md",children:s==="correct"?"Correct!":"Incorrect"}),U.jsx("p",{className:"text-indigo-100 mb-6 text-sm md:text-lg font-medium",children:s==="correct"?"Great job! Ready for the next stage?":`Answer: ${(D=V.options.find(N=>N.id===V.correctAnswerId))==null?void 0:D.text}`}),U.jsx("button",{onClick:F,className:"font-bold py-3 md:py-4 px-8 md:px-12 rounded-xl shadow-xl transition-all transform hover:scale-105 active:scale-95 text-base md:text-lg w-full md:w-auto text-[#1E3A8A] bg-white hover:bg-slate-100",children:"Next Stage"})]}):U.jsxs("div",{className:"flex flex-col h-full justify-start md:justify-center",children:[U.jsxs("div",{className:"mb-4 md:mb-8 text-white",children:[U.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest mb-3 inline-block border border-white/10",children:["Question ",n+1]}),U.jsx("h3",{className:"text-lg md:text-2xl font-bold leading-snug drop-shadow-sm",children:V.question})]}),U.jsx("div",{className:`grid gap-3 ${M?"grid-cols-1 sm:grid-cols-3":"grid-cols-1 sm:grid-cols-2"} pb-8 md:pb-0`,children:V.options.map(N=>{const z=c===N.id;let j="bg-white/90",H="text-slate-700",$="border-white/50",ye="";return N.id==="T"||N.id==="True"?ye="bg-[#22C55E] text-white border-[#22C55E]":N.id==="F"||N.id==="False"?ye="bg-[#EF4444] text-white border-[#EF4444]":N.id==="DS"||N.id==="Doesn't say"?ye="bg-[#6366F1] text-white border-[#6366F1]":ye="bg-[#4F46E5] text-white border-[#4F46E5]",U.jsxs("button",{disabled:c!==null,onClick:()=>B(N.id),className:`p-3 md:p-5 rounded-xl border-2 text-left font-medium transition-all duration-200 flex sm:flex-col md:flex-row items-center justify-start gap-3 group shadow-lg hover:scale-[1.02]
                                                        ${z?ye:`${j} ${H} ${$} hover:bg-white`}
                                                    `,children:[U.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm shrink-0 transition-colors 
                                                        ${z?"bg-white/20 text-white":"bg-slate-100 text-slate-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:N.id}),U.jsx("span",{className:`text-sm md:text-lg ${M?"font-bold":""}`,children:N.text})]},N.id)})})]})})})})]})]})},Zwe=({onPlayAgain:t,onBackToMap:e})=>U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:U.jsxs(Os.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-slate-200 mx-4 md:mx-0",children:[U.jsx("div",{className:"text-5xl md:text-6xl mb-3 md:mb-4",children:""}),U.jsx("h2",{className:"text-xl md:text-2xl font-extrabold text-red-500 mb-2 uppercase",children:"INCORRECT"}),U.jsx("p",{className:"text-slate-600 mb-6 md:mb-8 font-medium text-sm md:text-base",children:"YOUR LEARNING JOURNEY STOPS HERE!"}),U.jsxs("div",{className:"space-y-3",children:[U.jsx("button",{onClick:t,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg transition-all",children:"PLAY AGAIN"}),U.jsx("button",{onClick:e,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-xl transition-all",children:"BACK TO MAP"})]})]})}),eAe=({name:t,score:e,completionTime:n,onPlayAgain:r,onLeaderboard:i})=>(C.useEffect(()=>{const s=Date.now()+3e3,u={startVelocity:30,spread:360,ticks:60,zIndex:60},c=(h,p)=>Math.random()*(p-h)+h,f=setInterval(function(){const h=s-Date.now();if(h<=0)return clearInterval(f);const p=50*(h/3e3);nh({...u,particleCount:p,origin:{x:c(.1,.3),y:Math.random()-.2}}),nh({...u,particleCount:p,origin:{x:c(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(f)},[]),U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/90 backdrop-blur-md",children:U.jsxs(Os.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.5},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-yellow-400 mx-4 md:mx-0",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400"}),U.jsx("div",{className:"text-6xl md:text-7xl mb-4 md:mb-6 filter drop-shadow-lg",children:""}),U.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-indigo-800 mb-2 uppercase tracking-wide",children:"CONGRATULATIONS!"}),U.jsxs("p",{className:"text-slate-600 mb-4 md:mb-6 font-medium text-base md:text-lg",children:[U.jsx("span",{className:"font-bold text-indigo-600",children:t}),"  YOU HAVE MASTERED NEW WAYS TO LEARN!"]}),U.jsxs("div",{className:"bg-indigo-50 rounded-xl p-3 md:p-4 mb-4 md:mb-6 border border-indigo-100 grid grid-cols-2 gap-3 md:gap-4",children:[U.jsxs("div",{children:[U.jsx("p",{className:"text-xs md:text-sm text-indigo-500 font-bold uppercase mb-1",children:"SCORE"}),U.jsxs("p",{className:"text-3xl md:text-4xl font-black text-indigo-700",children:[e," ",U.jsx("span",{className:"text-base md:text-lg font-medium text-indigo-400",children:"/ 80"})]})]}),U.jsxs("div",{children:[U.jsx("p",{className:"text-xs md:text-sm text-indigo-500 font-bold uppercase mb-1",children:"TIME"}),U.jsxs("p",{className:"text-3xl md:text-4xl font-black text-indigo-700",children:[n," ",U.jsx("span",{className:"text-base md:text-lg font-medium",children:"s"})]})]})]}),U.jsx("div",{className:"mb-6 md:mb-8",children:U.jsx("div",{className:"inline-block bg-yellow-100 text-yellow-800 px-3 py-1.5 md:px-4 md:py-2 rounded-full font-bold text-xs md:text-sm border border-yellow-200 shadow-sm",children:" DIGITAL LEARNING CHAMPION"})}),U.jsxs("div",{className:"space-y-3",children:[U.jsx("button",{onClick:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg transition-transform hover:scale-[1.02] active:scale-95 uppercase tracking-wide text-sm md:text-base",children:"LEADERBOARD"}),U.jsx("button",{onClick:r,className:"w-full bg-white hover:bg-slate-50 text-slate-700 font-bold py-3 md:py-3 rounded-xl border-2 border-slate-200 transition-all uppercase text-sm md:text-base",children:"PLAY AGAIN"})]})]})})),tAe=({onClose:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState(!1),[o,s]=C.useState([]),[u,c]=C.useState("connecting"),[f,h]=C.useState(null),p=async()=>{if(confirm("Are you sure you want to PERMANENTLY delete all leaderboard data for EVERYONE? This cannot be undone.")){localStorage.removeItem("leaderboardLEARNINGQUEST");try{const E=e.map(S=>S.id?Gwe(Zj(Bw,"leaderboard",S.id)):Promise.resolve());await Promise.all(E),alert("Leaderboard has been reset for all users.")}catch(E){console.error("Error clearing leaderboard:",E),alert("Failed to clear some online records. Check console.")}n([]),i(!1)}};C.useEffect(()=>{const E=zwe(Qj(Bw,"leaderboard"),HU("score","desc"),HU("time","asc"),qwe(1e3)),S=Kwe(E,A=>{c("connected"),h(null);const w=[];A.forEach(O=>{w.push({id:O.id,...O.data()})}),n(w.slice(0,10)),w.length>=999&&i(!0);const I=Array.from({length:8},(O,k)=>({name:`Q${k+1}`,accuracy:Math.floor(Math.random()*26)+75}));s(I)},A=>{console.error("Error getting leaderboard: ",A),c("error"),h(A.message);const w=localStorage.getItem("leaderboardLEARNINGQUEST");if(w){const I=JSON.parse(w),O=I.sort((k,B)=>{const F=k.score||0,V=B.score||0;return F!==V?V-F:k.time-B.time});n(O.slice(0,10)),I.length>=999&&i(!0)}});return()=>S()},[]);const g=[{name:"Fact Retrieval",value:5,color:"#34d399"},{name:"Critical Thinking",value:2,color:"#f472b6"},{name:"Reading Comp.",value:1,color:"#60a5fa"}];return U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-indigo-900/40 backdrop-blur-md",children:U.jsxs(Os.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-5xl overflow-hidden relative z-10 flex flex-col md:flex-row max-h-[90vh] md:max-h-[90vh] h-[90vh] md:h-auto",children:[U.jsxs("div",{className:"w-full md:w-2/3 bg-slate-50 p-4 md:p-8 flex flex-col gap-4 md:gap-6 overflow-y-auto shrink-0 md:shrink",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-xl md:text-2xl font-black text-indigo-900 mb-1",children:"Class Performance"}),U.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Real-time statistics from all players"})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[U.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[U.jsx("div",{className:"w-1 h-5 md:h-6 bg-indigo-500 rounded-full"}),U.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Correct Answer Rate"})]}),U.jsx("div",{className:"h-40 md:h-48",children:U.jsx(ay,{width:"100%",height:"100%",children:U.jsxs(bq,{data:o,children:[U.jsx(TC,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94a3b8"}}),U.jsx(SC,{hide:!0,domain:[0,100]}),U.jsx(Ry,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"10px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:E=>[`${E}%`,"Accuracy"]}),U.jsx(EC,{dataKey:"accuracy",fill:"#6366f1",radius:[4,4,0,0]})]})})})]}),U.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[U.jsx("div",{className:"w-1 h-5 md:h-6 bg-purple-500 rounded-full"}),U.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Skills Breakdown"})]}),U.jsx("div",{className:"h-40 md:h-48 flex items-center justify-center",children:U.jsx(ay,{width:"100%",height:"100%",children:U.jsxs(Tq,{children:[U.jsx(vC,{data:g,innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",stroke:"none",children:g.map((E,S)=>U.jsx(xs,{fill:E.color},`cell-${S}`))}),U.jsx(Ry,{}),U.jsx(u6,{iconType:"circle",layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]}),U.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[U.jsxs("div",{className:"bg-indigo-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-indigo-100 text-center md:text-left",children:[U.jsx("div",{className:"text-indigo-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Total Players"}),U.jsx("div",{className:"text-xl md:text-3xl font-black text-indigo-700",children:e.length})]}),U.jsxs("div",{className:"bg-emerald-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-emerald-100 text-center md:text-left",children:[U.jsx("div",{className:"text-emerald-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Fastest Time"}),U.jsx("div",{className:"text-xl md:text-3xl font-black text-emerald-700",children:e.length>0?e[0].time+"s":"-"})]}),U.jsxs("div",{className:"bg-orange-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-orange-100 text-center md:text-left",children:[U.jsx("div",{className:"text-orange-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Completion Rate"}),U.jsx("div",{className:"text-xl md:text-3xl font-black text-orange-700",children:"100%"})]})]})]}),U.jsxs("div",{className:"w-full md:w-1/3 bg-white flex flex-col border-t md:border-t-0 md:border-l border-slate-100 shadow-xl z-20 flex-1 min-h-0",children:[U.jsxs("div",{className:"p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shrink-0 relative",children:[U.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),U.jsx("h2",{className:"text-xl font-black uppercase tracking-wider mb-1",children:"Leaderboard"}),U.jsx("p",{className:"text-indigo-100 text-xs font-bold opacity-80 mb-2",children:"TOP 10 PLAYERS"}),U.jsx("button",{onClick:p,className:"text-[10px] bg-red-500/20 hover:bg-red-500/40 text-red-200 px-2 py-1 rounded border border-red-500/30 transition-colors",children:"Reset Data"}),U.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[U.jsx("span",{className:`w-2 h-2 rounded-full ${u==="connected"?"bg-emerald-400":u==="connecting"?"bg-yellow-400 animate-pulse":"bg-red-500"}`}),U.jsx("span",{className:"text-[10px] font-mono opacity-80 uppercase tracking-widest",children:u==="connected"?"LIVE SYNC":u==="error"?"OFFLINE (LOCAL)":"CONNECTING..."})]}),f&&U.jsx("div",{className:"text-[9px] text-red-200 mt-1 max-w-[200px] leading-tight bg-red-900/50 p-1 rounded",children:f})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-0",children:[r&&U.jsx("div",{className:"bg-red-100 text-red-800 text-xs font-bold p-2 text-center",children:"FULL LEADERBOARD (999 people)."}),e.length===0?U.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-8 text-center",children:[U.jsx("div",{className:"text-4xl mb-2",children:""}),U.jsx("div",{className:"font-medium text-sm",children:"No records yet."}),U.jsx("div",{className:"text-xs opacity-70",children:"Be the first to join the hall of fame!"})]}):U.jsx("div",{className:"divide-y divide-slate-50",children:e.map((E,S)=>U.jsxs("div",{className:"flex items-center p-4 hover:bg-indigo-50/50 transition-colors group",children:[U.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-xs mr-3 shrink-0 shadow-sm
                                            ${S===0?"bg-yellow-400 text-yellow-900 ring-2 ring-yellow-200":S===1?"bg-slate-300 text-slate-700":S===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400 group-hover:bg-indigo-200 group-hover:text-indigo-700"}
                                        `,children:S+1}),U.jsx("div",{className:"flex-1 min-w-0",children:U.jsx("div",{className:"font-bold text-slate-700 truncate text-sm",children:E.name})}),U.jsxs("div",{className:"font-bold text-emerald-600 text-sm shrink-0",children:[E.score||0," pts"]}),U.jsxs("div",{className:"font-black text-indigo-600 text-sm shrink-0 bg-indigo-50 px-2 py-1 rounded",children:[E.time,"s"]})]},S))})]})]})]})})},nAe=({isOpen:t,onClose:e,title:n,children:r})=>t?U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:U.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-300",children:[U.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-slate-50",children:[U.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n}),U.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:U.jsx(Fd,{size:24})})]}),U.jsx("div",{className:"p-6",children:r})]})}):null,rAe=({points:t,streak:e,onOpenSettings:n})=>U.jsx("header",{className:"sticky top-0 z-40 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm",children:U.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:U.jsx(WU,{size:20})}),U.jsx("span",{className:"font-bold text-slate-800 hidden sm:block",children:"Eng10: New Ways to Learn"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 text-amber-600 px-3 py-1 rounded-full border border-amber-100",children:[U.jsx("span",{className:"text-lg",children:""}),U.jsx("span",{className:"font-bold",children:e})]}),U.jsxs("div",{className:"flex items-center gap-1 bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full border border-emerald-100",children:[U.jsx(Fw,{size:18}),U.jsxs("span",{className:"font-bold",children:[t," pts"]})]}),U.jsx("button",{onClick:n,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors",children:U.jsx(CG,{size:20})})]})]})});function iAe(){const[t,e]=C.useState("home"),[n,r]=C.useState(MY),[i,o]=C.useState(NY),[s,u]=C.useState({apiKey:"",theme:"light",soundEnabled:!0,selectedModel:hg[0]}),[c,f]=C.useState(null),[h,p]=C.useState(0),[g,E]=C.useState(!1),[S,A]=C.useState(!1),[w,I]=C.useState(!1),[O,k]=C.useState(!1),[B,F]=C.useState(null),[V,M]=C.useState(!1),[D,N]=C.useState([]),[z,j]=C.useState(""),[H,$]=C.useState(!1),[ye,Se]=C.useState(null),[Q,oe]=C.useState(!1),[he,Te]=C.useState(null),[Y,L]=C.useState("intro"),[J,le]=C.useState(0),{isHighlighterActive:ce,toggleHighlighter:_e,addHighlight:be,renderHighlightedText:ve}=XU(),[Oe]=Ec(Bb.correct),[ie]=Ec(Bb.incorrect),[xe]=Ec(Bb.levelUp),Ce=C.useRef(null);C.useEffect(()=>{const Me=localStorage.getItem("app_settings"),He=localStorage.getItem("app_progress"),ot=localStorage.getItem("app_passages");Me&&u(JSON.parse(Me)),He&&o(JSON.parse(He)),ot&&r(JSON.parse(ot))},[]),C.useEffect(()=>{Ce.current&&Ce.current.scrollIntoView({behavior:"smooth"})},[D,V]);const fe=Me=>{u(Me),localStorage.setItem("app_settings",JSON.stringify(Me))},Ke=(Me,He)=>{const ot={...i};ot.totalPoints+=Me,ot.totalQuestionsAnswered+=1;const ft=1+Math.floor(Math.sqrt(ot.totalPoints/100));ft>(ot.level||1)?(ot.level=ft,s.soundEnabled&&xe(),$(!0)):ot.level=ft,He&&c&&(ot.completedPassages.includes(c.passageId)||ot.completedPassages.push(c.passageId)),o(ot),localStorage.setItem("app_progress",JSON.stringify(ot))},Ae=Me=>{f({passageId:Me,answers:{},score:0,startTime:Date.now(),isCompleted:!1}),p(0),E(!1),A(!1),e("learn")},Ze=Me=>{if(!c)return;const He=n.find(ln=>ln.id===c.passageId);if(!He)return;const ot=He.questions[h],ft=Me===ot.correctAnswerId,st={...c.answers,[ot.id]:Me};let Ht=c.score;ft?(Ht+=10,Ke(10,!1),s.soundEnabled&&Oe(),Se("correct")):(s.soundEnabled&&ie(),Se("incorrect")),setTimeout(()=>Se(null),2e3),f({...c,answers:st,score:Ht}),E(!0),A(!0)},it=()=>{if(!c)return;const Me=n.find(He=>He.id===c.passageId);Me&&(h<Me.questions.length-1?(p(He=>He+1),E(!1),A(!1)):(f({...c,isCompleted:!0}),Ke(0,!0)))},Ct=async()=>{if(!z.trim()||!s.apiKey)return;const Me=z;N([...D,{role:"user",text:Me}]),j("");const He=c?n.find(st=>st.id===c.passageId):null,ot=He?He.content:"General inquiry about English reading comprehension.",ft=new ane(s.apiKey);try{const st=await ft.getTutorHelp(Me,ot);N(Ht=>[...Ht,{role:"ai",text:st}])}catch{N(Ht=>[...Ht,{role:"ai",text:"Error connecting to tutor."}])}},an=Me=>{if(!c)return;const He=n.find(ot=>ot.id===c.passageId);He&&be(c.passageId,Me,He.content.split(`
`)[Me])},_t=(Me,He)=>{Te({name:Me,className:He,startTime:Date.now()}),le(0),oe(!1),L("playing")},ct=()=>{L("gameover")},Qr=Me=>{le(Me),L("win")},$o=()=>{L("intro"),Te(null),oe(!0)},Ua=()=>{if(!he)return;const Me=Math.round((Date.now()-he.startTime)/1e3),He=new Date().toISOString().slice(0,16).replace("T"," "),ot={name:he.name,className:he.className,time:Me,score:J,date:He},ft=localStorage.getItem("leaderboardLEARNINGQUEST");let st=ft?JSON.parse(ft):[];st.length<999&&(st.push(ot),localStorage.setItem("leaderboardLEARNINGQUEST",JSON.stringify(st)));try{const Ht=Qj(Bw,"leaderboard");$we(Ht,ot)}catch(Ht){console.error("Error adding to Firestore: ",Ht)}},sn=()=>{const Me=i.level||1,He=100*Math.pow(Me-1,2),ot=100*Math.pow(Me,2);return Math.min(100,Math.max(0,(i.totalPoints-He)/(ot-He)*100)),U.jsxs("div",{className:"space-y-4 md:space-y-8 animate-in slide-in-from-bottom-4 duration-500 pb-20 md:pb-0",children:[U.jsxs("div",{className:"bg-gradient-to-r from-indigo-800 to-blue-900 rounded-2xl md:rounded-3xl p-6 md:p-10 text-white shadow-xl relative overflow-hidden flex flex-col items-center text-center",children:[U.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto",children:[U.jsx("div",{className:"inline-block bg-blue-600/30 backdrop-blur-md px-4 py-1.5 rounded-lg border border-blue-400/30 text-blue-100 font-bold text-xs md:text-sm uppercase tracking-widest mb-4 md:mb-6",children:" NEW WAYS TO LEARN"}),U.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-4 md:mb-6 tracking-tight leading-tight",children:"8-Question Challenge"}),U.jsxs("div",{className:"flex justify-center items-center gap-2 text-indigo-200 text-sm md:text-lg font-medium mb-8 md:mb-10",children:[U.jsx(yG,{size:20}),U.jsx("span",{children:"Time limit: 6 minutes"})]}),U.jsx("button",{onClick:()=>oe(!0),className:"bg-white text-indigo-900 px-8 py-4 md:px-12 md:py-5 rounded-2xl font-black text-lg md:text-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(255,255,255,0.5)] hover:bg-slate-50 hover:scale-105 transition-all active:scale-95 flex items-center justify-center gap-3 mx-auto uppercase tracking-wide",children:" START CHALLENGE"})]}),U.jsx("div",{className:"absolute right-[-50px] top-[-50px] opacity-10 pointer-events-none rotate-12",children:U.jsx(bb,{size:400})}),U.jsx("div",{className:"absolute left-[-50px] bottom-[-50px] opacity-5 pointer-events-none -rotate-12",children:U.jsx(qR,{size:300})})]}),U.jsxs("div",{onClick:()=>oe(!0),className:"bg-white rounded-2xl md:rounded-3xl p-5 md:p-8 shadow-lg border border-indigo-50 relative overflow-hidden cursor-pointer hover:shadow-xl hover:border-indigo-100 transition-all group",children:[U.jsx("div",{className:"relative z-10 flex items-center justify-between",children:U.jsxs("div",{className:"flex-1",children:[U.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[U.jsx("div",{className:"bg-indigo-100 p-2 md:p-3 rounded-lg md:rounded-xl text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300",children:U.jsx(wG,{size:24,className:"md:w-8 md:h-8"})}),U.jsx("h2",{className:"text-xl md:text-2xl font-extrabold text-slate-800",children:"Learning Evolution Quest"})]}),U.jsx("p",{className:"text-slate-500 text-sm md:text-lg max-w-lg mb-4 md:mb-6 leading-relaxed",children:"Embark on a journey through 8 stages of educational evolution. Challenge yourself and become a Digital Learning Champion!"}),U.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4",children:[U.jsx("span",{className:"flex items-center gap-1 text-xs md:text-sm font-bold text-slate-400 bg-slate-100 px-2 py-1 md:px-3 rounded-full",children:"8 Stages"}),U.jsx("span",{className:"flex items-center gap-1 text-xs md:text-sm font-bold text-slate-400 bg-slate-100 px-2 py-1 md:px-3 rounded-full",children:"Story Mode"}),U.jsxs("span",{className:"text-indigo-600 font-bold text-xs md:text-sm flex items-center gap-1 group-hover:translate-x-1 transition-transform ml-auto md:ml-0",children:["Start Now ",U.jsx(Eb,{size:14,className:"md:w-4 md:h-4"})]})]})]})}),U.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 group-hover:opacity-20 transition-opacity duration-500 pointer-events-none",children:U.jsx(qR,{size:150,className:"text-indigo-600 translate-x-10 translate-y-10 md:w-[200px] md:h-[200px]"})})]})]})},Ci=()=>{if(!c)return sn();const Me=n.find(ft=>ft.id===c.passageId);if(!Me)return null;if(c.isCompleted)return U.jsxs("div",{className:"max-w-2xl mx-auto text-center pt-12 animate-in zoom-in duration-300",children:[U.jsx("div",{className:"inline-block p-6 bg-emerald-100 rounded-full text-emerald-600 mb-6",children:U.jsx(Fw,{size:64})}),U.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Lesson Complete!"}),U.jsxs("p",{className:"text-slate-500 mb-8",children:["You scored ",U.jsx("span",{className:"font-bold text-emerald-600",children:c.score})," points."]}),U.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[U.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[U.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Accuracy"}),U.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(Object.keys(c.answers).filter(ft=>{const st=Me.questions.find(Ht=>Ht.id===ft);return st&&st.correctAnswerId===c.answers[ft]}).length/Me.questions.length*100),"%"]})]}),U.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[U.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Time"}),U.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round((Date.now()-c.startTime)/1e3/60)," min"]})]})]}),U.jsxs("div",{className:"flex gap-4 justify-center",children:[U.jsx("button",{onClick:()=>f(null),className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-xl font-bold hover:bg-slate-300 transition-colors",children:"Back to Home"}),U.jsx("button",{onClick:()=>Ae(Me.id),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:"Retry Lesson"})]})]});const He=Me.questions[h],ot=!!c.answers[He.id];return U.jsxs("div",{className:"h-[calc(100vh-100px)] flex flex-row gap-2 md:gap-6 relative",children:[U.jsx(PY,{type:ye}),U.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden flex flex-col relative group",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 z-10"}),U.jsxs("div",{className:"p-2 md:p-4 bg-white/80 backdrop-blur-md border-b border-slate-100 flex justify-between items-center sticky top-0 z-10",children:[U.jsx("div",{className:"flex items-center gap-2",children:U.jsxs("h3",{className:"font-bold text-slate-800 truncate flex items-center gap-2 text-sm md:text-base",children:[U.jsx(WU,{size:18,className:"text-indigo-600"}),Me.title]})}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsxs("button",{onClick:_e,className:`p-1.5 md:p-2 rounded-lg transition-all flex items-center gap-2 text-xs md:text-sm font-bold ${ce?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[U.jsx(JU,{size:14}),U.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]}),U.jsx("span",{className:"text-[10px] md:text-xs font-bold font-mono bg-indigo-50 text-indigo-600 px-2 py-1 md:px-3 md:py-1.5 rounded-full border border-indigo-100 uppercase tracking-wide hidden sm:inline-block",children:"Reading Passage"})]})]}),U.jsx("div",{className:"p-3 md:p-8 overflow-y-auto custom-scrollbar flex-1 prose prose-slate max-w-none prose-sm md:prose-lg prose-headings:text-indigo-900 prose-p:text-slate-800 prose-p:leading-loose font-medium",style:{backgroundImage:`
                linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.6)),
                url('/reading-bg.jpg.png?v=${Date.now()}')
              `,backgroundSize:"cover",backgroundPosition:"center"},children:Me.content.split(`
`).map((ft,st)=>U.jsx("p",{className:`mb-4 md:mb-6 text-slate-800 leading-relaxed md:leading-loose text-sm md:text-lg drop-shadow-sm ${ce?"cursor-text selection:bg-red-200 selection:text-red-900":""}`,onMouseUp:()=>an(st),onTouchEnd:()=>an(st),children:ve(ft.replace(/^# /,"").trim(),c.passageId,st)},st))})]}),U.jsxs("div",{className:"flex-1 flex flex-col gap-2 md:gap-4 min-w-0",children:[U.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-3 md:p-6 flex-1 flex flex-col overflow-y-auto",children:[U.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-6",children:[U.jsxs("span",{className:"text-xs md:text-sm font-semibold text-slate-400",children:["Question ",h+1," of ",Me.questions.length]}),U.jsx("div",{className:"flex gap-1",children:Me.questions.map((ft,st)=>U.jsx("div",{className:`h-1.5 w-1.5 md:h-2 md:w-2 rounded-full ${st===h?"bg-indigo-600":st<h?"bg-indigo-200":"bg-slate-200"}`},st))})]}),U.jsx("h3",{className:"text-base md:text-xl font-bold text-slate-800 mb-3 md:mb-6",children:He.text}),U.jsx("div",{className:"space-y-2 md:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-1",children:He.options.map(ft=>{const st=c.answers[He.id]===ft.id,Ht=ft.id===He.correctAnswerId;let ln="w-full p-3 md:p-4 rounded-xl border-2 text-left transition-all duration-200 flex justify-between items-center text-sm md:text-base ";return g?Ht?ln+="bg-emerald-50 border-emerald-500 text-emerald-700 ":st&&!Ht?ln+="bg-red-50 border-red-500 text-red-700 ":ln+="bg-white border-slate-100 text-slate-400 opacity-50 ":ln+="bg-white border-slate-100 hover:border-indigo-300 hover:bg-indigo-50 text-slate-700 ",U.jsxs("button",{onClick:()=>!ot&&Ze(ft.id),disabled:ot,className:ln,children:[U.jsx("span",{className:"font-medium pr-2",children:ft.text}),g&&Ht&&U.jsx(DT,{size:16,className:"text-emerald-500 shrink-0"}),g&&st&&!Ht&&U.jsx(Fd,{size:16,className:"text-red-500 shrink-0"})]},ft.id)})}),g&&U.jsxs("div",{className:"mt-4 md:mt-6 animate-in slide-in-from-bottom-2",children:[S&&U.jsxs("div",{className:"bg-indigo-50 p-3 md:p-4 rounded-lg text-xs md:text-sm text-indigo-800 mb-3 md:mb-4 border border-indigo-100 max-h-32 overflow-y-auto custom-scrollbar",children:[U.jsxs("p",{className:"font-bold flex items-center gap-2 mb-1",children:[U.jsx(bb,{size:14})," Explanation:"]}),He.explanation]}),U.jsx("button",{onClick:it,className:"w-full bg-indigo-600 text-white py-2 md:py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-md text-sm md:text-base",children:h===Me.questions.length-1?"Finish Lesson":"Next Question"})]})]}),U.jsxs("button",{onClick:()=>M(!0),className:"bg-indigo-600 text-white p-3 md:p-4 rounded-xl shadow-lg flex items-center justify-between hover:bg-indigo-700 transition-colors",children:[U.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[U.jsx("div",{className:"bg-white/20 p-1.5 md:p-2 rounded-lg",children:U.jsx(zR,{size:16,className:"md:w-5 md:h-5"})}),U.jsxs("div",{className:"text-left",children:[U.jsx("div",{className:"font-bold text-xs md:text-sm",children:"Need help?"}),U.jsx("div",{className:"text-[10px] md:text-xs text-indigo-200 hidden sm:block",children:"Ask the AI Tutor about this text"})]})]}),U.jsx(Eb,{size:16,className:"md:w-5 md:h-5"})]})]})]})},to=()=>U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in",children:[U.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[U.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[U.jsx(dG,{className:"text-blue-500"})," Performance"]}),U.jsx("div",{className:"h-64",children:U.jsx(ay,{width:"100%",height:"100%",children:U.jsxs(bq,{data:[{name:"Mon",pts:20},{name:"Tue",pts:45},{name:"Wed",pts:30},{name:"Thu",pts:50},{name:"Fri",pts:i.totalPoints>50?i.totalPoints:55}],children:[U.jsx(TC,{dataKey:"name",fontSize:12,stroke:"#94a3b8"}),U.jsx(SC,{fontSize:12,stroke:"#94a3b8"}),U.jsx(Ry,{}),U.jsx(EC,{dataKey:"pts",fill:"#4f46e5",radius:[4,4,0,0]})]})})})]}),U.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[U.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[U.jsx(bb,{className:"text-purple-500"})," Skills Breakdown"]}),U.jsx("div",{className:"h-64",children:U.jsx(ay,{width:"100%",height:"100%",children:U.jsxs(Tq,{children:[U.jsxs(vC,{data:[{name:"Vocabulary",value:400},{name:"Inference",value:300},{name:"Main Idea",value:300}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[U.jsx(xs,{fill:"#60a5fa"}),U.jsx(xs,{fill:"#34d399"}),U.jsx(xs,{fill:"#f472b6"})]}),U.jsx(Ry,{})]})})})]})]});return U.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[Q&&U.jsx(k_e,{onStart:_t,onClose:()=>oe(!1)}),Y==="playing"&&U.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:U.jsx(Qwe,{onGameOver:ct,onWin:Qr})}),Y==="gameover"&&U.jsx(Zwe,{onPlayAgain:$o,onBackToMap:()=>L("intro")}),Y==="win"&&he&&U.jsx(eAe,{name:he.name,score:J,completionTime:Math.round((Date.now()-he.startTime)/1e3),onPlayAgain:$o,onLeaderboard:()=>{Ua(),L("leaderboard")}}),Y==="leaderboard"&&U.jsx(tAe,{onClose:$o}),U.jsxs("div",{className:`transition-all ${Y==="playing"?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[U.jsx(rAe,{points:i.totalPoints,streak:i.streakDays,onOpenSettings:()=>I(!0)}),U.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[U.jsx("div",{className:"flex gap-2 mb-8 bg-white p-1 rounded-xl shadow-sm border border-slate-100 w-fit",children:["home","learn","stats"].map(Me=>U.jsx("button",{onClick:()=>e(Me),className:`px-6 py-2 rounded-lg font-bold text-sm transition-all ${t===Me?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:Me.charAt(0).toUpperCase()+Me.slice(1)},Me))}),t==="home"&&sn(),t==="learn"&&Ci(),t==="stats"&&to()]}),U.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 z-30 flex justify-around shadow-[0_-5px_15px_rgba(0,0,0,0.05)]",children:[U.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[U.jsx("span",{className:"text-xs font-bold",children:"Level"}),U.jsx("span",{className:"text-indigo-600 font-bold",children:i.level})]}),U.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[U.jsx("span",{className:"text-xs font-bold",children:"Streak"}),U.jsxs("span",{className:"text-orange-500 font-bold",children:[i.streakDays," "]})]}),U.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[U.jsx("span",{className:"text-xs font-bold",children:"PTS"}),U.jsx("span",{className:"text-emerald-500 font-bold",children:i.totalPoints})]})]})]}),V&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:U.jsxs("div",{className:"bg-white w-full max-w-lg h-[600px] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in slide-in-from-bottom-4 duration-300",children:[U.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center text-white",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:U.jsx(zR,{size:20})}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-bold",children:"AI Tutor"}),U.jsx("p",{className:"text-xs text-indigo-200",children:"Ask about meanings, grammar, or summary"})]})]}),U.jsx("button",{onClick:()=>M(!1),className:"hover:bg-white/20 p-2 rounded-full transition-colors",children:U.jsx(Fd,{})})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[D.length===0&&U.jsxs("div",{className:"text-center text-slate-400 mt-10",children:[U.jsx("p",{children:" Hi! Im your AI Tutor."}),U.jsx("p",{className:"text-sm mt-2",children:"Ask me anything about the lesson!"})]}),D.map((Me,He)=>U.jsx("div",{className:`flex ${Me.role==="user"?"justify-end":"justify-start"}`,children:U.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl ${Me.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 shadow-sm rounded-tl-none"}`,children:Me.text})},He)),U.jsx("div",{ref:Ce})]}),U.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-2",children:[U.jsx("input",{value:z,onChange:Me=>j(Me.target.value),onKeyDown:Me=>Me.key==="Enter"&&Ct(),placeholder:"Type your question...",className:"flex-1 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50"}),U.jsx("button",{onClick:Ct,className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 transition-colors shadow-sm",children:U.jsx(Eb,{})})]})]})}),B&&U.jsxs("div",{className:`fixed top-24 right-4 z-50 px-6 py-3 rounded-xl shadow-xl text-white font-medium animate-in slide-in-from-right fade-in duration-300 flex items-center gap-2 ${B.type==="success"?"bg-emerald-500":"bg-red-500"}`,children:[B.type==="success"?U.jsx(DT,{size:20}):U.jsx(Fd,{size:20}),B.message]}),U.jsx(nAe,{isOpen:w,onClose:()=>I(!1),title:"Settings",children:U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"API Key (Gemini)"}),U.jsxs("div",{className:"relative",children:[U.jsx(bG,{className:"absolute left-3 top-3 text-slate-400",size:16}),U.jsx("input",{type:"password",value:s.apiKey,onChange:Me=>fe({...s,apiKey:Me.target.value}),placeholder:"Enter your Google Gemini API Key",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-mono"})]}),U.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Required for AI features. Stored locally on your device."})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Theme"}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>fe({...s,theme:"light"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${s.theme==="light"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Light"}),U.jsx("button",{onClick:()=>fe({...s,theme:"dark"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${s.theme==="dark"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Dark"})]})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Sound Effects"}),U.jsx("button",{onClick:()=>fe({...s,soundEnabled:!s.soundEnabled}),className:`w-full py-2 px-4 rounded-lg border text-sm font-medium transition-all flex items-center justify-center gap-2 ${s.soundEnabled?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:s.soundEnabled?" Enabled":" Muted"})]}),U.jsx("div",{className:"pt-4 border-t border-slate-100",children:U.jsxs("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full py-2 px-4 rounded-lg border border-red-200 text-red-600 text-sm font-medium hover:bg-red-50 flex items-center justify-center gap-2",children:[U.jsx(TG,{size:16})," Reset All Progress"]})})]})}),U.jsx(RY,{isOpen:H,level:i.level,onClose:()=>$(!1)})]})}const d9=document.getElementById("root");if(!d9)throw new Error("Could not find root element to mount to");const oAe=nG.createRoot(d9);oAe.render(U.jsx(Fi.StrictMode,{children:U.jsx(iAe,{})}));export{sAe as c,Ho as g};
