var ZH=Object.defineProperty;var eG=(t,e,n)=>e in t?ZH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b_=(t,e,n)=>eG(t,typeof e!="symbol"?e+"":e,n);function tG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function nG(){if(VR)return xd;VR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return xd.Fragment=e,xd.jsx=n,xd.jsxs=n,xd}var UR;function rG(){return UR||(UR=1,__.exports=nG()),__.exports}var I=rG(),E_={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR;function iG(){if(BR)return Ke;BR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function P(L,K,Z){this.props=L,this.context=K,this.refs=S,this.updater=Z||x}P.prototype.isReactComponent={},P.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=P.prototype;function D(L,K,Z){this.props=L,this.context=K,this.refs=S,this.updater=Z||x}var B=D.prototype=new k;B.constructor=D,w(B,P.prototype),B.isPureReactComponent=!0;var F=Array.isArray;function U(){}var M={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(L,K,Z){var ae=Z.ref;return{$$typeof:t,type:L,key:K,ref:ae!==void 0?ae:null,props:Z}}function z(L,K){return V(L.type,K,L.props)}function q(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function H(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Z){return K[Z]})}var $=/\/+/g;function ve(L,K){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):K.toString(36)}function Ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(U,U):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,K,Z,ae,ge){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var be=!1;if(L===null)be=!0;else switch(_e){case"bigint":case"string":case"number":be=!0;break;case"object":switch(L.$$typeof){case t:case e:be=!0;break;case h:return be=L._init,X(be(L._payload),K,Z,ae,ge)}}if(be)return ge=ge(L),be=ae===""?"."+ve(L,0):ae,F(ge)?(Z="",be!=null&&(Z=be.replace($,"$&/")+"/"),X(ge,K,Z,"",function(Ce){return Ce})):ge!=null&&(q(ge)&&(ge=z(ge,Z+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace($,"$&/")+"/")+be)),K.push(ge)),1;be=0;var Me=ae===""?".":ae+":";if(F(L))for(var oe=0;oe<L.length;oe++)ae=L[oe],_e=Me+ve(ae,oe),be+=X(ae,K,Z,_e,ge);else if(oe=E(L),typeof oe=="function")for(L=oe.call(L),oe=0;!(ae=L.next()).done;)ae=ae.value,_e=Me+ve(ae,oe++),be+=X(ae,K,Z,_e,ge);else if(_e==="object"){if(typeof L.then=="function")return X(Ee(L),K,Z,ae,ge);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return be}function ie(L,K,Z){if(L==null)return L;var ae=[],ge=0;return X(L,ae,"","",function(_e){return K.call(Z,_e,ge++)}),ae}function fe(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(Z){(L._status===0||L._status===-1)&&(L._status=1,L._result=Z)},function(Z){(L._status===0||L._status===-1)&&(L._status=2,L._result=Z)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},W={map:ie,forEach:function(L,K,Z){ie(L,function(){K.apply(this,arguments)},Z)},count:function(L){var K=0;return ie(L,function(){K++}),K},toArray:function(L){return ie(L,function(K){return K})||[]},only:function(L){if(!q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ke.Activity=p,Ke.Children=W,Ke.Component=P,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=D,Ke.StrictMode=r,Ke.Suspense=c,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},Ke.cache=function(L){return function(){return L.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(L,K,Z){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=w({},L.props),ge=L.key;if(K!=null)for(_e in K.key!==void 0&&(ge=""+K.key),K)!O.call(K,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&K.ref===void 0||(ae[_e]=K[_e]);var _e=arguments.length-2;if(_e===1)ae.children=Z;else if(1<_e){for(var be=Array(_e),Me=0;Me<_e;Me++)be[Me]=arguments[Me+2];ae.children=be}return V(L.type,ge,ae)},Ke.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ke.createElement=function(L,K,Z){var ae,ge={},_e=null;if(K!=null)for(ae in K.key!==void 0&&(_e=""+K.key),K)O.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=K[ae]);var be=arguments.length-2;if(be===1)ge.children=Z;else if(1<be){for(var Me=Array(be),oe=0;oe<be;oe++)Me[oe]=arguments[oe+2];ge.children=Me}if(L&&L.defaultProps)for(ae in be=L.defaultProps,be)ge[ae]===void 0&&(ge[ae]=be[ae]);return V(L,_e,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(L){return{$$typeof:u,render:L}},Ke.isValidElement=q,Ke.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:fe}},Ke.memo=function(L,K){return{$$typeof:f,type:L,compare:K===void 0?null:K}},Ke.startTransition=function(L){var K=M.T,Z={};M.T=Z;try{var ae=L(),ge=M.S;ge!==null&&ge(Z,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(U,Te)}catch(_e){Te(_e)}finally{K!==null&&Z.types!==null&&(K.types=Z.types),M.T=K}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function(L){return M.H.use(L)},Ke.useActionState=function(L,K,Z){return M.H.useActionState(L,K,Z)},Ke.useCallback=function(L,K){return M.H.useCallback(L,K)},Ke.useContext=function(L){return M.H.useContext(L)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(L,K){return M.H.useDeferredValue(L,K)},Ke.useEffect=function(L,K){return M.H.useEffect(L,K)},Ke.useEffectEvent=function(L){return M.H.useEffectEvent(L)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function(L,K,Z){return M.H.useImperativeHandle(L,K,Z)},Ke.useInsertionEffect=function(L,K){return M.H.useInsertionEffect(L,K)},Ke.useLayoutEffect=function(L,K){return M.H.useLayoutEffect(L,K)},Ke.useMemo=function(L,K){return M.H.useMemo(L,K)},Ke.useOptimistic=function(L,K){return M.H.useOptimistic(L,K)},Ke.useReducer=function(L,K,Z){return M.H.useReducer(L,K,Z)},Ke.useRef=function(L){return M.H.useRef(L)},Ke.useState=function(L){return M.H.useState(L)},Ke.useSyncExternalStore=function(L,K,Z){return M.H.useSyncExternalStore(L,K,Z)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.4",Ke}var FR;function Zc(){return FR||(FR=1,E_.exports=iG()),E_.exports}var A=Zc();const yi=Ho(A),oG=tG({__proto__:null,default:yi},[A]);var T_={exports:{}},Sd={},x_={exports:{}},S_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function sG(){return jR||(jR=1,(function(t){function e(X,ie){var fe=X.length;X.push(ie);e:for(;0<fe;){var Te=fe-1>>>1,W=X[Te];if(0<i(W,ie))X[Te]=ie,X[fe]=W,fe=Te;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ie=X[0],fe=X.pop();if(fe!==ie){X[0]=fe;e:for(var Te=0,W=X.length,L=W>>>1;Te<L;){var K=2*(Te+1)-1,Z=X[K],ae=K+1,ge=X[ae];if(0>i(Z,fe))ae<W&&0>i(ge,Z)?(X[Te]=ge,X[ae]=fe,Te=ae):(X[Te]=Z,X[K]=fe,Te=K);else if(ae<W&&0>i(ge,fe))X[Te]=ge,X[ae]=fe,Te=ae;else break e}}return ie}function i(X,ie){var fe=X.sortIndex-ie.sortIndex;return fe!==0?fe:X.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,p=null,g=3,E=!1,x=!1,w=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=X)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function F(X){if(w=!1,B(X),!x)if(n(c)!==null)x=!0,U||(U=!0,H());else{var ie=n(f);ie!==null&&Ee(F,ie.startTime-X)}}var U=!1,M=-1,O=5,V=-1;function z(){return S?!0:!(t.unstable_now()-V<O)}function q(){if(S=!1,U){var X=t.unstable_now();V=X;var ie=!0;try{e:{x=!1,w&&(w=!1,k(M),M=-1),E=!0;var fe=g;try{t:{for(B(X),p=n(c);p!==null&&!(p.expirationTime>X&&z());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,g=p.priorityLevel;var W=Te(p.expirationTime<=X);if(X=t.unstable_now(),typeof W=="function"){p.callback=W,B(X),ie=!0;break t}p===n(c)&&r(c),B(X)}else r(c);p=n(c)}if(p!==null)ie=!0;else{var L=n(f);L!==null&&Ee(F,L.startTime-X),ie=!1}}break e}finally{p=null,g=fe,E=!1}ie=void 0}}finally{ie?H():U=!1}}}var H;if(typeof D=="function")H=function(){D(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ve=$.port2;$.port1.onmessage=q,H=function(){ve.postMessage(null)}}else H=function(){P(q,0)};function Ee(X,ie){M=P(function(){X(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var fe=g;g=ie;try{return X()}finally{g=fe}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=g;g=X;try{return ie()}finally{g=fe}},t.unstable_scheduleCallback=function(X,ie,fe){var Te=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,X){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=fe+W,X={id:h++,callback:ie,priorityLevel:X,startTime:fe,expirationTime:W,sortIndex:-1},fe>Te?(X.sortIndex=fe,e(f,X),n(c)===null&&X===n(f)&&(w?(k(M),M=-1):w=!0,Ee(F,fe-Te))):(X.sortIndex=W,e(c,X),x||E||(x=!0,U||(U=!0,H()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var ie=g;return function(){var fe=g;g=ie;try{return X.apply(this,arguments)}finally{g=fe}}}})(S_)),S_}var zR;function aG(){return zR||(zR=1,x_.exports=sG()),x_.exports}var w_={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR;function lG(){if(qR)return lr;qR=1;var t=Zc();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},lr.flushSync=function(c){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=h,r.d.f()}},lr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},lr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},lr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:E}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},lr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},lr.requestFormReset=function(c){r.d.r(c)},lr.unstable_batchedUpdates=function(c,f){return c(f)},lr.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},lr.useFormStatus=function(){return a.H.useHostTransitionStatus()},lr.version="19.2.4",lr}var HR;function ZU(){if(HR)return w_.exports;HR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w_.exports=lG(),w_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function uG(){if(GR)return Sd;GR=1;var t=aG(),e=Zc(),n=ZU();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,m=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return c(_),s;if(T===m)return c(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=T;else{for(var R=!1,j=_.child;j;){if(j===d){R=!0,d=_,m=T;break}if(j===m){R=!0,m=_,d=T;break}j=j.sibling}if(!R){for(j=T.child;j;){if(j===d){R=!0,d=T,m=_;break}if(j===m){R=!0,m=T,d=_;break}j=j.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case P:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case D:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case B:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return l=s.displayName||null,l!==null?l:ve(s.type)||"Memo";case O:l=s._payload,s=s._init;try{return ve(s(l))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],W=-1;function L(s){return{current:s}}function K(s){0>W||(s.current=Te[W],Te[W]=null,W--)}function Z(s,l){W++,Te[W]=s.current,s.current=l}var ae=L(null),ge=L(null),_e=L(null),be=L(null);function Me(s,l){switch(Z(_e,l),Z(ge,s),Z(ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?sR(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=sR(l),s=aR(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(ae),Z(ae,s)}function oe(){K(ae),K(ge),K(_e)}function Ce(s){s.memoizedState!==null&&Z(be,s);var l=ae.current,d=aR(l,s.type);l!==d&&(Z(ge,s),Z(ae,d))}function Pe(s){ge.current===s&&(K(ae),K(ge)),be.current===s&&(K(be),bd._currentValue=fe)}var de,$e;function we(s){if(de===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",$e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+$e}var et=!1;function st(s,l){if(!s||et)return"";et=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ue){var se=ue}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(ue){se=ue}s.call(pe.prototype)}}else{try{throw Error()}catch(ue){se=ue}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),R=T[0],j=T[1];if(R&&j){var Y=R.split(`
`),ne=j.split(`
`);for(_=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ne.length&&!ne[_].includes("DetermineComponentFrameRoot");)_++;if(m===Y.length||_===ne.length)for(m=Y.length-1,_=ne.length-1;1<=m&&0<=_&&Y[m]!==ne[_];)_--;for(;1<=m&&0<=_;m--,_--)if(Y[m]!==ne[_]){if(m!==1||_!==1)do if(m--,_--,0>_||Y[m]!==ne[_]){var ce=`
`+Y[m].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=m&&0<=_);break}}}finally{et=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?we(d):""}function Nt(s,l){switch(s.tag){case 26:case 27:case 5:return we(s.type);case 16:return we("Lazy");case 13:return s.child!==l&&l!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return st(s.type,!1);case 11:return st(s.type.render,!1);case 1:return st(s.type,!0);case 31:return we("Activity");default:return""}}function hn(s){try{var l="",d=null;do l+=Nt(s,d),d=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var bt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,Qa=t.unstable_shouldYield,ei=t.unstable_requestPaint,ln=t.unstable_now,Ri=t.unstable_getCurrentPriorityLevel,ro=t.unstable_ImmediatePriority,$o=t.unstable_UserBlockingPriority,Br=t.unstable_NormalPriority,Ko=t.unstable_LowPriority,Yo=t.unstable_IdlePriority,io=t.log,Fs=t.unstable_setDisableYieldValue,Vn=null,Cn=null;function yr(s){if(typeof io=="function"&&Fs(s),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(Vn,s)}catch{}}var $t=Math.clz32?Math.clz32:vu,Za=Math.log,js=Math.LN2;function vu(s){return s>>>=0,s===0?32:31-(Za(s)/js|0)|0}var Se=256,qe=262144,je=4194304;function at(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tt(s,l,d){var m=s.pendingLanes;if(m===0)return 0;var _=0,T=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var j=m&134217727;return j!==0?(m=j&~T,m!==0?_=at(m):(R&=j,R!==0?_=at(R):d||(d=j&~s,d!==0&&(_=at(d))))):(j=m&~T,j!==0?_=at(j):R!==0?_=at(R):d||(d=m&~s,d!==0&&(_=at(d)))),_===0?0:l!==0&&l!==_&&(l&T)===0&&(T=_&-_,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:_}function Dt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Mi(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fp(){var s=je;return je<<=1,(je&62914560)===0&&(je=4194304),s}function oo(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function el(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function S0(s,l,d,m,_,T){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var j=s.entanglements,Y=s.expirationTimes,ne=s.hiddenUpdates;for(d=R&~d;0<d;){var ce=31-$t(d),pe=1<<ce;j[ce]=0,Y[ce]=-1;var se=ne[ce];if(se!==null)for(ne[ce]=null,ce=0;ce<se.length;ce++){var ue=se[ce];ue!==null&&(ue.lane&=-536870913)}d&=~pe}m!==0&&tl(s,m,0),T!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=T&~(R&~l))}function tl(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-$t(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function Sf(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var m=31-$t(d),_=1<<m;_&l|s[m]&l&&(s[m]|=l),d&=~_}}function wf(s,l){var d=l&-l;return d=(d&42)!==0?1:nl(d),(d&(s.suspendedLanes|l))!==0?0:d}function nl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function dp(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:RR(s.type))}function Ni(s,l){var d=ie.p;try{return ie.p=s,l()}finally{ie.p=d}}var Di=Math.random().toString(36).slice(2),pn="__reactFiber$"+Di,Un="__reactProps$"+Di,so="__reactContainer$"+Di,bu="__reactEvents$"+Di,w0="__reactListeners$"+Di,hp="__reactHandles$"+Di,pp="__reactResources$"+Di,ao="__reactMarker$"+Di;function _u(s){delete s[pn],delete s[Un],delete s[bu],delete s[w0],delete s[hp]}function lo(s){var l=s[pn];if(l)return l;for(var d=s.parentNode;d;){if(l=d[so]||d[pn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=pR(s);s!==null;){if(d=s[pn])return d;s=pR(s)}return l}s=d,d=s.parentNode}return null}function ti(s){if(s=s[pn]||s[so]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Fr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function uo(s){var l=s[pp];return l||(l=s[pp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function mn(s){s[ao]=!0}var Af=new Set,Cf={};function co(s,l){fo(s,l),fo(s+"Capture",l)}function fo(s,l){for(Cf[s]=l,s=0;s<l.length;s++)Af.add(l[s])}var If=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},Rf={};function mp(s){return bt.call(Rf,s)?!0:bt.call(Pf,s)?!1:If.test(s)?Rf[s]=!0:(Pf[s]=!0,!1)}function Eu(s,l,d){if(mp(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function jr(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function gn(s,l,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+m)}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zs(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Mf(s,l,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,T=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(R){d=""+R,T.call(this,R)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Tt(s){if(!s._valueTracker){var l=zs(s)?"checked":"value";s._valueTracker=Mf(s,l,""+s[l])}}function rl(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return s&&(m=zs(s)?s.checked?"true":"false":s.value),s=m,s!==d?(l.setValue(s),!0):!1}function ho(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var il=/[\n"\\]/g;function Pr(s){return s.replace(il,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tu(s,l,d,m,_,T,R,j){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),l!=null?R==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Bn(l)):s.value!==""+Bn(l)&&(s.value=""+Bn(l)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),l!=null?Nf(s,R,Bn(l)):d!=null?Nf(s,R,Bn(d)):m!=null&&s.removeAttribute("value"),_==null&&T!=null&&(s.defaultChecked=!!T),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Bn(j):s.removeAttribute("name")}function gp(s,l,d,m,_,T,R,j){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){Tt(s);return}d=d!=null?""+Bn(d):"",l=l!=null?""+Bn(l):d,j||l===s.value||(s.value=l),s.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=j?s.checked:!!m,s.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Tt(s)}function Nf(s,l,d){l==="number"&&ho(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function qs(s,l,d,m){if(s=s.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=l.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&m&&(s[d].defaultSelected=!0)}else{for(d=""+Bn(d),l=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function yp(s,l,d){if(l!=null&&(l=""+Bn(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Bn(d):""}function Hs(s,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Ee(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Bn(l),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),Tt(s)}function Rr(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var vp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(s,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,d):typeof d!="number"||d===0||vp.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function Of(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&Df(s,_,m)}else for(var T in l)l.hasOwnProperty(T)&&Df(s,T,l[T])}function xu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(s){return Gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Oi(){}var kf=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $s=null,po=null;function ol(s){var l=ti(s);if(l&&(s=l.stateNode)){var d=s[Un]||null;e:switch(s=l.stateNode,l.type){case"input":if(Tu(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Pr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==s&&m.form===s.form){var _=m[Un]||null;if(!_)throw Error(r(90));Tu(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===s.form&&rl(m)}break e;case"textarea":yp(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&qs(s,!!d.multiple,l,!1)}}}var wu=!1;function Ks(s,l,d){if(wu)return s(l,d);wu=!0;try{var m=s(l);return m}finally{if(wu=!1,($s!==null||po!==null)&&(dm(),$s&&(l=$s,s=po,po=$s=null,ol(l),s)))for(l=0;l<s.length;l++)ol(s[l])}}function ki(s,l){var d=s.stateNode;if(d===null)return null;var m=d[Un]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(ri)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{sl=!1}var mo=null,Lf=null,al=null;function Vf(){if(al)return al;var s,l=Lf,d=l.length,m,_="value"in mo?mo.value:mo.textContent,T=_.length;for(s=0;s<d&&l[s]===_[s];s++);var R=d-s;for(m=1;m<=R&&l[d-m]===_[T-m];m++);return al=_.slice(s,1<m?1-m:void 0)}function ll(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Jo(){return!0}function Li(){return!1}function Wn(s){function l(d,m,_,T,R){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(d=s[j],this[j]=d?d(T):T[j]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Jo:Li,this.isPropagationStopped=Li,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),l}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Wn(Xo),Ys=p({},Xo,{view:0,detail:0}),Uf=Wn(Ys),Ws,Au,yo,Cu=p({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yo&&(yo&&s.type==="mousemove"?(Ws=s.screenX-yo.screenX,Au=s.screenY-yo.screenY):Au=Ws=0,yo=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:Au}}),Bf=Wn(Cu),ul=p({},Cu,{dataTransfer:0}),_p=Wn(ul),Ep=p({},Ys,{relatedTarget:0}),cl=Wn(Ep),Ff=p({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=Wn(Ff),Iu=p({},Xo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xp=Wn(Iu),Sp=p({},Xo,{data:0}),vo=Wn(Sp),wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Cp[s])?!!l[s]:!1}function Js(){return Ip}var vr=p({},Ys,{key:function(s){if(s.key){var l=wp[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ap[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(s){return s.type==="keypress"?ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Pp=Wn(vr),Rp=p({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Wn(Rp),b=p({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),C=Wn(b),N=p({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=Wn(N),ee=p({},Cu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Wn(ee),xe=p({},Xo,{newState:0,oldState:0}),We=Wn(xe),un=[9,13,27,32],gt=ri&&"CompositionEvent"in window,Kt=null;ri&&"documentMode"in document&&(Kt=document.documentMode);var ii=ri&&"TextEvent"in window&&!Kt,bo=ri&&(!gt||Kt&&8<Kt&&11>=Kt),Vi=" ",Ui=!1;function fl(s,l){switch(s){case"keyup":return un.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ru=!1;function x9(s,l){switch(s){case"compositionend":return Pu(l);case"keypress":return l.which!==32?null:(Ui=!0,Vi);case"textInput":return s=l.data,s===Vi&&Ui?null:s;default:return null}}function S9(s,l){if(Ru)return s==="compositionend"||!gt&&fl(s,l)?(s=Vf(),al=Lf=mo=null,Ru=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bo&&l.locale!=="ko"?null:l.data;default:return null}}var w9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yC(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!w9[s.type]:l==="textarea"}function vC(s,l,d,m){$s?po?po.push(m):po=[m]:$s=m,l=bm(l,"onChange"),0<l.length&&(d=new go("onChange","change",null,d,m),s.push({event:d,listeners:l}))}var jf=null,zf=null;function A9(s){eR(s,0)}function Mp(s){var l=Fr(s);if(rl(l))return s}function bC(s,l){if(s==="change")return l}var _C=!1;if(ri){var A0;if(ri){var C0="oninput"in document;if(!C0){var EC=document.createElement("div");EC.setAttribute("oninput","return;"),C0=typeof EC.oninput=="function"}A0=C0}else A0=!1;_C=A0&&(!document.documentMode||9<document.documentMode)}function TC(){jf&&(jf.detachEvent("onpropertychange",xC),zf=jf=null)}function xC(s){if(s.propertyName==="value"&&Mp(zf)){var l=[];vC(l,zf,s,ni(s)),Ks(A9,l)}}function C9(s,l,d){s==="focusin"?(TC(),jf=l,zf=d,jf.attachEvent("onpropertychange",xC)):s==="focusout"&&TC()}function I9(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mp(zf)}function P9(s,l){if(s==="click")return Mp(l)}function R9(s,l){if(s==="input"||s==="change")return Mp(l)}function M9(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var zr=typeof Object.is=="function"?Object.is:M9;function qf(s,l){if(zr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!bt.call(l,_)||!zr(s[_],l[_]))return!1}return!0}function SC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wC(s,l){var d=SC(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=l&&m>=l)return{node:d,offset:l-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=SC(d)}}function AC(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?AC(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function CC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=ho(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=ho(s.document)}return l}function I0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var N9=ri&&"documentMode"in document&&11>=document.documentMode,Mu=null,P0=null,Hf=null,R0=!1;function IC(s,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;R0||Mu==null||Mu!==ho(m)||(m=Mu,"selectionStart"in m&&I0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Hf&&qf(Hf,m)||(Hf=m,m=bm(P0,"onSelect"),0<m.length&&(l=new go("onSelect","select",null,l,d),s.push({event:l,listeners:m}),l.target=Mu)))}function dl(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Nu={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},M0={},PC={};ri&&(PC=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function hl(s){if(M0[s])return M0[s];if(!Nu[s])return s;var l=Nu[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in PC)return M0[s]=l[d];return s}var RC=hl("animationend"),MC=hl("animationiteration"),NC=hl("animationstart"),D9=hl("transitionrun"),O9=hl("transitionstart"),k9=hl("transitioncancel"),DC=hl("transitionend"),OC=new Map,N0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N0.push("scrollEnd");function Bi(s,l){OC.set(s,l),co(l,[s])}var Np=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},oi=[],Du=0,D0=0;function Dp(){for(var s=Du,l=D0=Du=0;l<s;){var d=oi[l];oi[l++]=null;var m=oi[l];oi[l++]=null;var _=oi[l];oi[l++]=null;var T=oi[l];if(oi[l++]=null,m!==null&&_!==null){var R=m.pending;R===null?_.next=_:(_.next=R.next,R.next=_),m.pending=_}T!==0&&kC(d,_,T)}}function Op(s,l,d,m){oi[Du++]=s,oi[Du++]=l,oi[Du++]=d,oi[Du++]=m,D0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function O0(s,l,d,m){return Op(s,l,d,m),kp(s)}function pl(s,l){return Op(s,null,null,l),kp(s)}function kC(s,l,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var _=!1,T=s.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(_=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,_&&l!==null&&(_=31-$t(d),s=T.hiddenUpdates,m=s[_],m===null?s[_]=[l]:m.push(l),l.lane=d|536870912),T):null}function kp(s){if(50<dd)throw dd=0,qb=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ou={};function L9(s,l,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(s,l,d,m){return new L9(s,l,d,m)}function k0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zo(s,l){var d=s.alternate;return d===null?(d=qr(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function LC(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Lp(s,l,d,m,_,T){var R=0;if(m=s,typeof s=="function")k0(s)&&(R=1);else if(typeof s=="string")R=jH(s,d,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=qr(31,d,l,_),s.elementType=V,s.lanes=T,s;case w:return ml(d.children,_,T,l);case S:R=8,_|=24;break;case P:return s=qr(12,d,l,_|2),s.elementType=P,s.lanes=T,s;case F:return s=qr(13,d,l,_),s.elementType=F,s.lanes=T,s;case U:return s=qr(19,d,l,_),s.elementType=U,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:R=10;break e;case k:R=9;break e;case B:R=11;break e;case M:R=14;break e;case O:R=16,m=null;break e}R=29,d=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=qr(R,d,l,_),l.elementType=s,l.type=m,l.lanes=T,l}function ml(s,l,d,m){return s=qr(7,s,m,l),s.lanes=d,s}function L0(s,l,d){return s=qr(6,s,null,l),s.lanes=d,s}function VC(s){var l=qr(18,null,null,0);return l.stateNode=s,l}function V0(s,l,d){return l=qr(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var UC=new WeakMap;function si(s,l){if(typeof s=="object"&&s!==null){var d=UC.get(s);return d!==void 0?d:(l={value:s,source:l,stack:hn(l)},UC.set(s,l),l)}return{value:s,source:l,stack:hn(l)}}var ku=[],Lu=0,Vp=null,Gf=0,ai=[],li=0,Xs=null,_o=1,Eo="";function es(s,l){ku[Lu++]=Gf,ku[Lu++]=Vp,Vp=s,Gf=l}function BC(s,l,d){ai[li++]=_o,ai[li++]=Eo,ai[li++]=Xs,Xs=s;var m=_o;s=Eo;var _=32-$t(m)-1;m&=~(1<<_),d+=1;var T=32-$t(l)+_;if(30<T){var R=_-_%5;T=(m&(1<<R)-1).toString(32),m>>=R,_-=R,_o=1<<32-$t(l)+_|d<<_|m,Eo=T+s}else _o=1<<T|d<<_|m,Eo=s}function U0(s){s.return!==null&&(es(s,1),BC(s,1,0))}function B0(s){for(;s===Vp;)Vp=ku[--Lu],ku[Lu]=null,Gf=ku[--Lu],ku[Lu]=null;for(;s===Xs;)Xs=ai[--li],ai[li]=null,Eo=ai[--li],ai[li]=null,_o=ai[--li],ai[li]=null}function FC(s,l){ai[li++]=_o,ai[li++]=Eo,ai[li++]=Xs,_o=l.id,Eo=l.overflow,Xs=s}var Jn=null,jt=null,lt=!1,Qs=null,ui=!1,F0=Error(r(519));function Zs(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $f(si(l,s)),F0}function jC(s){var l=s.stateNode,d=s.type,m=s.memoizedProps;switch(l[pn]=s,l[Un]=m,d){case"dialog":Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":case"embed":Ze("load",l);break;case"video":case"audio":for(d=0;d<pd.length;d++)Ze(pd[d],l);break;case"source":Ze("error",l);break;case"img":case"image":case"link":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"input":Ze("invalid",l),gp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ze("invalid",l);break;case"textarea":Ze("invalid",l),Hs(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||iR(l.textContent,d)?(m.popover!=null&&(Ze("beforetoggle",l),Ze("toggle",l)),m.onScroll!=null&&Ze("scroll",l),m.onScrollEnd!=null&&Ze("scrollend",l),m.onClick!=null&&(l.onclick=Oi),l=!0):l=!1,l||Zs(s,!0)}function zC(s){for(Jn=s.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Jn=Jn.return}}function Vu(s){if(s!==Jn)return!1;if(!lt)return zC(s),lt=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||i_(s.type,s.memoizedProps)),d=!d),d&&jt&&Zs(s),zC(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=hR(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=hR(s)}else l===27?(l=jt,ha(s.type)?(s=u_,u_=null,jt=s):jt=l):jt=Jn?fi(s.stateNode.nextSibling):null;return!0}function gl(){jt=Jn=null,lt=!1}function j0(){var s=Qs;return s!==null&&(Or===null?Or=s:Or.push.apply(Or,s),Qs=null),s}function $f(s){Qs===null?Qs=[s]:Qs.push(s)}var z0=L(null),yl=null,ts=null;function ea(s,l,d){Z(z0,l._currentValue),l._currentValue=d}function ns(s){s._currentValue=z0.current,K(z0)}function q0(s,l,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===d)break;s=s.return}}function H0(s,l,d,m){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var T=_.dependencies;if(T!==null){var R=_.child;T=T.firstContext;e:for(;T!==null;){var j=T;T=_;for(var Y=0;Y<l.length;Y++)if(j.context===l[Y]){T.lanes|=d,j=T.alternate,j!==null&&(j.lanes|=d),q0(T.return,d,s),m||(R=null);break e}T=j.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=d,T=R.alternate,T!==null&&(T.lanes|=d),q0(R,d,s),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===s){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function Uu(s,l,d,m){s=null;for(var _=l,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var j=_.type;zr(_.pendingProps.value,R.value)||(s!==null?s.push(j):s=[j])}}else if(_===be.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(bd):s=[bd])}_=_.return}s!==null&&H0(l,s,d,m),l.flags|=262144}function Up(s){for(s=s.firstContext;s!==null;){if(!zr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vl(s){yl=s,ts=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Xn(s){return qC(yl,s)}function Bp(s,l){return yl===null&&vl(s),qC(s,l)}function qC(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ts===null){if(s===null)throw Error(r(308));ts=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ts=ts.next=l;return d}var V9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},U9=t.unstable_scheduleCallback,B9=t.unstable_NormalPriority,yn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G0(){return{controller:new V9,data:new Map,refCount:0}}function Kf(s){s.refCount--,s.refCount===0&&U9(B9,function(){s.controller.abort()})}var Yf=null,$0=0,Bu=0,Fu=null;function F9(s,l){if(Yf===null){var d=Yf=[];$0=0,Bu=Wb(),Fu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return $0++,l.then(HC,HC),l}function HC(){if(--$0===0&&Yf!==null){Fu!==null&&(Fu.status="fulfilled");var s=Yf;Yf=null,Bu=0,Fu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function j9(s,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var GC=X.S;X.S=function(s,l){IP=ln(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&F9(s,l),GC!==null&&GC(s,l)};var bl=L(null);function K0(){var s=bl.current;return s!==null?s:Ot.pooledCache}function Fp(s,l){l===null?Z(bl,bl.current):Z(bl,l.pool)}function $C(){var s=K0();return s===null?null:{parent:yn._currentValue,pool:s}}var ju=Error(r(460)),Y0=Error(r(474)),jp=Error(r(542)),zp={then:function(){}};function KC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function YC(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Oi,Oi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,JC(s),s;default:if(typeof l.status=="string")l.then(Oi,Oi);else{if(s=Ot,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,JC(s),s}throw El=l,ju}}function _l(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(El=d,ju):d}}var El=null;function WC(){if(El===null)throw Error(r(459));var s=El;return El=null,s}function JC(s){if(s===ju||s===jp)throw Error(r(483))}var zu=null,Wf=0;function qp(s){var l=Wf;return Wf+=1,zu===null&&(zu=[]),YC(zu,s,l)}function Jf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Hp(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function XC(s){function l(Q,J){if(s){var te=Q.deletions;te===null?(Q.deletions=[J],Q.flags|=16):te.push(J)}}function d(Q,J){if(!s)return null;for(;J!==null;)l(Q,J),J=J.sibling;return null}function m(Q){for(var J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function _(Q,J){return Q=Zo(Q,J),Q.index=0,Q.sibling=null,Q}function T(Q,J,te){return Q.index=te,s?(te=Q.alternate,te!==null?(te=te.index,te<J?(Q.flags|=67108866,J):te):(Q.flags|=67108866,J)):(Q.flags|=1048576,J)}function R(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function j(Q,J,te,he){return J===null||J.tag!==6?(J=L0(te,Q.mode,he),J.return=Q,J):(J=_(J,te),J.return=Q,J)}function Y(Q,J,te,he){var Ue=te.type;return Ue===w?ce(Q,J,te.props.children,he,te.key):J!==null&&(J.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&_l(Ue)===J.type)?(J=_(J,te.props),Jf(J,te),J.return=Q,J):(J=Lp(te.type,te.key,te.props,null,Q.mode,he),Jf(J,te),J.return=Q,J)}function ne(Q,J,te,he){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=V0(te,Q.mode,he),J.return=Q,J):(J=_(J,te.children||[]),J.return=Q,J)}function ce(Q,J,te,he,Ue){return J===null||J.tag!==7?(J=ml(te,Q.mode,he,Ue),J.return=Q,J):(J=_(J,te),J.return=Q,J)}function pe(Q,J,te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=L0(""+J,Q.mode,te),J.return=Q,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return te=Lp(J.type,J.key,J.props,null,Q.mode,te),Jf(te,J),te.return=Q,te;case x:return J=V0(J,Q.mode,te),J.return=Q,J;case O:return J=_l(J),pe(Q,J,te)}if(Ee(J)||H(J))return J=ml(J,Q.mode,te,null),J.return=Q,J;if(typeof J.then=="function")return pe(Q,qp(J),te);if(J.$$typeof===D)return pe(Q,Bp(Q,J),te);Hp(Q,J)}return null}function se(Q,J,te,he){var Ue=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ue!==null?null:j(Q,J,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return te.key===Ue?Y(Q,J,te,he):null;case x:return te.key===Ue?ne(Q,J,te,he):null;case O:return te=_l(te),se(Q,J,te,he)}if(Ee(te)||H(te))return Ue!==null?null:ce(Q,J,te,he,null);if(typeof te.then=="function")return se(Q,J,qp(te),he);if(te.$$typeof===D)return se(Q,J,Bp(Q,te),he);Hp(Q,te)}return null}function ue(Q,J,te,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(te)||null,j(J,Q,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return Q=Q.get(he.key===null?te:he.key)||null,Y(J,Q,he,Ue);case x:return Q=Q.get(he.key===null?te:he.key)||null,ne(J,Q,he,Ue);case O:return he=_l(he),ue(Q,J,te,he,Ue)}if(Ee(he)||H(he))return Q=Q.get(te)||null,ce(J,Q,he,Ue,null);if(typeof he.then=="function")return ue(Q,J,te,qp(he),Ue);if(he.$$typeof===D)return ue(Q,J,te,Bp(J,he),Ue);Hp(J,he)}return null}function De(Q,J,te,he){for(var Ue=null,dt=null,ke=J,Xe=J=0,rt=null;ke!==null&&Xe<te.length;Xe++){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var ht=se(Q,ke,te[Xe],he);if(ht===null){ke===null&&(ke=rt);break}s&&ke&&ht.alternate===null&&l(Q,ke),J=T(ht,J,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht,ke=rt}if(Xe===te.length)return d(Q,ke),lt&&es(Q,Xe),Ue;if(ke===null){for(;Xe<te.length;Xe++)ke=pe(Q,te[Xe],he),ke!==null&&(J=T(ke,J,Xe),dt===null?Ue=ke:dt.sibling=ke,dt=ke);return lt&&es(Q,Xe),Ue}for(ke=m(ke);Xe<te.length;Xe++)rt=ue(ke,Q,Xe,te[Xe],he),rt!==null&&(s&&rt.alternate!==null&&ke.delete(rt.key===null?Xe:rt.key),J=T(rt,J,Xe),dt===null?Ue=rt:dt.sibling=rt,dt=rt);return s&&ke.forEach(function(va){return l(Q,va)}),lt&&es(Q,Xe),Ue}function Fe(Q,J,te,he){if(te==null)throw Error(r(151));for(var Ue=null,dt=null,ke=J,Xe=J=0,rt=null,ht=te.next();ke!==null&&!ht.done;Xe++,ht=te.next()){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var va=se(Q,ke,ht.value,he);if(va===null){ke===null&&(ke=rt);break}s&&ke&&va.alternate===null&&l(Q,ke),J=T(va,J,Xe),dt===null?Ue=va:dt.sibling=va,dt=va,ke=rt}if(ht.done)return d(Q,ke),lt&&es(Q,Xe),Ue;if(ke===null){for(;!ht.done;Xe++,ht=te.next())ht=pe(Q,ht.value,he),ht!==null&&(J=T(ht,J,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return lt&&es(Q,Xe),Ue}for(ke=m(ke);!ht.done;Xe++,ht=te.next())ht=ue(ke,Q,Xe,ht.value,he),ht!==null&&(s&&ht.alternate!==null&&ke.delete(ht.key===null?Xe:ht.key),J=T(ht,J,Xe),dt===null?Ue=ht:dt.sibling=ht,dt=ht);return s&&ke.forEach(function(QH){return l(Q,QH)}),lt&&es(Q,Xe),Ue}function Rt(Q,J,te,he){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case E:e:{for(var Ue=te.key;J!==null;){if(J.key===Ue){if(Ue=te.type,Ue===w){if(J.tag===7){d(Q,J.sibling),he=_(J,te.props.children),he.return=Q,Q=he;break e}}else if(J.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===O&&_l(Ue)===J.type){d(Q,J.sibling),he=_(J,te.props),Jf(he,te),he.return=Q,Q=he;break e}d(Q,J);break}else l(Q,J);J=J.sibling}te.type===w?(he=ml(te.props.children,Q.mode,he,te.key),he.return=Q,Q=he):(he=Lp(te.type,te.key,te.props,null,Q.mode,he),Jf(he,te),he.return=Q,Q=he)}return R(Q);case x:e:{for(Ue=te.key;J!==null;){if(J.key===Ue)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){d(Q,J.sibling),he=_(J,te.children||[]),he.return=Q,Q=he;break e}else{d(Q,J);break}else l(Q,J);J=J.sibling}he=V0(te,Q.mode,he),he.return=Q,Q=he}return R(Q);case O:return te=_l(te),Rt(Q,J,te,he)}if(Ee(te))return De(Q,J,te,he);if(H(te)){if(Ue=H(te),typeof Ue!="function")throw Error(r(150));return te=Ue.call(te),Fe(Q,J,te,he)}if(typeof te.then=="function")return Rt(Q,J,qp(te),he);if(te.$$typeof===D)return Rt(Q,J,Bp(Q,te),he);Hp(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,J!==null&&J.tag===6?(d(Q,J.sibling),he=_(J,te),he.return=Q,Q=he):(d(Q,J),he=L0(te,Q.mode,he),he.return=Q,Q=he),R(Q)):d(Q,J)}return function(Q,J,te,he){try{Wf=0;var Ue=Rt(Q,J,te,he);return zu=null,Ue}catch(ke){if(ke===ju||ke===jp)throw ke;var dt=qr(29,ke,null,Q.mode);return dt.lanes=he,dt.return=Q,dt}finally{}}}var Tl=XC(!0),QC=XC(!1),ta=!1;function W0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function na(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ra(s,l,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=kp(s),kC(s,null,d),l}return Op(s,m,l,d),kp(s)}function Xf(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Sf(s,d)}}function X0(s,l){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?_=T=R:T=T.next=R,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var Q0=!1;function Qf(){if(Q0){var s=Fu;if(s!==null)throw s}}function Zf(s,l,d,m){Q0=!1;var _=s.updateQueue;ta=!1;var T=_.firstBaseUpdate,R=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var Y=j,ne=Y.next;Y.next=null,R===null?T=ne:R.next=ne,R=Y;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==R&&(j===null?ce.firstBaseUpdate=ne:j.next=ne,ce.lastBaseUpdate=Y))}if(T!==null){var pe=_.baseState;R=0,ce=ne=Y=null,j=T;do{var se=j.lane&-536870913,ue=se!==j.lane;if(ue?(nt&se)===se:(m&se)===se){se!==0&&se===Bu&&(Q0=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var De=s,Fe=j;se=l;var Rt=d;switch(Fe.tag){case 1:if(De=Fe.payload,typeof De=="function"){pe=De.call(Rt,pe,se);break e}pe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Fe.payload,se=typeof De=="function"?De.call(Rt,pe,se):De,se==null)break e;pe=p({},pe,se);break e;case 2:ta=!0}}se=j.callback,se!==null&&(s.flags|=64,ue&&(s.flags|=8192),ue=_.callbacks,ue===null?_.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(ne=ce=ue,Y=pe):ce=ce.next=ue,R|=se;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;ue=j,j=ue.next,ue.next=null,_.lastBaseUpdate=ue,_.shared.pending=null}}while(!0);ce===null&&(Y=pe),_.baseState=Y,_.firstBaseUpdate=ne,_.lastBaseUpdate=ce,T===null&&(_.shared.lanes=0),la|=R,s.lanes=R,s.memoizedState=pe}}function ZC(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function eI(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)ZC(d[s],l)}var qu=L(null),Gp=L(0);function tI(s,l){s=fs,Z(Gp,s),Z(qu,l),fs=s|l.baseLanes}function Z0(){Z(Gp,fs),Z(qu,qu.current)}function eb(){fs=Gp.current,K(qu),K(Gp)}var Hr=L(null),ci=null;function ia(s){var l=s.alternate;Z(cn,cn.current&1),Z(Hr,s),ci===null&&(l===null||qu.current!==null||l.memoizedState!==null)&&(ci=s)}function tb(s){Z(cn,cn.current),Z(Hr,s),ci===null&&(ci=s)}function nI(s){s.tag===22?(Z(cn,cn.current),Z(Hr,s),ci===null&&(ci=s)):oa()}function oa(){Z(cn,cn.current),Z(Hr,Hr.current)}function Gr(s){K(Hr),ci===s&&(ci=null),K(cn)}var cn=L(0);function $p(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||a_(d)||l_(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var rs=0,Je=null,It=null,vn=null,Kp=!1,Hu=!1,xl=!1,Yp=0,ed=0,Gu=null,z9=0;function en(){throw Error(r(321))}function nb(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!zr(s[d],l[d]))return!1;return!0}function rb(s,l,d,m,_,T){return rs=T,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=s===null||s.memoizedState===null?BI:vb,xl=!1,T=d(m,_),xl=!1,Hu&&(T=iI(l,d,m,_)),rI(s),T}function rI(s){X.H=rd;var l=It!==null&&It.next!==null;if(rs=0,vn=It=Je=null,Kp=!1,ed=0,Gu=null,l)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Up(s)&&(bn=!0))}function iI(s,l,d,m){Je=s;var _=0;do{if(Hu&&(Gu=null),ed=0,Hu=!1,25<=_)throw Error(r(301));if(_+=1,vn=It=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=FI,T=l(d,m)}while(Hu);return T}function q9(){var s=X.H,l=s.useState()[0];return l=typeof l.then=="function"?td(l):l,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(Je.flags|=1024),l}function ib(){var s=Yp!==0;return Yp=0,s}function ob(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function sb(s){if(Kp){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Kp=!1}rs=0,vn=It=Je=null,Hu=!1,ed=Yp=0,Gu=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Je.memoizedState=vn=s:vn=vn.next=s,vn}function fn(){if(It===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=vn===null?Je.memoizedState:vn.next;if(l!==null)vn=l,It=s;else{if(s===null)throw Je.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},vn===null?Je.memoizedState=vn=s:vn=vn.next=s}return vn}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(s){var l=ed;return ed+=1,Gu===null&&(Gu=[]),s=YC(Gu,s,l),l=Je,(vn===null?l.memoizedState:vn.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?BI:vb),s}function Jp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return td(s);if(s.$$typeof===D)return Xn(s)}throw Error(r(438,String(s)))}function ab(s){var l=null,d=Je.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Wp(),Je.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),m=0;m<s;m++)d[m]=z;return l.index++,d}function is(s,l){return typeof l=="function"?l(s):l}function Xp(s){var l=fn();return lb(l,It,s)}function lb(s,l,d){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=s.baseQueue,T=m.pending;if(T!==null){if(_!==null){var R=_.next;_.next=T.next,T.next=R}l.baseQueue=_=T,m.pending=null}if(T=s.baseState,_===null)s.memoizedState=T;else{l=_.next;var j=R=null,Y=null,ne=l,ce=!1;do{var pe=ne.lane&-536870913;if(pe!==ne.lane?(nt&pe)===pe:(rs&pe)===pe){var se=ne.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),pe===Bu&&(ce=!0);else if((rs&se)===se){ne=ne.next,se===Bu&&(ce=!0);continue}else pe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(j=Y=pe,R=T):Y=Y.next=pe,Je.lanes|=se,la|=se;pe=ne.action,xl&&d(T,pe),T=ne.hasEagerState?ne.eagerState:d(T,pe)}else se={lane:pe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(j=Y=se,R=T):Y=Y.next=se,Je.lanes|=pe,la|=pe;ne=ne.next}while(ne!==null&&ne!==l);if(Y===null?R=T:Y.next=j,!zr(T,s.memoizedState)&&(bn=!0,ce&&(d=Fu,d!==null)))throw d;s.memoizedState=T,s.baseState=R,s.baseQueue=Y,m.lastRenderedState=T}return _===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function ub(s){var l=fn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var R=_=_.next;do T=s(T,R.action),R=R.next;while(R!==_);zr(T,l.memoizedState)||(bn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,m]}function oI(s,l,d){var m=Je,_=fn(),T=lt;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=l();var R=!zr((It||_).memoizedState,d);if(R&&(_.memoizedState=d,bn=!0),_=_.queue,db(lI.bind(null,m,_,s),[s]),_.getSnapshot!==l||R||vn!==null&&vn.memoizedState.tag&1){if(m.flags|=2048,$u(9,{destroy:void 0},aI.bind(null,m,_,d,l),null),Ot===null)throw Error(r(349));T||(rs&127)!==0||sI(m,l,d)}return d}function sI(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Je.updateQueue,l===null?(l=Wp(),Je.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function aI(s,l,d,m){l.value=d,l.getSnapshot=m,uI(l)&&cI(s)}function lI(s,l,d){return d(function(){uI(l)&&cI(s)})}function uI(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!zr(s,d)}catch{return!0}}function cI(s){var l=pl(s,2);l!==null&&kr(l,s,2)}function cb(s){var l=br();if(typeof s=="function"){var d=s;if(s=d(),xl){yr(!0);try{d()}finally{yr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},l}function fI(s,l,d,m){return s.baseState=d,lb(s,It,typeof m=="function"?m:is)}function H9(s,l,d,m,_){if(em(s))throw Error(r(485));if(s=l.action,s!==null){var T={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};X.T!==null?d(!0):T.isTransition=!1,m(T),d=l.pending,d===null?(T.next=l.pending=T,dI(l,T)):(T.next=d.next,l.pending=d.next=T)}}function dI(s,l){var d=l.action,m=l.payload,_=s.state;if(l.isTransition){var T=X.T,R={};X.T=R;try{var j=d(_,m),Y=X.S;Y!==null&&Y(R,j),hI(s,l,j)}catch(ne){fb(s,l,ne)}finally{T!==null&&R.types!==null&&(T.types=R.types),X.T=T}}else try{T=d(_,m),hI(s,l,T)}catch(ne){fb(s,l,ne)}}function hI(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){pI(s,l,m)},function(m){return fb(s,l,m)}):pI(s,l,d)}function pI(s,l,d){l.status="fulfilled",l.value=d,mI(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,dI(s,d)))}function fb(s,l,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,mI(l),l=l.next;while(l!==m)}s.action=null}function mI(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function gI(s,l){return l}function yI(s,l){if(lt){var d=Ot.formState;if(d!==null){e:{var m=Je;if(lt){if(jt){t:{for(var _=jt,T=ui;_.nodeType!==8;){if(!T){_=null;break t}if(_=fi(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){jt=fi(_.nextSibling),m=_.data==="F!";break e}}Zs(m)}m=!1}m&&(l=d[0])}}return d=br(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gI,lastRenderedState:l},d.queue=m,d=LI.bind(null,Je,m),m.dispatch=d,m=cb(!1),T=yb.bind(null,Je,!1,m.queue),m=br(),_={state:l,dispatch:null,action:s,pending:null},m.queue=_,d=H9.bind(null,Je,_,T,d),_.dispatch=d,m.memoizedState=s,[l,d,!1]}function vI(s){var l=fn();return bI(l,It,s)}function bI(s,l,d){if(l=lb(s,l,gI)[0],s=Xp(is)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=td(l)}catch(R){throw R===ju?jp:R}else m=l;l=fn();var _=l.queue,T=_.dispatch;return d!==l.memoizedState&&(Je.flags|=2048,$u(9,{destroy:void 0},G9.bind(null,_,d),null)),[m,T,s]}function G9(s,l){s.action=l}function _I(s){var l=fn(),d=It;if(d!==null)return bI(l,d,s);fn(),l=l.memoizedState,d=fn();var m=d.queue.dispatch;return d.memoizedState=s,[l,m,!1]}function $u(s,l,d,m){return s={tag:s,create:d,deps:m,inst:l,next:null},l=Je.updateQueue,l===null&&(l=Wp(),Je.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,l.lastEffect=s),s}function EI(){return fn().memoizedState}function Qp(s,l,d,m){var _=br();Je.flags|=s,_.memoizedState=$u(1|l,{destroy:void 0},d,m===void 0?null:m)}function Zp(s,l,d,m){var _=fn();m=m===void 0?null:m;var T=_.memoizedState.inst;It!==null&&m!==null&&nb(m,It.memoizedState.deps)?_.memoizedState=$u(l,T,d,m):(Je.flags|=s,_.memoizedState=$u(1|l,T,d,m))}function TI(s,l){Qp(8390656,8,s,l)}function db(s,l){Zp(2048,8,s,l)}function $9(s){Je.flags|=4;var l=Je.updateQueue;if(l===null)l=Wp(),Je.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function xI(s){var l=fn().memoizedState;return $9({ref:l,nextImpl:s}),function(){if((yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function SI(s,l){return Zp(4,2,s,l)}function wI(s,l){return Zp(4,4,s,l)}function AI(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function CI(s,l,d){d=d!=null?d.concat([s]):null,Zp(4,4,AI.bind(null,l,s),d)}function hb(){}function II(s,l){var d=fn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&nb(l,m[1])?m[0]:(d.memoizedState=[s,l],s)}function PI(s,l){var d=fn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&nb(l,m[1]))return m[0];if(m=s(),xl){yr(!0);try{s()}finally{yr(!1)}}return d.memoizedState=[m,l],m}function pb(s,l,d){return d===void 0||(rs&1073741824)!==0&&(nt&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=RP(),Je.lanes|=s,la|=s,d)}function RI(s,l,d,m){return zr(d,l)?d:qu.current!==null?(s=pb(s,d,m),zr(s,l)||(bn=!0),s):(rs&42)===0||(rs&1073741824)!==0&&(nt&261930)===0?(bn=!0,s.memoizedState=d):(s=RP(),Je.lanes|=s,la|=s,l)}function MI(s,l,d,m,_){var T=ie.p;ie.p=T!==0&&8>T?T:8;var R=X.T,j={};X.T=j,yb(s,!1,l,d);try{var Y=_(),ne=X.S;if(ne!==null&&ne(j,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=j9(Y,m);nd(s,l,ce,Yr(s))}else nd(s,l,m,Yr(s))}catch(pe){nd(s,l,{then:function(){},status:"rejected",reason:pe},Yr())}finally{ie.p=T,R!==null&&j.types!==null&&(R.types=j.types),X.T=R}}function K9(){}function mb(s,l,d,m){if(s.tag!==5)throw Error(r(476));var _=NI(s).queue;MI(s,_,l,fe,d===null?K9:function(){return DI(s),d(m)})}function NI(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:fe},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function DI(s){var l=NI(s);l.next===null&&(l=s.alternate.memoizedState),nd(s,l.next.queue,{},Yr())}function gb(){return Xn(bd)}function OI(){return fn().memoizedState}function kI(){return fn().memoizedState}function Y9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Yr();s=na(d);var m=ra(l,s,d);m!==null&&(kr(m,l,d),Xf(m,l,d)),l={cache:G0()},s.payload=l;return}l=l.return}}function W9(s,l,d){var m=Yr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},em(s)?VI(l,d):(d=O0(s,l,d,m),d!==null&&(kr(d,s,m),UI(d,l,m)))}function LI(s,l,d){var m=Yr();nd(s,l,d,m)}function nd(s,l,d,m){var _={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(em(s))VI(l,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var R=l.lastRenderedState,j=T(R,d);if(_.hasEagerState=!0,_.eagerState=j,zr(j,R))return Op(s,l,_,0),Ot===null&&Dp(),!1}catch{}finally{}if(d=O0(s,l,_,m),d!==null)return kr(d,s,m),UI(d,l,m),!0}return!1}function yb(s,l,d,m){if(m={lane:2,revertLane:Wb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},em(s)){if(l)throw Error(r(479))}else l=O0(s,d,m,2),l!==null&&kr(l,s,2)}function em(s){var l=s.alternate;return s===Je||l!==null&&l===Je}function VI(s,l){Hu=Kp=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function UI(s,l,d){if((d&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Sf(s,d)}}var rd={readContext:Xn,use:Jp,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};rd.useEffectEvent=en;var BI={readContext:Xn,use:Jp,useCallback:function(s,l){return br().memoizedState=[s,l===void 0?null:l],s},useContext:Xn,useEffect:TI,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Qp(4194308,4,AI.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Qp(4194308,4,s,l)},useInsertionEffect:function(s,l){Qp(4,2,s,l)},useMemo:function(s,l){var d=br();l=l===void 0?null:l;var m=s();if(xl){yr(!0);try{s()}finally{yr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(s,l,d){var m=br();if(d!==void 0){var _=d(l);if(xl){yr(!0);try{d(l)}finally{yr(!1)}}}else _=l;return m.memoizedState=m.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},m.queue=s,s=s.dispatch=W9.bind(null,Je,s),[m.memoizedState,s]},useRef:function(s){var l=br();return s={current:s},l.memoizedState=s},useState:function(s){s=cb(s);var l=s.queue,d=LI.bind(null,Je,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:hb,useDeferredValue:function(s,l){var d=br();return pb(d,s,l)},useTransition:function(){var s=cb(!1);return s=MI.bind(null,Je,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var m=Je,_=br();if(lt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ot===null)throw Error(r(349));(nt&127)!==0||sI(m,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,TI(lI.bind(null,m,T,s),[s]),m.flags|=2048,$u(9,{destroy:void 0},aI.bind(null,m,T,d,l),null),d},useId:function(){var s=br(),l=Ot.identifierPrefix;if(lt){var d=Eo,m=_o;d=(m&~(1<<32-$t(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Yp++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=z9++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:gb,useFormState:yI,useActionState:yI,useOptimistic:function(s){var l=br();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=yb.bind(null,Je,!0,d),d.dispatch=l,[s,l]},useMemoCache:ab,useCacheRefresh:function(){return br().memoizedState=Y9.bind(null,Je)},useEffectEvent:function(s){var l=br(),d={impl:s};return l.memoizedState=d,function(){if((yt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},vb={readContext:Xn,use:Jp,useCallback:II,useContext:Xn,useEffect:db,useImperativeHandle:CI,useInsertionEffect:SI,useLayoutEffect:wI,useMemo:PI,useReducer:Xp,useRef:EI,useState:function(){return Xp(is)},useDebugValue:hb,useDeferredValue:function(s,l){var d=fn();return RI(d,It.memoizedState,s,l)},useTransition:function(){var s=Xp(is)[0],l=fn().memoizedState;return[typeof s=="boolean"?s:td(s),l]},useSyncExternalStore:oI,useId:OI,useHostTransitionStatus:gb,useFormState:vI,useActionState:vI,useOptimistic:function(s,l){var d=fn();return fI(d,It,s,l)},useMemoCache:ab,useCacheRefresh:kI};vb.useEffectEvent=xI;var FI={readContext:Xn,use:Jp,useCallback:II,useContext:Xn,useEffect:db,useImperativeHandle:CI,useInsertionEffect:SI,useLayoutEffect:wI,useMemo:PI,useReducer:ub,useRef:EI,useState:function(){return ub(is)},useDebugValue:hb,useDeferredValue:function(s,l){var d=fn();return It===null?pb(d,s,l):RI(d,It.memoizedState,s,l)},useTransition:function(){var s=ub(is)[0],l=fn().memoizedState;return[typeof s=="boolean"?s:td(s),l]},useSyncExternalStore:oI,useId:OI,useHostTransitionStatus:gb,useFormState:_I,useActionState:_I,useOptimistic:function(s,l){var d=fn();return It!==null?fI(d,It,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:ab,useCacheRefresh:kI};FI.useEffectEvent=xI;function bb(s,l,d,m){l=s.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var _b={enqueueSetState:function(s,l,d){s=s._reactInternals;var m=Yr(),_=na(m);_.payload=l,d!=null&&(_.callback=d),l=ra(s,_,m),l!==null&&(kr(l,s,m),Xf(l,s,m))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var m=Yr(),_=na(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=ra(s,_,m),l!==null&&(kr(l,s,m),Xf(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Yr(),m=na(d);m.tag=2,l!=null&&(m.callback=l),l=ra(s,m,d),l!==null&&(kr(l,s,d),Xf(l,s,d))}};function jI(s,l,d,m,_,T,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,T,R):l.prototype&&l.prototype.isPureReactComponent?!qf(d,m)||!qf(_,T):!0}function zI(s,l,d,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==s&&_b.enqueueReplaceState(l,l.state,null)}function Sl(s,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(s=s.defaultProps){d===l&&(d=p({},d));for(var _ in s)d[_]===void 0&&(d[_]=s[_])}return d}function qI(s){Np(s)}function HI(s){console.error(s)}function GI(s){Np(s)}function tm(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function $I(s,l,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Eb(s,l,d){return d=na(d),d.tag=3,d.payload={element:null},d.callback=function(){tm(s,l)},d}function KI(s){return s=na(s),s.tag=3,s}function YI(s,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var T=m.value;s.payload=function(){return _(T)},s.callback=function(){$I(l,d,m)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){$I(l,d,m),typeof _!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function J9(s,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Uu(l,d,_,!0),d=Hr.current,d!==null){switch(d.tag){case 31:case 13:return ci===null?hm():d.alternate===null&&tn===0&&(tn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===zp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),$b(s,m,_)),!1;case 22:return d.flags|=65536,m===zp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),$b(s,m,_)),!1}throw Error(r(435,d.tag))}return $b(s,m,_),hm(),!1}if(lt)return l=Hr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==F0&&(s=Error(r(422),{cause:m}),$f(si(s,d)))):(m!==F0&&(l=Error(r(423),{cause:m}),$f(si(l,d))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,m=si(m,d),_=Eb(s.stateNode,m,_),X0(s,_),tn!==4&&(tn=2)),!1;var T=Error(r(520),{cause:m});if(T=si(T,d),fd===null?fd=[T]:fd.push(T),tn!==4&&(tn=2),l===null)return!0;m=si(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=_&-_,d.lanes|=s,s=Eb(d.stateNode,m,s),X0(d,s),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ua===null||!ua.has(T))))return d.flags|=65536,_&=-_,d.lanes|=_,_=KI(_),YI(_,s,d,m),X0(d,_),!1}d=d.return}while(d!==null);return!1}var Tb=Error(r(461)),bn=!1;function Qn(s,l,d,m){l.child=s===null?QC(l,null,d,m):Tl(l,s.child,d,m)}function WI(s,l,d,m,_){d=d.render;var T=l.ref;if("ref"in m){var R={};for(var j in m)j!=="ref"&&(R[j]=m[j])}else R=m;return vl(l),m=rb(s,l,d,R,T,_),j=ib(),s!==null&&!bn?(ob(s,l,_),os(s,l,_)):(lt&&j&&U0(l),l.flags|=1,Qn(s,l,m,_),l.child)}function JI(s,l,d,m,_){if(s===null){var T=d.type;return typeof T=="function"&&!k0(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,XI(s,l,T,m,_)):(s=Lp(d.type,null,m,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(T=s.child,!Rb(s,_)){var R=T.memoizedProps;if(d=d.compare,d=d!==null?d:qf,d(R,m)&&s.ref===l.ref)return os(s,l,_)}return l.flags|=1,s=Zo(T,m),s.ref=l.ref,s.return=l,l.child=s}function XI(s,l,d,m,_){if(s!==null){var T=s.memoizedProps;if(qf(T,m)&&s.ref===l.ref)if(bn=!1,l.pendingProps=m=T,Rb(s,_))(s.flags&131072)!==0&&(bn=!0);else return l.lanes=s.lanes,os(s,l,_)}return xb(s,l,d,m,_)}function QI(s,l,d,m){var _=m.children,T=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,s!==null){for(m=l.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~T}else m=0,l.child=null;return ZI(s,l,T,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fp(l,T!==null?T.cachePool:null),T!==null?tI(l,T):Z0(),nI(l);else return m=l.lanes=536870912,ZI(s,l,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(Fp(l,T.cachePool),tI(l,T),oa(),l.memoizedState=null):(s!==null&&Fp(l,null),Z0(),oa());return Qn(s,l,_,d),l.child}function id(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ZI(s,l,d,m,_){var T=K0();return T=T===null?null:{parent:yn._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},s!==null&&Fp(l,null),Z0(),nI(l),s!==null&&Uu(s,l,m,!0),l.childLanes=_,null}function nm(s,l){return l=im({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function eP(s,l,d){return Tl(l,s.child,null,d),s=nm(l,l.pendingProps),s.flags|=2,Gr(l),l.memoizedState=null,s}function X9(s,l,d){var m=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(lt){if(m.mode==="hidden")return s=nm(l,m),l.lanes=536870912,id(null,s);if(tb(l),(s=jt)?(s=dR(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:_o,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},d=VC(s),d.return=l,l.child=d,Jn=l,jt=null)):s=null,s===null)throw Zs(l);return l.lanes=536870912,null}return nm(l,m)}var T=s.memoizedState;if(T!==null){var R=T.dehydrated;if(tb(l),_)if(l.flags&256)l.flags&=-257,l=eP(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(bn||Uu(s,l,d,!1),_=(d&s.childLanes)!==0,bn||_){if(m=Ot,m!==null&&(R=wf(m,d),R!==0&&R!==T.retryLane))throw T.retryLane=R,pl(s,R),kr(m,s,R),Tb;hm(),l=eP(s,l,d)}else s=T.treeContext,jt=fi(R.nextSibling),Jn=l,lt=!0,Qs=null,ui=!1,s!==null&&FC(l,s),l=nm(l,m),l.flags|=4096;return l}return s=Zo(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function rm(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function xb(s,l,d,m,_){return vl(l),d=rb(s,l,d,m,void 0,_),m=ib(),s!==null&&!bn?(ob(s,l,_),os(s,l,_)):(lt&&m&&U0(l),l.flags|=1,Qn(s,l,d,_),l.child)}function tP(s,l,d,m,_,T){return vl(l),l.updateQueue=null,d=iI(l,m,d,_),rI(s),m=ib(),s!==null&&!bn?(ob(s,l,T),os(s,l,T)):(lt&&m&&U0(l),l.flags|=1,Qn(s,l,d,T),l.child)}function nP(s,l,d,m,_){if(vl(l),l.stateNode===null){var T=Ou,R=d.contextType;typeof R=="object"&&R!==null&&(T=Xn(R)),T=new d(m,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=_b,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=m,T.state=l.memoizedState,T.refs={},W0(l),R=d.contextType,T.context=typeof R=="object"&&R!==null?Xn(R):Ou,T.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(bb(l,d,R,m),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&_b.enqueueReplaceState(T,T.state,null),Zf(l,m,T,_),Qf(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){T=l.stateNode;var j=l.memoizedProps,Y=Sl(d,j);T.props=Y;var ne=T.context,ce=d.contextType;R=Ou,typeof ce=="object"&&ce!==null&&(R=Xn(ce));var pe=d.getDerivedStateFromProps;ce=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j||ne!==R)&&zI(l,T,m,R),ta=!1;var se=l.memoizedState;T.state=se,Zf(l,m,T,_),Qf(),ne=l.memoizedState,j||se!==ne||ta?(typeof pe=="function"&&(bb(l,d,pe,m),ne=l.memoizedState),(Y=ta||jI(l,d,Y,m,se,ne,R))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ne),T.props=m,T.state=ne,T.context=R,m=Y):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{T=l.stateNode,J0(s,l),R=l.memoizedProps,ce=Sl(d,R),T.props=ce,pe=l.pendingProps,se=T.context,ne=d.contextType,Y=Ou,typeof ne=="object"&&ne!==null&&(Y=Xn(ne)),j=d.getDerivedStateFromProps,(ne=typeof j=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==pe||se!==Y)&&zI(l,T,m,Y),ta=!1,se=l.memoizedState,T.state=se,Zf(l,m,T,_),Qf();var ue=l.memoizedState;R!==pe||se!==ue||ta||s!==null&&s.dependencies!==null&&Up(s.dependencies)?(typeof j=="function"&&(bb(l,d,j,m),ue=l.memoizedState),(ce=ta||jI(l,d,ce,m,se,ue,Y)||s!==null&&s.dependencies!==null&&Up(s.dependencies))?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,ue,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,ue,Y)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),T.props=m,T.state=ue,T.context=Y,m=ce):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),m=!1)}return T=m,rm(s,l),m=(l.flags&128)!==0,T||m?(T=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,s!==null&&m?(l.child=Tl(l,s.child,null,_),l.child=Tl(l,null,d,_)):Qn(s,l,d,_),l.memoizedState=T.state,s=l.child):s=os(s,l,_),s}function rP(s,l,d,m){return gl(),l.flags|=256,Qn(s,l,d,m),l.child}var Sb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wb(s){return{baseLanes:s,cachePool:$C()}}function Ab(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Kr),s}function iP(s,l,d){var m=l.pendingProps,_=!1,T=(l.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(cn.current&2)!==0),R&&(_=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,s===null){if(lt){if(_?ia(l):oa(),(s=jt)?(s=dR(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:_o,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},d=VC(s),d.return=l,l.child=d,Jn=l,jt=null)):s=null,s===null)throw Zs(l);return l_(s)?l.lanes=32:l.lanes=536870912,null}var j=m.children;return m=m.fallback,_?(oa(),_=l.mode,j=im({mode:"hidden",children:j},_),m=ml(m,_,d,null),j.return=l,m.return=l,j.sibling=m,l.child=j,m=l.child,m.memoizedState=wb(d),m.childLanes=Ab(s,R,d),l.memoizedState=Sb,id(null,m)):(ia(l),Cb(l,j))}var Y=s.memoizedState;if(Y!==null&&(j=Y.dehydrated,j!==null)){if(T)l.flags&256?(ia(l),l.flags&=-257,l=Ib(s,l,d)):l.memoizedState!==null?(oa(),l.child=s.child,l.flags|=128,l=null):(oa(),j=m.fallback,_=l.mode,m=im({mode:"visible",children:m.children},_),j=ml(j,_,d,null),j.flags|=2,m.return=l,j.return=l,m.sibling=j,l.child=m,Tl(l,s.child,null,d),m=l.child,m.memoizedState=wb(d),m.childLanes=Ab(s,R,d),l.memoizedState=Sb,l=id(null,m));else if(ia(l),l_(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var ne=R.dgst;R=ne,m=Error(r(419)),m.stack="",m.digest=R,$f({value:m,source:null,stack:null}),l=Ib(s,l,d)}else if(bn||Uu(s,l,d,!1),R=(d&s.childLanes)!==0,bn||R){if(R=Ot,R!==null&&(m=wf(R,d),m!==0&&m!==Y.retryLane))throw Y.retryLane=m,pl(s,m),kr(R,s,m),Tb;a_(j)||hm(),l=Ib(s,l,d)}else a_(j)?(l.flags|=192,l.child=s.child,l=null):(s=Y.treeContext,jt=fi(j.nextSibling),Jn=l,lt=!0,Qs=null,ui=!1,s!==null&&FC(l,s),l=Cb(l,m.children),l.flags|=4096);return l}return _?(oa(),j=m.fallback,_=l.mode,Y=s.child,ne=Y.sibling,m=Zo(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&65011712,ne!==null?j=Zo(ne,j):(j=ml(j,_,d,null),j.flags|=2),j.return=l,m.return=l,m.sibling=j,l.child=m,id(null,m),m=l.child,j=s.child.memoizedState,j===null?j=wb(d):(_=j.cachePool,_!==null?(Y=yn._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=$C(),j={baseLanes:j.baseLanes|d,cachePool:_}),m.memoizedState=j,m.childLanes=Ab(s,R,d),l.memoizedState=Sb,id(s.child,m)):(ia(l),d=s.child,s=d.sibling,d=Zo(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,s!==null&&(R=l.deletions,R===null?(l.deletions=[s],l.flags|=16):R.push(s)),l.child=d,l.memoizedState=null,d)}function Cb(s,l){return l=im({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function im(s,l){return s=qr(22,s,null,l),s.lanes=0,s}function Ib(s,l,d){return Tl(l,s.child,null,d),s=Cb(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function oP(s,l,d){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),q0(s.return,l,d)}function Pb(s,l,d,m,_,T){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_,treeForkCount:T}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=_,R.treeForkCount=T)}function sP(s,l,d){var m=l.pendingProps,_=m.revealOrder,T=m.tail;m=m.children;var R=cn.current,j=(R&2)!==0;if(j?(R=R&1|2,l.flags|=128):R&=1,Z(cn,R),Qn(s,l,m,d),m=lt?Gf:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oP(s,d,l);else if(s.tag===19)oP(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(d=l.child,_=null;d!==null;)s=d.alternate,s!==null&&$p(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Pb(l,!1,_,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&$p(s)===null){l.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}Pb(l,!0,d,null,T,m);break;case"together":Pb(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function os(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),la|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Uu(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Zo(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Zo(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Rb(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Up(s)))}function Q9(s,l,d){switch(l.tag){case 3:Me(l,l.stateNode.containerInfo),ea(l,yn,s.memoizedState.cache),gl();break;case 27:case 5:Ce(l);break;case 4:Me(l,l.stateNode.containerInfo);break;case 10:ea(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,tb(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ia(l),l.flags|=128,null):(d&l.child.childLanes)!==0?iP(s,l,d):(ia(l),s=os(s,l,d),s!==null?s.sibling:null);ia(l);break;case 19:var _=(s.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Uu(s,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return sP(s,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Z(cn,cn.current),m)break;return null;case 22:return l.lanes=0,QI(s,l,d,l.pendingProps);case 24:ea(l,yn,s.memoizedState.cache)}return os(s,l,d)}function aP(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)bn=!0;else{if(!Rb(s,d)&&(l.flags&128)===0)return bn=!1,Q9(s,l,d);bn=(s.flags&131072)!==0}else bn=!1,lt&&(l.flags&1048576)!==0&&BC(l,Gf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=_l(l.elementType),l.type=s,typeof s=="function")k0(s)?(m=Sl(s,m),l.tag=1,l=nP(null,l,s,m,d)):(l.tag=0,l=xb(null,l,s,m,d));else{if(s!=null){var _=s.$$typeof;if(_===B){l.tag=11,l=WI(null,l,s,m,d);break e}else if(_===M){l.tag=14,l=JI(null,l,s,m,d);break e}}throw l=ve(s)||s,Error(r(306,l,""))}}return l;case 0:return xb(s,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Sl(m,l.pendingProps),nP(s,l,m,_,d);case 3:e:{if(Me(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var T=l.memoizedState;_=T.element,J0(s,l),Zf(l,m,null,d);var R=l.memoizedState;if(m=R.cache,ea(l,yn,m),m!==T.cache&&H0(l,[yn],d,!0),Qf(),m=R.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=rP(s,l,m,d);break e}else if(m!==_){_=si(Error(r(424)),l),$f(_),l=rP(s,l,m,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(jt=fi(s.firstChild),Jn=l,lt=!0,Qs=null,ui=!0,d=QC(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gl(),m===_){l=os(s,l,d);break e}Qn(s,l,m,d)}l=l.child}return l;case 26:return rm(s,l),s===null?(d=vR(l.type,null,l.pendingProps,null))?l.memoizedState=d:lt||(d=l.type,s=l.pendingProps,m=_m(_e.current).createElement(d),m[pn]=l,m[Un]=s,Zn(m,d,s),mn(m),l.stateNode=m):l.memoizedState=vR(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ce(l),s===null&&lt&&(m=l.stateNode=mR(l.type,l.pendingProps,_e.current),Jn=l,ui=!0,_=jt,ha(l.type)?(u_=_,jt=fi(m.firstChild)):jt=_),Qn(s,l,l.pendingProps.children,d),rm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&lt&&((_=m=jt)&&(m=IH(m,l.type,l.pendingProps,ui),m!==null?(l.stateNode=m,Jn=l,jt=fi(m.firstChild),ui=!1,_=!0):_=!1),_||Zs(l)),Ce(l),_=l.type,T=l.pendingProps,R=s!==null?s.memoizedProps:null,m=T.children,i_(_,T)?m=null:R!==null&&i_(_,R)&&(l.flags|=32),l.memoizedState!==null&&(_=rb(s,l,q9,null,null,d),bd._currentValue=_),rm(s,l),Qn(s,l,m,d),l.child;case 6:return s===null&&lt&&((s=d=jt)&&(d=PH(d,l.pendingProps,ui),d!==null?(l.stateNode=d,Jn=l,jt=null,s=!0):s=!1),s||Zs(l)),null;case 13:return iP(s,l,d);case 4:return Me(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Tl(l,null,m,d):Qn(s,l,m,d),l.child;case 11:return WI(s,l,l.type,l.pendingProps,d);case 7:return Qn(s,l,l.pendingProps,d),l.child;case 8:return Qn(s,l,l.pendingProps.children,d),l.child;case 12:return Qn(s,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ea(l,l.type,m.value),Qn(s,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,vl(l),_=Xn(_),m=m(_),l.flags|=1,Qn(s,l,m,d),l.child;case 14:return JI(s,l,l.type,l.pendingProps,d);case 15:return XI(s,l,l.type,l.pendingProps,d);case 19:return sP(s,l,d);case 31:return X9(s,l,d);case 22:return QI(s,l,d,l.pendingProps);case 24:return vl(l),m=Xn(yn),s===null?(_=K0(),_===null&&(_=Ot,T=G0(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=d),_=T),l.memoizedState={parent:m,cache:_},W0(l),ea(l,yn,_)):((s.lanes&d)!==0&&(J0(s,l),Zf(l,null,null,d),Qf()),_=s.memoizedState,T=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),ea(l,yn,m)):(m=T.cache,ea(l,yn,m),m!==_.cache&&H0(l,[yn],d,!0))),Qn(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ss(s){s.flags|=4}function Mb(s,l,d,m,_){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(OP())s.flags|=8192;else throw El=zp,Y0}else s.flags&=-16777217}function lP(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!xR(l))if(OP())s.flags|=8192;else throw El=zp,Y0}function om(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?fp():536870912,s.lanes|=l,Ju|=l)}function od(s,l){if(!lt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function zt(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(l)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=d,l}function Z9(s,l,d){var m=l.pendingProps;switch(B0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return zt(l),null;case 3:return d=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ns(yn),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Vu(l)?ss(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,j0())),zt(l),null;case 26:var _=l.type,T=l.memoizedState;return s===null?(ss(l),T!==null?(zt(l),lP(l,T)):(zt(l),Mb(l,_,null,m,d))):T?T!==s.memoizedState?(ss(l),zt(l),lP(l,T)):(zt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&ss(l),zt(l),Mb(l,_,s,m,d)),null;case 27:if(Pe(l),d=_e.current,_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ss(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}s=ae.current,Vu(l)?jC(l):(s=mR(_,m,d),l.stateNode=s,ss(l))}return zt(l),null;case 5:if(Pe(l),_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ss(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}if(T=ae.current,Vu(l))jC(l);else{var R=_m(_e.current);switch(T){case 1:T=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=R.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?R.createElement(_,{is:m.is}):R.createElement(_)}}T[pn]=l,T[Un]=m;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)T.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=T;e:switch(Zn(T,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ss(l)}}return zt(l),Mb(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&ss(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=_e.current,Vu(l)){if(s=l.stateNode,d=l.memoizedProps,m=null,_=Jn,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}s[pn]=l,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||iR(s.nodeValue,d)),s||Zs(l,!0)}else s=_m(s).createTextNode(m),s[pn]=l,l.stateNode=s}return zt(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(m=Vu(l),d!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[pn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),s=!1}else d=j0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(Gr(l),l):(Gr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return zt(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Vu(l),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[pn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),_=!1}else _=j0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Gr(l),l):(Gr(l),null)}return Gr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==_&&(m.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),om(l,l.updateQueue),zt(l),null);case 4:return oe(),s===null&&Zb(l.stateNode.containerInfo),zt(l),null;case 10:return ns(l.type),zt(l),null;case 19:if(K(cn),m=l.memoizedState,m===null)return zt(l),null;if(_=(l.flags&128)!==0,T=m.rendering,T===null)if(_)od(m,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(T=$p(s),T!==null){for(l.flags|=128,od(m,!1),s=T.updateQueue,l.updateQueue=s,om(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)LC(d,s),d=d.sibling;return Z(cn,cn.current&1|2),lt&&es(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&ln()>cm&&(l.flags|=128,_=!0,od(m,!1),l.lanes=4194304)}else{if(!_)if(s=$p(T),s!==null){if(l.flags|=128,_=!0,s=s.updateQueue,l.updateQueue=s,om(l,s),od(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!lt)return zt(l),null}else 2*ln()-m.renderingStartTime>cm&&d!==536870912&&(l.flags|=128,_=!0,od(m,!1),l.lanes=4194304);m.isBackwards?(T.sibling=l.child,l.child=T):(s=m.last,s!==null?s.sibling=T:l.child=T,m.last=T)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=ln(),s.sibling=null,d=cn.current,Z(cn,_?d&1|2:d&1),lt&&es(l,m.treeForkCount),s):(zt(l),null);case 22:case 23:return Gr(l),eb(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),d=l.updateQueue,d!==null&&om(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),s!==null&&K(bl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ns(yn),zt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function eH(s,l){switch(B0(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ns(yn),oe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Pe(l),null;case 31:if(l.memoizedState!==null){if(Gr(l),l.alternate===null)throw Error(r(340));gl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Gr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));gl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return K(cn),null;case 4:return oe(),null;case 10:return ns(l.type),null;case 22:case 23:return Gr(l),eb(),s!==null&&K(bl),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return ns(yn),null;case 25:return null;default:return null}}function uP(s,l){switch(B0(l),l.tag){case 3:ns(yn),oe();break;case 26:case 27:case 5:Pe(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&Gr(l);break;case 13:Gr(l);break;case 19:K(cn);break;case 10:ns(l.type);break;case 22:case 23:Gr(l),eb(),s!==null&&K(bl);break;case 24:ns(yn)}}function sd(s,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&s)===s){m=void 0;var T=d.create,R=d.inst;m=T(),R.destroy=m}d=d.next}while(d!==_)}}catch(j){St(l,l.return,j)}}function sa(s,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var T=_.next;m=T;do{if((m.tag&s)===s){var R=m.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,_=l;var Y=d,ne=j;try{ne()}catch(ce){St(_,Y,ce)}}}m=m.next}while(m!==T)}}catch(ce){St(l,l.return,ce)}}function cP(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{eI(l,d)}catch(m){St(s,s.return,m)}}}function fP(s,l,d){d.props=Sl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){St(s,l,m)}}function ad(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(_){St(s,l,_)}}function To(s,l){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){St(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){St(s,l,_)}else d.current=null}function dP(s){var l=s.type,d=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){St(s,s.return,_)}}function Nb(s,l,d){try{var m=s.stateNode;TH(m,s.type,d,l),m[Un]=l}catch(_){St(s,s.return,_)}}function hP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ha(s.type)||s.tag===4}function Db(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ha(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ob(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Oi));else if(m!==4&&(m===27&&ha(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Ob(s,l,d),s=s.sibling;s!==null;)Ob(s,l,d),s=s.sibling}function sm(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(m!==4&&(m===27&&ha(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(sm(s,l,d),s=s.sibling;s!==null;)sm(s,l,d),s=s.sibling}function pP(s){var l=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Zn(l,m,d),l[pn]=s,l[Un]=d}catch(T){St(s,s.return,T)}}var as=!1,_n=!1,kb=!1,mP=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function tH(s,l){if(s=s.containerInfo,n_=Cm,s=CC(s),I0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var R=0,j=-1,Y=-1,ne=0,ce=0,pe=s,se=null;t:for(;;){for(var ue;pe!==d||_!==0&&pe.nodeType!==3||(j=R+_),pe!==T||m!==0&&pe.nodeType!==3||(Y=R+m),pe.nodeType===3&&(R+=pe.nodeValue.length),(ue=pe.firstChild)!==null;)se=pe,pe=ue;for(;;){if(pe===s)break t;if(se===d&&++ne===_&&(j=R),se===T&&++ce===m&&(Y=R),(ue=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=ue}d=j===-1||Y===-1?null:{start:j,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(r_={focusedElem:s,selectionRange:d},Cm=!1,Fn=l;Fn!==null;)if(l=Fn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Fn=s;else for(;Fn!==null;){switch(l=Fn,T=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)_=s[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,d=l,_=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var De=Sl(d.type,_);s=m.getSnapshotBeforeUpdate(De,T),m.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){St(d,d.return,Fe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)s_(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":s_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Fn=s;break}Fn=l.return}}function gP(s,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:us(s,d),m&4&&sd(5,d);break;case 1:if(us(s,d),m&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(R){St(d,d.return,R)}else{var _=Sl(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(R){St(d,d.return,R)}}m&64&&cP(d),m&512&&ad(d,d.return);break;case 3:if(us(s,d),m&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{eI(s,l)}catch(R){St(d,d.return,R)}}break;case 27:l===null&&m&4&&pP(d);case 26:case 5:us(s,d),l===null&&m&4&&dP(d),m&512&&ad(d,d.return);break;case 12:us(s,d);break;case 31:us(s,d),m&4&&bP(s,d);break;case 13:us(s,d),m&4&&_P(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=cH.bind(null,d),RH(s,d))));break;case 22:if(m=d.memoizedState!==null||as,!m){l=l!==null&&l.memoizedState!==null||_n,_=as;var T=_n;as=m,(_n=l)&&!T?cs(s,d,(d.subtreeFlags&8772)!==0):us(s,d),as=_,_n=T}break;case 30:break;default:us(s,d)}}function yP(s){var l=s.alternate;l!==null&&(s.alternate=null,yP(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&_u(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Mr=!1;function ls(s,l,d){for(d=d.child;d!==null;)vP(s,l,d),d=d.sibling}function vP(s,l,d){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Vn,d)}catch{}switch(d.tag){case 26:_n||To(d,l),ls(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_n||To(d,l);var m=Yt,_=Mr;ha(d.type)&&(Yt=d.stateNode,Mr=!1),ls(s,l,d),gd(d.stateNode),Yt=m,Mr=_;break;case 5:_n||To(d,l);case 6:if(m=Yt,_=Mr,Yt=null,ls(s,l,d),Yt=m,Mr=_,Yt!==null)if(Mr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(T){St(d,l,T)}else try{Yt.removeChild(d.stateNode)}catch(T){St(d,l,T)}break;case 18:Yt!==null&&(Mr?(s=Yt,cR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),ic(s)):cR(Yt,d.stateNode));break;case 4:m=Yt,_=Mr,Yt=d.stateNode.containerInfo,Mr=!0,ls(s,l,d),Yt=m,Mr=_;break;case 0:case 11:case 14:case 15:sa(2,d,l),_n||sa(4,d,l),ls(s,l,d);break;case 1:_n||(To(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&fP(d,l,m)),ls(s,l,d);break;case 21:ls(s,l,d);break;case 22:_n=(m=_n)||d.memoizedState!==null,ls(s,l,d),_n=m;break;default:ls(s,l,d)}}function bP(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ic(s)}catch(d){St(l,l.return,d)}}}function _P(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ic(s)}catch(d){St(l,l.return,d)}}function nH(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new mP),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new mP),l;default:throw Error(r(435,s.tag))}}function am(s,l){var d=nH(s);l.forEach(function(m){if(!d.has(m)){d.add(m);var _=fH.bind(null,s,m);m.then(_,_)}})}function Nr(s,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],T=s,R=l,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(ha(j.type)){Yt=j.stateNode,Mr=!1;break e}break;case 5:Yt=j.stateNode,Mr=!1;break e;case 3:case 4:Yt=j.stateNode.containerInfo,Mr=!0;break e}j=j.return}if(Yt===null)throw Error(r(160));vP(T,R,_),Yt=null,Mr=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)EP(l,s),l=l.sibling}var Fi=null;function EP(s,l){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nr(l,s),Dr(s),m&4&&(sa(3,s,s.return),sd(3,s),sa(5,s,s.return));break;case 1:Nr(l,s),Dr(s),m&512&&(_n||d===null||To(d,d.return)),m&64&&as&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Fi;if(Nr(l,s),Dr(s),m&512&&(_n||d===null||To(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){e:{m=s.type,d=s.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":T=_.getElementsByTagName("title")[0],(!T||T[ao]||T[pn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(m),_.head.insertBefore(T,_.querySelector("head > title"))),Zn(T,m,d),T[pn]=s,mn(T),m=T;break e;case"link":var R=ER("link","href",_).get(m+(d.href||""));if(R){for(var j=0;j<R.length;j++)if(T=R[j],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(j,1);break t}}T=_.createElement(m),Zn(T,m,d),_.head.appendChild(T);break;case"meta":if(R=ER("meta","content",_).get(m+(d.content||""))){for(j=0;j<R.length;j++)if(T=R[j],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(j,1);break t}}T=_.createElement(m),Zn(T,m,d),_.head.appendChild(T);break;default:throw Error(r(468,m))}T[pn]=s,mn(T),m=T}s.stateNode=m}else TR(_,s.type,s.stateNode);else s.stateNode=_R(_,m,s.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?TR(_,s.type,s.stateNode):_R(_,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Nb(s,s.memoizedProps,d.memoizedProps)}break;case 27:Nr(l,s),Dr(s),m&512&&(_n||d===null||To(d,d.return)),d!==null&&m&4&&Nb(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Nr(l,s),Dr(s),m&512&&(_n||d===null||To(d,d.return)),s.flags&32){_=s.stateNode;try{Rr(_,"")}catch(De){St(s,s.return,De)}}m&4&&s.stateNode!=null&&(_=s.memoizedProps,Nb(s,_,d!==null?d.memoizedProps:_)),m&1024&&(kb=!0);break;case 6:if(Nr(l,s),Dr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(De){St(s,s.return,De)}}break;case 3:if(xm=null,_=Fi,Fi=Em(l.containerInfo),Nr(l,s),Fi=_,Dr(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ic(l.containerInfo)}catch(De){St(s,s.return,De)}kb&&(kb=!1,TP(s));break;case 4:m=Fi,Fi=Em(s.stateNode.containerInfo),Nr(l,s),Dr(s),Fi=m;break;case 12:Nr(l,s),Dr(s);break;case 31:Nr(l,s),Dr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,am(s,m)));break;case 13:Nr(l,s),Dr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(um=ln()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,am(s,m)));break;case 22:_=s.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,ne=as,ce=_n;if(as=ne||_,_n=ce||Y,Nr(l,s),_n=ce,as=ne,Dr(s),m&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||Y||as||_n||wl(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Y=d=l;try{if(T=Y.stateNode,_)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=Y.stateNode;var pe=Y.memoizedProps.style,se=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(De){St(Y,Y.return,De)}}}else if(l.tag===6){if(d===null){Y=l;try{Y.stateNode.nodeValue=_?"":Y.memoizedProps}catch(De){St(Y,Y.return,De)}}}else if(l.tag===18){if(d===null){Y=l;try{var ue=Y.stateNode;_?fR(ue,!0):fR(Y.stateNode,!1)}catch(De){St(Y,Y.return,De)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,am(s,d))));break;case 19:Nr(l,s),Dr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,am(s,m)));break;case 30:break;case 21:break;default:Nr(l,s),Dr(s)}}function Dr(s){var l=s.flags;if(l&2){try{for(var d,m=s.return;m!==null;){if(hP(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,T=Db(s);sm(s,T,_);break;case 5:var R=d.stateNode;d.flags&32&&(Rr(R,""),d.flags&=-33);var j=Db(s);sm(s,j,R);break;case 3:case 4:var Y=d.stateNode.containerInfo,ne=Db(s);Ob(s,ne,Y);break;default:throw Error(r(161))}}catch(ce){St(s,s.return,ce)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function TP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;TP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function us(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)gP(s,l.alternate,l),l=l.sibling}function wl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:sa(4,l,l.return),wl(l);break;case 1:To(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&fP(l,l.return,d),wl(l);break;case 27:gd(l.stateNode);case 26:case 5:To(l,l.return),wl(l);break;case 22:l.memoizedState===null&&wl(l);break;case 30:wl(l);break;default:wl(l)}s=s.sibling}}function cs(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=s,T=l,R=T.flags;switch(T.tag){case 0:case 11:case 15:cs(_,T,d),sd(4,T);break;case 1:if(cs(_,T,d),m=T,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ne){St(m,m.return,ne)}if(m=T,_=m.updateQueue,_!==null){var j=m.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)ZC(Y[_],j)}catch(ne){St(m,m.return,ne)}}d&&R&64&&cP(T),ad(T,T.return);break;case 27:pP(T);case 26:case 5:cs(_,T,d),d&&m===null&&R&4&&dP(T),ad(T,T.return);break;case 12:cs(_,T,d);break;case 31:cs(_,T,d),d&&R&4&&bP(_,T);break;case 13:cs(_,T,d),d&&R&4&&_P(_,T);break;case 22:T.memoizedState===null&&cs(_,T,d),ad(T,T.return);break;case 30:break;default:cs(_,T,d)}l=l.sibling}}function Lb(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Kf(d))}function Vb(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Kf(s))}function ji(s,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xP(s,l,d,m),l=l.sibling}function xP(s,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:ji(s,l,d,m),_&2048&&sd(9,l);break;case 1:ji(s,l,d,m);break;case 3:ji(s,l,d,m),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Kf(s)));break;case 12:if(_&2048){ji(s,l,d,m),s=l.stateNode;try{var T=l.memoizedProps,R=T.id,j=T.onPostCommit;typeof j=="function"&&j(R,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){St(l,l.return,Y)}}else ji(s,l,d,m);break;case 31:ji(s,l,d,m);break;case 13:ji(s,l,d,m);break;case 23:break;case 22:T=l.stateNode,R=l.alternate,l.memoizedState!==null?T._visibility&2?ji(s,l,d,m):ld(s,l):T._visibility&2?ji(s,l,d,m):(T._visibility|=2,Ku(s,l,d,m,(l.subtreeFlags&10256)!==0||!1)),_&2048&&Lb(R,l);break;case 24:ji(s,l,d,m),_&2048&&Vb(l.alternate,l);break;default:ji(s,l,d,m)}}function Ku(s,l,d,m,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=s,R=l,j=d,Y=m,ne=R.flags;switch(R.tag){case 0:case 11:case 15:Ku(T,R,j,Y,_),sd(8,R);break;case 23:break;case 22:var ce=R.stateNode;R.memoizedState!==null?ce._visibility&2?Ku(T,R,j,Y,_):ld(T,R):(ce._visibility|=2,Ku(T,R,j,Y,_)),_&&ne&2048&&Lb(R.alternate,R);break;case 24:Ku(T,R,j,Y,_),_&&ne&2048&&Vb(R.alternate,R);break;default:Ku(T,R,j,Y,_)}l=l.sibling}}function ld(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,m=l,_=m.flags;switch(m.tag){case 22:ld(d,m),_&2048&&Lb(m.alternate,m);break;case 24:ld(d,m),_&2048&&Vb(m.alternate,m);break;default:ld(d,m)}l=l.sibling}}var ud=8192;function Yu(s,l,d){if(s.subtreeFlags&ud)for(s=s.child;s!==null;)SP(s,l,d),s=s.sibling}function SP(s,l,d){switch(s.tag){case 26:Yu(s,l,d),s.flags&ud&&s.memoizedState!==null&&zH(d,Fi,s.memoizedState,s.memoizedProps);break;case 5:Yu(s,l,d);break;case 3:case 4:var m=Fi;Fi=Em(s.stateNode.containerInfo),Yu(s,l,d),Fi=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=ud,ud=16777216,Yu(s,l,d),ud=m):Yu(s,l,d));break;default:Yu(s,l,d)}}function wP(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function cd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fn=m,CP(m,s)}wP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)AP(s),s=s.sibling}function AP(s){switch(s.tag){case 0:case 11:case 15:cd(s),s.flags&2048&&sa(9,s,s.return);break;case 3:cd(s);break;case 12:cd(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,lm(s)):cd(s);break;default:cd(s)}}function lm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fn=m,CP(m,s)}wP(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:sa(8,l,l.return),lm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,lm(l));break;default:lm(l)}s=s.sibling}}function CP(s,l){for(;Fn!==null;){var d=Fn;switch(d.tag){case 0:case 11:case 15:sa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Kf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Fn=m;else e:for(d=s;Fn!==null;){m=Fn;var _=m.sibling,T=m.return;if(yP(m),m===d){Fn=null;break e}if(_!==null){_.return=T,Fn=_;break e}Fn=T}}}var rH={getCacheForType:function(s){var l=Xn(yn),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Xn(yn).controller.signal}},iH=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ot=null,Qe=null,nt=0,xt=0,$r=null,aa=!1,Wu=!1,Ub=!1,fs=0,tn=0,la=0,Al=0,Bb=0,Kr=0,Ju=0,fd=null,Or=null,Fb=!1,um=0,IP=0,cm=1/0,fm=null,ua=null,In=0,ca=null,Xu=null,ds=0,jb=0,zb=null,PP=null,dd=0,qb=null;function Yr(){return(yt&2)!==0&&nt!==0?nt&-nt:X.T!==null?Wb():dp()}function RP(){if(Kr===0)if((nt&536870912)===0||lt){var s=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),Kr=s}else Kr=536870912;return s=Hr.current,s!==null&&(s.flags|=32),Kr}function kr(s,l,d){(s===Ot&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(Qu(s,0),fa(s,nt,Kr,!1)),el(s,d),((yt&2)===0||s!==Ot)&&(s===Ot&&((yt&2)===0&&(Al|=d),tn===4&&fa(s,nt,Kr,!1)),xo(s))}function MP(s,l,d){if((yt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Dt(s,l),_=m?aH(s,l):Gb(s,l,!0),T=m;do{if(_===0){Wu&&!m&&fa(s,l,0,!1);break}else{if(d=s.current.alternate,T&&!oH(d)){_=Gb(s,l,!1),T=!1;continue}if(_===2){if(T=l,s.errorRecoveryDisabledLanes&T)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var j=s;_=fd;var Y=j.current.memoizedState.isDehydrated;if(Y&&(Qu(j,R).flags|=256),R=Gb(j,R,!1),R!==2){if(Ub&&!Y){j.errorRecoveryDisabledLanes|=T,Al|=T,_=4;break e}T=Or,Or=_,T!==null&&(Or===null?Or=T:Or.push.apply(Or,T))}_=R}if(T=!1,_!==2)continue}}if(_===1){Qu(s,0),fa(s,l,0,!0);break}e:{switch(m=s,T=_,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fa(m,l,Kr,!aa);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=um+300-ln(),10<_)){if(fa(m,l,Kr,!aa),tt(m,0,!0)!==0)break e;ds=l,m.timeoutHandle=lR(NP.bind(null,m,d,Or,fm,Fb,l,Kr,Al,Ju,aa,T,"Throttled",-0,0),_);break e}NP(m,d,Or,fm,Fb,l,Kr,Al,Ju,aa,T,null,-0,0)}}break}while(!0);xo(s)}function NP(s,l,d,m,_,T,R,j,Y,ne,ce,pe,se,ue){if(s.timeoutHandle=-1,pe=l.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},SP(l,T,pe);var De=(T&62914560)===T?um-ln():(T&4194048)===T?IP-ln():0;if(De=qH(pe,De),De!==null){ds=T,s.cancelPendingCommit=De(FP.bind(null,s,l,T,d,m,_,R,j,Y,ce,pe,null,se,ue)),fa(s,T,R,!ne);return}}FP(s,l,T,d,m,_,R,j,Y)}function oH(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],T=_.getSnapshot;_=_.value;try{if(!zr(T(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fa(s,l,d,m){l&=~Bb,l&=~Al,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var _=l;0<_;){var T=31-$t(_),R=1<<T;m[T]=-1,_&=~R}d!==0&&tl(s,d,l)}function dm(){return(yt&6)===0?(hd(0),!1):!0}function Hb(){if(Qe!==null){if(xt===0)var s=Qe.return;else s=Qe,ts=yl=null,sb(s),zu=null,Wf=0,s=Qe;for(;s!==null;)uP(s.alternate,s),s=s.return;Qe=null}}function Qu(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,wH(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),ds=0,Hb(),Ot=s,Qe=d=Zo(s.current,null),nt=l,xt=0,$r=null,aa=!1,Wu=Dt(s,l),Ub=!1,Ju=Kr=Bb=Al=la=tn=0,Or=fd=null,Fb=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var _=31-$t(m),T=1<<_;l|=s[_],m&=~T}return fs=l,Dp(),d}function DP(s,l){Je=null,X.H=rd,l===ju||l===jp?(l=WC(),xt=3):l===Y0?(l=WC(),xt=4):xt=l===Tb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,$r=l,Qe===null&&(tn=1,tm(s,si(l,s.current)))}function OP(){var s=Hr.current;return s===null?!0:(nt&4194048)===nt?ci===null:(nt&62914560)===nt||(nt&536870912)!==0?s===ci:!1}function kP(){var s=X.H;return X.H=rd,s===null?rd:s}function LP(){var s=X.A;return X.A=rH,s}function hm(){tn=4,aa||(nt&4194048)!==nt&&Hr.current!==null||(Wu=!0),(la&134217727)===0&&(Al&134217727)===0||Ot===null||fa(Ot,nt,Kr,!1)}function Gb(s,l,d){var m=yt;yt|=2;var _=kP(),T=LP();(Ot!==s||nt!==l)&&(fm=null,Qu(s,l)),l=!1;var R=tn;e:do try{if(xt!==0&&Qe!==null){var j=Qe,Y=$r;switch(xt){case 8:Hb(),R=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(l=!0);var ne=xt;if(xt=0,$r=null,Zu(s,j,Y,ne),d&&Wu){R=0;break e}break;default:ne=xt,xt=0,$r=null,Zu(s,j,Y,ne)}}sH(),R=tn;break}catch(ce){DP(s,ce)}while(!0);return l&&s.shellSuspendCounter++,ts=yl=null,yt=m,X.H=_,X.A=T,Qe===null&&(Ot=null,nt=0,Dp()),R}function sH(){for(;Qe!==null;)VP(Qe)}function aH(s,l){var d=yt;yt|=2;var m=kP(),_=LP();Ot!==s||nt!==l?(fm=null,cm=ln()+500,Qu(s,l)):Wu=Dt(s,l);e:do try{if(xt!==0&&Qe!==null){l=Qe;var T=$r;t:switch(xt){case 1:xt=0,$r=null,Zu(s,l,T,1);break;case 2:case 9:if(KC(T)){xt=0,$r=null,UP(l);break}l=function(){xt!==2&&xt!==9||Ot!==s||(xt=7),xo(s)},T.then(l,l);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:KC(T)?(xt=0,$r=null,UP(l)):(xt=0,$r=null,Zu(s,l,T,7));break;case 5:var R=null;switch(Qe.tag){case 26:R=Qe.memoizedState;case 5:case 27:var j=Qe;if(R?xR(R):j.stateNode.complete){xt=0,$r=null;var Y=j.sibling;if(Y!==null)Qe=Y;else{var ne=j.return;ne!==null?(Qe=ne,pm(ne)):Qe=null}break t}}xt=0,$r=null,Zu(s,l,T,5);break;case 6:xt=0,$r=null,Zu(s,l,T,6);break;case 8:Hb(),tn=6;break e;default:throw Error(r(462))}}lH();break}catch(ce){DP(s,ce)}while(!0);return ts=yl=null,X.H=m,X.A=_,yt=d,Qe!==null?0:(Ot=null,nt=0,Dp(),tn)}function lH(){for(;Qe!==null&&!Qa();)VP(Qe)}function VP(s){var l=aP(s.alternate,s,fs);s.memoizedProps=s.pendingProps,l===null?pm(s):Qe=l}function UP(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=tP(d,l,l.pendingProps,l.type,void 0,nt);break;case 11:l=tP(d,l,l.pendingProps,l.type.render,l.ref,nt);break;case 5:sb(l);default:uP(d,l),l=Qe=LC(l,fs),l=aP(d,l,fs)}s.memoizedProps=s.pendingProps,l===null?pm(s):Qe=l}function Zu(s,l,d,m){ts=yl=null,sb(l),zu=null,Wf=0;var _=l.return;try{if(J9(s,_,l,d,nt)){tn=1,tm(s,si(d,s.current)),Qe=null;return}}catch(T){if(_!==null)throw Qe=_,T;tn=1,tm(s,si(d,s.current)),Qe=null;return}l.flags&32768?(lt||m===1?s=!0:Wu||(nt&536870912)!==0?s=!1:(aa=s=!0,(m===2||m===9||m===3||m===6)&&(m=Hr.current,m!==null&&m.tag===13&&(m.flags|=16384))),BP(l,s)):pm(l)}function pm(s){var l=s;do{if((l.flags&32768)!==0){BP(l,aa);return}s=l.return;var d=Z9(l.alternate,l,fs);if(d!==null){Qe=d;return}if(l=l.sibling,l!==null){Qe=l;return}Qe=l=s}while(l!==null);tn===0&&(tn=5)}function BP(s,l){do{var d=eH(s.alternate,s);if(d!==null){d.flags&=32767,Qe=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=d}while(s!==null);tn=6,Qe=null}function FP(s,l,d,m,_,T,R,j,Y){s.cancelPendingCommit=null;do mm();while(In!==0);if((yt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=D0,S0(s,d,T,R,j,Y),s===Ot&&(Qe=Ot=null,nt=0),Xu=l,ca=s,ds=d,jb=T,zb=_,PP=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dH(Br,function(){return GP(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,_=ie.p,ie.p=2,R=yt,yt|=4;try{tH(s,l,d)}finally{yt=R,ie.p=_,X.T=m}}In=1,jP(),zP(),qP()}}function jP(){if(In===1){In=0;var s=ca,l=Xu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var m=ie.p;ie.p=2;var _=yt;yt|=4;try{EP(l,s);var T=r_,R=CC(s.containerInfo),j=T.focusedElem,Y=T.selectionRange;if(R!==j&&j&&j.ownerDocument&&AC(j.ownerDocument.documentElement,j)){if(Y!==null&&I0(j)){var ne=Y.start,ce=Y.end;if(ce===void 0&&(ce=ne),"selectionStart"in j)j.selectionStart=ne,j.selectionEnd=Math.min(ce,j.value.length);else{var pe=j.ownerDocument||document,se=pe&&pe.defaultView||window;if(se.getSelection){var ue=se.getSelection(),De=j.textContent.length,Fe=Math.min(Y.start,De),Rt=Y.end===void 0?Fe:Math.min(Y.end,De);!ue.extend&&Fe>Rt&&(R=Rt,Rt=Fe,Fe=R);var Q=wC(j,Fe),J=wC(j,Rt);if(Q&&J&&(ue.rangeCount!==1||ue.anchorNode!==Q.node||ue.anchorOffset!==Q.offset||ue.focusNode!==J.node||ue.focusOffset!==J.offset)){var te=pe.createRange();te.setStart(Q.node,Q.offset),ue.removeAllRanges(),Fe>Rt?(ue.addRange(te),ue.extend(J.node,J.offset)):(te.setEnd(J.node,J.offset),ue.addRange(te))}}}}for(pe=[],ue=j;ue=ue.parentNode;)ue.nodeType===1&&pe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<pe.length;j++){var he=pe[j];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Cm=!!n_,r_=n_=null}finally{yt=_,ie.p=m,X.T=d}}s.current=l,In=2}}function zP(){if(In===2){In=0;var s=ca,l=Xu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var m=ie.p;ie.p=2;var _=yt;yt|=4;try{gP(s,l.alternate,l)}finally{yt=_,ie.p=m,X.T=d}}In=3}}function qP(){if(In===4||In===3){In=0,ei();var s=ca,l=Xu,d=ds,m=PP;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,Xu=ca=null,HP(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(ua=null),Wo(d),l=l.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Vn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,_=ie.p,ie.p=2,X.T=null;try{for(var T=s.onRecoverableError,R=0;R<m.length;R++){var j=m[R];T(j.value,{componentStack:j.stack})}}finally{X.T=l,ie.p=_}}(ds&3)!==0&&mm(),xo(s),_=s.pendingLanes,(d&261930)!==0&&(_&42)!==0?s===qb?dd++:(dd=0,qb=s):dd=0,hd(0)}}function HP(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Kf(l)))}function mm(){return jP(),zP(),qP(),GP()}function GP(){if(In!==5)return!1;var s=ca,l=jb;jb=0;var d=Wo(ds),m=X.T,_=ie.p;try{ie.p=32>d?32:d,X.T=null,d=zb,zb=null;var T=ca,R=ds;if(In=0,Xu=ca=null,ds=0,(yt&6)!==0)throw Error(r(331));var j=yt;if(yt|=4,AP(T.current),xP(T,T.current,R,d),yt=j,hd(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Vn,T)}catch{}return!0}finally{ie.p=_,X.T=m,HP(s,l)}}function $P(s,l,d){l=si(d,l),l=Eb(s.stateNode,l,2),s=ra(s,l,2),s!==null&&(el(s,2),xo(s))}function St(s,l,d){if(s.tag===3)$P(s,s,d);else for(;l!==null;){if(l.tag===3){$P(l,s,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ua===null||!ua.has(m))){s=si(d,s),d=KI(2),m=ra(l,d,2),m!==null&&(YI(d,m,l,s),el(m,2),xo(m));break}}l=l.return}}function $b(s,l,d){var m=s.pingCache;if(m===null){m=s.pingCache=new iH;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(Ub=!0,_.add(d),s=uH.bind(null,s,l,d),l.then(s,s))}function uH(s,l,d){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ot===s&&(nt&d)===d&&(tn===4||tn===3&&(nt&62914560)===nt&&300>ln()-um?(yt&2)===0&&Qu(s,0):Bb|=d,Ju===nt&&(Ju=0)),xo(s)}function KP(s,l){l===0&&(l=fp()),s=pl(s,l),s!==null&&(el(s,l),xo(s))}function cH(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),KP(s,d)}function fH(s,l){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),KP(s,d)}function dH(s,l){return ft(s,l)}var gm=null,ec=null,Kb=!1,ym=!1,Yb=!1,da=0;function xo(s){s!==ec&&s.next===null&&(ec===null?gm=ec=s:ec=ec.next=s),ym=!0,Kb||(Kb=!0,pH())}function hd(s,l){if(!Yb&&ym){Yb=!0;do for(var d=!1,m=gm;m!==null;){if(s!==0){var _=m.pendingLanes;if(_===0)var T=0;else{var R=m.suspendedLanes,j=m.pingedLanes;T=(1<<31-$t(42|s)+1)-1,T&=_&~(R&~j),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,XP(m,T))}else T=nt,T=tt(m,m===Ot?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Dt(m,T)||(d=!0,XP(m,T));m=m.next}while(d);Yb=!1}}function hH(){YP()}function YP(){ym=Kb=!1;var s=0;da!==0&&SH()&&(s=da);for(var l=ln(),d=null,m=gm;m!==null;){var _=m.next,T=WP(m,l);T===0?(m.next=null,d===null?gm=_:d.next=_,_===null&&(ec=d)):(d=m,(s!==0||(T&3)!==0)&&(ym=!0)),m=_}In!==0&&In!==5||hd(s),da!==0&&(da=0)}function WP(s,l){for(var d=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var R=31-$t(T),j=1<<R,Y=_[R];Y===-1?((j&d)===0||(j&m)!==0)&&(_[R]=Mi(j,l)):Y<=l&&(s.expiredLanes|=j),T&=~j}if(l=Ot,d=nt,d=tt(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===l&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Ir(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Dt(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(m!==null&&Ir(m),Wo(d)){case 2:case 8:d=$o;break;case 32:d=Br;break;case 268435456:d=Yo;break;default:d=Br}return m=JP.bind(null,s),d=ft(d,m),s.callbackPriority=l,s.callbackNode=d,l}return m!==null&&m!==null&&Ir(m),s.callbackPriority=2,s.callbackNode=null,2}function JP(s,l){if(In!==0&&In!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(mm()&&s.callbackNode!==d)return null;var m=nt;return m=tt(s,s===Ot?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(MP(s,m,l),WP(s,ln()),s.callbackNode!=null&&s.callbackNode===d?JP.bind(null,s):null)}function XP(s,l){if(mm())return null;MP(s,l,!0)}function pH(){AH(function(){(yt&6)!==0?ft(ro,hH):YP()})}function Wb(){if(da===0){var s=Bu;s===0&&(s=Se,Se<<=1,(Se&261888)===0&&(Se=256)),da=s}return da}function QP(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Su(""+s)}function ZP(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function mH(s,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var T=QP((_[Un]||null).action),R=m.submitter;R&&(l=(l=R[Un]||null)?QP(l.formAction):R.getAttribute("formAction"),l!==null&&(T=l,R=null));var j=new go("action","action",null,m,_);s.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(da!==0){var Y=R?ZP(_,R):new FormData(_);mb(d,{pending:!0,data:Y,method:_.method,action:T},null,Y)}}else typeof T=="function"&&(j.preventDefault(),Y=R?ZP(_,R):new FormData(_),mb(d,{pending:!0,data:Y,method:_.method,action:T},T,Y))},currentTarget:_}]})}}for(var Jb=0;Jb<N0.length;Jb++){var Xb=N0[Jb],gH=Xb.toLowerCase(),yH=Xb[0].toUpperCase()+Xb.slice(1);Bi(gH,"on"+yH)}Bi(RC,"onAnimationEnd"),Bi(MC,"onAnimationIteration"),Bi(NC,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(D9,"onTransitionRun"),Bi(O9,"onTransitionStart"),Bi(k9,"onTransitionCancel"),Bi(DC,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),co("onBeforeInput",["compositionend","keypress","textInput","paste"]),co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function eR(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],_=m.event;m=m.listeners;e:{var T=void 0;if(l)for(var R=m.length-1;0<=R;R--){var j=m[R],Y=j.instance,ne=j.currentTarget;if(j=j.listener,Y!==T&&_.isPropagationStopped())break e;T=j,_.currentTarget=ne;try{T(_)}catch(ce){Np(ce)}_.currentTarget=null,T=Y}else for(R=0;R<m.length;R++){if(j=m[R],Y=j.instance,ne=j.currentTarget,j=j.listener,Y!==T&&_.isPropagationStopped())break e;T=j,_.currentTarget=ne;try{T(_)}catch(ce){Np(ce)}_.currentTarget=null,T=Y}}}}function Ze(s,l){var d=l[bu];d===void 0&&(d=l[bu]=new Set);var m=s+"__bubble";d.has(m)||(tR(l,s,2,!1),d.add(m))}function Qb(s,l,d){var m=0;l&&(m|=4),tR(d,s,m,l)}var vm="_reactListening"+Math.random().toString(36).slice(2);function Zb(s){if(!s[vm]){s[vm]=!0,Af.forEach(function(d){d!=="selectionchange"&&(vH.has(d)||Qb(d,!1,s),Qb(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[vm]||(l[vm]=!0,Qb("selectionchange",!1,l))}}function tR(s,l,d,m){switch(RR(l)){case 2:var _=$H;break;case 8:_=KH;break;default:_=p_}d=_.bind(null,l,d,s),_=void 0,!sl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(l,d,{capture:!0,passive:_}):s.addEventListener(l,d,!0):_!==void 0?s.addEventListener(l,d,{passive:_}):s.addEventListener(l,d,!1)}function e_(s,l,d,m,_){var T=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var j=m.stateNode.containerInfo;if(j===_)break;if(R===4)for(R=m.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;j!==null;){if(R=lo(j),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){m=T=R;continue e}j=j.parentNode}}m=m.return}Ks(function(){var ne=T,ce=ni(d),pe=[];e:{var se=OC.get(s);if(se!==void 0){var ue=go,De=s;switch(s){case"keypress":if(ll(d)===0)break e;case"keydown":case"keyup":ue=Pp;break;case"focusin":De="focus",ue=cl;break;case"focusout":De="blur",ue=cl;break;case"beforeblur":case"afterblur":ue=cl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=C;break;case RC:case MC:case NC:ue=Tp;break;case DC:ue=G;break;case"scroll":case"scrollend":ue=Uf;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Qo;break;case"toggle":case"beforetoggle":ue=We}var Fe=(l&4)!==0,Rt=!Fe&&(s==="scroll"||s==="scrollend"),Q=Fe?se!==null?se+"Capture":null:se;Fe=[];for(var J=ne,te;J!==null;){var he=J;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Q===null||(he=ki(J,Q),he!=null&&Fe.push(md(J,he,te))),Rt)break;J=J.return}0<Fe.length&&(se=new ue(se,De,null,d,ce),pe.push({event:se,listeners:Fe}))}}if((l&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",se&&d!==kf&&(De=d.relatedTarget||d.fromElement)&&(lo(De)||De[so]))break e;if((ue||se)&&(se=ce.window===ce?ce:(se=ce.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(De=d.relatedTarget||d.toElement,ue=ne,De=De?lo(De):null,De!==null&&(Rt=o(De),Fe=De.tag,De!==Rt||Fe!==5&&Fe!==27&&Fe!==6)&&(De=null)):(ue=null,De=ne),ue!==De)){if(Fe=Bf,he="onMouseLeave",Q="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=Qo,he="onPointerLeave",Q="onPointerEnter",J="pointer"),Rt=ue==null?se:Fr(ue),te=De==null?se:Fr(De),se=new Fe(he,J+"leave",ue,d,ce),se.target=Rt,se.relatedTarget=te,he=null,lo(ce)===ne&&(Fe=new Fe(Q,J+"enter",De,d,ce),Fe.target=te,Fe.relatedTarget=Rt,he=Fe),Rt=he,ue&&De)t:{for(Fe=bH,Q=ue,J=De,te=0,he=Q;he;he=Fe(he))te++;he=0;for(var Ue=J;Ue;Ue=Fe(Ue))he++;for(;0<te-he;)Q=Fe(Q),te--;for(;0<he-te;)J=Fe(J),he--;for(;te--;){if(Q===J||J!==null&&Q===J.alternate){Fe=Q;break t}Q=Fe(Q),J=Fe(J)}Fe=null}else Fe=null;ue!==null&&nR(pe,se,ue,Fe,!1),De!==null&&Rt!==null&&nR(pe,Rt,De,Fe,!0)}}e:{if(se=ne?Fr(ne):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var dt=bC;else if(yC(se))if(_C)dt=R9;else{dt=I9;var ke=C9}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ne&&xu(ne.elementType)&&(dt=bC):dt=P9;if(dt&&(dt=dt(s,ne))){vC(pe,dt,d,ce);break e}ke&&ke(s,se,ne),s==="focusout"&&ne&&se.type==="number"&&ne.memoizedProps.value!=null&&Nf(se,"number",se.value)}switch(ke=ne?Fr(ne):window,s){case"focusin":(yC(ke)||ke.contentEditable==="true")&&(Mu=ke,P0=ne,Hf=null);break;case"focusout":Hf=P0=Mu=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,IC(pe,d,ce);break;case"selectionchange":if(N9)break;case"keydown":case"keyup":IC(pe,d,ce)}var Xe;if(gt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Ru?fl(s,d)&&(rt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(bo&&d.locale!=="ko"&&(Ru||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ru&&(Xe=Vf()):(mo=ce,Lf="value"in mo?mo.value:mo.textContent,Ru=!0)),ke=bm(ne,rt),0<ke.length&&(rt=new vo(rt,s,null,d,ce),pe.push({event:rt,listeners:ke}),Xe?rt.data=Xe:(Xe=Pu(d),Xe!==null&&(rt.data=Xe)))),(Xe=ii?x9(s,d):S9(s,d))&&(rt=bm(ne,"onBeforeInput"),0<rt.length&&(ke=new vo("onBeforeInput","beforeinput",null,d,ce),pe.push({event:ke,listeners:rt}),ke.data=Xe)),mH(pe,s,ne,d,ce)}eR(pe,l)})}function md(s,l,d){return{instance:s,listener:l,currentTarget:d}}function bm(s,l){for(var d=l+"Capture",m=[];s!==null;){var _=s,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=ki(s,d),_!=null&&m.unshift(md(s,_,T)),_=ki(s,l),_!=null&&m.push(md(s,_,T))),s.tag===3)return m;s=s.return}return[]}function bH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function nR(s,l,d,m,_){for(var T=l._reactName,R=[];d!==null&&d!==m;){var j=d,Y=j.alternate,ne=j.stateNode;if(j=j.tag,Y!==null&&Y===m)break;j!==5&&j!==26&&j!==27||ne===null||(Y=ne,_?(ne=ki(d,T),ne!=null&&R.unshift(md(d,ne,Y))):_||(ne=ki(d,T),ne!=null&&R.push(md(d,ne,Y)))),d=d.return}R.length!==0&&s.push({event:l,listeners:R})}var _H=/\r\n?/g,EH=/\u0000|\uFFFD/g;function rR(s){return(typeof s=="string"?s:""+s).replace(_H,`
`).replace(EH,"")}function iR(s,l){return l=rR(l),rR(s)===l}function Pt(s,l,d,m,_,T){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Rr(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Rr(s,""+m);break;case"className":jr(s,"class",m);break;case"tabIndex":jr(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(s,d,m);break;case"style":Of(s,m,T);break;case"data":if(l!=="object"){jr(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Su(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&Pt(s,l,"name",_.name,_,null),Pt(s,l,"formEncType",_.formEncType,_,null),Pt(s,l,"formMethod",_.formMethod,_,null),Pt(s,l,"formTarget",_.formTarget,_,null)):(Pt(s,l,"encType",_.encType,_,null),Pt(s,l,"method",_.method,_,null),Pt(s,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Su(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=Oi);break;case"onScroll":m!=null&&Ze("scroll",s);break;case"onScrollEnd":m!=null&&Ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=Su(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":Ze("beforetoggle",s),Ze("toggle",s),Eu(s,"popover",m);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Eu(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=bp.get(d)||d,Eu(s,d,m))}}function t_(s,l,d,m,_,T){switch(d){case"style":Of(s,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof m=="string"?Rr(s,m):(typeof m=="number"||typeof m=="bigint")&&Rr(s,""+m);break;case"onScroll":m!=null&&Ze("scroll",s);break;case"onScrollEnd":m!=null&&Ze("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),T=s[Un]||null,T=T!=null?T[d]:null,typeof T=="function"&&s.removeEventListener(l,T,_),typeof m=="function")){typeof T!="function"&&T!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,m,_);break e}d in s?s[d]=m:m===!0?s.setAttribute(d,""):Eu(s,d,m)}}}function Zn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",s),Ze("load",s);var m=!1,_=!1,T;for(T in d)if(d.hasOwnProperty(T)){var R=d[T];if(R!=null)switch(T){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,T,R,d,null)}}_&&Pt(s,l,"srcSet",d.srcSet,d,null),m&&Pt(s,l,"src",d.src,d,null);return;case"input":Ze("invalid",s);var j=T=R=_=null,Y=null,ne=null;for(m in d)if(d.hasOwnProperty(m)){var ce=d[m];if(ce!=null)switch(m){case"name":_=ce;break;case"type":R=ce;break;case"checked":Y=ce;break;case"defaultChecked":ne=ce;break;case"value":T=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,l));break;default:Pt(s,l,m,ce,d,null)}}gp(s,T,j,Y,ne,R,_,!1);return;case"select":Ze("invalid",s),m=R=T=null;for(_ in d)if(d.hasOwnProperty(_)&&(j=d[_],j!=null))switch(_){case"value":T=j;break;case"defaultValue":R=j;break;case"multiple":m=j;default:Pt(s,l,_,j,d,null)}l=T,d=R,s.multiple=!!m,l!=null?qs(s,!!m,l,!1):d!=null&&qs(s,!!m,d,!0);return;case"textarea":Ze("invalid",s),T=_=m=null;for(R in d)if(d.hasOwnProperty(R)&&(j=d[R],j!=null))switch(R){case"value":m=j;break;case"defaultValue":_=j;break;case"children":T=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(s,l,R,j,d,null)}Hs(s,m,_,T);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(m=d[Y],m!=null))switch(Y){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Pt(s,l,Y,m,d,null)}return;case"dialog":Ze("beforetoggle",s),Ze("toggle",s),Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":Ze("load",s);break;case"video":case"audio":for(m=0;m<pd.length;m++)Ze(pd[m],s);break;case"image":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"embed":case"source":case"link":Ze("error",s),Ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(m=d[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,ne,m,d,null)}return;default:if(xu(l)){for(ce in d)d.hasOwnProperty(ce)&&(m=d[ce],m!==void 0&&t_(s,l,ce,m,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(m=d[j],m!=null&&Pt(s,l,j,m,d,null))}function TH(s,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,R=null,j=null,Y=null,ne=null,ce=null;for(ue in d){var pe=d[ue];if(d.hasOwnProperty(ue)&&pe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=pe;default:m.hasOwnProperty(ue)||Pt(s,l,ue,null,m,pe)}}for(var se in m){var ue=m[se];if(pe=d[se],m.hasOwnProperty(se)&&(ue!=null||pe!=null))switch(se){case"type":T=ue;break;case"name":_=ue;break;case"checked":ne=ue;break;case"defaultChecked":ce=ue;break;case"value":R=ue;break;case"defaultValue":j=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==pe&&Pt(s,l,se,ue,m,pe)}}Tu(s,R,j,Y,ne,ce,T,_);return;case"select":ue=R=j=se=null;for(T in d)if(Y=d[T],d.hasOwnProperty(T)&&Y!=null)switch(T){case"value":break;case"multiple":ue=Y;default:m.hasOwnProperty(T)||Pt(s,l,T,null,m,Y)}for(_ in m)if(T=m[_],Y=d[_],m.hasOwnProperty(_)&&(T!=null||Y!=null))switch(_){case"value":se=T;break;case"defaultValue":j=T;break;case"multiple":R=T;default:T!==Y&&Pt(s,l,_,T,m,Y)}l=j,d=R,m=ue,se!=null?qs(s,!!d,se,!1):!!m!=!!d&&(l!=null?qs(s,!!d,l,!0):qs(s,!!d,d?[]:"",!1));return;case"textarea":ue=se=null;for(j in d)if(_=d[j],d.hasOwnProperty(j)&&_!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(s,l,j,null,m,_)}for(R in m)if(_=m[R],T=d[R],m.hasOwnProperty(R)&&(_!=null||T!=null))switch(R){case"value":se=_;break;case"defaultValue":ue=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==T&&Pt(s,l,R,_,m,T)}yp(s,se,ue);return;case"option":for(var De in d)if(se=d[De],d.hasOwnProperty(De)&&se!=null&&!m.hasOwnProperty(De))switch(De){case"selected":s.selected=!1;break;default:Pt(s,l,De,null,m,se)}for(Y in m)if(se=m[Y],ue=d[Y],m.hasOwnProperty(Y)&&se!==ue&&(se!=null||ue!=null))switch(Y){case"selected":s.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Pt(s,l,Y,se,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in d)se=d[Fe],d.hasOwnProperty(Fe)&&se!=null&&!m.hasOwnProperty(Fe)&&Pt(s,l,Fe,null,m,se);for(ne in m)if(se=m[ne],ue=d[ne],m.hasOwnProperty(ne)&&se!==ue&&(se!=null||ue!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:Pt(s,l,ne,se,m,ue)}return;default:if(xu(l)){for(var Rt in d)se=d[Rt],d.hasOwnProperty(Rt)&&se!==void 0&&!m.hasOwnProperty(Rt)&&t_(s,l,Rt,void 0,m,se);for(ce in m)se=m[ce],ue=d[ce],!m.hasOwnProperty(ce)||se===ue||se===void 0&&ue===void 0||t_(s,l,ce,se,m,ue);return}}for(var Q in d)se=d[Q],d.hasOwnProperty(Q)&&se!=null&&!m.hasOwnProperty(Q)&&Pt(s,l,Q,null,m,se);for(pe in m)se=m[pe],ue=d[pe],!m.hasOwnProperty(pe)||se===ue||se==null&&ue==null||Pt(s,l,pe,se,m,ue)}function oR(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var _=d[m],T=_.transferSize,R=_.initiatorType,j=_.duration;if(T&&j&&oR(R)){for(R=0,j=_.responseEnd,m+=1;m<d.length;m++){var Y=d[m],ne=Y.startTime;if(ne>j)break;var ce=Y.transferSize,pe=Y.initiatorType;ce&&oR(pe)&&(Y=Y.responseEnd,R+=ce*(Y<j?1:(j-ne)/(Y-ne)))}if(--m,l+=8*(T+R)/(_.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var n_=null,r_=null;function _m(s){return s.nodeType===9?s:s.ownerDocument}function sR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aR(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function i_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var o_=null;function SH(){var s=window.event;return s&&s.type==="popstate"?s===o_?!1:(o_=s,!0):(o_=null,!1)}var lR=typeof setTimeout=="function"?setTimeout:void 0,wH=typeof clearTimeout=="function"?clearTimeout:void 0,uR=typeof Promise=="function"?Promise:void 0,AH=typeof queueMicrotask=="function"?queueMicrotask:typeof uR<"u"?function(s){return uR.resolve(null).then(s).catch(CH)}:lR;function CH(s){setTimeout(function(){throw s})}function ha(s){return s==="head"}function cR(s,l){var d=l,m=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(_),ic(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")gd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,gd(d);for(var T=d.firstChild;T;){var R=T.nextSibling,j=T.nodeName;T[ao]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=R}}else d==="body"&&gd(s.ownerDocument.body);d=_}while(d);ic(l)}function fR(s,l){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function s_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":s_(d),_u(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function IH(s,l,d,m){for(;s.nodeType===1;){var _=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ao])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=fi(s.nextSibling),s===null)break}return null}function PH(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=fi(s.nextSibling),s===null))return null;return s}function dR(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fi(s.nextSibling),s===null))return null;return s}function a_(s){return s.data==="$?"||s.data==="$~"}function l_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function RH(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function fi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var u_=null;function hR(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return fi(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function pR(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function mR(s,l,d){switch(l=_m(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function gd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);_u(s)}var di=new Map,gR=new Set;function Em(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var hs=ie.d;ie.d={f:MH,r:NH,D:DH,C:OH,L:kH,m:LH,X:UH,S:VH,M:BH};function MH(){var s=hs.f(),l=dm();return s||l}function NH(s){var l=ti(s);l!==null&&l.tag===5&&l.type==="form"?DI(l):hs.r(s)}var tc=typeof document>"u"?null:document;function yR(s,l,d){var m=tc;if(m&&typeof l=="string"&&l){var _=Pr(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),gR.has(_)||(gR.add(_),s={rel:s,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),Zn(l,"link",s),mn(l),m.head.appendChild(l)))}}function DH(s){hs.D(s),yR("dns-prefetch",s,null)}function OH(s,l){hs.C(s,l),yR("preconnect",s,l)}function kH(s,l,d){hs.L(s,l,d);var m=tc;if(m&&s&&l){var _='link[rel="preload"][as="'+Pr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Pr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Pr(d.imageSizes)+'"]')):_+='[href="'+Pr(s)+'"]';var T=_;switch(l){case"style":T=nc(s);break;case"script":T=rc(s)}di.has(T)||(s=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),di.set(T,s),m.querySelector(_)!==null||l==="style"&&m.querySelector(yd(T))||l==="script"&&m.querySelector(vd(T))||(l=m.createElement("link"),Zn(l,"link",s),mn(l),m.head.appendChild(l)))}}function LH(s,l){hs.m(s,l);var d=tc;if(d&&s){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(s)+'"]',T=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=rc(s)}if(!di.has(T)&&(s=p({rel:"modulepreload",href:s},l),di.set(T,s),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vd(T)))return}m=d.createElement("link"),Zn(m,"link",s),mn(m),d.head.appendChild(m)}}}function VH(s,l,d){hs.S(s,l,d);var m=tc;if(m&&s){var _=uo(m).hoistableStyles,T=nc(s);l=l||"default";var R=_.get(T);if(!R){var j={loading:0,preload:null};if(R=m.querySelector(yd(T)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},d),(d=di.get(T))&&c_(s,d);var Y=R=m.createElement("link");mn(Y),Zn(Y,"link",s),Y._p=new Promise(function(ne,ce){Y.onload=ne,Y.onerror=ce}),Y.addEventListener("load",function(){j.loading|=1}),Y.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Tm(R,l,m)}R={type:"stylesheet",instance:R,count:1,state:j},_.set(T,R)}}}function UH(s,l){hs.X(s,l);var d=tc;if(d&&s){var m=uo(d).hoistableScripts,_=rc(s),T=m.get(_);T||(T=d.querySelector(vd(_)),T||(s=p({src:s,async:!0},l),(l=di.get(_))&&f_(s,l),T=d.createElement("script"),mn(T),Zn(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(_,T))}}function BH(s,l){hs.M(s,l);var d=tc;if(d&&s){var m=uo(d).hoistableScripts,_=rc(s),T=m.get(_);T||(T=d.querySelector(vd(_)),T||(s=p({src:s,async:!0,type:"module"},l),(l=di.get(_))&&f_(s,l),T=d.createElement("script"),mn(T),Zn(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(_,T))}}function vR(s,l,d,m){var _=(_=_e.current)?Em(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=nc(d.href),d=uo(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=nc(d.href);var T=uo(_).hoistableStyles,R=T.get(s);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,R),(T=_.querySelector(yd(s)))&&!T._p&&(R.instance=T,R.state.loading=5),di.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},di.set(s,d),T||FH(_,s,d,R.state))),l&&m===null)throw Error(r(528,""));return R}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=rc(d),d=uo(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function nc(s){return'href="'+Pr(s)+'"'}function yd(s){return'link[rel="stylesheet"]['+s+"]"}function bR(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function FH(s,l,d,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Zn(l,"link",d),mn(l),s.head.appendChild(l))}function rc(s){return'[src="'+Pr(s)+'"]'}function vd(s){return"script[async]"+s}function _R(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+Pr(d.href)+'"]');if(m)return l.instance=m,mn(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),mn(m),Zn(m,"style",_),Tm(m,d.precedence,s),l.instance=m;case"stylesheet":_=nc(d.href);var T=s.querySelector(yd(_));if(T)return l.state.loading|=4,l.instance=T,mn(T),T;m=bR(d),(_=di.get(_))&&c_(m,_),T=(s.ownerDocument||s).createElement("link"),mn(T);var R=T;return R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),Zn(T,"link",m),l.state.loading|=4,Tm(T,d.precedence,s),l.instance=T;case"script":return T=rc(d.src),(_=s.querySelector(vd(T)))?(l.instance=_,mn(_),_):(m=d,(_=di.get(T))&&(m=p({},d),f_(m,_)),s=s.ownerDocument||s,_=s.createElement("script"),mn(_),Zn(_,"link",m),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Tm(m,d.precedence,s));return l.instance}function Tm(s,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,T=_,R=0;R<m.length;R++){var j=m[R];if(j.dataset.precedence===l)T=j;else if(T!==_)break}T?T.parentNode.insertBefore(s,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function c_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function f_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var xm=null;function ER(s,l,d){if(xm===null){var m=new Map,_=xm=new Map;_.set(d,m)}else _=xm,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),_=0;_<d.length;_++){var T=d[_];if(!(T[ao]||T[pn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(l)||"";R=s+R;var j=m.get(R);j?j.push(T):m.set(R,[T])}}return m}function TR(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function jH(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function xR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zH(s,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=nc(m.href),T=l.querySelector(yd(_));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Sm.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=T,mn(T);return}T=l.ownerDocument||l,m=bR(m),(_=di.get(_))&&c_(m,_),T=T.createElement("link"),mn(T);var R=T;R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),Zn(T,"link",m),d.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Sm.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var d_=0;function qH(s,l){return s.stylesheets&&s.count===0&&Am(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&Am(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+l);0<s.imgBytes&&d_===0&&(d_=62500*xH());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Am(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>d_?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Sm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wm=null;function Am(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wm=new Map,l.forEach(HH,s),wm=null,Sm.call(s))}function HH(s,l){if(!(l.state.loading&4)){var d=wm.get(s);if(d)var m=d.get(null);else{d=new Map,wm.set(s,d);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var R=_[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),m=R)}m&&d.set(null,m)}_=l.instance,R=_.getAttribute("data-precedence"),T=d.get(R)||m,T===m&&d.set(null,_),d.set(R,_),this.count++,m=Sm.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),T?T.parentNode.insertBefore(_,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var bd={$$typeof:D,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function GH(s,l,d,m,_,T,R,j,Y){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function SR(s,l,d,m,_,T,R,j,Y,ne,ce,pe){return s=new GH(s,l,d,R,Y,ne,ce,pe,j),l=1,T===!0&&(l|=24),T=qr(3,null,null,l),s.current=T,T.stateNode=s,l=G0(),l.refCount++,s.pooledCache=l,l.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:l},W0(T),s}function wR(s){return s?(s=Ou,s):Ou}function AR(s,l,d,m,_,T){_=wR(_),m.context===null?m.context=_:m.pendingContext=_,m=na(l),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=ra(s,m,l),d!==null&&(kr(d,s,l),Xf(d,s,l))}function CR(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function h_(s,l){CR(s,l),(s=s.alternate)&&CR(s,l)}function IR(s){if(s.tag===13||s.tag===31){var l=pl(s,67108864);l!==null&&kr(l,s,67108864),h_(s,67108864)}}function PR(s){if(s.tag===13||s.tag===31){var l=Yr();l=nl(l);var d=pl(s,l);d!==null&&kr(d,s,l),h_(s,l)}}var Cm=!0;function $H(s,l,d,m){var _=X.T;X.T=null;var T=ie.p;try{ie.p=2,p_(s,l,d,m)}finally{ie.p=T,X.T=_}}function KH(s,l,d,m){var _=X.T;X.T=null;var T=ie.p;try{ie.p=8,p_(s,l,d,m)}finally{ie.p=T,X.T=_}}function p_(s,l,d,m){if(Cm){var _=m_(m);if(_===null)e_(s,l,m,Im,d),MR(s,m);else if(WH(_,s,l,d,m))m.stopPropagation();else if(MR(s,m),l&4&&-1<YH.indexOf(s)){for(;_!==null;){var T=ti(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=at(T.pendingLanes);if(R!==0){var j=T;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var Y=1<<31-$t(R);j.entanglements[1]|=Y,R&=~Y}xo(T),(yt&6)===0&&(cm=ln()+500,hd(0))}}break;case 31:case 13:j=pl(T,2),j!==null&&kr(j,T,2),dm(),h_(T,2)}if(T=m_(m),T===null&&e_(s,l,m,Im,d),T===_)break;_=T}_!==null&&m.stopPropagation()}else e_(s,l,m,null,d)}}function m_(s){return s=ni(s),g_(s)}var Im=null;function g_(s){if(Im=null,s=lo(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=a(l),s!==null)return s;s=null}else if(d===31){if(s=u(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Im=s,null}function RR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ri()){case ro:return 2;case $o:return 8;case Br:case Ko:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var y_=!1,pa=null,ma=null,ga=null,_d=new Map,Ed=new Map,ya=[],YH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MR(s,l){switch(s){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":_d.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(l.pointerId)}}function Td(s,l,d,m,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[_]},l!==null&&(l=ti(l),l!==null&&IR(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function WH(s,l,d,m,_){switch(l){case"focusin":return pa=Td(pa,s,l,d,m,_),!0;case"dragenter":return ma=Td(ma,s,l,d,m,_),!0;case"mouseover":return ga=Td(ga,s,l,d,m,_),!0;case"pointerover":var T=_.pointerId;return _d.set(T,Td(_d.get(T)||null,s,l,d,m,_)),!0;case"gotpointercapture":return T=_.pointerId,Ed.set(T,Td(Ed.get(T)||null,s,l,d,m,_)),!0}return!1}function NR(s){var l=lo(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){s.blockedOn=l,Ni(s.priority,function(){PR(d)});return}}else if(l===31){if(l=u(d),l!==null){s.blockedOn=l,Ni(s.priority,function(){PR(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=m_(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);kf=m,d.target.dispatchEvent(m),kf=null}else return l=ti(d),l!==null&&IR(l),s.blockedOn=d,!1;l.shift()}return!0}function DR(s,l,d){Pm(s)&&d.delete(l)}function JH(){y_=!1,pa!==null&&Pm(pa)&&(pa=null),ma!==null&&Pm(ma)&&(ma=null),ga!==null&&Pm(ga)&&(ga=null),_d.forEach(DR),Ed.forEach(DR)}function Rm(s,l){s.blockedOn===l&&(s.blockedOn=null,y_||(y_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JH)))}var Mm=null;function OR(s){Mm!==s&&(Mm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mm===s&&(Mm=null);for(var l=0;l<s.length;l+=3){var d=s[l],m=s[l+1],_=s[l+2];if(typeof m!="function"){if(g_(m||d)===null)continue;break}var T=ti(d);T!==null&&(s.splice(l,3),l-=3,mb(T,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function ic(s){function l(Y){return Rm(Y,s)}pa!==null&&Rm(pa,s),ma!==null&&Rm(ma,s),ga!==null&&Rm(ga,s),_d.forEach(l),Ed.forEach(l);for(var d=0;d<ya.length;d++){var m=ya[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ya.length&&(d=ya[0],d.blockedOn===null);)NR(d),d.blockedOn===null&&ya.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],T=d[m+1],R=_[Un]||null;if(typeof T=="function")R||OR(d);else if(R){var j=null;if(T&&T.hasAttribute("formAction")){if(_=T,R=T[Un]||null)j=R.formAction;else if(g_(_)!==null)continue}else j=R.action;typeof j=="function"?d[m+1]=j:(d.splice(m,3),m-=3),OR(d)}}}function kR(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(R){return _=R})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function v_(s){this._internalRoot=s}Nm.prototype.render=v_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Yr();AR(d,m,s,l,null,null)},Nm.prototype.unmount=v_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;AR(s.current,2,null,s,null,null),dm(),l[so]=null}};function Nm(s){this._internalRoot=s}Nm.prototype.unstable_scheduleHydration=function(s){if(s){var l=dp();s={blockedOn:null,target:s,priority:l};for(var d=0;d<ya.length&&l!==0&&l<ya[d].priority;d++);ya.splice(d,0,s),d===0&&NR(s)}};var LR=e.version;if(LR!=="19.2.4")throw Error(r(527,LR,"19.2.4"));ie.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var XH={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dm.isDisabled&&Dm.supportsFiber)try{Vn=Dm.inject(XH),Cn=Dm}catch{}}return Sd.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,m="",_=qI,T=HI,R=GI;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=SR(s,1,!1,null,null,d,m,null,_,T,R,kR),s[so]=l.current,Zb(s),new v_(l)},Sd.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var m=!1,_="",T=qI,R=HI,j=GI,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),l=SR(s,1,!0,l,d??null,m,_,Y,T,R,j,kR),l.context=wR(null),d=l.current,m=Yr(),m=nl(m),_=na(m),_.callback=null,ra(d,_,m),d=m,l.current.lanes=d,el(l,d),xo(l),s[so]=l.current,Zb(s),new Nm(l)},Sd.version="19.2.4",Sd}var $R;function cG(){if($R)return T_.exports;$R=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T_.exports=uG(),T_.exports}var fG=cG();const dG=Ho(fG),HS=A.createContext({});function GS(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const e4=typeof window<"u",t4=e4?A.useLayoutEffect:A.useEffect,sv=A.createContext(null);function $S(t,e){t.indexOf(e)===-1&&t.push(e)}function Dg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uo=(t,e,n)=>n>e?e:n<t?t:n;let KS=()=>{};const bs={},n4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function r4(t){return typeof t=="object"&&t!==null}const i4=t=>/^0[^.\s]+$/u.test(t);function YS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ti=t=>t,hG=(t,e)=>n=>e(t(n)),Vh=(...t)=>t.reduce(hG),ih=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class WS{constructor(){this.subscriptions=[]}add(e){return $S(this.subscriptions,e),()=>Dg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=t=>t*1e3,_i=t=>t/1e3;function o4(t,e){return e?t*(1e3/e):0}const s4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pG=1e-7,mG=12;function gG(t,e,n,r,i){let o,a,u=0;do a=e+(n-e)/2,o=s4(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>pG&&++u<mG);return a}function Uh(t,e,n,r){if(t===e&&n===r)return Ti;const i=o=>gG(o,0,1,t,n);return o=>o===0||o===1?o:s4(i(o),e,r)}const a4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l4=t=>e=>1-t(1-e),u4=Uh(.33,1.53,.69,.99),JS=l4(u4),c4=a4(JS),f4=t=>(t*=2)<1?.5*JS(t):.5*(2-Math.pow(2,-10*(t-1))),XS=t=>1-Math.sin(Math.acos(t)),d4=l4(XS),h4=a4(XS),yG=Uh(.42,0,1,1),vG=Uh(0,0,.58,1),p4=Uh(.42,0,.58,1),bG=t=>Array.isArray(t)&&typeof t[0]!="number",m4=t=>Array.isArray(t)&&typeof t[0]=="number",_G={linear:Ti,easeIn:yG,easeInOut:p4,easeOut:vG,circIn:XS,circInOut:h4,circOut:d4,backIn:JS,backInOut:c4,backOut:u4,anticipate:f4},EG=t=>typeof t=="string",KR=t=>{if(m4(t)){KS(t.length===4);const[e,n,r,i]=t;return Uh(e,n,r,i)}else if(EG(t))return _G[t];return t},Om=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,p=!1,g=!1)=>{const x=g&&i?n:r;return p&&a.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,f.process(h))}};return f}const xG=40;function g4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Om.reduce((D,B)=>(D[B]=TG(o),D),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:E,postRender:x}=a,w=()=>{const D=bs.useManualTiming?i.timestamp:performance.now();n=!1,bs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,xG),1)),i.timestamp=D,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),E.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:Om.reduce((D,B)=>{const F=a[B];return D[B]=(U,M=!1,O=!1)=>(n||S(),F.schedule(U,M,O)),D},{}),cancel:D=>{for(let B=0;B<Om.length;B++)a[Om[B]].cancel(D)},state:i,steps:a}}const{schedule:Bt,cancel:ka,state:tr,steps:A_}=g4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let dg;function SG(){dg=void 0}const Tr={now:()=>(dg===void 0&&Tr.set(tr.isProcessing||bs.useManualTiming?tr.timestamp:performance.now()),dg),set:t=>{dg=t,queueMicrotask(SG)}},y4=t=>e=>typeof e=="string"&&e.startsWith(t),v4=y4("--"),wG=y4("var(--"),QS=t=>wG(t)?AG.test(t.split("/*")[0].trim()):!1,AG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function YR(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ef={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oh={...ef,transform:t=>Uo(0,1,t)},km={...ef,default:1},Kd=t=>Math.round(t*1e5)/1e5,ZS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CG(t){return t==null}const IG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ew=(t,e)=>n=>!!(typeof n=="string"&&IG.test(n)&&n.startsWith(t)||e&&!CG(n)&&Object.prototype.hasOwnProperty.call(n,e)),b4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,u]=r.match(ZS);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},PG=t=>Uo(0,255,t),C_={...ef,transform:t=>Math.round(PG(t))},Vl={test:ew("rgb","red"),parse:b4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+C_.transform(t)+", "+C_.transform(e)+", "+C_.transform(n)+", "+Kd(oh.transform(r))+")"};function RG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const VT={test:ew("#"),parse:RG,transform:Vl.transform},Bh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ba=Bh("deg"),No=Bh("%"),Oe=Bh("px"),MG=Bh("vh"),NG=Bh("vw"),WR={...No,parse:t=>No.parse(t)/100,transform:t=>No.transform(t*100)},gc={test:ew("hsl","hue"),parse:b4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+No.transform(Kd(e))+", "+No.transform(Kd(n))+", "+Kd(oh.transform(r))+")"},Tn={test:t=>Vl.test(t)||VT.test(t)||gc.test(t),parse:t=>Vl.test(t)?Vl.parse(t):gc.test(t)?gc.parse(t):VT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vl.transform(t):gc.transform(t),getAnimatableNone:t=>{const e=Tn.parse(t);return e.alpha=0,Tn.transform(e)}},DG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZS))==null?void 0:e.length)||0)+(((n=t.match(DG))==null?void 0:n.length)||0)>0}const _4="number",E4="color",kG="var",LG="var(",JR="${}",VG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(VG,c=>(Tn.test(c)?(r.color.push(o),i.push(E4),n.push(Tn.parse(c))):c.startsWith(LG)?(r.var.push(o),i.push(kG),n.push(c)):(r.number.push(o),i.push(_4),n.push(parseFloat(c))),++o,JR)).split(JR);return{values:n,split:u,indexes:r,types:i}}function T4(t){return sh(t).values}function x4(t){const{split:e,types:n}=sh(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const u=n[a];u===_4?o+=Kd(i[a]):u===E4?o+=Tn.transform(i[a]):o+=i[a]}return o}}const UG=t=>typeof t=="number"?0:Tn.test(t)?Tn.getAnimatableNone(t):t;function BG(t){const e=T4(t);return x4(t)(e.map(UG))}const La={test:OG,parse:T4,createTransformer:x4,getAnimatableNone:BG};function I_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;i=I_(c,u,t+1/3),o=I_(c,u,t),a=I_(c,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Og(t,e){return n=>n>0?e:t}const Xt=(t,e,n)=>t+(e-t)*n,P_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},jG=[VT,Vl,gc],zG=t=>jG.find(e=>e.test(t));function XR(t){const e=zG(t);if(!e)return!1;let n=e.parse(t);return e===gc&&(n=FG(n)),n}const QR=(t,e)=>{const n=XR(t),r=XR(e);if(!n||!r)return Og(t,e);const i={...n};return o=>(i.red=P_(n.red,r.red,o),i.green=P_(n.green,r.green,o),i.blue=P_(n.blue,r.blue,o),i.alpha=Xt(n.alpha,r.alpha,o),Vl.transform(i))},UT=new Set(["none","hidden"]);function qG(t,e){return UT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HG(t,e){return n=>Xt(t,e,n)}function tw(t){return typeof t=="number"?HG:typeof t=="string"?QS(t)?Og:Tn.test(t)?QR:KG:Array.isArray(t)?S4:typeof t=="object"?Tn.test(t)?QR:GG:Og}function S4(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>tw(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function GG(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tw(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function $G(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],u=t.values[a]??0;n[i]=u,r[o]++}return n}const KG=(t,e)=>{const n=La.createTransformer(e),r=sh(t),i=sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?UT.has(t)&&!i.values.length||UT.has(e)&&!r.values.length?qG(t,e):Vh(S4($G(r,i),i.values),n):Og(t,e)};function w4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xt(t,e,n):tw(t)(t,e)}const YG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>ka(e),now:()=>tr.isProcessing?tr.timestamp:Tr.now()}},A4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kg=2e4;function nw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kg;)e+=n,r=t.next(e);return e>=kg?1/0:e}function WG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(nw(r),kg);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:_i(i)}}const JG=5;function C4(t,e,n){const r=Math.max(e-JG,0);return o4(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},R_=.001;function XG({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let i,o,a=1-e;a=Uo(rn.minDamping,rn.maxDamping,a),t=Uo(rn.minDuration,rn.maxDuration,_i(t)),a<1?(i=f=>{const h=f*a,p=h*t,g=h-n,E=BT(f,a),x=Math.exp(-p);return R_-g/E*x},o=f=>{const p=f*a*t,g=p*n+n,E=Math.pow(a,2)*Math.pow(f,2)*t,x=Math.exp(-p),w=BT(Math.pow(f,2),a);return(-i(f)+R_>0?-1:1)*((g-E)*x)/w}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-R_+h*p},o=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const u=5/t,c=ZG(i,o,u);if(t=Yi(t),isNaN(c))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const QG=12;function ZG(t,e,n){let r=n;for(let i=1;i<QG;i++)r=r-t(r)/e(r);return r}function BT(t,e){return t*Math.sqrt(1-e*e)}const e$=["duration","bounce"],t$=["stiffness","damping","mass"];function ZR(t,e){return e.some(n=>t[n]!==void 0)}function n$(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!ZR(t,t$)&&ZR(t,e$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Uo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:rn.mass,stiffness:i,damping:o}}else{const n=XG(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function Lg(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:E}=n$({...n,velocity:-_i(n.velocity||0)}),x=g||0,w=f/(2*Math.sqrt(c*h)),S=a-o,P=_i(Math.sqrt(c/h)),k=Math.abs(S)<5;r||(r=k?rn.restSpeed.granular:rn.restSpeed.default),i||(i=k?rn.restDelta.granular:rn.restDelta.default);let D;if(w<1){const F=BT(P,w);D=U=>{const M=Math.exp(-w*P*U);return a-M*((x+w*P*S)/F*Math.sin(F*U)+S*Math.cos(F*U))}}else if(w===1)D=F=>a-Math.exp(-P*F)*(S+(x+P*S)*F);else{const F=P*Math.sqrt(w*w-1);D=U=>{const M=Math.exp(-w*P*U),O=Math.min(F*U,300);return a-M*((x+w*P*S)*Math.sinh(O)+F*S*Math.cosh(O))/F}}const B={calculatedDuration:E&&p||null,next:F=>{const U=D(F);if(E)u.done=F>=p;else{let M=F===0?x:0;w<1&&(M=F===0?Yi(x):C4(D,F,U));const O=Math.abs(M)<=r,V=Math.abs(a-U)<=i;u.done=O&&V}return u.value=u.done?a:U,u},toString:()=>{const F=Math.min(nw(B),kg),U=A4(M=>B.next(F*M).value,F,30);return F+"ms "+U},toTransition:()=>{}};return B}Lg.applyToOptions=t=>{const e=WG(t,100,Lg);return t.ease=e.ease,t.duration=Yi(e.duration),t.type="keyframes",t};function FT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},E=O=>u!==void 0&&O<u||c!==void 0&&O>c,x=O=>u===void 0?c:c===void 0||Math.abs(u-O)<Math.abs(c-O)?u:c;let w=n*e;const S=p+w,P=a===void 0?S:a(S);P!==S&&(w=P-p);const k=O=>-w*Math.exp(-O/r),D=O=>P+k(O),B=O=>{const V=k(O),z=D(O);g.done=Math.abs(V)<=f,g.value=g.done?P:z};let F,U;const M=O=>{E(g.value)&&(F=O,U=Lg({keyframes:[g.value,x(g.value)],velocity:C4(D,O,g.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return M(0),{calculatedDuration:null,next:O=>{let V=!1;return!U&&F===void 0&&(V=!0,B(O),M(O)),F!==void 0&&O>=F?U.next(O-F):(!V&&B(O),g)}}}function r$(t,e,n){const r=[],i=n||bs.mix||w4,o=t.length-1;for(let a=0;a<o;a++){let u=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ti:e;u=Vh(c,u)}r.push(u)}return r}function i$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(KS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=r$(e,r,i),c=u.length,f=h=>{if(a&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=ih(t[p],t[p+1],h);return u[p](g)};return n?h=>f(Uo(t[0],t[o-1],h)):f}function o$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ih(0,e,r);t.push(Xt(n,1,i))}}function s$(t){const e=[0];return o$(e,t.length-1),e}function a$(t,e){return t.map(n=>n*e)}function l$(t,e){return t.map(()=>e||p4).splice(0,t.length-1)}function Yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=bG(r)?r.map(KR):KR(r),o={done:!1,value:e[0]},a=a$(n&&n.length===e.length?n:s$(e),t),u=i$(a,e,{ease:Array.isArray(i)?i:l$(e,i)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const u$=t=>t!==null;function rw(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(u$),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const c$={decay:FT,inertia:FT,tween:Yd,keyframes:Yd,spring:Lg};function I4(t){typeof t.type=="string"&&(t.type=c$[t.type])}class iw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const f$=t=>t/100;class ow extends iw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Tr.now()&&this.tick(Tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;I4(e);const{type:n=Yd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:u}=e;const c=n||Yd;c!==Yd&&typeof u[0]!="number"&&(this.mixKeyframes=Vh(f$,w4(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=nw(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:E,type:x,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?P<0:P>i;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,B=r;if(p){const O=Math.min(this.currentTime,i)/u;let V=Math.floor(O),z=O%1;!z&&O>=1&&(z=1),z===1&&V--,V=Math.min(V,p+1),!!(V%2)&&(g==="reverse"?(z=1-z,E&&(z-=E/u)):g==="mirror"&&(B=a)),D=Uo(0,1,z)*u}const F=k?{done:!1,value:h[0]}:B.next(D);o&&(F.value=o(F.value));let{done:U}=F;!k&&c!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return M&&x!==FT&&(F.value=rw(h,this.options,S,this.speed)),w&&w(F.value),M&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(this.currentTime)}set time(e){var n;e=Yi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_i(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=YG,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function d$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ul=t=>t*180/Math.PI,jT=t=>{const e=Ul(Math.atan2(t[1],t[0]));return zT(e)},h$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jT,rotateZ:jT,skewX:t=>Ul(Math.atan(t[1])),skewY:t=>Ul(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zT=t=>(t=t%360,t<0&&(t+=360),t),eM=jT,tM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),p$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tM,scaleY:nM,scale:t=>(tM(t)+nM(t))/2,rotateX:t=>zT(Ul(Math.atan2(t[6],t[5]))),rotateY:t=>zT(Ul(Math.atan2(-t[2],t[0]))),rotateZ:eM,rotate:eM,skewX:t=>Ul(Math.atan(t[4])),skewY:t=>Ul(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qT(t){return t.includes("scale")?1:0}function HT(t,e){if(!t||t==="none")return qT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=p$,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h$,i=u}if(!i)return qT(e);const o=r[e],a=i[1].split(",").map(g$);return typeof o=="function"?o(a):a[o]}const m$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return HT(n,e)};function g$(t){return parseFloat(t.trim())}const tf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nf=new Set(tf),rM=t=>t===ef||t===Oe,y$=new Set(["x","y","z"]),v$=tf.filter(t=>!y$.has(t));function b$(t){const e=[];return v$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>HT(e,"x"),y:(t,{transform:e})=>HT(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const ql=new Set;let GT=!1,$T=!1,KT=!1;function P4(){if($T){const t=Array.from(ql).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=b$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var u;(u=r.getValue(o))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$T=!1,GT=!1,ql.forEach(t=>t.complete(KT)),ql.clear()}function R4(){ql.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($T=!0)})}function _$(){KT=!0,R4(),P4(),KT=!1}class sw{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ql.add(this),GT||(GT=!0,Bt.read(R4),Bt.resolveKeyframes(P4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}d$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ql.delete(this)}cancel(){this.state==="scheduled"&&(ql.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E$=t=>t.startsWith("--");function T$(t,e,n){E$(e)?t.style.setProperty(e,n):t.style[e]=n}const x$=YS(()=>window.ScrollTimeline!==void 0),S$={};function w$(t,e){const n=YS(t);return()=>S$[e]??n()}const M4=w$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ud=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function N4(t,e){if(t)return typeof t=="function"?M4()?A4(t,e):"ease-out":m4(t)?Ud(t):Array.isArray(t)?t.map(n=>N4(n,e)||iM.easeOut):iM[t]}function A$(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const p=N4(u,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function D4(t){return typeof t=="function"&&"applyToOptions"in t}function C$({type:t,...e}){return D4(t)&&M4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O4 extends iw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,KS(typeof e.type!="string");const f=C$(e);this.animation=A$(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=rw(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):T$(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return _i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Yi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&x$()?(this.animation.timeline=e,Ti):n(this)}}const k4={anticipate:f4,backInOut:c4,circInOut:h4};function I$(t){return t in k4}function P$(t){typeof t.ease=="string"&&I$(t.ease)&&(t.ease=k4[t.ease])}const M_=10;class R$ extends O4{constructor(e){P$(e),I4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new ow({...a,autoplay:!1}),c=Math.max(M_,Tr.now()-this.startTime),f=Uo(0,M_,c-M_);n.setWithVelocity(u.sample(Math.max(0,c-f)).value,u.sample(c).value,f),u.stop()}}const oM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url("));function M$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function N$(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=oM(i,e),u=oM(o,e);return!a||!u?!1:M$(t)||(n==="spring"||D4(n))&&r}function YT(t){t.duration=0,t.type="keyframes"}const D$=new Set(["opacity","clipPath","filter","transform"]),O$=YS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k$(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return O$()&&n&&D$.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const L$=40;class V$ extends iw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:u,name:c,motionValue:f,element:h,...p}){var x;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Tr.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:f,element:h,...p},E=(h==null?void 0:h.KeyframeResolver)||sw;this.keyframeResolver=new E(u,(w,S,P)=>this.onKeyframesResolved(w,S,g,!P),c,f,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){var S,P;this.keyframeResolver=void 0;const{name:o,type:a,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Tr.now(),N$(e,o,a,u)||((bs.instantAnimations||!c)&&(h==null||h(rw(e,r,n))),e[0]=e[e.length-1],YT(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>L$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&k$(g),x=(P=(S=g.motionValue)==null?void 0:S.owner)==null?void 0:P.current,w=E?new R$({...g,element:x}):new ow(g);w.finished.then(()=>{this.notifyFinished()}).catch(Ti),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),_$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function L4(t,e,n,r=0,i=1){const o=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:u-o*r}const U$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B$(t){const e=U$.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function V4(t,e,n=1){const[r,i]=B$(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return n4(a)?parseFloat(a):a}return QS(i)?V4(i,e,n+1):i}const F$={type:"spring",stiffness:500,damping:25,restSpeed:10},j$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z$={type:"keyframes",duration:.8},q$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H$=(t,{keyframes:e})=>e.length>2?z$:nf.has(t)?t.startsWith("scale")?j$(e[1]):F$:q$,G$=t=>t!==null;function $$(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(G$),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}function U4(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function aw(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?U4(n,t):n}function K$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const lw=(t,e,n,r={},i,o)=>a=>{const u=aw(r,t)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Yi(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};K$(u)||Object.assign(h,H$(t,h)),h.duration&&(h.duration=Yi(h.duration)),h.repeatDelay&&(h.repeatDelay=Yi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(YT(h),h.delay===0&&(p=!0)),(bs.instantAnimations||bs.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,YT(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,p&&!o&&e.get()!==void 0){const g=$$(h.keyframes,u);if(g!==void 0){Bt.update(()=>{h.onUpdate(g),h.onComplete()});return}}return u.isSync?new ow(h):new V$(h)};function sM(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uw(t,e,n,r){if(typeof e=="function"){const[i,o]=sM(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=sM(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function wc(t,e,n){const r=t.getProps();return uw(r,e,n!==void 0?n:r.custom,t)}const B4=new Set(["width","height","top","left","right","bottom",...tf]),aM=30,Y$=t=>!isNaN(parseFloat(t));class W${constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Tr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aM);return o4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uc(t,e){return new W$(t,e)}const WT=t=>Array.isArray(t);function J$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uc(n))}function X$(t){return WT(t)?t[t.length-1]||0:t}function Q$(t,e){const n=wc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const u=X$(o[a]);J$(t,a,u)}}const hr=t=>!!(t&&t.getVelocity);function Z$(t){return!!(hr(t)&&t.add)}function JT(t,e){const n=t.getValue("willChange");if(Z$(n))return n.add(e);if(!n&&bs.WillChange){const r=new bs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cw(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const e8="framerAppearId",F4="data-"+cw(e8);function j4(t){return t.props[F4]}function t8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:a,...u}=e;const c=t.getDefaultTransition();o=o?U4(o,c):c;const f=o==null?void 0:o.reduceMotion;r&&(o=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const E=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||p&&t8(p,g))continue;const w={delay:n,...aw(o||{},g)},S=E.get();if(S!==void 0&&!E.isAnimating&&!Array.isArray(x)&&x===S&&!w.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const B=j4(t);if(B){const F=window.MotionHandoffAnimation(B,g,Bt);F!==null&&(w.startTime=F,P=!0)}}JT(t,g);const k=f??t.shouldReduceMotion;E.start(lw(g,E,x,k&&B4.has(g)?{type:!1}:w,t,P));const D=E.animation;D&&h.push(D)}if(a){const g=()=>Bt.update(()=>{a&&Q$(t,a)});h.length?Promise.all(h).then(g):g()}return h}function XT(t,e,n={}){var c;const r=wc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(z4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return n8(t,e,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[o,a]:[a,o];return f().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function n8(t,e,n=0,r=0,i=0,o=1,a){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(XT(c,e,{...a,delay:n+(typeof r=="function"?0:r)+L4(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function r8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>XT(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=XT(t,e,n);else{const i=typeof e=="function"?wc(t,e,n.custom):e;r=Promise.all(z4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const i8={test:t=>t==="auto",parse:t=>t},q4=t=>e=>e.test(t),H4=[ef,Oe,No,ba,NG,MG,i8],lM=t=>H4.find(q4(t));function o8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||i4(t):!0}const s8=new Set(["brightness","contrast","saturate","opacity"]);function a8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ZS)||[];if(!r)return t;const i=n.replace(r,"");let o=s8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const l8=/\b([a-z-]*)\(.*?\)/gu,QT={...La,getAnimatableNone:t=>{const e=t.match(l8);return e?e.map(a8).join(" "):t}},uM={...ef,transform:Math.round},u8={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:km,scaleX:km,scaleY:km,scaleZ:km,skew:ba,skewX:ba,skewY:ba,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:oh,originX:WR,originY:WR,originZ:Oe},fw={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,inset:Oe,insetBlock:Oe,insetBlockStart:Oe,insetBlockEnd:Oe,insetInline:Oe,insetInlineStart:Oe,insetInlineEnd:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,paddingBlock:Oe,paddingBlockStart:Oe,paddingBlockEnd:Oe,paddingInline:Oe,paddingInlineStart:Oe,paddingInlineEnd:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,marginBlock:Oe,marginBlockStart:Oe,marginBlockEnd:Oe,marginInline:Oe,marginInlineStart:Oe,marginInlineEnd:Oe,fontSize:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...u8,zIndex:uM,fillOpacity:oh,strokeOpacity:oh,numOctaves:uM},c8={...fw,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:QT,WebkitFilter:QT},G4=t=>c8[t];function $4(t,e){let n=G4(t);return n!==QT&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const f8=new Set(["auto","none","0"]);function d8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!f8.has(o)&&sh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=$4(n,i)}class h8 extends sw{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),QS(p))){const g=V4(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!B4.has(r)||e.length!==2)return;const[i,o]=e,a=lM(i),u=lM(o),c=YR(i),f=YR(o);if(c!==f&&Sa[r]){this.needsMeasurement=!0;return}if(a!==u)if(rM(a)&&rM(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||o8(e[i]))&&r.push(i);r.length&&d8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const p8=new Set(["opacity","clipPath","filter","transform"]);function K4(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Y4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZT(t){return r4(t)&&"offsetHeight"in t}const{schedule:dw}=g4(queueMicrotask,!1),qi={x:!1,y:!1};function W4(){return qi.x||qi.y}function m8(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function J4(t,e){const n=K4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function g8(t){return!(t.pointerType==="touch"||W4())}function y8(t,e,n={}){const[r,i,o]=J4(t,n);return r.forEach(a=>{let u=!1,c=!1,f;const h=()=>{a.removeEventListener("pointerleave",x)},p=S=>{f&&(f(S),f=void 0),h()},g=S=>{u=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),c&&(c=!1,p(S))},E=()=>{u=!0,window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",g,i)},x=S=>{if(S.pointerType!=="touch"){if(u){c=!0;return}p(S)}},w=S=>{if(!g8(S))return;c=!1;const P=e(a,S);typeof P=="function"&&(f=P,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",w,i),a.addEventListener("pointerdown",E,i)}),o}const X4=(t,e)=>e?t===e?!0:X4(t,e.parentElement):!1,hw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b8(t){return v8.has(t.tagName)||t.isContentEditable===!0}const _8=new Set(["INPUT","SELECT","TEXTAREA"]);function E8(t){return _8.has(t.tagName)||t.isContentEditable===!0}const hg=new WeakSet;function cM(t){return e=>{e.key==="Enter"&&t(e)}}function N_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=cM(()=>{if(hg.has(n))return;N_(n,"down");const i=cM(()=>{N_(n,"up")}),o=()=>N_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function fM(t){return hw(t)&&!W4()}const dM=new WeakSet;function x8(t,e,n={}){const[r,i,o]=J4(t,n),a=u=>{const c=u.currentTarget;if(!fM(u)||dM.has(u))return;hg.add(c),n.stopPropagation&&dM.add(u);const f=e(c,u),h=(E,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),hg.has(c)&&hg.delete(c),fM(E)&&typeof f=="function"&&f(E,{success:x})},p=E=>{h(E,c===window||c===document||n.useGlobalTarget||X4(c,E.target))},g=E=>{h(E,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),ZT(u)&&(u.addEventListener("focus",f=>T8(f,i)),!b8(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function pw(t){return r4(t)&&"ownerSVGElement"in t}const pg=new WeakMap;let _a;const Q4=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:pw(r)&&"getBBox"in r?r.getBBox()[e]:r[n],S8=Q4("inline","width","offsetWidth"),w8=Q4("block","height","offsetHeight");function A8({target:t,borderBoxSize:e}){var n;(n=pg.get(t))==null||n.forEach(r=>{r(t,{get width(){return S8(t,e)},get height(){return w8(t,e)}})})}function C8(t){t.forEach(A8)}function I8(){typeof ResizeObserver>"u"||(_a=new ResizeObserver(C8))}function P8(t,e){_a||I8();const n=K4(t);return n.forEach(r=>{let i=pg.get(r);i||(i=new Set,pg.set(r,i)),i.add(e),_a==null||_a.observe(r)}),()=>{n.forEach(r=>{const i=pg.get(r);i==null||i.delete(e),i!=null&&i.size||_a==null||_a.unobserve(r)})}}const mg=new Set;let yc;function R8(){yc=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};mg.forEach(e=>e(t))},window.addEventListener("resize",yc)}function M8(t){return mg.add(t),yc||R8(),()=>{mg.delete(t),!mg.size&&typeof yc=="function"&&(window.removeEventListener("resize",yc),yc=void 0)}}function hM(t,e){return typeof t=="function"?M8(t):P8(t,e)}function N8(t){return pw(t)&&t.tagName==="svg"}const D8=[...H4,Tn,La],O8=t=>D8.find(q4(t)),pM=()=>({translate:0,scale:1,origin:0,originPoint:0}),vc=()=>({x:pM(),y:pM()}),mM=()=>({min:0,max:0}),Pn=()=>({x:mM(),y:mM()}),k8=new WeakMap;function av(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ah(t){return typeof t=="string"||Array.isArray(t)}const mw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gw=["initial",...mw];function lv(t){return av(t.animate)||gw.some(e=>ah(t[e]))}function Z4(t){return!!(lv(t)||t.variants)}function L8(t,e,n){for(const r in e){const i=e[r],o=n[r];if(hr(i))t.addValue(r,i);else if(hr(o))t.addValue(r,Uc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Uc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ex={current:null},e3={current:!1},V8=typeof window<"u";function U8(){if(e3.current=!0,!!V8)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ex.current=t.matches;t.addEventListener("change",e),e()}else ex.current=!1}const gM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Vg={};function t3(t){Vg=t}function B8(){return Vg}class F8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:a,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=sw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Bt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=lv(n),this.isVariantNode=Z4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in g){const x=g[E];f[E]!==void 0&&hr(x)&&x.set(f[E])}}mount(e){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,k8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(e3.current||U8(),this.shouldReduceMotion=ex.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&p8.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:u,times:c,ease:f,duration:h}=n.accelerate,p=new O4({element:this.current,name:e,keyframes:u,times:c,ease:f,duration:Yi(h)}),g=a(p);this.valueSubscriptions.set(e,()=>{g(),p.cancel()});return}const r=nf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vg){const n=Vg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gM.length;r++){const i=gM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=L8(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(n4(r)||i4(r))?r=parseFloat(r):!O8(r)&&La.test(n)&&(r=$4(e,n)),this.setBaseTarget(e,hr(r)?r.get():r)),hr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=uw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!hr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dw.render(this.render)}}class n3 extends F8{constructor(){super(...arguments),this.KeyframeResolver=h8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}function r3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function j8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function D_(t){return t===void 0||t===1}function tx({scale:t,scaleX:e,scaleY:n}){return!D_(t)||!D_(e)||!D_(n)}function Pl(t){return tx(t)||i3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function i3(t){return yM(t.x)||yM(t.y)}function yM(t){return t&&t!=="0%"}function Ug(t,e,n){const r=t-n,i=e*r;return n+i}function vM(t,e,n,r,i){return i!==void 0&&(t=Ug(t,i,r)),Ug(t,n,r)+e}function nx(t,e=0,n=1,r,i){t.min=vM(t.min,e,n,r,i),t.max=vM(t.max,e,n,r,i)}function o3(t,{x:e,y:n}){nx(t.x,e.translate,e.scale,e.originPoint),nx(t.y,n.translate,n.scale,n.originPoint)}const bM=.999999999999,_M=1.0000000000001;function q8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let u=0;u<i;u++){o=n[u],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&_c(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,o3(t,a)),r&&Pl(o.latestValues)&&_c(t,o.latestValues))}e.x<_M&&e.x>bM&&(e.x=1),e.y<_M&&e.y>bM&&(e.y=1)}function bc(t,e){t.min=t.min+e,t.max=t.max+e}function EM(t,e,n,r,i=.5){const o=Xt(t.min,t.max,i);nx(t,e,n,o,r)}function _c(t,e){EM(t.x,e.x,e.scaleX,e.scale,e.originX),EM(t.y,e.y,e.scaleY,e.scale,e.originY)}function s3(t,e){return r3(z8(t.getBoundingClientRect(),e))}function H8(t,e,n){const r=s3(t,n),{scroll:i}=e;return i&&(bc(r.x,i.offset.x),bc(r.y,i.offset.y)),r}const G8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$8=tf.length;function K8(t,e,n){let r="",i=!0;for(let o=0;o<$8;o++){const a=tf[o],u=t[a];if(u===void 0)continue;let c=!0;if(typeof u=="number")c=u===(a.startsWith("scale")?1:0);else{const f=parseFloat(u);c=a.startsWith("scale")?f===1:f===0}if(!c||n){const f=Y4(u,fw[a]);if(!c){i=!1;const h=G8[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yw(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,u=!1;for(const c in e){const f=e[c];if(nf.has(c)){a=!0;continue}else if(v4(c)){i[c]=f;continue}else{const h=Y4(f,fw[c]);c.startsWith("origin")?(u=!0,o[c]=h):r[c]=h}}if(e.transform||(a||n?r.transform=K8(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=o;r.transformOrigin=`${c} ${f} ${h}`}}function a3(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function TM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=TM(t,e.target.x),r=TM(t,e.target.y);return`${n}% ${r}%`}},Y8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=La.parse(t);if(i.length>5)return r;const o=La.createTransformer(t),a=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const f=Xt(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),o(i)}},rx={borderRadius:{...wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wd,borderTopRightRadius:wd,borderBottomLeftRadius:wd,borderBottomRightRadius:wd,boxShadow:Y8};function l3(t,{layout:e,layoutId:n}){return nf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rx[t]||t==="opacity")}function vw(t,e,n){var a;const r=t.style,i=e==null?void 0:e.style,o={};if(!r)return o;for(const u in r)(hr(r[u])||i&&hr(i[u])||l3(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=r[u]);return o}function W8(t){return window.getComputedStyle(t)}class J8 extends n3{constructor(){super(...arguments),this.type="html",this.renderInstance=a3}readValueFromInstance(e,n){var r;if(nf.has(n))return(r=this.projection)!=null&&r.isProjecting?qT(n):m$(e,n);{const i=W8(e),o=(v4(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return s3(e,n)}build(e,n,r){yw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return vw(e,n,r)}}const X8={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q8={offset:"strokeDashoffset",array:"strokeDasharray"};function Z8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?X8:Q8;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const e7=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function u3(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...u},c,f,h){if(yw(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox);for(const E of e7)p[E]!==void 0&&(g[E]=p[E],delete p[E]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&Z8(p,i,o,a,!1)}const c3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),f3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t7(t,e,n,r){a3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(c3.has(i)?i:cw(i),e.attrs[i])}function d3(t,e,n){const r=vw(t,e,n);for(const i in t)if(hr(t[i])||hr(e[i])){const o=tf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}class n7 extends n3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nf.has(n)){const r=G4(n);return r&&r.default||0}return n=c3.has(n)?n:cw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return d3(e,n,r)}build(e,n,r){u3(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){t7(e,n,r,i)}mount(e){this.isSVGTag=f3(e.tagName),super.mount(e)}}const r7=gw.length;function h3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?h3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r7;n++){const r=gw[n],i=t.props[r];(ah(i)||i===!1)&&(e[r]=i)}return e}function p3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const i7=[...mw].reverse(),o7=mw.length;function s7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>r8(t,n,r)))}function a7(t){let e=s7(t),n=xM(),r=!0;const i=c=>(f,h)=>{var g;const p=wc(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:E,transitionEnd:x,...w}=p;f={...f,...w,...x}}return f};function o(c){e=c(t)}function a(c){const{props:f}=t,h=h3(t.parent)||{},p=[],g=new Set;let E={},x=1/0;for(let S=0;S<o7;S++){const P=i7[S],k=n[P],D=f[P]!==void 0?f[P]:h[P],B=ah(D),F=P===c?k.isActive:null;F===!1&&(x=S);let U=D===h[P]&&D!==f[P]&&B;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),k.protectedKeys={...E},!k.isActive&&F===null||!D&&!k.prevProp||av(D)||typeof D=="boolean")continue;if(P==="exit"&&k.isActive&&F!==!0){k.prevResolvedValues&&(E={...E,...k.prevResolvedValues});continue}const M=l7(k.prevProp,D);let O=M||P===c&&k.isActive&&!U&&B||S>x&&B,V=!1;const z=Array.isArray(D)?D:[D];let q=z.reduce(i(P),{});F===!1&&(q={});const{prevResolvedValues:H={}}=k,$={...H,...q},ve=ie=>{O=!0,g.has(ie)&&(V=!0,g.delete(ie)),k.needsAnimating[ie]=!0;const fe=t.getValue(ie);fe&&(fe.liveStyle=!1)};for(const ie in $){const fe=q[ie],Te=H[ie];if(E.hasOwnProperty(ie))continue;let W=!1;WT(fe)&&WT(Te)?W=!p3(fe,Te):W=fe!==Te,W?fe!=null?ve(ie):g.add(ie):fe!==void 0&&g.has(ie)?ve(ie):k.protectedKeys[ie]=!0}k.prevProp=D,k.prevResolvedValues=q,k.isActive&&(E={...E,...q}),r&&t.blockInitialAnimation&&(O=!1);const Ee=U&&M;O&&(!Ee||V)&&p.push(...z.map(ie=>{const fe={type:P};if(typeof ie=="string"&&r&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,W=wc(Te,ie);if(Te.enteringChildren&&W){const{delayChildren:L}=W.transition||{};fe.delay=L4(Te.enteringChildren,t,L)}}return{animation:ie,options:fe}}))}if(g.size){const S={};if(typeof f.initial!="boolean"){const P=wc(t,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(S.transition=P.transition)}g.forEach(P=>{const k=t.getBaseTarget(P),D=t.getValue(P);D&&(D.liveStyle=!0),S[P]=k??null}),p.push({animation:S})}let w=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(p):Promise.resolve()}function u(c,f){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var E;return(E=g.animationState)==null?void 0:E.setActive(c,f)}),n[c].isActive=f;const h=a(c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=xM()}}}function l7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!p3(e,t):!1}function Cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xM(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}function SM(t,e){t.min=e.min,t.max=e.max}function zi(t,e){SM(t.x,e.x),SM(t.y,e.y)}function wM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const m3=1e-4,u7=1-m3,c7=1+m3,g3=.01,f7=0-g3,d7=0+g3;function xr(t){return t.max-t.min}function h7(t,e,n){return Math.abs(t-e)<=n}function AM(t,e,n,r=.5){t.origin=r,t.originPoint=Xt(e.min,e.max,t.origin),t.scale=xr(n)/xr(e),t.translate=Xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u7&&t.scale<=c7||isNaN(t.scale))&&(t.scale=1),(t.translate>=f7&&t.translate<=d7||isNaN(t.translate))&&(t.translate=0)}function Wd(t,e,n,r){AM(t.x,e.x,n.x,r?r.originX:void 0),AM(t.y,e.y,n.y,r?r.originY:void 0)}function CM(t,e,n){t.min=n.min+e.min,t.max=t.min+xr(e)}function p7(t,e,n){CM(t.x,e.x,n.x),CM(t.y,e.y,n.y)}function IM(t,e,n){t.min=e.min-n.min,t.max=t.min+xr(e)}function Bg(t,e,n){IM(t.x,e.x,n.x),IM(t.y,e.y,n.y)}function PM(t,e,n,r,i){return t-=e,t=Ug(t,1/n,r),i!==void 0&&(t=Ug(t,1/i,r)),t}function m7(t,e=0,n=1,r=.5,i,o=t,a=t){if(No.test(e)&&(e=parseFloat(e),e=Xt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Xt(o.min,o.max,r);t===o&&(u-=e),t.min=PM(t.min,e,n,u,i),t.max=PM(t.max,e,n,u,i)}function RM(t,e,[n,r,i],o,a){m7(t,e[n],e[r],e[i],e.scale,o,a)}const g7=["x","scaleX","originX"],y7=["y","scaleY","originY"];function MM(t,e,n,r){RM(t.x,e,g7,n?n.x:void 0,r?r.x:void 0),RM(t.y,e,y7,n?n.y:void 0,r?r.y:void 0)}function NM(t){return t.translate===0&&t.scale===1}function y3(t){return NM(t.x)&&NM(t.y)}function DM(t,e){return t.min===e.min&&t.max===e.max}function v7(t,e){return DM(t.x,e.x)&&DM(t.y,e.y)}function OM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function v3(t,e){return OM(t.x,e.x)&&OM(t.y,e.y)}function kM(t){return xr(t.x)/xr(t.y)}function LM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Co(t){return[t("x"),t("y")]}function b7(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:E,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),E&&(r+=`skewX(${E}deg) `),x&&(r+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const b3=["TopLeft","TopRight","BottomLeft","BottomRight"],_7=b3.length,VM=t=>typeof t=="string"?parseFloat(t):t,UM=t=>typeof t=="number"||Oe.test(t);function E7(t,e,n,r,i,o){i?(t.opacity=Xt(0,n.opacity??1,T7(r)),t.opacityExit=Xt(e.opacity??1,0,x7(r))):o&&(t.opacity=Xt(e.opacity??1,n.opacity??1,r));for(let a=0;a<_7;a++){const u=`border${b3[a]}Radius`;let c=BM(e,u),f=BM(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||UM(c)===UM(f)?(t[u]=Math.max(Xt(VM(c),VM(f),r),0),(No.test(f)||No.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Xt(e.rotate||0,n.rotate||0,r))}function BM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const T7=_3(0,.5,d4),x7=_3(.5,.95,Ti);function _3(t,e,n){return r=>r<t?0:r>e?1:n(ih(t,e,r))}function S7(t,e,n){const r=hr(t)?t:Uc(t);return r.start(lw("",r,e,n)),r.animation}function lh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const w7=(t,e)=>t.depth-e.depth;class A7{constructor(){this.children=[],this.isDirty=!1}add(e){$S(this.children,e),this.isDirty=!0}remove(e){Dg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w7),this.isDirty=!1,this.children.forEach(e)}}function C7(t,e){const n=Tr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(ka(r),t(o-e))};return Bt.setup(r,!0),()=>ka(r)}function gg(t){return hr(t)?t.get():t}class I7{constructor(){this.members=[]}add(e){$S(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Dg(this.members,r)}e.scheduleRender()}remove(e){if(Dg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i],a=o.instance;if(o.isPresent!==!1&&(!a||a.isConnected!==!1)){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,o=e.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const yg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},O_=["","X","Y","Z"],P7=1e3;let R7=0;function k_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=j4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E3(r)}function T3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=R7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(D7),this.nodes.forEach(V7),this.nodes.forEach(U7),this.nodes.forEach(O7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new A7)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new WS),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pw(a)&&!N8(a),this.instance=a;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{p=window.innerWidth}),t(a,()=>{const E=window.innerWidth;E!==p&&(p=E,this.root.updateBlockedByResize=!0,h&&h(),h=C7(g,250),yg.hasAnimatedSinceResize&&(yg.hasAnimatedSinceResize=!1,this.nodes.forEach(zM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||q7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),P=!this.targetLayout||!v3(this.targetLayout,E),k=!p&&g;if(this.options.layoutRoot||this.resumeFrom||k||p&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...aw(x,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(h,k)}else p||zM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B7),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L7),this.nodes.forEach(M7),this.nodes.forEach(N7)):this.nodes.forEach(jM),this.clearAllSnapshots();const u=Tr.now();tr.delta=Uo(0,1e3/60,u-tr.timestamp),tr.timestamp=u,tr.isProcessing=!0,A_.update.process(tr),A_.preRender.process(tr),A_.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k7),this.sharedNodes.forEach(F7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xr(this.snapshot.measuredBox.x)&&!xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!y3(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||Pl(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),H7(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Pn();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(G7))){const{scroll:h}=this.root;h&&(bc(u.x,h.offset.x),bc(u.y,h.offset.y))}return u}removeElementScroll(a){var c;const u=Pn();if(zi(u,a),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&zi(u,a),bc(u.x,p.offset.x),bc(u.y,p.offset.y))}return u}applyTransform(a,u=!1){const c=Pn();zi(c,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_c(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Pl(h.latestValues)&&_c(c,h.latestValues)}return Pl(this.latestValues)&&_c(c,this.latestValues),c}removeTransform(a){const u=Pn();zi(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Pl(f.latestValues))continue;tx(f.latestValues)&&f.updateSnapshot();const h=Pn(),p=f.measurePageBox();zi(h,p),MM(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Pl(this.latestValues)&&MM(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var E;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!this.layout||!(h||p))return;this.resolvedRelativeTargetAt=tr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),o3(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tx(this.parent.latestValues)||i3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,u,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Bg(this.relativeTargetOrigin,u,c),zi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;zi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;q8(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pn());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wM(this.prevProjectionDelta.x,this.projectionDelta.x),wM(this.prevProjectionDelta.y,this.projectionDelta.y)),Wd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!LM(this.projectionDelta.x,this.prevProjectionDelta.x)||!LM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vc(),this.projectionDelta=vc(),this.projectionDeltaWithTransform=vc()}setAnimationOrigin(a,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=vc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=Pn(),E=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=E!==x,S=this.getStack(),P=!S||S.members.length<=1,k=!!(w&&!P&&this.options.crossfade===!0&&!this.path.some(z7));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const F=B/1e3;qM(p.x,a.x,F),qM(p.y,a.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j7(this.relativeTarget,this.relativeTargetOrigin,g,F),D&&v7(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Pn()),zi(D,this.relativeTarget)),w&&(this.animationValues=h,E7(h,f,this.latestValues,F,k,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{yg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uc(0)),this.currentAnimation=S7(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=a;if(!(!u||!c||!f)){if(this!==a&&this.layout&&f&&x3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Pn();const p=xr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=xr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}zi(u,c),_c(u,h),Wd(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new I7),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&k_("z",a,f,this.animationValues);for(let h=0;h<O_.length;h++)k_(`rotate${O_[h]}`,a,f,this.animationValues),k_(`skew${O_[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}applyProjectionStyles(a,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=gg(u==null?void 0:u.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=gg(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Pl(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=b7(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),a.transform=p;const{x:g,y:E}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,f.animationValues?a.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in rx){if(h[x]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:P}=rx[x],k=p==="none"?h[x]:w(h[x],f);if(S){const D=S.length;for(let B=0;B<D;B++)a[S[B]]=k}else P?this.options.visualElement.renderState.vars[x]=k:a[x]=k}this.options.layoutId&&(a.pointerEvents=f===this?gg(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(FM),this.root.sharedNodes.clear()}}}function M7(t){t.updateLayout()}function N7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Co(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],E=xr(g);g.min=r[p].min,g.max=g.min+E}):x3(o,e.layoutBox,r)&&Co(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],E=xr(r[p]);g.max=g.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+E)});const u=vc();Wd(u,r,e.layoutBox);const c=vc();a?Wd(c,t.applyTransform(i,!0),e.measuredBox):Wd(c,r,e.layoutBox);const f=!y3(u);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:E}=p;if(g&&E){const x=Pn();Bg(x,e.layoutBox,g.layoutBox);const w=Pn();Bg(w,r,E.layoutBox),v3(x,w)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function D7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function O7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k7(t){t.clearSnapshot()}function FM(t){t.clearMeasurements()}function jM(t){t.isLayoutDirty=!1}function L7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V7(t){t.resolveTargetDelta()}function U7(t){t.calcProjection()}function B7(t){t.resetSkewAndRotation()}function F7(t){t.removeLeadSnapshot()}function qM(t,e,n){t.translate=Xt(e.translate,0,n),t.scale=Xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HM(t,e,n,r){t.min=Xt(e.min,n.min,r),t.max=Xt(e.max,n.max,r)}function j7(t,e,n,r){HM(t.x,e.x,n.x,r),HM(t.y,e.y,n.y,r)}function z7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const q7={duration:.45,ease:[.4,0,.1,1]},GM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$M=GM("applewebkit/")&&!GM("chrome/")?Math.round:Ti;function KM(t){t.min=$M(t.min),t.max=$M(t.max)}function H7(t){KM(t.x),KM(t.y)}function x3(t,e,n){return t==="position"||t==="preserve-aspect"&&!h7(kM(e),kM(n),.2)}function G7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $7=T3({attachResizeListener:(t,e)=>lh(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),L_={current:void 0},S3=T3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!L_.current){const t=new $7({});t.mount(window),t.setOptions({layoutScroll:!0}),L_.current=t}return L_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bw=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function K7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=YM(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():YM(t[i],null)}}}}function Y7(...t){return A.useCallback(K7(...t),t)}class W7 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=ZT(r)&&r.offsetWidth||0,o=ZT(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function J7({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:o}){var g;const a=A.useId(),u=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=A.useContext(bw),h=((g=t.props)==null?void 0:g.ref)??(t==null?void 0:t.ref),p=Y7(u,h);return A.useInsertionEffect(()=>{const{width:E,height:x,top:w,left:S,right:P,bottom:k}=c.current;if(e||o===!1||!u.current||!E||!x)return;const D=n==="left"?`left: ${S}`:`right: ${P}`,B=r==="bottom"?`bottom: ${k}`:`top: ${w}`;u.current.dataset.motionPopId=a;const F=document.createElement("style");f&&(F.nonce=f);const U=i??document.head;return U.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${x}px !important;
            ${D}px !important;
            ${B}px !important;
          }
        `),()=>{U.contains(F)&&U.removeChild(F)}},[e]),I.jsx(W7,{isPresent:e,childRef:u,sizeRef:c,pop:o,children:o===!1?t:A.cloneElement(t,{ref:p})})}const X7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:u,anchorY:c,root:f})=>{const h=GS(Q7),p=A.useId();let g=!0,E=A.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const w of h.values())if(!w)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return o&&g&&(E={...E}),A.useMemo(()=>{h.forEach((x,w)=>h.set(w,!1))},[n]),A.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),t=I.jsx(J7,{pop:a==="popLayout",isPresent:n,anchorX:u,anchorY:c,root:f,children:t}),I.jsx(sv.Provider,{value:E,children:t})};function Q7(){return new Map}function w3(t=!0){const e=A.useContext(sv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{if(t)return i(o)},[t]);const a=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Lm=t=>t.key||"";function WM(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Z7=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:u="left",anchorY:c="top",root:f})=>{const[h,p]=w3(a),g=A.useMemo(()=>WM(t),[t]),E=a&&!h?[]:g.map(Lm),x=A.useRef(!0),w=A.useRef(g),S=GS(()=>new Map),P=A.useRef(new Set),[k,D]=A.useState(g),[B,F]=A.useState(g);t4(()=>{x.current=!1,w.current=g;for(let O=0;O<B.length;O++){const V=Lm(B[O]);E.includes(V)?(S.delete(V),P.current.delete(V)):S.get(V)!==!0&&S.set(V,!1)}},[B,E.length,E.join("-")]);const U=[];if(g!==k){let O=[...g];for(let V=0;V<B.length;V++){const z=B[V],q=Lm(z);E.includes(q)||(O.splice(V,0,z),U.push(z))}return o==="wait"&&U.length&&(O=U),F(WM(O)),D(g),null}const{forceRender:M}=A.useContext(HS);return I.jsx(I.Fragment,{children:B.map(O=>{const V=Lm(O),z=a&&!h?!1:g===B||E.includes(V),q=()=>{if(P.current.has(V))return;if(P.current.add(V),S.has(V))S.set(V,!0);else return;let H=!0;S.forEach($=>{$||(H=!1)}),H&&(M==null||M(),F(w.current),a&&(p==null||p()),r&&r())};return I.jsx(X7,{isPresent:z,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:f,onExitComplete:z?void 0:q,anchorX:u,anchorY:c,children:O},V)})})},A3=A.createContext({strict:!1}),JM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let XM=!1;function eK(){if(XM)return;const t={};for(const e in JM)t[e]={isEnabled:n=>JM[e].some(r=>!!n[r])};t3(t),XM=!0}function C3(){return eK(),B8()}function tK(t){const e=C3();for(const n in t)e[n]={...e[n],...t[n]};t3(e)}const nK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Fg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nK.has(t)}let I3=t=>!Fg(t);function rK(t){typeof t=="function"&&(I3=e=>e.startsWith("on")?!Fg(e):t(e))}try{rK(require("@emotion/is-prop-valid").default)}catch{}function iK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(I3(i)||n===!0&&Fg(i)||!e&&!Fg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const uv=A.createContext({});function oK(t,e){if(lv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ah(n)?n:void 0,animate:ah(r)?r:void 0}}return t.inherit!==!1?e:{}}function sK(t){const{initial:e,animate:n}=oK(t,A.useContext(uv));return A.useMemo(()=>({initial:e,animate:n}),[QM(e),QM(n)])}function QM(t){return Array.isArray(t)?t.join(" "):t}const _w=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P3(t,e,n){for(const r in e)!hr(e[r])&&!l3(r,n)&&(t[r]=e[r])}function aK({transformTemplate:t},e){return A.useMemo(()=>{const n=_w();return yw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lK(t,e){const n=t.style||{},r={};return P3(r,n,t),Object.assign(r,aK(t,e)),r}function uK(t,e){const n={},r=lK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const R3=()=>({..._w(),attrs:{}});function cK(t,e,n,r){const i=A.useMemo(()=>{const o=R3();return u3(o,e,f3(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};P3(o,t.style,t),i.style={...o,...i.style}}return i}const fK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ew(t){return typeof t!="string"||t.includes("-")?!1:!!(fK.indexOf(t)>-1||/[A-Z]/u.test(t))}function dK(t,e,n,{latestValues:r},i,o=!1,a){const c=(a??Ew(t)?cK:uK)(e,r,i,t),f=iK(e,typeof t=="string",o),h=t!==A.Fragment?{...f,...c,ref:n}:{},{children:p}=e,g=A.useMemo(()=>hr(p)?p.get():p,[p]);return A.createElement(t,{...h,children:g})}function hK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:pK(n,r,i,t),renderState:e()}}function pK(t,e,n,r){const i={},o=r(t,{});for(const g in o)i[g]=gg(o[g]);let{initial:a,animate:u}=t;const c=lv(t),f=Z4(t);e&&f&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const p=h?u:a;if(p&&typeof p!="boolean"&&!av(p)){const g=Array.isArray(p)?p:[p];for(let E=0;E<g.length;E++){const x=uw(t,g[E]);if(x){const{transitionEnd:w,transition:S,...P}=x;for(const k in P){let D=P[k];if(Array.isArray(D)){const B=h?D.length-1:0;D=D[B]}D!==null&&(i[k]=D)}for(const k in w)i[k]=w[k]}}}return i}const M3=t=>(e,n)=>{const r=A.useContext(uv),i=A.useContext(sv),o=()=>hK(t,e,r,i);return n?o():GS(o)},mK=M3({scrapeMotionValuesFromProps:vw,createRenderState:_w}),gK=M3({scrapeMotionValuesFromProps:d3,createRenderState:R3}),yK=Symbol.for("motionComponentSymbol");function vK(t,e,n){const r=A.useRef(n);A.useInsertionEffect(()=>{r.current=n});const i=A.useRef(null);return A.useCallback(o=>{var u;o&&((u=t.onMount)==null||u.call(t,o)),e&&(o?e.mount(o):e.unmount());const a=r.current;if(typeof a=="function")if(o){const c=a(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[e])}const N3=A.createContext({});function uc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bK(t,e,n,r,i,o){var D,B;const{visualElement:a}=A.useContext(uv),u=A.useContext(A3),c=A.useContext(sv),f=A.useContext(bw),h=f.reducedMotion,p=f.skipAnimations,g=A.useRef(null),E=A.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:p,isSVG:o}),E.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const x=g.current,w=A.useContext(N3);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&_K(g.current,n,i,w);const S=A.useRef(!1);A.useInsertionEffect(()=>{x&&S.current&&x.update(n,c)});const P=n[F4],k=A.useRef(!!P&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,P))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,P)));return t4(()=>{E.current=!0,x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),k.current&&x.animationState&&x.animationState.animateChanges())}),A.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,P)}),k.current=!1),x.enteringChildren=void 0)}),x}function _K(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D3(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||u&&uc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function D3(t){if(t)return t.options.allowProjection!==!1?t.projection:D3(t.parent)}function V_(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&tK(r);const o=n?n==="svg":Ew(t),a=o?gK:mK;function u(f,h){let p;const g={...A.useContext(bw),...f,layoutId:EK(f)},{isStatic:E}=g,x=sK(f),w=a(f,E);if(!E&&e4){TK();const S=xK(g);p=S.MeasureLayout,x.visualElement=bK(t,w,g,i,S.ProjectionNode,o)}return I.jsxs(uv.Provider,{value:x,children:[p&&x.visualElement?I.jsx(p,{visualElement:x.visualElement,...g}):null,dK(t,f,vK(w,x.visualElement,h),w,E,e,o)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(u);return c[yK]=t,c}function EK({layoutId:t}){const e=A.useContext(HS).id;return e&&t!==void 0?e+"-"+t:t}function TK(t,e){A.useContext(A3).strict}function xK(t){const e=C3(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function SK(t,e){if(typeof Proxy>"u")return V_;const n=new Map,r=(o,a)=>V_(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,V_(a,void 0,t,e)),n.get(a))})}const wK=(t,e)=>e.isSVG??Ew(t)?new n7(e):new J8(e,{allowProjection:t!==A.Fragment});class AK extends Ga{constructor(e){super(e),e.animationState||(e.animationState=a7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();av(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CK=0;class IK extends Ga{constructor(){super(...arguments),this.id=CK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PK={animation:{Feature:AK},exit:{Feature:IK}};function Fh(t){return{point:{x:t.pageX,y:t.pageY}}}const RK=t=>e=>hw(e)&&t(e,Fh(e));function Jd(t,e,n,r){return lh(t,e,RK(n),r)}const O3=({current:t})=>t?t.ownerDocument.defaultView:null,ZM=(t,e)=>Math.abs(t-e);function MK(t,e){const n=ZM(t.x,e.x),r=ZM(t.y,e.y);return Math.sqrt(n**2+r**2)}const eN=new Set(["auto","scroll"]);class k3{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=B_(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=MK(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:S}=E,{timestamp:P}=tr;this.history.push({...S,timestamp:P});const{onStart:k,onMove:D}=this.handlers;x||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=U_(x,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:P}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=B_(E.type==="pointercancel"?this.lastMoveEventInfo:U_(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(E,k),S&&S(E,k)},!hw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=Fh(e),f=U_(c,this.transformPagePoint),{point:h}=f,{timestamp:p}=tr;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,B_(f,this.history)),this.removeListeners=Vh(Jd(this.contextWindow,"pointermove",this.handlePointerMove),Jd(this.contextWindow,"pointerup",this.handlePointerUp),Jd(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(eN.has(r.overflowX)||eN.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,i),Bt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ka(this.updatePoint)}}function U_(t,e){return e?{point:e(t.point)}:t}function tN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B_({point:t},e){return{point:t,delta:tN(t,L3(e)),offset:tN(t,NK(e)),velocity:DK(e,.1)}}function NK(t){return t[0]}function L3(t){return t[t.length-1]}function DK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=L3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Yi(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Yi(e)*2&&(r=t[1]);const o=_i(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function OK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xt(n,t,r.max):Math.min(t,n)),t}function nN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kK(t,{top:e,left:n,bottom:r,right:i}){return{x:nN(t.x,n,i),y:nN(t.y,e,r)}}function rN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LK(t,e){return{x:rN(t.x,e.x),y:rN(t.y,e.y)}}function VK(t,e){let n=.5;const r=xr(t),i=xr(e);return i>r?n=ih(e.min,e.max-r,t.min):r>i&&(n=ih(t.min,t.max-i,e.min)),Uo(0,1,n)}function UK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ix=.35;function BK(t=ix){return t===!1?t=0:t===!0&&(t=ix),{x:iN(t,"left","right"),y:iN(t,"top","bottom")}}function iN(t,e,n){return{min:oN(t,e),max:oN(t,n)}}function oN(t,e){return typeof t=="number"?t:t[e]||0}const FK=new WeakMap;class jK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{n&&this.snapToCursor(Fh(p).point),this.stopAnimation()},a=(p,g)=>{const{drag:E,dragPropagation:x,onDragStart:w}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m8(E),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Co(P=>{let k=this.getAxisMotionValue(P).get()||0;if(No.test(k)){const{projection:D}=this.visualElement;if(D&&D.layout){const B=D.layout.layoutBox[P];B&&(k=xr(B)*(parseFloat(k)/100))}}this.originPoint[P]=k}),w&&Bt.update(()=>w(p,g),!1,!0),JT(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:w,onDrag:S}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=g;if(x&&this.currentDirection===null){this.currentDirection=qK(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),S&&Bt.update(()=>S(p,g),!1,!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new k3(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:O3(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Bt.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=OK(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&uc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kK(r.layoutBox,e):this.constraints=!1,this.elastic=BK(n),i!==this.constraints&&!uc(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Co(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=UK(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=H8(r,i.root,this.visualElement.getTransformPagePoint());let a=LK(i.layout.layoutBox,o);if(n){const u=n(j8(a));this.hasMutatedConstraints=!!u,u&&(a=r3(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Co(h=>{if(!Vm(h,n,this.currentDirection))return;let p=c&&c[h]||{};a&&(p={min:0,max:0});const g=i?200:1e6,E=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,x)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return JT(this.visualElement,e),r.start(lw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Co(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Co(n=>{const{drag:r}=this.getProps();if(!Vm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[n],c=o.get()||0;o.set(e[n]-Xt(a,u,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Co(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=VK({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Co(a=>{if(!Vm(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];u.set(Xt(c,f,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;FK.set(this.visualElement,this);const e=this.visualElement.current,n=Jd(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps(),g=f.target,E=g!==e&&E8(g);h&&p&&!E&&this.start(f)});let r;const i=()=>{const{dragConstraints:f}=this.getProps();uc(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),r||(r=zK(e,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Bt.read(i);const u=lh(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Co(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=ix,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function sN(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function zK(t,e,n){const r=hM(t,sN(n)),i=hM(e,sN(n));return()=>{r(),i()}}function Vm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HK extends Ga{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new jK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const F_=t=>(e,n)=>{t&&Bt.update(()=>t(e,n),!1,!0)};class GK extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new k3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:F_(e),onStart:F_(n),onMove:F_(r),onEnd:(o,a)=>{delete this.session,i&&Bt.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Jd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let j_=!1;class $K extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),j_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),yg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),j_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Bt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;j_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function V3(t){const[e,n]=w3(),r=A.useContext(HS);return I.jsx($K,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(N3),isPresent:e,safeToRemove:n})}const KK={pan:{Feature:GK},drag:{Feature:HK,ProjectionNode:S3,MeasureLayout:V3}};function aN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Bt.postRender(()=>o(e,Fh(e)))}class YK extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=y8(e,(n,r)=>(aN(this.node,r,"Start"),i=>aN(this.node,i,"End"))))}unmount(){}}class WK extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vh(lh(this.node.current,"focus",()=>this.onFocus()),lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Bt.postRender(()=>o(e,Fh(e)))}class JK extends Ga{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=x8(e,(i,o)=>(lN(this.node,o,"Start"),(a,{success:u})=>lN(this.node,a,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const ox=new WeakMap,z_=new WeakMap,XK=t=>{const e=ox.get(t.target);e&&e(t)},QK=t=>{t.forEach(XK)};function ZK({root:t,...e}){const n=t||document;z_.has(n)||z_.set(n,{});const r=z_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QK,{root:t,...e})),r[i]}function eY(t,e,n){const r=ZK(e);return ox.set(t,n),r.observe(t),()=>{ox.delete(t),r.unobserve(t)}}const tY={some:0,all:1};class nY extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tY[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return eY(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rY(e,n))&&this.startObserver()}unmount(){}}function rY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iY={inView:{Feature:nY},tap:{Feature:JK},focus:{Feature:WK},hover:{Feature:YK}},oY={layout:{ProjectionNode:S3,MeasureLayout:V3}},sY={...PK,...iY,...KK,...oY},xi=SK(sY,wK);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=t=>{const e=lY(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},c)=>A.createElement("svg",{ref:c,...uY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:U3("lucide",i),...!o&&!cY(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,h])=>A.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(fY,{ref:o,iconNode:e,className:U3(`lucide-${aY(uN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=uN(t),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tw=Lt("award",dY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cv=Lt("book-open",hY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],mY=Lt("bot",pY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],vg=Lt("brain",gY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],vY=Lt("chart-no-axes-column",yY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B3=Lt("chevron-left",bY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bc=Lt("chevron-right",_Y);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xd=Lt("circle-check-big",EY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ac=Lt("circle-x",TY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xw=Lt("clock",xY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wY=Lt("globe",SY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],CY=Lt("headphones",AY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],F3=Lt("highlighter",IY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],j3=Lt("info",PY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MY=Lt("key",RY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],DY=Lt("lightbulb",NY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kY=Lt("lock",OY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z3=Lt("log-out",LY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cN=Lt("message-circle",VY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],BY=Lt("monitor",UY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jY=Lt("rotate-ccw",FY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qY=Lt("settings",zY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],GY=Lt("smartphone",HY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sw=Lt("trophy",$Y);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sx=Lt("user",KY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WY=Lt("x",YY);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],XY=Lt("zap",JY),QY="modulepreload",ZY=function(t){return"/"+t},fN={},eW=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(n.map(f=>{if(f=ZY(f),f in fN)return;fN[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":QY,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((E,x)=>{g.addEventListener("load",E),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(null,arguments)}function tW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nW(t){A.useEffect(t,[])}var rW=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Cc(t,e){var n={},r=n.volume,i=r===void 0?1:r,o=n.playbackRate,a=o===void 0?1:o,u=n.soundEnabled,c=u===void 0?!0:u,f=n.interrupt,h=f===void 0?!1:f,p=n.onload,g=tW(n,rW),E=yi.useRef(null),x=yi.useRef(!1),w=yi.useState(null),S=w[0],P=w[1],k=yi.useState(null),D=k[0],B=k[1],F=function(){typeof p=="function"&&p.call(this),x.current&&P(this.duration()*1e3),B(this)};nW(function(){return eW(()=>import("./howler-Divqd0_P.js").then(z=>z.h),[]).then(function(z){if(!x.current){var q;E.current=(q=z.Howl)!==null&&q!==void 0?q:z.default.Howl,x.current=!0,new E.current(jg({src:Array.isArray(t)?t:[t],volume:i,rate:a,onload:F},g))}}),function(){x.current=!1}}),yi.useEffect(function(){E.current&&D&&B(new E.current(jg({src:Array.isArray(t)?t:[t],volume:i,onload:F},g)))},[JSON.stringify(t)]),yi.useEffect(function(){D&&(D.volume(i),g.sprite||D.rate(a))},[D,i,a]);var U=yi.useCallback(function(z){typeof z>"u"&&(z={}),!(!D||!c&&!z.forceSoundEnabled)&&(h&&D.stop(),z.playbackRate&&D.rate(z.playbackRate),D.play(z.id))},[D,c,h]),M=yi.useCallback(function(z){D&&D.stop(z)},[D]),O=yi.useCallback(function(z){D&&D.pause(z)},[D]),V=[U,{sound:D,stop:M,pause:O,duration:S}];return V}const q3=()=>{const[t,e]=A.useState({}),[n,r]=A.useState(!1),i=A.useCallback(()=>{r(f=>!f)},[]),o=A.useCallback((f,h,p)=>{if(!n)return;const g=window.getSelection();if(!g||g.rangeCount===0||g.isCollapsed)return;const E=g.getRangeAt(0),x=g.toString();let w=E.commonAncestorContainer;w.nodeType===3&&(w=w.parentElement);const S=E.cloneRange();let P=g.anchorNode;for(;P&&P.nodeName!=="P";)P=P.parentNode;if(!P)return;S.selectNodeContents(P),S.setEnd(E.startContainer,E.startOffset);const k=S.toString().length,D=k+x.length,B={start:k,end:D,text:x};e(F=>{const U=F[f]||{},O=[...U[h]||[],B];return{...F,[f]:{...U,[h]:O}}}),g.removeAllRanges()},[n]),a=A.useCallback((f,h,p)=>{e(g=>{const E=g[f]||{},x=E[h]||[];return{...g,[f]:{...E,[h]:x.filter(w=>w.start!==p.start||w.end!==p.end)}}})},[]),u=(f,h,p)=>{const E=(t[h]||{})[p]||[];if(E.length===0)return f;const x=[...E].sort((k,D)=>k.start-D.start),w=[];if(x.length>0){let k=x[0];for(let D=1;D<x.length;D++){const B=x[D];B.start<k.end?(k.end=Math.max(k.end,B.end),k.text=f.substring(k.start,k.end)):(w.push(k),k=B)}w.push(k)}const S=[];let P=0;return w.forEach((k,D)=>{k.start>P&&S.push(I.jsxs("span",{children:[" ",f.substring(P,k.start)," "]},`text-${D}`)),S.push(I.jsx("span",{className:"bg-yellow-200 text-slate-900 rounded-sm cursor-pointer hover:bg-yellow-300 transition-colors",onClick:B=>{},children:f.substring(k.start,k.end)},`highlight-${D}`)),P=k.end}),P<f.length&&S.push(I.jsxs("span",{children:[" ",f.substring(P)," "]},"text-end")),S},c=A.useCallback(f=>{e(h=>({...h,[f]:{}}))},[]);return{highlights:t,isHighlighterActive:n,toggleHighlighter:i,addHighlight:o,removeHighlight:a,clearHighlights:c,renderHighlightedText:u}};var ww={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!e.OffscreenCanvas)return!1;try{var W=new OffscreenCanvas(1,1),L=W.getContext("2d");L.fillRect(0,0,1,1);var K=W.transferToImageBitmap();L.createPattern(K,"no-repeat")}catch{return!1}return!0})();function c(){}function f(W){var L=n.exports.Promise,K=L!==void 0?L:e.Promise;return typeof K=="function"?new K(W):(W(c,c),null)}var h=(function(W,L){return{transform:function(K){if(W)return K;if(L.has(K))return L.get(K);var Z=new OffscreenCanvas(K.width,K.height),ae=Z.getContext("2d");return ae.drawImage(K,0,0),L.set(K,Z),Z},clear:function(){L.clear()}}})(u,new Map),p=(function(){var W=Math.floor(16.666666666666668),L,K,Z={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(ge){var _e=Math.random();return Z[_e]=requestAnimationFrame(function be(Me){ae===Me||ae+W-1<Me?(ae=Me,delete Z[_e],ge()):Z[_e]=requestAnimationFrame(be)}),_e},K=function(ge){Z[ge]&&cancelAnimationFrame(Z[ge])}):(L=function(ge){return setTimeout(ge,W)},K=function(ge){return clearTimeout(ge)}),{frame:L,cancel:K}})(),g=(function(){var W,L,K={};function Z(ae){function ge(_e,be){ae.postMessage({options:_e||{},callback:be})}ae.init=function(be){var Me=be.transferControlToOffscreen();ae.postMessage({canvas:Me},[Me])},ae.fire=function(be,Me,oe){if(L)return ge(be,null),L;var Ce=Math.random().toString(36).slice(2);return L=f(function(Pe){function de($e){$e.data.callback===Ce&&(delete K[Ce],ae.removeEventListener("message",de),L=null,h.clear(),oe(),Pe())}ae.addEventListener("message",de),ge(be,Ce),K[Ce]=de.bind(null,{data:{callback:Ce}})}),L},ae.reset=function(){ae.postMessage({reset:!0});for(var be in K)K[be](),delete K[be]}}return function(){if(W)return W;if(!r&&o){var ae=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{W=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}Z(W)}return W}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(W,L){return L?L(W):W}function w(W){return W!=null}function S(W,L,K){return x(W&&w(W[L])?W[L]:E[L],K)}function P(W){return W<0?0:Math.floor(W)}function k(W,L){return Math.floor(Math.random()*(L-W))+W}function D(W){return parseInt(W,16)}function B(W){return W.map(F)}function F(W){var L=String(W).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:D(L.substring(0,2)),g:D(L.substring(2,4)),b:D(L.substring(4,6))}}function U(W){var L=S(W,"origin",Object);return L.x=S(L,"x",Number),L.y=S(L,"y",Number),L}function M(W){W.width=document.documentElement.clientWidth,W.height=document.documentElement.clientHeight}function O(W){var L=W.getBoundingClientRect();W.width=L.width,W.height=L.height}function V(W){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=W,L}function z(W,L,K,Z,ae,ge,_e,be,Me){W.save(),W.translate(L,K),W.rotate(ge),W.scale(Z,ae),W.arc(0,0,1,_e,be,Me),W.restore()}function q(W){var L=W.angle*(Math.PI/180),K=W.spread*(Math.PI/180);return{x:W.x,y:W.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:W.startVelocity*.5+Math.random()*W.startVelocity,angle2D:-L+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:W.color,shape:W.shape,tick:0,totalTicks:W.ticks,decay:W.decay,drift:W.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:W.gravity*3,ovalScalar:.6,scalar:W.scalar,flat:W.flat}}function H(W,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.velocity*=L.decay,L.flat?(L.wobble=0,L.wobbleX=L.x+10*L.scalar,L.wobbleY=L.y+10*L.scalar,L.tiltSin=0,L.tiltCos=0,L.random=1):(L.wobble+=L.wobbleSpeed,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble),L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2);var K=L.tick++/L.totalTicks,Z=L.x+L.random*L.tiltCos,ae=L.y+L.random*L.tiltSin,ge=L.wobbleX+L.random*L.tiltCos,_e=L.wobbleY+L.random*L.tiltSin;if(W.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-K)+")",W.beginPath(),a&&L.shape.type==="path"&&typeof L.shape.path=="string"&&Array.isArray(L.shape.matrix))W.fill(ie(L.shape.path,L.shape.matrix,L.x,L.y,Math.abs(ge-Z)*.1,Math.abs(_e-ae)*.1,Math.PI/10*L.wobble));else if(L.shape.type==="bitmap"){var be=Math.PI/10*L.wobble,Me=Math.abs(ge-Z)*.1,oe=Math.abs(_e-ae)*.1,Ce=L.shape.bitmap.width*L.scalar,Pe=L.shape.bitmap.height*L.scalar,de=new DOMMatrix([Math.cos(be)*Me,Math.sin(be)*Me,-Math.sin(be)*oe,Math.cos(be)*oe,L.x,L.y]);de.multiplySelf(new DOMMatrix(L.shape.matrix));var $e=W.createPattern(h.transform(L.shape.bitmap),"no-repeat");$e.setTransform(de),W.globalAlpha=1-K,W.fillStyle=$e,W.fillRect(L.x-Ce/2,L.y-Pe/2,Ce,Pe),W.globalAlpha=1}else if(L.shape==="circle")W.ellipse?W.ellipse(L.x,L.y,Math.abs(ge-Z)*L.ovalScalar,Math.abs(_e-ae)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):z(W,L.x,L.y,Math.abs(ge-Z)*L.ovalScalar,Math.abs(_e-ae)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var we=Math.PI/2*3,et=4*L.scalar,st=8*L.scalar,Nt=L.x,hn=L.y,bt=5,ft=Math.PI/bt;bt--;)Nt=L.x+Math.cos(we)*st,hn=L.y+Math.sin(we)*st,W.lineTo(Nt,hn),we+=ft,Nt=L.x+Math.cos(we)*et,hn=L.y+Math.sin(we)*et,W.lineTo(Nt,hn),we+=ft;else W.moveTo(Math.floor(L.x),Math.floor(L.y)),W.lineTo(Math.floor(L.wobbleX),Math.floor(ae)),W.lineTo(Math.floor(ge),Math.floor(_e)),W.lineTo(Math.floor(Z),Math.floor(L.wobbleY));return W.closePath(),W.fill(),L.tick<L.totalTicks}function $(W,L,K,Z,ae){var ge=L.slice(),_e=W.getContext("2d"),be,Me,oe=f(function(Ce){function Pe(){be=Me=null,_e.clearRect(0,0,Z.width,Z.height),h.clear(),ae(),Ce()}function de(){r&&!(Z.width===i.width&&Z.height===i.height)&&(Z.width=W.width=i.width,Z.height=W.height=i.height),!Z.width&&!Z.height&&(K(W),Z.width=W.width,Z.height=W.height),_e.clearRect(0,0,Z.width,Z.height),ge=ge.filter(function($e){return H(_e,$e)}),ge.length?be=p.frame(de):Pe()}be=p.frame(de),Me=Pe});return{addFettis:function(Ce){return ge=ge.concat(Ce),oe},canvas:W,promise:oe,reset:function(){be&&p.cancel(be),Me&&Me()}}}function ve(W,L){var K=!W,Z=!!S(L||{},"resize"),ae=!1,ge=S(L,"disableForReducedMotion",Boolean),_e=o&&!!S(L||{},"useWorker"),be=_e?g():null,Me=K?M:O,oe=W&&be?!!W.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pe;function de(we,et,st){for(var Nt=S(we,"particleCount",P),hn=S(we,"angle",Number),bt=S(we,"spread",Number),ft=S(we,"startVelocity",Number),Ir=S(we,"decay",Number),Qa=S(we,"gravity",Number),ei=S(we,"drift",Number),ln=S(we,"colors",B),Ri=S(we,"ticks",Number),ro=S(we,"shapes"),$o=S(we,"scalar"),Br=!!S(we,"flat"),Ko=U(we),Yo=Nt,io=[],Fs=W.width*Ko.x,Vn=W.height*Ko.y;Yo--;)io.push(q({x:Fs,y:Vn,angle:hn,spread:bt,startVelocity:ft,color:ln[Yo%ln.length],shape:ro[k(0,ro.length)],ticks:Ri,decay:Ir,gravity:Qa,drift:ei,scalar:$o,flat:Br}));return Pe?Pe.addFettis(io):(Pe=$(W,io,Me,et,st),Pe.promise)}function $e(we){var et=ge||S(we,"disableForReducedMotion",Boolean),st=S(we,"zIndex",Number);if(et&&Ce)return f(function(ft){ft()});K&&Pe?W=Pe.canvas:K&&!W&&(W=V(st),document.body.appendChild(W)),Z&&!oe&&Me(W);var Nt={width:W.width,height:W.height};be&&!oe&&be.init(W),oe=!0,be&&(W.__confetti_initialized=!0);function hn(){if(be){var ft={getBoundingClientRect:function(){if(!K)return W.getBoundingClientRect()}};Me(ft),be.postMessage({resize:{width:ft.width,height:ft.height}});return}Nt.width=Nt.height=null}function bt(){Pe=null,Z&&(ae=!1,e.removeEventListener("resize",hn)),K&&W&&(document.body.contains(W)&&document.body.removeChild(W),W=null,oe=!1)}return Z&&!ae&&(ae=!0,e.addEventListener("resize",hn,!1)),be?be.fire(we,Nt,bt):de(we,Nt,bt)}return $e.reset=function(){be&&be.reset(),Pe&&Pe.reset()},$e}var Ee;function X(){return Ee||(Ee=ve(null,{useWorker:!0,resize:!0})),Ee}function ie(W,L,K,Z,ae,ge,_e){var be=new Path2D(W),Me=new Path2D;Me.addPath(be,new DOMMatrix(L));var oe=new Path2D;return oe.addPath(Me,new DOMMatrix([Math.cos(_e)*ae,Math.sin(_e)*ae,-Math.sin(_e)*ge,Math.cos(_e)*ge,K,Z])),oe}function fe(W){if(!a)throw new Error("path confetti are not supported in this browser");var L,K;typeof W=="string"?L=W:(L=W.path,K=W.matrix);var Z=new Path2D(L),ae=document.createElement("canvas"),ge=ae.getContext("2d");if(!K){for(var _e=1e3,be=_e,Me=_e,oe=0,Ce=0,Pe,de,$e=0;$e<_e;$e+=2)for(var we=0;we<_e;we+=2)ge.isPointInPath(Z,$e,we,"nonzero")&&(be=Math.min(be,$e),Me=Math.min(Me,we),oe=Math.max(oe,$e),Ce=Math.max(Ce,we));Pe=oe-be,de=Ce-Me;var et=10,st=Math.min(et/Pe,et/de);K=[st,0,0,st,-Math.round(Pe/2+be)*st,-Math.round(de/2+Me)*st]}return{type:"path",path:L,matrix:K}}function Te(W){var L,K=1,Z="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof W=="string"?L=W:(L=W.text,K="scalar"in W?W.scalar:K,ae="fontFamily"in W?W.fontFamily:ae,Z="color"in W?W.color:Z);var ge=10*K,_e=""+ge+"px "+ae,be=new OffscreenCanvas(ge,ge),Me=be.getContext("2d");Me.font=_e;var oe=Me.measureText(L),Ce=Math.ceil(oe.actualBoundingBoxRight+oe.actualBoundingBoxLeft),Pe=Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent),de=2,$e=oe.actualBoundingBoxLeft+de,we=oe.actualBoundingBoxAscent+de;Ce+=de+de,Pe+=de+de,be=new OffscreenCanvas(Ce,Pe),Me=be.getContext("2d"),Me.font=_e,Me.fillStyle=Z,Me.fillText(L,$e,we);var et=1/K;return{type:"bitmap",bitmap:be.transferToImageBitmap(),matrix:[et,0,0,et,-Ce*et/2,-Pe*et/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=ve,n.exports.shapeFromPath=fe,n.exports.shapeFromText=Te})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ww,!1);const uh=ww.exports;ww.exports.create;const iW=({type:t})=>(A.useEffect(()=>{t==="correct"&&uh({particleCount:100,spread:70,origin:{y:.6}})},[t]),I.jsx(Z7,{children:t&&I.jsxs(xi.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-6 rounded-2xl shadow-2xl flex flex-col items-center gap-4 ${t==="correct"?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:[t==="correct"?I.jsx(Xd,{size:48}):I.jsx(Ac,{size:48}),I.jsx("span",{className:"text-2xl font-bold",children:t==="correct"?"Excellent!":"Try Again"})]})})),oW=({isOpen:t,level:e,onClose:n})=>(A.useEffect(()=>{if(t){const i=Date.now()+3e3,o=()=>{uh({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#FFD700","#FFA500"]}),uh({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#FFD700","#FFA500"]}),Date.now()<i&&requestAnimationFrame(o)};o()}},[t]),t?I.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:I.jsx(xi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-indigo-900 to-purple-800 p-1 rounded-3xl shadow-2xl max-w-sm w-full",children:I.jsxs("div",{className:"bg-slate-900 rounded-[22px] p-8 text-center relative overflow-hidden",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),I.jsx(xi.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-6 inline-block p-4 bg-yellow-400/20 rounded-full text-yellow-400 border border-yellow-400/50",children:I.jsx(Tw,{size:64})}),I.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-wide",children:"Level Up!"}),I.jsxs("p",{className:"text-indigo-200 mb-8",children:["You reached Level ",I.jsx("span",{className:"text-yellow-400 font-bold text-xl",children:e})]}),I.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 text-slate-900 font-bold py-3 rounded-xl hover:brightness-110 transition-all active:scale-95",children:"Awesome!"})]})})}):null);var Rl=(t=>(t.MULTIPLE_CHOICE="MULTIPLE_CHOICE",t.TRUE_FALSE="TRUE_FALSE",t))(Rl||{});const Ll=["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.5-flash"],sW=[{id:"p1",title:"Blended Learning: A New Approach",topic:"Modern Education",estimatedTime:10,content:`
# Blended Learning: A New Approach

Blended learning is a way of studying that combines online video materials and traditional classroom methods. It requires the physical presence of both teacher and student, with some elements of student control over time, place, path, or pace.

In a blended learning course, students might attend a class taught by a teacher in a traditional classroom setting, while also independently completing online components of the course outside of the classroom. In this case, in-class time may be replaced by online learning experiences, and online learning would act as a complement to the in-class materials.

This approach allows for more personalized education. Teachers can use data from online tests to help students who are struggling. Meanwhile, students who master the material quickly can move on to more challenging tasks.
    `,questions:[{id:"q1_1",text:"What is the main definition of blended learning?",type:Rl.MULTIPLE_CHOICE,difficulty:"easy",options:[{id:"A",text:"Studying only through online videos."},{id:"B",text:"Traditional classroom methods without technology."},{id:"C",text:"A combination of online materials and traditional classroom methods."},{id:"D",text:"Homeschooling with a tutor."}],correctAnswerId:"C",explanation:'The text states that blended learning "combines online video materials and traditional classroom methods".'},{id:"q1_2",text:"In blended learning, students have no control over their learning pace.",type:Rl.TRUE_FALSE,difficulty:"medium",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text mentions "some elements of student control over time, place, path, or pace".'},{id:"q1_3",text:"How can teachers benefit from blended learning according to the text?",type:Rl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They can work fewer hours."},{id:"B",text:"They can use data to help struggling students."},{id:"C",text:"They do not need to prepare lesson plans."},{id:"D",text:"They can replace in-class time completely."}],correctAnswerId:"B",explanation:'The passage says: "Teachers can use data from online tests to help students who are struggling."'}]},{id:"p2",title:"Mobile Devices in the Classroom",topic:"Technology",estimatedTime:8,content:`
# Mobile Devices in the Classroom

For many years, schools banned mobile phones, regarding them as distractions. However, in the unit "New Ways to Learn", we explore how mobile devices can actually support education.

Smartphones and tablets provide instant access to the internet, allowing students to search for information, access digital textbooks, and use educational apps. Apps like Quizlet or Kahoot turn learning into a game, making it more engaging.

However, there are challenges. Not all students can afford expensive devices, leading to a digital divide. Furthermore, without proper rules, students might use devices for social media instead of learning. Therefore, strict guidelines are necessary for mobile learning to be effective.
    `,questions:[{id:"q2_1",text:"Schools have always encouraged the use of mobile phones.",type:Rl.TRUE_FALSE,difficulty:"easy",options:[{id:"true",text:"True"},{id:"false",text:"False"}],correctAnswerId:"false",explanation:'The text says: "For many years, schools banned mobile phones, regarding them as distractions."'},{id:"q2_2",text:"What is mentioned as a benefit of mobile devices?",type:Rl.MULTIPLE_CHOICE,difficulty:"medium",options:[{id:"A",text:"They prevent students from playing games."},{id:"B",text:"They allow instant access to information and educational apps."},{id:"C",text:"They are cheap for everyone."},{id:"D",text:"They replace teachers completely."}],correctAnswerId:"B",explanation:'The text states they "provide instant access to the internet... and use educational apps".'},{id:"q2_3",text:"What is a major challenge mentioned in the text?",type:Rl.MULTIPLE_CHOICE,difficulty:"hard",options:[{id:"A",text:"Digital divide due to cost."},{id:"B",text:"Lack of electricity."},{id:"C",text:"Teachers do not know how to use phones."},{id:"D",text:"Screens are too small."}],correctAnswerId:"A",explanation:'The text mentions: "Not all students can afford expensive devices, leading to a digital divide."'}]}],aW={totalPoints:0,level:1,completedPassages:[],streakDays:1,lastActiveDate:new Date().toISOString(),accuracy:0,totalQuestionsAnswered:0,weakTopics:[]},q_={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},H3=`
# APPS OF THE FUTURE

How many times a day do you tap the icon of your favourite social media site or play a game on your smartphone? When your parents were young, apps didnt even exist, but now we cant imagine our lives without them. So what will apps be like in the future?

**A new way to learn**

Apps are being used in education. They are useful because students can use them anytime, anywhere and on any device. They present information in bite-sized chunks, which people find easy to understand and remember. Lessons can also be turned into games, making learning fun! Soon, apps will be the new normal.

**Augmented Reality (AR)**

Inside AR apps, the real world is mixed with the digital one. These apps are downloaded and teachers use them to make learning more interesting. These apps capture students attention and help them concentrate and interact with their lessons. Students can experience the material and become more interested in the subject. At the same time, they can explore the topic taught at their own pace.

In the future, apps will be able to do a lot of things for us. Some people think this will have a lot of benefits, others think it will make us lazy or that we will forget how to do things for ourselves. Whatever your opinion on modern technology, one thing is certain: the apps of the future will change our lives.
`,Ic=[{id:"lq1",question:"The first apps appeared over 50 years ago.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"DS"},{id:"lq2",question:"You can only use educational apps on smartphones.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq7",question:"How do educational apps present information?",options:[{id:"A",text:"In long academic texts"},{id:"B",text:"Through live video lessons"},{id:"C",text:"In bite-sized chunks"},{id:"D",text:"In printed worksheets"}],correctAnswerId:"C"},{id:"lq3",question:"Some apps already use augmented reality.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"T"},{id:"lq4",question:"AR apps make lessons boring.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq5",question:"Everyone believes apps will make us lazy.",options:[{id:"T",text:"True"},{id:"F",text:"False"},{id:"DS",text:"Doesn't say"}],correctAnswerId:"F"},{id:"lq8",question:"According to the text, what is certain about the apps of the future?",options:[{id:"A",text:"They will completely replace teachers."},{id:"B",text:"They will disappear in the future."},{id:"C",text:"They will change our lives."},{id:"D",text:"They will make everyone lazy."}],correctAnswerId:"C"},{id:"lq6",question:"The authors purpose is to ",options:[{id:"A",text:"give us information about how apps are developing."},{id:"B",text:"explain predictions about future technology in education."},{id:"C",text:"inform us how to use the apps more efficiently."},{id:"D",text:"give us tips on choosing apps."}],correctAnswerId:"A"}],lW=Object.prototype.toString,uW=t=>lW.call(t)==="[object Error]",cW=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function fW(t){if(!(t&&uW(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:cW.has(n)}function dW(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Um(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class G3 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function hW(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function dN(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function pW({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var E,x,w,S;const o=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(o instanceof G3)throw o.originalError;const a=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,u=i.maxRetryTime??Number.POSITIVE_INFINITY,c=Object.freeze({error:o,attemptNumber:e,retriesLeft:a,retriesConsumed:n});if(await i.onFailedAttempt(c),dN(r,u)<=0)throw o;const f=await i.shouldConsumeRetry(c),h=dN(r,u);if(h<=0||a<=0)throw o;if(o instanceof TypeError&&!fW(o)){if(f)throw o;return(E=i.signal)==null||E.throwIfAborted(),!1}if(!await i.shouldRetry(c))throw o;if(!f)return(x=i.signal)==null||x.throwIfAborted(),!1;const p=hW(n,i),g=Math.min(p,h);return(w=i.signal)==null||w.throwIfAborted(),g>0&&await new Promise((P,k)=>{var F,U;const D=()=>{var M;clearTimeout(B),(M=i.signal)==null||M.removeEventListener("abort",D),k(i.signal.reason)},B=setTimeout(()=>{var M;(M=i.signal)==null||M.removeEventListener("abort",D),P()},g);i.unref&&((F=B.unref)==null||F.call(B)),(U=i.signal)==null||U.addEventListener("abort",D,{once:!0})}),(S=i.signal)==null||S.throwIfAborted(),!0}async function mW(t,e={}){var o,a,u;if(e={...e},dW(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Um("factor",e.factor,{min:0,allowInfinity:!1}),Um("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Um("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Um("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(o=e.signal)==null||o.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(a=e.signal)==null||a.throwIfAborted();const c=await t(n);return(u=e.signal)==null||u.throwIfAborted(),c}catch(c){await pW({error:c,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var gW={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yW,vW;function bW(){return{geminiUrl:yW,vertexUrl:vW}}function _W(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=bW();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ms{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];v(h,e.slice(o+1),n[f])}else for(const f of c)v(f,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function EW(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}ax(t,i,o,0,a)}}function ax(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),u=t;if(a in u&&Array.isArray(u[a]))for(const c of u[a])ax(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,u=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=a[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);v(a,p,h)}for(const f of u)delete a[f]}}else{const a=t;o in a&&ax(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TW(t){const e={},n=y(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function xW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],wW(a)),e}function SW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],AW(a)),e}function wW(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>CW(a))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function AW(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>IW(a))),v(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function CW(t){const e={},n=y(t,["video"]);return n!=null&&v(e,["video"],OW(n)),e}function IW(t){const e={},n=y(t,["_self"]);return n!=null&&v(e,["video"],kW(n)),e}function PW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function RW(t){const e={},n=y(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function MW(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],NW(a)),e}function NW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function $3(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],DW(a)),e}function DW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function OW(t){const e={},n=y(t,["uri"]);n!=null&&v(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Aw(r));const i=y(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function kW(t){const e={},n=y(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Aw(r));const i=y(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hN||(hN={}));var pN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(pN||(pN={}));var mN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(mN||(mN={}));var wa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wa||(wa={}));var gN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gN||(gN={}));var yN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yN||(yN={}));var vN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vN||(vN={}));var bN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bN||(bN={}));var _N;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_N||(_N={}));var EN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(EN||(EN={}));var TN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(TN||(TN={}));var xN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(xN||(xN={}));var SN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(SN||(SN={}));var wN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wN||(wN={}));var AN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(AN||(AN={}));var CN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(CN||(CN={}));var IN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(IN||(IN={}));var PN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(PN||(PN={}));var RN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(RN||(RN={}));var MN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(MN||(MN={}));var NN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(NN||(NN={}));var zg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(zg||(zg={}));var DN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DN||(DN={}));var ON;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ON||(ON={}));var kN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kN||(kN={}));var lx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lx||(lx={}));var LN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(LN||(LN={}));var VN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(VN||(VN={}));var ux;(function(t){t.COLLECTION="COLLECTION"})(ux||(ux={}));var UN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(UN||(UN={}));var BN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BN||(BN={}));var FN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(FN||(FN={}));var jN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jN||(jN={}));var zN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(zN||(zN={}));var qN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qN||(qN={}));var HN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(HN||(HN={}));var GN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(GN||(GN={}));var $N;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($N||($N={}));var KN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(KN||(KN={}));var YN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(YN||(YN={}));var WN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(WN||(WN={}));var JN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JN||(JN={}));var XN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(XN||(XN={}));var QN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(QN||(QN={}));var ZN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ZN||(ZN={}));var eD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(eD||(eD={}));var tD;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tD||(tD={}));var nD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(nD||(nD={}));var rD;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rD||(rD={}));var iD;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(iD||(iD={}));var oD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oD||(oD={}));var sD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sD||(sD={}));var aD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(aD||(aD={}));var lD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lD||(lD={}));var uD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(uD||(uD={}));var cD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(cD||(cD={}));var Ec;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ec||(Ec={}));class cx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ad{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[E,x]of Object.entries(g))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(E);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,E]of Object.entries(p))g!=="inlineData"&&(E!==null||E!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class fD{}class dD{}class LW{}class VW{}class UW{}class BW{}class hD{}class pD{}class mD{}class FW{}class qg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qg;let i;const o=e;return n?i=SW(o):i=xW(o),Object.assign(r,i),r}}class gD{}class yD{}class vD{}class bD{}class jW{}class zW{}class qW{}class Cw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Cw,o=MW(e);return Object.assign(r,o),r}}class HW{}class GW{}class $W{}class KW{}class _D{}class YW{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class WW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Iw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Iw,o=$3(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function K3(t,e){const n=pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Y3(t){return Array.isArray(t)?t.map(e=>Hg(e)):[Hg(t)]}function Hg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function W3(t){const e=Hg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J3(t){const e=Hg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ED(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function X3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ED(e)):[ED(t)]}function fx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TD(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xD(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pr(t){if(t==null)throw new Error("ContentUnion is required");return fx(t)?t:{role:"user",parts:X3(t)}}function Pw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=pr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=pr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pr(n)):[pr(e)]}function Si(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TD(t)||xD(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pr(t)]}const e=[],n=[],r=fx(t[0]);for(const i of t){const o=fx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(TD(i)||xD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:X3(n)}),e}function JW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(wa).includes(n[0].toUpperCase())?n[0].toUpperCase():wa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(wa).includes(r.toUpperCase())?r.toUpperCase():wa.TYPE_UNSPECIFIED})}}function Pc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&JW(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(wa).includes(u.toUpperCase())?u.toUpperCase():wa.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Pc(u);else if(r.includes(a)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Pc(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(u))c[f]=Pc(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Rw(t){return Pc(t)}function Mw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function rf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pc(e.response));return t}function of(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function XW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ns(t,e){if(typeof e!="string")throw new Error("name must be a string");return XW(t,e,"cachedContents")}function Q3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $a(t){return Aw(t)}function QW(t){return t!=null&&typeof t=="object"&&"name"in t}function ZW(t){return t!=null&&typeof t=="object"&&"video"in t}function eJ(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z3(t){var e;let n;if(QW(t)&&(n=t.name),!(eJ(t)&&(n=t.uri,n===void 0))&&!(ZW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tB(t){for(const e of["models","tunedModels","publisherModels"])if(tJ(t,e))return t[e];return[]}function tJ(t,e){return t!==null&&typeof t=="object"&&e in t}function nJ(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function rJ(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=nJ(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function nB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iJ(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function sf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oJ(t){const e={},n=y(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>BJ(a))),v(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["inlinedEmbedContentResponses"],o)}return e}function sJ(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function aJ(t){const e={},n=y(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function bg(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&v(e,["state"],iB(i));const o=y(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const a=y(t,["metadata","endTime"]);a!=null&&v(e,["endTime"],a);const u=y(t,["metadata","updateTime"]);u!=null&&v(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&v(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&v(e,["dest"],oJ(rB(f))),e}function dx(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=y(t,["state"]);i!=null&&v(e,["state"],iB(i));const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["createTime"]);a!=null&&v(e,["createTime"],a);const u=y(t,["startTime"]);u!=null&&v(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&v(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&v(e,["src"],lJ(p));const g=y(t,["outputConfig"]);g!=null&&v(e,["dest"],sJ(rB(g)));const E=y(t,["completionStats"]);return E!=null&&v(e,["completionStats"],E),e}function lJ(t){const e={},n=y(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function uJ(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>UJ(t,a))),v(n,["requests","requests"],o)}return n}function cJ(t){const e={},n=y(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function fJ(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function dJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function hJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function pJ(t){const e={},n=y(t,["content"]);n!=null&&v(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],mJ(r));const i=y(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=y(t,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const u=y(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&v(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(E=>E)),v(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&v(e,["urlContextMetadata"],p),e}function mJ(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function oB(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$J(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function gJ(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function yJ(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],aJ(iJ(i))),n}function SD(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],uJ(t,nB(t,i)));const o=y(e,["config"]);return o!=null&&gJ(o,n),n}function vJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["inputConfig"],cJ(nB(t,i)));const o=y(e,["config"]);return o!=null&&yJ(o,n),n}function bJ(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function _J(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&v(n,["batch","inputConfig"],CJ(t,i));const o=y(e,["config"]);return o!=null&&bJ(o,n),n}function EJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function TJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function xJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function SJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);return o!=null&&v(e,["error"],o),e}function wJ(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=Pw(t,r);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(v(n,["_self"],AJ(i,n)),EW(n,{"requests[].*":"requests[].request.*"})),n}function AJ(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CJ(t,e){const n={},r=y(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],wJ(t,i)),n}function IJ(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function PJ(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RJ(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MJ(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],oB(pr(i)));const o=y(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=y(e,["topP"]);a!=null&&v(r,["topP"],a);const u=y(e,["topK"]);u!=null&&v(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const E=y(e,["presencePenalty"]);E!=null&&v(r,["presencePenalty"],E);const x=y(e,["frequencyPenalty"]);x!=null&&v(r,["frequencyPenalty"],x);const w=y(e,["seed"]);w!=null&&v(r,["seed"],w);const S=y(e,["responseMimeType"]);S!=null&&v(r,["responseMimeType"],S);const P=y(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],Rw(P));const k=y(e,["responseJsonSchema"]);if(k!=null&&v(r,["responseJsonSchema"],k),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=y(e,["safetySettings"]);if(n!==void 0&&D!=null){let $=D;Array.isArray($)&&($=$.map(ve=>KJ(ve))),v(n,["safetySettings"],$)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let $=of(B);Array.isArray($)&&($=$.map(ve=>WJ(rf(ve)))),v(n,["tools"],$)}const F=y(e,["toolConfig"]);if(n!==void 0&&F!=null&&v(n,["toolConfig"],YJ(F)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&v(n,["cachedContent"],Ns(t,U));const M=y(e,["responseModalities"]);M!=null&&v(r,["responseModalities"],M);const O=y(e,["mediaResolution"]);O!=null&&v(r,["mediaResolution"],O);const V=y(e,["speechConfig"]);if(V!=null&&v(r,["speechConfig"],Mw(V)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=y(e,["thinkingConfig"]);z!=null&&v(r,["thinkingConfig"],z);const q=y(e,["imageConfig"]);q!=null&&v(r,["imageConfig"],VJ(q));const H=y(e,["enableEnhancedCivicAnswers"]);if(H!=null&&v(r,["enableEnhancedCivicAnswers"],H),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function NJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>pJ(f))),v(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=y(t,["responseId"]);a!=null&&v(e,["responseId"],a);const u=y(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function DJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function OJ(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],sf(t,r)),n}function kJ(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function LJ(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function VJ(t){const e={},n=y(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function UJ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["request","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Si(i);Array.isArray(u)&&(u=u.map(c=>oB(c))),v(n,["request","contents"],u)}const o=y(e,["metadata"]);o!=null&&v(n,["metadata"],o);const a=y(e,["config"]);return a!=null&&v(n,["request","generationConfig"],MJ(t,a,y(n,["request"],{}))),n}function BJ(t){const e={},n=y(t,["response"]);n!=null&&v(e,["response"],NJ(n));const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["error"]);return i!=null&&v(e,["error"],i),e}function FJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jJ(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function zJ(t){const e={},n=y(t,["config"]);return n!=null&&FJ(n,e),e}function qJ(t){const e={},n=y(t,["config"]);return n!=null&&jJ(n,e),e}function HJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>bg(a))),v(e,["batchJobs"],o)}return e}function GJ(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dx(a))),v(e,["batchJobs"],o)}return e}function $J(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],IJ(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],PJ(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],fJ(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function KJ(t){const e={},n=y(t,["category"]);if(n!=null&&v(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function YJ(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],RJ(r)),e}function WJ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],kJ(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],LJ(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _s;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(_s||(_s={}));class uu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JJ extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=SD(this.apiClient,e),r=n._url,i=Ae("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const E=p.request;E.systemInstruction=g,p.request=E}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=vJ(this.apiClient,e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>dx(h))}else{const f=SD(this.apiClient,e);return u=Ae("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>bg(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_J(this.apiClient,e);return o=Ae("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>bg(c))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=OJ(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>dx(h))}else{const f=DJ(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>bg(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=hJ(this.apiClient,e);a=Ae("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=dJ(this.apiClient,e);a=Ae("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=qJ(e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=GJ(h),g=new _D;return Object.assign(g,p),g})}else{const f=zJ(e);return u=Ae("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=HJ(h),g=new _D;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=TJ(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>SJ(h))}else{const f=EJ(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>xJ(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XJ(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function wD(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_X(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function QJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let h=Si(a);Array.isArray(h)&&(h=h.map(p=>wD(p))),v(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],wD(pr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>TX(p))),v(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],EX(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ZJ(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let p=Si(a);Array.isArray(p)&&(p=p.map(g=>g)),v(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],pr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>xX(g))),v(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function eX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],K3(t,r));const i=y(e,["config"]);return i!=null&&QJ(i,n),n}function tX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["model"],K3(t,r));const i=y(e,["config"]);return i!=null&&ZJ(i,n),n}function nX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function rX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function iX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function oX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function sX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function aX(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lX(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&v(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function uX(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&v(e,["response"],a);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function cX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function fX(t,e){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],Ns(t,r)),n}function dX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function hX(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function pX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function mX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function gX(t){const e={},n=y(t,["config"]);return n!=null&&pX(n,e),e}function yX(t){const e={},n=y(t,["config"]);return n!=null&&mX(n,e),e}function vX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function bX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function _X(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],sX(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],aX(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],XJ(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function EX(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],lX(r)),e}function TX(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],dX(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],hX(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function xX(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>uX(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function SX(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function wX(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function AX(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ns(t,r));const i=y(e,["config"]);return i!=null&&SX(i,n),n}function CX(t,e){const n={},r=y(e,["name"]);r!=null&&v(n,["_url","name"],Ns(t,r));const i=y(e,["config"]);return i!=null&&wX(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IX extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=tX(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=eX(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=fX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=cX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=rX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=oX(h),g=new vD;return Object.assign(g,p),g})}else{const f=nX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=iX(h),g=new vD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=CX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=AX(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=yX(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=bX(h),g=new bD;return Object.assign(g,p),g})}else{const f=gX(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=vX(h),g=new bD;return Object.assign(g,p),g})}}}function Gg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t){return this instanceof He?(this.v=t,this):new He(t)}function Wi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(x){return Promise.resolve(x).then(E,p)}}function u(E,x){r[E]&&(i[E]=function(w){return new Promise(function(S,P){o.push([E,w,S,P])>1||c(E,w)})},x&&(i[E]=x(i[E])))}function c(E,x){try{f(r[E](x))}catch(w){g(o[0][3],w)}}function f(E){E.value instanceof He?Promise.resolve(E.value.v).then(h,p):g(o[0][2],E)}function h(E){c("next",E)}function p(E){c("throw",E)}function g(E,x){E(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ji(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof AD=="function"?AD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PX(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sB(n)}function sB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function RX(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function CD(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!sB(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class MX{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new NX(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class NX{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),RX(o)}async sendMessage(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,f=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const E=f?[f]:[];this.recordHistory(r,E,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=pr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?CD(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Wi(this,arguments,function*(){var i,o,a,u,c,f;const h=[];try{for(var p=!0,g=Ji(e),E;E=yield He(g.next()),i=E.done,!i;p=!0){u=E.value,p=!1;const x=u;if(PX(x)){const w=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;w!==void 0&&h.push(w)}yield yield He(x)}}catch(x){o={error:x}}finally{try{!p&&!i&&(a=g.return)&&(yield He(a.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...CD(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ch extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ch.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DX(t){const e={},n=y(t,["file"]);return n!=null&&v(e,["file"],n),e}function OX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function kX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],Z3(n)),e}function LX(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function VX(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","file"],Z3(n)),e}function UX(t){const e={},n=y(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function BX(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function FX(t){const e={},n=y(t,["config"]);return n!=null&&BX(n,e),e}function jX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["files"],o)}return e}function zX(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qX extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FX(e);return o=Ae("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=jX(c),h=new HW;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DX(e);return o=Ae("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=OX(c),h=new GW;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VX(e);return o=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kX(e);return o=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=LX(c),h=new $W;return Object.assign(h,f),h})}}async registerFilesInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=UX(e);return o=Ae("files:register",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zX(c),h=new KW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _g(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function HX(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sQ(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function GX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function $X(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KX(t){const e={},n=y(t,["description"]);n!=null&&v(e,["description"],n);const r=y(t,["name"]);r!=null&&v(e,["name"],r);const i=y(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=y(t,["response"]);a!=null&&v(e,["response"],a);const u=y(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function YX(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=y(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=y(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&v(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&v(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&v(e,["responseLogprobs"],g);const E=y(t,["responseMimeType"]);E!=null&&v(e,["responseMimeType"],E);const x=y(t,["responseModalities"]);x!=null&&v(e,["responseModalities"],x);const w=y(t,["responseSchema"]);w!=null&&v(e,["responseSchema"],w);const S=y(t,["routingConfig"]);S!=null&&v(e,["routingConfig"],S);const P=y(t,["seed"]);P!=null&&v(e,["seed"],P);const k=y(t,["speechConfig"]);k!=null&&v(e,["speechConfig"],k);const D=y(t,["stopSequences"]);D!=null&&v(e,["stopSequences"],D);const B=y(t,["temperature"]);B!=null&&v(e,["temperature"],B);const F=y(t,["thinkingConfig"]);F!=null&&v(e,["thinkingConfig"],F);const U=y(t,["topK"]);U!=null&&v(e,["topK"],U);const M=y(t,["topP"]);if(M!=null&&v(e,["topP"],M),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function WX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function JX(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function XX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Nw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],HX(pr(x)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let U=of(w);Array.isArray(U)&&(U=U.map(M=>lQ(rf(M)))),v(e,["setup","tools"],U)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&v(e,["setup","sessionResumption"],aQ(S));const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const k=y(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&v(e,["setup","outputAudioTranscription"],k);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function QX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],YX(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Nw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],pr(x));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let M=of(w);Array.isArray(M)&&(M=M.map(O=>uQ(rf(O)))),v(e,["setup","tools"],M)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&v(e,["setup","sessionResumption"],S);const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const k=y(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&v(e,["setup","outputAudioTranscription"],k);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);e!==void 0&&F!=null&&v(e,["setup","proactivity"],F);const U=y(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&v(e,["setup","explicitVadSignal"],U),n}function ZX(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],XX(i,n)),n}function eQ(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],QX(i,n)),n}function tQ(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function nQ(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function rQ(t){const e={},n=y(t,["media"]);if(n!=null){let f=Y3(n);Array.isArray(f)&&(f=f.map(h=>_g(h))),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],_g(J3(r)));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],_g(W3(o)));const a=y(t,["text"]);a!=null&&v(e,["text"],a);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function iQ(t){const e={},n=y(t,["media"]);if(n!=null){let f=Y3(n);Array.isArray(f)&&(f=f.map(h=>h)),v(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&v(e,["audio"],J3(r));const i=y(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&v(e,["video"],W3(o));const a=y(t,["text"]);a!=null&&v(e,["text"],a);const u=y(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function oQ(t){const e={},n=y(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const a=y(t,["usageMetadata"]);a!=null&&v(e,["usageMetadata"],cQ(a));const u=y(t,["goAway"]);u!=null&&v(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);c!=null&&v(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);f!=null&&v(e,["voiceActivityDetectionSignal"],f);const h=y(t,["voiceActivity"]);return h!=null&&v(e,["voiceActivity"],fQ(h)),e}function sQ(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],GX(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],$X(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],_g(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function aQ(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lQ(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],WX(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],JX(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function uQ(t){const e={},n=y(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>KX(g))),v(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function cQ(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const a=y(t,["thoughtsTokenCount"]);a!=null&&v(e,["thoughtsTokenCount"],a);const u=y(t,["totalTokenCount"]);u!=null&&v(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["promptTokensDetails"],E)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["cacheTokensDetails"],E)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["responseTokensDetails"],E)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(x=>x)),v(e,["toolUsePromptTokensDetails"],E)}const g=y(t,["trafficType"]);return g!=null&&v(e,["trafficType"],g),e}function fQ(t){const e={},n=y(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dQ(t,e){const n={},r=y(t,["data"]);if(r!=null&&v(n,["data"],r),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function hQ(t,e){const n={},r=y(t,["content"]);r!=null&&v(n,["content"],r);const i=y(t,["citationMetadata"]);i!=null&&v(n,["citationMetadata"],pQ(i));const o=y(t,["tokenCount"]);o!=null&&v(n,["tokenCount"],o);const a=y(t,["finishReason"]);a!=null&&v(n,["finishReason"],a);const u=y(t,["avgLogprobs"]);u!=null&&v(n,["avgLogprobs"],u);const c=y(t,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const f=y(t,["index"]);f!=null&&v(n,["index"],f);const h=y(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const p=y(t,["safetyRatings"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(x=>x)),v(n,["safetyRatings"],E)}const g=y(t,["urlContextMetadata"]);return g!=null&&v(n,["urlContextMetadata"],g),n}function pQ(t,e){const n={},r=y(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["citations"],i)}return n}function mQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let a=Si(o);Array.isArray(a)&&(a=a.map(u=>u)),v(r,["contents"],a)}return r}function gQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(n,["tokensInfo"],o)}return n}function yQ(t,e){const n={},r=y(t,["values"]);r!=null&&v(n,["values"],r);const i=y(t,["statistics"]);return i!=null&&v(n,["statistics"],vQ(i)),n}function vQ(t,e){const n={},r=y(t,["truncated"]);r!=null&&v(n,["truncated"],r);const i=y(t,["token_count"]);return i!=null&&v(n,["tokenCount"],i),n}function fv(t,e){const n={},r=y(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>CZ(a))),v(n,["parts"],o)}const i=y(t,["role"]);return i!=null&&v(n,["role"],i),n}function bQ(t,e){const n={},r=y(t,["controlType"]);r!=null&&v(n,["controlType"],r);const i=y(t,["enableControlImageComputation"]);return i!=null&&v(n,["computeControl"],i),n}function _Q(t,e){const n={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function EQ(t,e,n){const r={},i=y(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],pr(i));const o=y(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>cB(c))),v(e,["tools"],u)}const a=y(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],dZ(a)),r}function TQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(c=>fv(c))),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&_Q(a),r}function xQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&EQ(a,r),r}function SQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);i!=null&&v(n,["totalTokens"],i);const o=y(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function wQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);return i!=null&&v(n,["totalTokens"],i),n}function AQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function CQ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function IQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function PQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function RQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const x=y(t,["language"]);e!==void 0&&x!=null&&v(e,["parameters","language"],x);const w=y(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S);const P=y(t,["addWatermark"]);e!==void 0&&P!=null&&v(e,["parameters","addWatermark"],P);const k=y(t,["labels"]);e!==void 0&&k!=null&&v(e,["labels"],k);const D=y(t,["editMode"]);e!==void 0&&D!=null&&v(e,["parameters","editMode"],D);const B=y(t,["baseSteps"]);return e!==void 0&&B!=null&&v(e,["parameters","editConfig","baseSteps"],B),r}function MQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>DZ(f))),v(r,["instances[0]","referenceImages"],c)}const u=y(e,["config"]);return u!=null&&RQ(u,r),r}function NQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dv(a))),v(n,["generatedImages"],o)}return n}function DQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["requests[]","title"],o);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function OQ(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&v(e,["instances[]","title"],o);const a=y(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const u=y(t,["mimeType"]);e!==void 0&&u!=null&&v(e,["instances[]","mimeType"],u);const c=y(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),r}function kQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let c=Pw(t,o);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["requests[]","content"],c)}const a=y(e,["config"]);a!=null&&DQ(a,r);const u=y(e,["model"]);return u!==void 0&&v(r,["requests[]","model"],pt(t,u)),r}function LQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Pw(t,o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["instances[]","content"],u)}const a=y(e,["config"]);return a!=null&&OQ(a,r),r}function VQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),v(n,["embeddings"],a)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function UQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>yQ(u))),v(n,["embeddings"],a)}const o=y(t,["metadata"]);return o!=null&&v(n,["metadata"],o),n}function BQ(t,e){const n={},r=y(t,["endpoint"]);r!=null&&v(n,["name"],r);const i=y(t,["deployedModelId"]);return i!=null&&v(n,["deployedModelId"],i),n}function FQ(t,e){const n={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["fileUri"]);r!=null&&v(n,["fileUri"],r);const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function jQ(t,e){const n={},r=y(t,["id"]);r!=null&&v(n,["id"],r);const i=y(t,["args"]);i!=null&&v(n,["args"],i);const o=y(t,["name"]);if(o!=null&&v(n,["name"],o),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function zQ(t,e){const n={},r=y(t,["allowedFunctionNames"]);r!=null&&v(n,["allowedFunctionNames"],r);const i=y(t,["mode"]);if(i!=null&&v(n,["mode"],i),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function qQ(t,e){const n={},r=y(t,["description"]);r!=null&&v(n,["description"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["parameters"]);o!=null&&v(n,["parameters"],o);const a=y(t,["parametersJsonSchema"]);a!=null&&v(n,["parametersJsonSchema"],a);const u=y(t,["response"]);u!=null&&v(n,["response"],u);const c=y(t,["responseJsonSchema"]);if(c!=null&&v(n,["responseJsonSchema"],c),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function HQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],fv(pr(o)));const a=y(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const x=y(e,["presencePenalty"]);x!=null&&v(i,["presencePenalty"],x);const w=y(e,["frequencyPenalty"]);w!=null&&v(i,["frequencyPenalty"],w);const S=y(e,["seed"]);S!=null&&v(i,["seed"],S);const P=y(e,["responseMimeType"]);P!=null&&v(i,["responseMimeType"],P);const k=y(e,["responseSchema"]);k!=null&&v(i,["responseSchema"],Rw(k));const D=y(e,["responseJsonSchema"]);if(D!=null&&v(i,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=y(e,["safetySettings"]);if(n!==void 0&&B!=null){let ve=B;Array.isArray(ve)&&(ve=ve.map(Ee=>OZ(Ee))),v(n,["safetySettings"],ve)}const F=y(e,["tools"]);if(n!==void 0&&F!=null){let ve=of(F);Array.isArray(ve)&&(ve=ve.map(Ee=>jZ(rf(Ee)))),v(n,["tools"],ve)}const U=y(e,["toolConfig"]);if(n!==void 0&&U!=null&&v(n,["toolConfig"],FZ(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=y(e,["cachedContent"]);n!==void 0&&M!=null&&v(n,["cachedContent"],Ns(t,M));const O=y(e,["responseModalities"]);O!=null&&v(i,["responseModalities"],O);const V=y(e,["mediaResolution"]);V!=null&&v(i,["mediaResolution"],V);const z=y(e,["speechConfig"]);if(z!=null&&v(i,["speechConfig"],Mw(z)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=y(e,["thinkingConfig"]);q!=null&&v(i,["thinkingConfig"],q);const H=y(e,["imageConfig"]);H!=null&&v(i,["imageConfig"],yZ(H));const $=y(e,["enableEnhancedCivicAnswers"]);if($!=null&&v(i,["enableEnhancedCivicAnswers"],$),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function GQ(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],pr(o));const a=y(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=y(e,["topP"]);u!=null&&v(i,["topP"],u);const c=y(e,["topK"]);c!=null&&v(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&v(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&v(i,["responseLogprobs"],g);const E=y(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const x=y(e,["presencePenalty"]);x!=null&&v(i,["presencePenalty"],x);const w=y(e,["frequencyPenalty"]);w!=null&&v(i,["frequencyPenalty"],w);const S=y(e,["seed"]);S!=null&&v(i,["seed"],S);const P=y(e,["responseMimeType"]);P!=null&&v(i,["responseMimeType"],P);const k=y(e,["responseSchema"]);k!=null&&v(i,["responseSchema"],Rw(k));const D=y(e,["responseJsonSchema"]);D!=null&&v(i,["responseJsonSchema"],D);const B=y(e,["routingConfig"]);B!=null&&v(i,["routingConfig"],B);const F=y(e,["modelSelectionConfig"]);F!=null&&v(i,["modelConfig"],F);const U=y(e,["safetySettings"]);if(n!==void 0&&U!=null){let fe=U;Array.isArray(fe)&&(fe=fe.map(Te=>Te)),v(n,["safetySettings"],fe)}const M=y(e,["tools"]);if(n!==void 0&&M!=null){let fe=of(M);Array.isArray(fe)&&(fe=fe.map(Te=>cB(rf(Te)))),v(n,["tools"],fe)}const O=y(e,["toolConfig"]);n!==void 0&&O!=null&&v(n,["toolConfig"],O);const V=y(e,["labels"]);n!==void 0&&V!=null&&v(n,["labels"],V);const z=y(e,["cachedContent"]);n!==void 0&&z!=null&&v(n,["cachedContent"],Ns(t,z));const q=y(e,["responseModalities"]);q!=null&&v(i,["responseModalities"],q);const H=y(e,["mediaResolution"]);H!=null&&v(i,["mediaResolution"],H);const $=y(e,["speechConfig"]);$!=null&&v(i,["speechConfig"],Mw($));const ve=y(e,["audioTimestamp"]);ve!=null&&v(i,["audioTimestamp"],ve);const Ee=y(e,["thinkingConfig"]);Ee!=null&&v(i,["thinkingConfig"],Ee);const X=y(e,["imageConfig"]);if(X!=null&&v(i,["imageConfig"],vZ(X)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ie=y(e,["modelArmorConfig"]);return n!==void 0&&ie!=null&&v(n,["modelArmorConfig"],ie),i}function ID(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(c=>fv(c))),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&v(r,["generationConfig"],HQ(t,a,r)),r}function PD(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(c=>c)),v(r,["contents"],u)}const a=y(e,["config"]);return a!=null&&v(r,["generationConfig"],GQ(t,a,r)),r}function RD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>hQ(h))),v(n,["candidates"],f)}const o=y(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const a=y(t,["promptFeedback"]);a!=null&&v(n,["promptFeedback"],a);const u=y(t,["responseId"]);u!=null&&v(n,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function MD(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),v(n,["candidates"],h)}const o=y(t,["createTime"]);o!=null&&v(n,["createTime"],o);const a=y(t,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const u=y(t,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=y(t,["responseId"]);c!=null&&v(n,["responseId"],c);const f=y(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function $Q(t,e,n){const r={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=y(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const h=y(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const p=y(t,["language"]);e!==void 0&&p!=null&&v(e,["parameters","language"],p);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const E=y(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&v(e,["parameters","outputOptions","compressionQuality"],E),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(t,["imageSize"]);if(e!==void 0&&x!=null&&v(e,["parameters","sampleImageSize"],x),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function KQ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&v(e,["parameters","includeSafetyAttributes"],g);const E=y(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const x=y(t,["language"]);e!==void 0&&x!=null&&v(e,["parameters","language"],x);const w=y(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S);const P=y(t,["addWatermark"]);e!==void 0&&P!=null&&v(e,["parameters","addWatermark"],P);const k=y(t,["labels"]);e!==void 0&&k!=null&&v(e,["labels"],k);const D=y(t,["imageSize"]);e!==void 0&&D!=null&&v(e,["parameters","sampleImageSize"],D);const B=y(t,["enhancePrompt"]);return e!==void 0&&B!=null&&v(e,["parameters","enhancePrompt"],B),r}function YQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["config"]);return a!=null&&$Q(a,r),r}function WQ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["config"]);return a!=null&&KQ(a,r),r}function JQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>lZ(u))),v(n,["generatedImages"],a)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],lB(o)),n}function XQ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>dv(u))),v(n,["generatedImages"],a)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],uB(o)),n}function QQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=y(t,["durationSeconds"]);if(e!==void 0&&o!=null&&v(e,["parameters","durationSeconds"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=y(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const c=y(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const h=y(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(t,["lastFrame"]);e!==void 0&&p!=null&&v(e,["instances[0]","lastFrame"],hv(p));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(x=>eee(x))),v(e,["instances[0]","referenceImages"],E)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function ZQ(t,e,n){const r={},i=y(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=y(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const u=y(t,["durationSeconds"]);e!==void 0&&u!=null&&v(e,["parameters","durationSeconds"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const h=y(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&v(e,["parameters","pubsubTopic"],g);const E=y(t,["negativePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","negativePrompt"],E);const x=y(t,["enhancePrompt"]);e!==void 0&&x!=null&&v(e,["parameters","enhancePrompt"],x);const w=y(t,["generateAudio"]);e!==void 0&&w!=null&&v(e,["parameters","generateAudio"],w);const S=y(t,["lastFrame"]);e!==void 0&&S!=null&&v(e,["instances[0]","lastFrame"],to(S));const P=y(t,["referenceImages"]);if(e!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(F=>tee(F))),v(e,["instances[0]","referenceImages"],B)}const k=y(t,["mask"]);e!==void 0&&k!=null&&v(e,["instances[0]","mask"],ZZ(k));const D=y(t,["compressionQuality"]);return e!==void 0&&D!=null&&v(e,["parameters","compressionQuality"],D),r}function eZ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const a=y(t,["error"]);a!=null&&v(n,["error"],a);const u=y(t,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],iZ(u)),n}function tZ(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["metadata"]);i!=null&&v(n,["metadata"],i);const o=y(t,["done"]);o!=null&&v(n,["done"],o);const a=y(t,["error"]);a!=null&&v(n,["error"],a);const u=y(t,["response"]);return u!=null&&v(n,["response"],oZ(u)),n}function nZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["image"]);a!=null&&v(r,["instances[0]","image"],hv(a));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],fB(u));const c=y(e,["source"]);c!=null&&sZ(c,r);const f=y(e,["config"]);return f!=null&&QQ(f,r),r}function rZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["prompt"]);o!=null&&v(r,["instances[0]","prompt"],o);const a=y(e,["image"]);a!=null&&v(r,["instances[0]","image"],to(a));const u=y(e,["video"]);u!=null&&v(r,["instances[0]","video"],dB(u));const c=y(e,["source"]);c!=null&&aZ(c,r);const f=y(e,["config"]);return f!=null&&ZQ(f,r),r}function iZ(t,e){const n={},r=y(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>cZ(u))),v(n,["generatedVideos"],a)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function oZ(t,e){const n={},r=y(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>fZ(u))),v(n,["generatedVideos"],a)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&v(n,["raiMediaFilteredReasons"],o),n}function sZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],hv(o));const a=y(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],fB(a)),r}function aZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],to(o));const a=y(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],dB(a)),r}function lZ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],bZ(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);return o!=null&&v(n,["safetyAttributes"],lB(o)),n}function dv(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["image"],aB(r));const i=y(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const o=y(t,["_self"]);o!=null&&v(n,["safetyAttributes"],uB(o));const a=y(t,["prompt"]);return a!=null&&v(n,["enhancedPrompt"],a),n}function uZ(t,e){const n={},r=y(t,["_self"]);r!=null&&v(n,["mask"],aB(r));const i=y(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(n,["labels"],o)}return n}function cZ(t,e){const n={},r=y(t,["video"]);return r!=null&&v(n,["video"],XZ(r)),n}function fZ(t,e){const n={},r=y(t,["_self"]);return r!=null&&v(n,["video"],QZ(r)),n}function dZ(t,e){const n={},r=y(t,["modelSelectionConfig"]);r!=null&&v(n,["modelConfig"],r);const i=y(t,["responseJsonSchema"]);i!=null&&v(n,["responseJsonSchema"],i);const o=y(t,["audioTimestamp"]);o!=null&&v(n,["audioTimestamp"],o);const a=y(t,["candidateCount"]);a!=null&&v(n,["candidateCount"],a);const u=y(t,["enableAffectiveDialog"]);u!=null&&v(n,["enableAffectiveDialog"],u);const c=y(t,["frequencyPenalty"]);c!=null&&v(n,["frequencyPenalty"],c);const f=y(t,["logprobs"]);f!=null&&v(n,["logprobs"],f);const h=y(t,["maxOutputTokens"]);h!=null&&v(n,["maxOutputTokens"],h);const p=y(t,["mediaResolution"]);p!=null&&v(n,["mediaResolution"],p);const g=y(t,["presencePenalty"]);g!=null&&v(n,["presencePenalty"],g);const E=y(t,["responseLogprobs"]);E!=null&&v(n,["responseLogprobs"],E);const x=y(t,["responseMimeType"]);x!=null&&v(n,["responseMimeType"],x);const w=y(t,["responseModalities"]);w!=null&&v(n,["responseModalities"],w);const S=y(t,["responseSchema"]);S!=null&&v(n,["responseSchema"],S);const P=y(t,["routingConfig"]);P!=null&&v(n,["routingConfig"],P);const k=y(t,["seed"]);k!=null&&v(n,["seed"],k);const D=y(t,["speechConfig"]);D!=null&&v(n,["speechConfig"],D);const B=y(t,["stopSequences"]);B!=null&&v(n,["stopSequences"],B);const F=y(t,["temperature"]);F!=null&&v(n,["temperature"],F);const U=y(t,["thinkingConfig"]);U!=null&&v(n,["thinkingConfig"],U);const M=y(t,["topK"]);M!=null&&v(n,["topK"],M);const O=y(t,["topP"]);if(O!=null&&v(n,["topP"],O),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function hZ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function pZ(t,e,n){const r={},i=y(e,["model"]);return i!=null&&v(r,["_url","name"],pt(t,i)),r}function mZ(t,e){const n={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=y(t,["enableWidget"]);return r!=null&&v(n,["enableWidget"],r),n}function gZ(t,e){const n={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=y(t,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],r),n}function yZ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);if(i!=null&&v(n,["imageSize"],i),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function vZ(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=y(t,["imageSize"]);i!=null&&v(n,["imageSize"],i);const o=y(t,["personGeneration"]);o!=null&&v(n,["personGeneration"],o);const a=y(t,["outputMimeType"]);a!=null&&v(n,["imageOutputOptions","mimeType"],a);const u=y(t,["outputCompressionQuality"]);return u!=null&&v(n,["imageOutputOptions","compressionQuality"],u),n}function bZ(t,e){const n={},r=y(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],$a(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function aB(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["imageBytes"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function hv(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],$a(r));const i=y(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function to(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["imageBytes"]);i!=null&&v(n,["bytesBase64Encoded"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function _Z(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],eB(t,c)),i}function EZ(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=y(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],eB(t,c)),i}function TZ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&_Z(t,i,r),r}function xZ(t,e,n){const r={},i=y(e,["config"]);return i!=null&&EZ(t,i,r),r}function SZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let a=tB(o);Array.isArray(a)&&(a=a.map(u=>hx(u))),v(n,["models"],a)}return n}function wZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let a=tB(o);Array.isArray(a)&&(a=a.map(u=>px(u))),v(n,["models"],a)}return n}function AZ(t,e){const n={},r=y(t,["maskMode"]);r!=null&&v(n,["maskMode"],r);const i=y(t,["segmentationClasses"]);i!=null&&v(n,["maskClasses"],i);const o=y(t,["maskDilation"]);return o!=null&&v(n,["dilation"],o),n}function hx(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const a=y(t,["version"]);a!=null&&v(n,["version"],a);const u=y(t,["_self"]);u!=null&&v(n,["tunedModelInfo"],zZ(u));const c=y(t,["inputTokenLimit"]);c!=null&&v(n,["inputTokenLimit"],c);const f=y(t,["outputTokenLimit"]);f!=null&&v(n,["outputTokenLimit"],f);const h=y(t,["supportedGenerationMethods"]);h!=null&&v(n,["supportedActions"],h);const p=y(t,["temperature"]);p!=null&&v(n,["temperature"],p);const g=y(t,["maxTemperature"]);g!=null&&v(n,["maxTemperature"],g);const E=y(t,["topP"]);E!=null&&v(n,["topP"],E);const x=y(t,["topK"]);x!=null&&v(n,["topK"],x);const w=y(t,["thinking"]);return w!=null&&v(n,["thinking"],w),n}function px(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["name"],r);const i=y(t,["displayName"]);i!=null&&v(n,["displayName"],i);const o=y(t,["description"]);o!=null&&v(n,["description"],o);const a=y(t,["versionId"]);a!=null&&v(n,["version"],a);const u=y(t,["deployedModels"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>BQ(E))),v(n,["endpoints"],g)}const c=y(t,["labels"]);c!=null&&v(n,["labels"],c);const f=y(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],qZ(f));const h=y(t,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const p=y(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),v(n,["checkpoints"],g)}return n}function CZ(t,e){const n={},r=y(t,["mediaResolution"]);r!=null&&v(n,["mediaResolution"],r);const i=y(t,["codeExecutionResult"]);i!=null&&v(n,["codeExecutionResult"],i);const o=y(t,["executableCode"]);o!=null&&v(n,["executableCode"],o);const a=y(t,["fileData"]);a!=null&&v(n,["fileData"],FQ(a));const u=y(t,["functionCall"]);u!=null&&v(n,["functionCall"],jQ(u));const c=y(t,["functionResponse"]);c!=null&&v(n,["functionResponse"],c);const f=y(t,["inlineData"]);f!=null&&v(n,["inlineData"],dQ(f));const h=y(t,["text"]);h!=null&&v(n,["text"],h);const p=y(t,["thought"]);p!=null&&v(n,["thought"],p);const g=y(t,["thoughtSignature"]);g!=null&&v(n,["thoughtSignature"],g);const E=y(t,["videoMetadata"]);return E!=null&&v(n,["videoMetadata"],E),n}function IZ(t,e){const n={},r=y(t,["productImage"]);return r!=null&&v(n,["image"],to(r)),n}function PZ(t,e,n){const r={},i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=y(t,["baseSteps"]);e!==void 0&&o!=null&&v(e,["parameters","baseSteps"],o);const a=y(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const u=y(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const h=y(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","compressionQuality"],g);const E=y(t,["enhancePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E);const x=y(t,["labels"]);return e!==void 0&&x!=null&&v(e,["labels"],x),r}function RZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&NZ(o,r);const a=y(e,["config"]);return a!=null&&PZ(a,r),r}function MZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dv(o))),v(n,["generatedImages"],i)}return n}function NZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["personImage"]);e!==void 0&&o!=null&&v(e,["instances[0]","personImage","image"],to(o));const a=y(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>IZ(c))),v(e,["instances[0]","productImages"],u)}return r}function DZ(t,e){const n={},r=y(t,["referenceImage"]);r!=null&&v(n,["referenceImage"],to(r));const i=y(t,["referenceId"]);i!=null&&v(n,["referenceId"],i);const o=y(t,["referenceType"]);o!=null&&v(n,["referenceType"],o);const a=y(t,["maskImageConfig"]);a!=null&&v(n,["maskImageConfig"],AZ(a));const u=y(t,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],bQ(u));const c=y(t,["styleImageConfig"]);c!=null&&v(n,["styleImageConfig"],c);const f=y(t,["subjectImageConfig"]);return f!=null&&v(n,["subjectImageConfig"],f),n}function lB(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function uB(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&v(n,["contentType"],o),n}function OZ(t,e){const n={},r=y(t,["category"]);if(r!=null&&v(n,["category"],r),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(t,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function kZ(t,e){const n={},r=y(t,["image"]);return r!=null&&v(n,["image"],to(r)),n}function LZ(t,e,n){const r={},i=y(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const o=y(t,["maxPredictions"]);e!==void 0&&o!=null&&v(e,["parameters","maxPredictions"],o);const a=y(t,["confidenceThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","confidenceThreshold"],a);const u=y(t,["maskDilation"]);e!==void 0&&u!=null&&v(e,["parameters","maskDilation"],u);const c=y(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const f=y(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),r}function VZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["source"]);o!=null&&BZ(o,r);const a=y(e,["config"]);return a!=null&&LZ(a,r),r}function UZ(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uZ(o))),v(n,["generatedMasks"],i)}return n}function BZ(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],to(o));const a=y(t,["scribbleImage"]);return e!==void 0&&a!=null&&v(e,["instances[0]","scribble"],kZ(a)),r}function FZ(t,e){const n={},r=y(t,["retrievalConfig"]);r!=null&&v(n,["retrievalConfig"],r);const i=y(t,["functionCallingConfig"]);return i!=null&&v(n,["functionCallingConfig"],zQ(i)),n}function jZ(t,e){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["computerUse"]);r!=null&&v(n,["computerUse"],r);const i=y(t,["fileSearch"]);i!=null&&v(n,["fileSearch"],i);const o=y(t,["codeExecution"]);if(o!=null&&v(n,["codeExecution"],o),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=y(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),v(n,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&v(n,["googleMaps"],mZ(u));const c=y(t,["googleSearch"]);c!=null&&v(n,["googleSearch"],gZ(c));const f=y(t,["googleSearchRetrieval"]);f!=null&&v(n,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&v(n,["urlContext"],h),n}function cB(t,e){const n={},r=y(t,["retrieval"]);r!=null&&v(n,["retrieval"],r);const i=y(t,["computerUse"]);if(i!=null&&v(n,["computerUse"],i),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(t,["codeExecution"]);o!=null&&v(n,["codeExecution"],o);const a=y(t,["enterpriseWebSearch"]);a!=null&&v(n,["enterpriseWebSearch"],a);const u=y(t,["functionDeclarations"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(E=>qQ(E))),v(n,["functionDeclarations"],g)}const c=y(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],f);const h=y(t,["googleSearchRetrieval"]);h!=null&&v(n,["googleSearchRetrieval"],h);const p=y(t,["urlContext"]);return p!=null&&v(n,["urlContext"],p),n}function zZ(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function qZ(t,e){const n={},r=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&v(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&v(n,["updateTime"],o),n}function HZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),r}function GZ(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),r}function $Z(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","name"],pt(t,i));const o=y(e,["config"]);return o!=null&&HZ(o,r),r}function KZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["config"]);return o!=null&&GZ(o,r),r}function YZ(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&v(e,["parameters","safetySetting"],o);const a=y(t,["personGeneration"]);e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a);const u=y(t,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const c=y(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const f=y(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const h=y(t,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=y(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=y(t,["labels"]);e!==void 0&&g!=null&&v(e,["labels"],g);const E=y(t,["numberOfImages"]);e!==void 0&&E!=null&&v(e,["parameters","sampleCount"],E);const x=y(t,["mode"]);return e!==void 0&&x!=null&&v(e,["parameters","mode"],x),r}function WZ(t,e,n){const r={},i=y(e,["model"]);i!=null&&v(r,["_url","model"],pt(t,i));const o=y(e,["image"]);o!=null&&v(r,["instances[0]","image"],to(o));const a=y(e,["upscaleFactor"]);a!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],a);const u=y(e,["config"]);return u!=null&&YZ(u,r),r}function JZ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dv(a))),v(n,["generatedImages"],o)}return n}function XZ(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["encodedVideo"]);i!=null&&v(n,["videoBytes"],$a(i));const o=y(t,["encoding"]);return o!=null&&v(n,["mimeType"],o),n}function QZ(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&v(n,["videoBytes"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function ZZ(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["_self"],to(r));const i=y(t,["maskMode"]);return i!=null&&v(n,["maskMode"],i),n}function eee(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],hv(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function tee(t,e){const n={},r=y(t,["image"]);r!=null&&v(n,["image"],to(r));const i=y(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function fB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["uri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["encodedVideo"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["encoding"],o),n}function dB(t,e){const n={},r=y(t,["uri"]);r!=null&&v(n,["gcsUri"],r);const i=y(t,["videoBytes"]);i!=null&&v(n,["bytesBase64Encoded"],$a(i));const o=y(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nee(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function ree(t){const e={},n=y(t,["config"]);return n!=null&&nee(n,e),e}function iee(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function oee(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&iee(r,e),e}function see(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function aee(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function lee(t){const e={},n=y(t,["name"]);n!=null&&v(e,["name"],n);const r=y(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=y(t,["done"]);i!=null&&v(e,["done"],i);const o=y(t,["error"]);o!=null&&v(e,["error"],o);const a=y(t,["response"]);return a!=null&&v(e,["response"],cee(a)),e}function uee(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&aee(i,e),e}function cee(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&v(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function fee(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function dee(t){const e={},n=y(t,["config"]);return n!=null&&fee(n,e),e}function hee(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["fileSearchStores"],o)}return e}function hB(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),v(e,["customMetadata"],u)}const a=y(t,["chunkingConfig"]);return e!==void 0&&a!=null&&v(e,["chunkingConfig"],a),n}function pee(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&hB(r,e),e}function mee(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gee="Content-Type",yee="X-Server-Timeout",vee="User-Agent",mx="x-goog-api-client",bee="1.41.0",_ee=`google-genai-sdk/${bee}`,Eee="v1beta1",Tee="v1beta",xee=5,See=[408,429,500,502,503,504];class wee{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Eee}else{if(!this.clientOptions.apiKey)throw new ch({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Tee,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===ux.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Aee(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ND(i),new cx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ND(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Wi(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield He(i.read());if(f){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const w=JSON.parse(JSON.stringify(x.error)),S=w.status,P=w.code,k=`got status: ${S}. ${JSON.stringify(x)}`;if(P>=400&&P<600)throw new ch({message:k,status:P})}}catch(x){if(x.name==="ApiError")throw x}a+=p;let g=-1,E=0;for(;;){g=-1,E=0;for(const S of c){const P=a.indexOf(S);P!==-1&&(g===-1||P<g)&&(g=P,E=S.length)}if(g===-1)break;const x=a.substring(0,g);a=a.substring(g+E);const w=x.trim();if(w.startsWith(u)){const S=w.substring(u.length).trim();try{const P=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new cx(P))}catch(P){throw new Error(`exception parsing stream chunk ${S}. ${P}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return mW(async()=>{const a=await fetch(e,n);if(a.ok)return a;throw See.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new G3(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:xee)-1})}getDefaultHeaders(){const e={},n=_ee+" "+this.clientOptions.userAgentExtra;return e[vee]=n,e[mx]=n,e[gee]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(yee,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=Ae("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),u=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&hB(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var u;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function ND(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ch({message:i,status:n}):new Error(i)}}function Aee(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cee="mcp_used/unknown";let Iee=!1;function pB(t){for(const e of t)if(Pee(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Iee}function mB(t){var e;const n=(e=t[mx])!==null&&e!==void 0?e:"";t[mx]=(n+` ${Cee}`).trimStart()}function Pee(t){return t!==null&&typeof t=="object"&&t instanceof Dw}function Ree(t){return Wi(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield He(n.listTools({cursor:i}));for(const u of a.tools)yield yield He(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Dw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Dw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ji(Ree(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;a.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),rJ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mee(t,e,n){const r=new WW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Nee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=kee(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(D=>{f=D}),p=e.callbacks,g=function(){f({})},E=this.apiClient,x={onopen:g,onmessage:D=>{Mee(E,p.onmessage,D)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(D){}},w=this.webSocketFactory.create(c,Oee(a),x);w.connect(),await h;const k={setup:{model:pt(this.apiClient,e.model)}};return w.send(JSON.stringify(k)),new Dee(w,this.apiClient)}}class Dee{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=nQ(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=tQ(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ec.PLAY)}pause(){this.sendPlaybackControl(Ec.PAUSE)}stop(){this.sendPlaybackControl(Ec.STOP)}resetContext(){this.sendPlaybackControl(Ec.RESET_CONTEXT)}close(){this.conn.close()}}function Oee(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function kee(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lee="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vee(t,e,n){const r=new YW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=oQ(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Uee{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Nee(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&pB(e.config.tools)&&mB(p);const g=zee(p);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),z=this.apiClient.getLocation(),q=this.apiClient.getApiKey(),H=!!V&&!!z||!!q;this.apiClient.getCustomBaseUrl()&&!H?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const V=this.apiClient.getApiKey();let z="BidiGenerateContent",q="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${z}?${q}=${V}`}let E=()=>{};const x=new Promise(V=>{E=V}),w=e.callbacks,S=function(){var V;(V=w==null?void 0:w.onopen)===null||V===void 0||V.call(w),E({})},P=this.apiClient,k={onopen:S,onmessage:V=>{Vee(P,w.onmessage,V)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(V){}},D=this.webSocketFactory.create(h,jee(g),k);D.connect(),await x;let B=pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const V=this.apiClient.getProject(),z=this.apiClient.getLocation();V&&z&&(B=`projects/${V}/locations/${z}/`+B)}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zg.AUDIO]}:e.config.responseModalities=[zg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],M=[];for(const V of U)if(this.isCallableTool(V)){const z=V;M.push(await z.tool())}else M.push(V);M.length>0&&(e.config.tools=M);const O={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=eQ(this.apiClient,O):F=ZX(this.apiClient,O),delete F.config,D.send(JSON.stringify(F)),new Fee(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Bee={turnComplete:!0};class Fee{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Si(n.turns),e.isVertexAI()||(r=r.map(i=>fv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Lee)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Bee),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iQ(e)}:n={realtimeInput:rQ(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jee(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function zee(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD=10;function OD(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Rc(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Rc(t){return"callTool"in t&&typeof t.callTool=="function"}function qee(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Rc(i)))!==null&&r!==void 0?r:!1}function kD(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Rc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function LD(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hee extends Ms{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!qee(n)||OD(n.config))return await this.generateContentInternal(c);const f=kD(n);if(f.length>0){const w=f.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,p;const g=Si(c.contents),E=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:DD;let x=0;for(;x<E&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,S=[];for(const P of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Rc(P)){const D=await P.callTool(h.functionCalls);S.push(...D)}x++,p={role:"user",parts:S},c.contents=Si(c.contents),c.contents.push(w),c.contents.push(p),LD(c.config)&&(g.push(w),g.push(p))}return LD(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(n),OD(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=kD(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new uu(_s.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>Rc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&pB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),mB(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Rc(a)){const u=a,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:DD;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Wi(this,arguments,function*(){for(var g,E,x,w,S,P;u<o;){a&&(u++,a=!1);const F=yield He(f.processParamsMaybeAddMcpUsage(p)),U=yield He(f.generateContentStreamInternal(F)),M=[],O=[];try{for(var k=!0,D=(E=void 0,Ji(U)),B;B=yield He(D.next()),g=B.done,!g;k=!0){w=B.value,k=!1;const V=w;if(yield yield He(V),V.candidates&&(!((S=V.candidates[0])===null||S===void 0)&&S.content)){O.push(V.candidates[0].content);for(const z of(P=V.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(u<o&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const q=yield He(h.get(z.functionCall.name).callTool([z.functionCall]));M.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(V){E={error:V}}finally{try{!k&&!g&&(x=D.return)&&(yield He(x.call(D)))}finally{if(E)throw E.error}}if(M.length>0){a=!0;const V=new Ad;V.candidates=[{content:{role:"user",parts:M}}],yield yield He(V);const z=[];z.push(...O),z.push({role:"user",parts:M});const q=Si(p.contents).concat(z);p.contents=q}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=PD(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=MD(h),g=new Ad;return Object.assign(g,p),g})}else{const f=ID(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=RD(h),g=new Ad;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=PD(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Wi(this,arguments,function*(){var g,E,x,w;try{for(var S=!0,P=Ji(p),k;k=yield He(P.next()),g=k.done,!g;S=!0){w=k.value,S=!1;const D=w,B=MD(yield He(D.json()),e);B.sdkHttpResponse={headers:D.headers};const F=new Ad;Object.assign(F,B),yield yield He(F)}}catch(D){E={error:D}}finally{try{!S&&!g&&(x=P.return)&&(yield He(x.call(P)))}finally{if(E)throw E.error}}})})}else{const f=ID(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Wi(this,arguments,function*(){var g,E,x,w;try{for(var S=!0,P=Ji(p),k;k=yield He(P.next()),g=k.done,!g;S=!0){w=k.value,S=!1;const D=w,B=RD(yield He(D.json()),e);B.sdkHttpResponse={headers:D.headers};const F=new Ad;Object.assign(F,B),yield yield He(F)}}catch(D){E={error:D}}finally{try{!S&&!g&&(x=P.return)&&(yield He(x.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=LQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=UQ(h),g=new fD;return Object.assign(g,p),g})}else{const f=kQ(this.apiClient,e);return u=Ae("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=VQ(h),g=new fD;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=WQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=XQ(h),g=new dD;return Object.assign(g,p),g})}else{const f=YQ(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=JQ(h),g=new dD;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=MQ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=NQ(c),h=new LW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=WZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=JZ(c),h=new VW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=RZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=MZ(c),h=new UW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=VZ(this.apiClient,e);return o=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=UZ(c),h=new BW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=pZ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>px(h))}else{const f=hZ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>hx(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=xZ(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=wZ(h),g=new hD;return Object.assign(g,p),g})}else{const f=TZ(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=SZ(h),g=new hD;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=KZ(this.apiClient,e);return u=Ae("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>px(h))}else{const f=$Z(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>hx(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=CQ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=PQ(h),g=new pD;return Object.assign(g,p),g})}else{const f=AQ(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=IQ(h),g=new pD;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=xQ(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=wQ(h),g=new mD;return Object.assign(g,p),g})}else{const f=TQ(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=SQ(h),g=new mD;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=mQ(this.apiClient,e);return o=Ae("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=gQ(c),h=new FW;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=rZ(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=tZ(h),g=new qg;return Object.assign(g,p),g})}else{const f=nZ(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const p=eZ(h),g=new qg;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gee extends Ms{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=RW(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=PW(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=TW(e);return o=Ae("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $ee(t){const e={},n=y(t,["data"]);if(n!=null&&v(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Kee(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nte(o))),v(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&v(e,["role"],r),e}function Yee(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const a=y(e,["uses"]);n!==void 0&&a!=null&&v(n,["uses"],a);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],tte(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function Wee(t,e){const n={},r=y(e,["config"]);return r!=null&&v(n,["config"],Yee(t,r,n)),n}function Jee(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Xee(t){const e={},n=y(t,["id"]);n!=null&&v(e,["id"],n);const r=y(t,["args"]);r!=null&&v(e,["args"],r);const i=y(t,["name"]);if(i!=null&&v(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qee(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Zee(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function ete(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=y(t,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const u=y(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Nw(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","thinkingConfig"],g);const E=y(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const x=y(t,["systemInstruction"]);e!==void 0&&x!=null&&v(e,["setup","systemInstruction"],Kee(pr(x)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let U=of(w);Array.isArray(U)&&(U=U.map(M=>ite(rf(M)))),v(e,["setup","tools"],U)}const S=y(t,["sessionResumption"]);e!==void 0&&S!=null&&v(e,["setup","sessionResumption"],rte(S));const P=y(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const k=y(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&v(e,["setup","outputAudioTranscription"],k);const D=y(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const F=y(t,["proactivity"]);if(e!==void 0&&F!=null&&v(e,["setup","proactivity"],F),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function tte(t,e){const n={},r=y(e,["model"]);r!=null&&v(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&v(n,["config"],ete(i,n)),n}function nte(t){const e={},n=y(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&v(e,["fileData"],Jee(o));const a=y(t,["functionCall"]);a!=null&&v(e,["functionCall"],Xee(a));const u=y(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&v(e,["inlineData"],$ee(c));const f=y(t,["text"]);f!=null&&v(e,["text"],f);const h=y(t,["thought"]);h!=null&&v(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&v(e,["videoMetadata"],g),e}function rte(t){const e={},n=y(t,["handle"]);if(n!=null&&v(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ite(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),v(e,["functionDeclarations"],h)}const a=y(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],Qee(a));const u=y(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],Zee(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ote(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function ste(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=ote(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class ate extends Ms{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Wee(this.apiClient,e);o=Ae("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=ste(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lte(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function ute(t){const e={},n=y(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&lte(r,e),e}function cte(t){const e={},n=y(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function fte(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function dte(t){const e={},n=y(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&fte(r,e),e}function hte(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pte extends Ms{constructor(e){super(),this.apiClient=e,this.list=async n=>new uu(_s.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cte(e);return o=Ae("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ute(e);i=Ae("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dte(e);return o=Ae("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hte(c),h=new jW;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mte extends Ms{constructor(e,n=new pte(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new uu(_s.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ree(e);return o=Ae("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=see(e);return o=Ae("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=oee(e);i=Ae("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dee(e);return o=Ae("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hee(c),h=new zW;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pee(e);return o=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=mee(c),h=new qW;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uee(e);return o=Ae("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lee(c),h=new Cw;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const gte=()=>gB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const yx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi extends Error{}class wr extends wi{constructor(e,n,r,i){super(`${wr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new pv({message:r,cause:yx(n)});const o=n;return e===400?new vB(e,o,r,i):e===401?new bB(e,o,r,i):e===403?new _B(e,o,r,i):e===404?new EB(e,o,r,i):e===409?new TB(e,o,r,i):e===422?new xB(e,o,r,i):e===429?new SB(e,o,r,i):e>=500?new wB(e,o,r,i):new wr(e,o,r,i)}}class vx extends wr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class pv extends wr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yB extends pv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vB extends wr{}class bB extends wr{}class _B extends wr{}class EB extends wr{}class TB extends wr{}class xB extends wr{}class SB extends wr{}class wB extends wr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yte=/^[a-z][a-z0-9+.-]*:/i,vte=t=>yte.test(t);let bx=t=>(bx=Array.isArray,bx(t));const bte=bx;let _te=bte;const VD=_te;function Ete(t){if(!t)return!0;for(const e in t)return!1;return!0}function Tte(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const xte=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new wi(`${t} must be an integer`);if(e<0)throw new wi(`${t} must be a positive integer`);return e},Ste=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wte=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ate(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Cte=()=>{var t,e,n,r,i;const o=Ate();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cc,"X-Stainless-OS":BD(Deno.build.os),"X-Stainless-Arch":UD(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cc,"X-Stainless-OS":BD((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":UD((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Ite();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ite(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const UD=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",BD=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Bm;const Pte=()=>Bm??(Bm=Cte());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rte(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function AB(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Mte(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return AB({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function CB(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Nte(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dte=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IB=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function H_(t,e,n){return IB(),new File(t,e??"unknown_file",n)}function Ote(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const kte=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PB=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Lte=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&PB(t),Vte=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Ute(t,e,n){if(IB(),t=await t,Lte(t))return t instanceof File?t:H_([await t.arrayBuffer()],t.name);if(Vte(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),H_(await _x(i),e,n)}const r=await _x(t);if(e||(e=Ote(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return H_(r,e,n)}async function _x(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(PB(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(kte(t))try{for(var u=!0,c=Ji(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;a.push(...await _x(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Bte(t)}`)}return a}function Bte(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RB{constructor(e){this._client=e}}RB._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MB(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FD=Object.freeze(Object.create(null)),Fte=(t=MB)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((h,p,g)=>{var E,x,w;/[?#]/.test(p)&&(i=!0);const S=r[g];let P=(i?encodeURIComponent:t)(""+S);return g!==r.length&&(S==null||typeof S=="object"&&S.toString===((w=Object.getPrototypeOf((x=Object.getPrototypeOf((E=S.hasOwnProperty)!==null&&E!==void 0?E:FD))!==null&&x!==void 0?x:FD))===null||w===void 0?void 0:w.toString))&&(P=S+"",o.push({start:h.length+p.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":P)},""),u=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,E)=>{const x=" ".repeat(E.start-h),w="^".repeat(E.length);return h=E.start+E.length,g+x+w},"");throw new wi(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${a}
${p}`)}return a}),Fm=Fte(MB);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NB extends RB{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Gg(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new wi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new wi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fm`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Fm`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Fm`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,u=Gg(o,["api_version"]);return this._client.get(Fm`/${a}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}NB._key=Object.freeze(["interactions"]);class DB extends NB{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jte(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let jm;function Ow(t){let e;return(jm??(e=new globalThis.TextEncoder,jm=e.encode.bind(e)))(t)}let zm;function jD(t){let e;return(zm??(e=new globalThis.TextDecoder,zm=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ow(e):e;this.buffer=jte([this.buffer,n]);const r=[];let i;for(;(i=zte(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(jD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=jD(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}mv.NEWLINE_CHARS=new Set([`
`,"\r"]);mv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zte(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function qte(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $g={off:0,error:200,warn:300,info:400,debug:500},zD=(t,e,n)=>{if(t){if(Tte($g,t))return t;_r(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($g))}`)}};function Bd(){}function qm(t,e,n){return!e||$g[t]>$g[n]?Bd:e[t].bind(e)}const Hte={error:Bd,warn:Bd,info:Bd,debug:Bd};let qD=new WeakMap;function _r(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Hte;const i=qD.get(n);if(i&&i[0]===r)return i[1];const o={error:qm("error",n,r),warn:qm("warn",n,r),info:qm("info",n,r),debug:qm("debug",n,r)};return qD.set(n,[r,o]),o}const Ml=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?_r(r):console;function a(){return Wi(this,arguments,function*(){var c,f,h,p;if(i)throw new wi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,x=Ji(Gte(e,n)),w;w=yield He(x.next()),c=w.done,!c;E=!0){p=w.value,E=!1;const S=p;if(!g)if(S.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield He(JSON.parse(S.data))}catch(P){throw o.error("Could not parse message into JSON:",S.data),o.error("From chunk:",S.raw),P}}}catch(S){f={error:S}}finally{try{!E&&!c&&(h=x.return)&&(yield He(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(S){if(gx(S))return yield He(void 0);throw S}finally{g||n.abort()}})}return new Tc(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Wi(this,arguments,function*(){var c,f,h,p;const g=new mv,E=CB(e);try{for(var x=!0,w=Ji(E),S;S=yield He(w.next()),c=S.done,!c;x=!0){p=S.value,x=!1;const P=p;for(const k of g.decode(P))yield yield He(k)}}catch(P){f={error:P}}finally{try{!x&&!c&&(h=w.return)&&(yield He(h.call(w)))}finally{if(f)throw f.error}}for(const P of g.flush())yield yield He(P)})}function a(){return Wi(this,arguments,function*(){var c,f,h,p;if(i)throw new wi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var E=!0,x=Ji(o()),w;w=yield He(x.next()),c=w.done,!c;E=!0){p=w.value,E=!1;const S=p;g||S&&(yield yield He(JSON.parse(S)))}}catch(S){f={error:S}}finally{try{!E&&!c&&(h=x.return)&&(yield He(h.call(x)))}finally{if(f)throw f.error}}g=!0}catch(S){if(gx(S))return yield He(void 0);throw S}finally{g||n.abort()}})}return new Tc(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Tc(()=>i(e),this.controller,this.client),new Tc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return AB({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Ow(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Gte(t,e){return Wi(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new wi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new wi("Attempted to iterate over a response with no body");const u=new Kte,c=new mv,f=CB(t.body);try{for(var h=!0,p=Ji($te(f)),g;g=yield He(p.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const E=a;for(const x of c.decode(E)){const w=u.decode(x);w&&(yield yield He(w))}}}catch(E){i={error:E}}finally{try{!h&&!r&&(o=p.return)&&(yield He(o.call(p)))}finally{if(i)throw i.error}}for(const E of c.flush()){const x=u.decode(E);x&&(yield yield He(x))}})}function $te(t){return Wi(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var u=!0,c=Ji(t),f;f=yield He(c.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Ow(h):h;let g=new Uint8Array(a.length+p.length);g.set(a),g.set(p,a.length),a=g;let E;for(;(E=qte(a))!==-1;)yield yield He(a.slice(0,E)),a=a.slice(E)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield He(i.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield He(a))})}class Kte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Yte(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Yte(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wte(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var u;if(e.options.stream)return _r(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Tc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return _r(t).debug(`[${r}] response parsed`,Ml({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kw extends Promise{constructor(e,n,r=Wte){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new kw(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OB=Symbol("brand.privateNullableHeaders");function*Jte(t){if(!t)return;if(OB in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VD(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=VD(r[1])?r[1]:[r[1]];let a=!1;for(const u of o)u!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,u])}}const Cd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of Jte(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),a===null?(e.delete(o),n.add(u)):(e.append(o,a),n.delete(u))}}return{[OB]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=gW)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kB;class gv{constructor(e){var n,r,i,o,a,u,c,{baseURL:f=G_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=G_("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=Gg(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:gv.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(a=(o=zD(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:zD(G_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:x,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=E.fetch)!==null&&c!==void 0?c:Rte(),this.encoder=Dte,this._options=E,this.apiKey=h,this.apiVersion=p,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Cd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Cd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Cd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new wi(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${cc}`}defaultIdempotencyKey(){return`stainless-node-retry-${gte()}`}makeStatusError(e,n,r,i){return wr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=vte(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Ete(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new kw(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(_r(this).debug(`[${g}] sending request`,Ml({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new vx;const w=new AbortController,S=await this.fetchWithTimeout(h,f,p,w).catch(yx),P=Date.now();if(S instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new vx;const B=gx(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return _r(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${D}`),_r(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${D})`,Ml({retryOfRequestLogID:r,url:h,durationMs:P-x,message:S.message})),this.retryRequest(u,n,r??g);throw _r(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),_r(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Ml({retryOfRequestLogID:r,url:h,durationMs:P-x,message:S.message})),B?new yB:new pv({cause:S})}const k=`[${g}${E}] ${f.method} ${h} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${P-x}ms`;if(!S.ok){const D=await this.shouldRetry(S);if(n&&D){const V=`retrying, ${n} attempts remaining`;return await Nte(S.body),_r(this).info(`${k} - ${V}`),_r(this).debug(`[${g}] response error (${V})`,Ml({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:P-x})),this.retryRequest(u,n,r??g,S.headers)}const B=D?"error; no more retries left":"error; not retryable";_r(this).info(`${k} - ${B}`);const F=await S.text().catch(V=>yx(V).message),U=Ste(F),M=U?void 0:F;throw _r(this).debug(`[${g}] response error (${B})`,Ml({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:M,durationMs:Date.now()-x})),this.makeStatusError(S.status,U,M,S.headers)}return _r(this).info(k),_r(this).debug(`[${g}] response start`,Ml({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:P-x})),{response:S,options:u,controller:w,requestLogID:g,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:u}=o,c=Gg(o,["signal","method"]),f=this._makeAbort(i);a&&a.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(a=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,f)}return await wte(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=a,p=this.buildURL(c,f,h);"timeout"in a&&xte("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:E}=this.buildBody({options:a}),x=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:x},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let u=Cd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Pte()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(u),u.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Cd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Mte(e)}:this.encoder({body:e,headers:r})}}gv.DEFAULT_TIMEOUT=6e4;class $n extends gv{constructor(){super(...arguments),this.interactions=new DB(this)}}kB=$n;$n.GeminiNextGenAPIClient=kB;$n.GeminiNextGenAPIClientError=wi;$n.APIError=wr;$n.APIConnectionError=pv;$n.APIConnectionTimeoutError=yB;$n.APIUserAbortError=vx;$n.NotFoundError=EB;$n.ConflictError=TB;$n.RateLimitError=SB;$n.BadRequestError=vB;$n.AuthenticationError=bB;$n.InternalServerError=wB;$n.PermissionDeniedError=_B;$n.UnprocessableEntityError=xB;$n.toFile=Ute;$n.Interactions=DB;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Qte(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Zte(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function ene(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function tne(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const a=y(t,["learningRateMultiplier"]);if(a!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(y(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(y(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&v(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(y(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(y(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(y(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(y(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(y(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function nne(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec"],$_(U))}else if(i==="PREFERENCE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec"],$_(U))}else if(i==="DISTILLATION"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&v(e,["distillationSpec"],$_(U))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const a=y(t,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(u==="PREFERENCE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(u==="DISTILLATION"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],U)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="PREFERENCE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="DISTILLATION"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(f==="PREFERENCE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(f==="DISTILLATION"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],U)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(h==="PREFERENCE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(h==="DISTILLATION"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],U)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const U=y(t,["tuningMode"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","tuningMode"],U)}const g=y(t,["customBaseModel"]);e!==void 0&&g!=null&&v(e,["customBaseModel"],g);let E=y(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const U=y(t,["batchSize"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let x=y(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRate"]);e!==void 0&&U!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const w=y(t,["labels"]);e!==void 0&&w!=null&&v(e,["labels"],w);const S=y(t,["beta"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],S);const P=y(t,["baseTeacherModel"]);e!==void 0&&P!=null&&v(e,["distillationSpec","baseTeacherModel"],P);const k=y(t,["tunedTeacherModelSource"]);e!==void 0&&k!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],k);const D=y(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const B=y(t,["outputUri"]);e!==void 0&&B!=null&&v(e,["outputUri"],B);const F=y(t,["encryptionSpec"]);return e!==void 0&&F!=null&&v(e,["encryptionSpec"],F),r}function rne(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&pne(o);const a=y(t,["config"]);return a!=null&&tne(a,n),n}function ine(t,e){const n={},r=y(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&mne(o,n,e);const a=y(t,["config"]);return a!=null&&nne(a,n,e),n}function one(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function sne(t,e){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function ane(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function lne(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=y(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function une(t,e){const n={},r=y(t,["config"]);return r!=null&&ane(r,n),n}function cne(t,e){const n={},r=y(t,["config"]);return r!=null&&lne(r,n),n}function fne(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>LB(u))),v(n,["tuningJobs"],a)}return n}function dne(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ex(u))),v(n,["tuningJobs"],a)}return n}function hne(t,e){const n={},r=y(t,["name"]);r!=null&&v(n,["model"],r);const i=y(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function pne(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function mne(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&v(e,["distillationSpec","promptDatasetUri"],a)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["distillationSpec","promptDatasetUri"],a)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function LB(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],Q3(o));const a=y(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=y(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&v(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&v(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&v(n,["tunedModel"],hne(g)),n}function Ex(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["state"]);o!=null&&v(n,["state"],Q3(o));const a=y(t,["createTime"]);a!=null&&v(n,["createTime"],a);const u=y(t,["startTime"]);u!=null&&v(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&v(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&v(n,["error"],h);const p=y(t,["description"]);p!=null&&v(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const E=y(t,["tunedModel"]);E!=null&&v(n,["tunedModel"],E);const x=y(t,["preTunedModel"]);x!=null&&v(n,["preTunedModel"],x);const w=y(t,["supervisedTuningSpec"]);w!=null&&v(n,["supervisedTuningSpec"],w);const S=y(t,["preferenceOptimizationSpec"]);S!=null&&v(n,["preferenceOptimizationSpec"],S);const P=y(t,["distillationSpec"]);P!=null&&v(n,["distillationSpec"],P);const k=y(t,["tuningDataStats"]);k!=null&&v(n,["tuningDataStats"],k);const D=y(t,["encryptionSpec"]);D!=null&&v(n,["encryptionSpec"],D);const B=y(t,["partnerModelTuningSpec"]);B!=null&&v(n,["partnerModelTuningSpec"],B);const F=y(t,["customBaseModel"]);F!=null&&v(n,["customBaseModel"],F);const U=y(t,["experiment"]);U!=null&&v(n,["experiment"],U);const M=y(t,["labels"]);M!=null&&v(n,["labels"],M);const O=y(t,["outputUri"]);O!=null&&v(n,["outputUri"],O);const V=y(t,["pipelineJob"]);V!=null&&v(n,["pipelineJob"],V);const z=y(t,["serviceAccount"]);z!=null&&v(n,["serviceAccount"],z);const q=y(t,["tunedModelDisplayName"]);q!=null&&v(n,["tunedModelDisplayName"],q);const H=y(t,["veoTuningSpec"]);return H!=null&&v(n,["veoTuningSpec"],H),n}function gne(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&v(n,["name"],i);const o=y(t,["metadata"]);o!=null&&v(n,["metadata"],o);const a=y(t,["done"]);a!=null&&v(n,["done"],a);const u=y(t,["error"]);return u!=null&&v(n,["error"],u),n}function $_(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yne extends Ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(_s.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:lx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=sne(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Ex(h))}else{const f=one(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>LB(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=cne(e);return u=Ae("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=dne(h),g=new gD;return Object.assign(g,p),g})}else{const f=une(e);return u=Ae("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=fne(h),g=new gD;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Qte(e);return u=Ae("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ene(h),g=new yD;return Object.assign(g,p),g})}else{const f=Xte(e);return u=Ae("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Zte(h),g=new yD;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=ine(e,e);return o=Ae("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Ex(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rne(e);return o=Ae("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>gne(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vne{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bne=1024*1024*8,_ne=3,Ene=1e3,Tne=2,Kg="x-goog-upload-status";async function xne(t,e,n){var r;const i=await VB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Kg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Sne(t,e,n){var r;const i=await VB(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Kg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$3(o),u=new Iw;return Object.assign(u,a),u}async function VB(t,e,n){var r,i;let o=0,a=0,u=new cx(new Response),c="upload";for(o=t.size;a<o;){const f=Math.min(bne,o-a),h=t.slice(a,a+f);a+f>=o&&(c+=", finalize");let p=0,g=Ene;for(;p<_ne&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Kg]));)p++,await Ane(g),g=g*Tne;if(a+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Kg])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function wne(t){return{size:t.size,type:t.type}}function Ane(t){return new Promise(e=>setTimeout(e,t))}class Cne{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xne(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Sne(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wne(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ine{create(e,n,r){return new Pne(e,n,r)}}class Pne{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HD="x-goog-api-key";class Rne{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(HD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(HD,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mne="gl-node/";class Nne{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new $n({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=_W(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Rne(this.apiKey);this.apiClient=new wee({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Mne+"web",uploader:new Cne,downloader:new vne}),this.models=new Hee(this.apiClient),this.live=new Uee(this.apiClient,i,new Ine),this.batches=new JJ(this.apiClient),this.chats=new MX(this.models,this.apiClient),this.caches=new IX(this.apiClient),this.files=new qX(this.apiClient),this.operations=new Gee(this.apiClient),this.authTokens=new ate(this.apiClient),this.tunings=new yne(this.apiClient),this.fileSearchStores=new mte(this.apiClient)}}class Dne{constructor(e,n=Ll[0]){this.apiKey=e,this.preferredModel=n}async callModelWithFallback(e,n=-1,r){var a,u;if(!this.apiKey)throw new Error("API Key is missing");const i=n===-1?this.preferredModel:Ll[n];let o=-1;n===-1?o=Ll.indexOf(this.preferredModel)+1:o=n+1;try{return(await new Nne({apiKey:this.apiKey}).models.generateContent({model:i,contents:e,config:{systemInstruction:r,temperature:.3}})).text||null}catch(c){if(console.error(`Error calling ${i}:`,c),(((a=c.message)==null?void 0:a.includes("429"))||((u=c.message)==null?void 0:u.includes("503")))&&o>0&&o<Ll.length)return console.log(`Falling back to ${Ll[o]}...`),this.callModelWithFallback(e,o,r);throw c}}async getTutorHelp(e,n){const r=`
      Context Passage:
      ${n}

      Student Question: ${e}

      You are a helpful and encouraging English Tutor for Grade 10 students. 
      Answer the student's question based ONLY on the context provided.
      Keep your answer simple, clear, and encouraging. Use emojis occasionally.
      If the answer isn't in the text, say so politely.
    `;return await this.callModelWithFallback(r,-1,"You are a helpful English tutor.")||"I'm sorry, I couldn't generate a response at the moment. Please check your connection or API key."}async generateQuiz(e){const n=`
      Create a short reading passage (about 150 words) suitable for Grade 10 English students about the topic: "${e}" related to "New Ways to Learn" (e.g., online learning, blended learning, educational apps).
      
      Then create 3 questions based on this passage:
      1. One True/False question.
      2. Two Multiple Choice questions (4 options A,B,C,D).

      Return the result in strictly valid JSON format with this schema:
      {
        "title": "Title of passage",
        "content": "Full text content...",
        "questions": [
          {
            "text": "Question text",
            "type": "TRUE_FALSE" or "MULTIPLE_CHOICE",
            "options": [{"id": "A", "text": "Option text"}],
            "correctAnswerId": "A" or "true",
            "explanation": "Why this is correct",
            "difficulty": "medium"
          }
        ]
      }
      DO NOT add markdown formatting (like \`\`\`json) around the response. Just the raw JSON string.
    `;try{const r=await this.callModelWithFallback(n);return(r==null?void 0:r.replace(/```json/g,"").replace(/```/g,"").trim())||null}catch(r){throw console.error("Failed to generate quiz",r),r}}}function UB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UB(t))&&(r&&(r+=" "),r+=e);return r}var One=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lw(t){if(typeof t!="string")return!1;var e=One;return e.includes(t)}var kne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lne=new Set(kne);function BB(t){return typeof t!="string"?!1:Lne.has(t)}function FB(t){return typeof t=="string"&&t.startsWith("data-")}function Bo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(BB(n)||FB(n))&&(e[n]=t[n]);return e}function fh(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Bo(e)}return typeof t=="object"&&!Array.isArray(t)?Bo(t):null}function Ai(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(BB(n)||FB(n)||Lw(n))&&(e[n]=t[n]);return e}var Vne=["children","width","height","viewBox","className","style","title","desc"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function Une(t,e){if(t==null)return{};var n,r,i=Bne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vw=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:f}=t,h=Une(t,Vne),p=o||{width:r,height:i,x:0,y:0},g=At("recharts-surface",a);return A.createElement("svg",Tx({},Ai(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,c),A.createElement("desc",null,f),n)}),Fne=["children","className"];function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(null,arguments)}function jne(t,e){if(t==null)return{};var n,r,i=zne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ar=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=jne(t,Fne),o=At("recharts-layer",r);return A.createElement("g",xx({className:o},Ai(i),{ref:e}),n)}),Uw=ZU(),jB=A.createContext(null),qne=()=>A.useContext(jB);function Vt(t){return function(){return t}}const zB=Math.cos,Yg=Math.sin,no=Math.sqrt,Wg=Math.PI,yv=2*Wg,Sx=Math.PI,wx=2*Sx,Nl=1e-6,Hne=wx-Nl;function qB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gne(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qB;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $ne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qB:Gne(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,f=i-n,h=a-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Nl)if(!(Math.abs(p*c-f*h)>Nl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-a,x=i-u,w=c*c+f*f,S=E*E+x*x,P=Math.sqrt(w),k=Math.sqrt(g),D=o*Math.tan((Sx-Math.acos((w+g-S)/(2*P*k)))/2),B=D/k,F=D/P;Math.abs(B-1)>Nl&&this._append`L${e+B*h},${n+B*p}`,this._append`A${o},${o},0,0,${+(p*E>h*x)},${this._x1=e+F*c},${this._y1=n+F*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Nl||Math.abs(this._y1-h)>Nl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%wx+wx),g>Hne?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Nl&&this._append`A${r},${r},0,${+(g>=Sx)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Bw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $ne(e)}function Fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HB(t){this._context=t}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vv(t){return new HB(t)}function GB(t){return t[0]}function $B(t){return t[1]}function KB(t,e){var n=Vt(!0),r=null,i=vv,o=null,a=Bw(u);t=typeof t=="function"?t:t===void 0?GB:Vt(t),e=typeof e=="function"?e:e===void 0?$B:Vt(e);function u(c){var f,h=(c=Fw(c)).length,p,g=!1,E;for(r==null&&(o=i(E=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(E)return o=null,E+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Vt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Vt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Hm(t,e,n){var r=null,i=Vt(!0),o=null,a=vv,u=null,c=Bw(f);t=typeof t=="function"?t:t===void 0?GB:Vt(+t),e=typeof e=="function"?e:Vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$B:Vt(+n);function f(p){var g,E,x,w=(p=Fw(p)).length,S,P=!1,k,D=new Array(w),B=new Array(w);for(o==null&&(u=a(k=c())),g=0;g<=w;++g){if(!(g<w&&i(S=p[g],g,p))===P)if(P=!P)E=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=g-1;x>=E;--x)u.point(D[x],B[x]);u.lineEnd(),u.areaEnd()}P&&(D[g]=+t(S,g,p),B[g]=+e(S,g,p),u.point(r?+r(S,g,p):D[g],n?+n(S,g,p):B[g]))}if(k)return u=null,k+""||null}function h(){return KB().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Vt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Vt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Vt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Vt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Vt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Vt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Vt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(u=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=u=null:u=a(o=p),f):o},f}class YB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Kne(t){return new YB(t,!0)}function Yne(t){return new YB(t,!1)}const jw={draw(t,e){const n=no(e/Wg);t.moveTo(n,0),t.arc(0,0,n,0,yv)}},Wne={draw(t,e){const n=no(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},WB=no(1/3),Jne=WB*2,Xne={draw(t,e){const n=no(e/Jne),r=n*WB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Qne={draw(t,e){const n=no(e),r=-n/2;t.rect(r,r,n,n)}},Zne=.8908130915292852,JB=Yg(Wg/10)/Yg(7*Wg/10),ere=Yg(yv/10)*JB,tre=-zB(yv/10)*JB,nre={draw(t,e){const n=no(e*Zne),r=ere*n,i=tre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=yv*o/5,u=zB(a),c=Yg(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},K_=no(3),rre={draw(t,e){const n=-no(e/(K_*3));t.moveTo(0,n*2),t.lineTo(-K_*n,-n),t.lineTo(K_*n,-n),t.closePath()}},hi=-.5,pi=no(3)/2,Ax=1/no(12),ire=(Ax/2+1)*3,ore={draw(t,e){const n=no(e/ire),r=n/2,i=n*Ax,o=r,a=n*Ax+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(hi*r-pi*i,pi*r+hi*i),t.lineTo(hi*o-pi*a,pi*o+hi*a),t.lineTo(hi*u-pi*c,pi*u+hi*c),t.lineTo(hi*r+pi*i,hi*i-pi*r),t.lineTo(hi*o+pi*a,hi*a-pi*o),t.lineTo(hi*u+pi*c,hi*c-pi*u),t.closePath()}};function sre(t,e){let n=null,r=Bw(i);t=typeof t=="function"?t:Vt(t||jw),e=typeof e=="function"?e:Vt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Vt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Vt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Jg(){}function Xg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function XB(t){this._context=t}XB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function are(t){return new XB(t)}function QB(t){this._context=t}QB.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lre(t){return new QB(t)}function ZB(t){this._context=t}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ure(t){return new ZB(t)}function e5(t){this._context=t}e5.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cre(t){return new e5(t)}function GD(t){return t<0?-1:1}function $D(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(GD(o)+GD(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function KD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Qg(t){this._context=t}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y_(this,this._t0,KD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y_(this,KD(this,n=$D(this,t,e)),n);break;default:Y_(this,this._t0,n=$D(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function t5(t){this._context=new n5(t)}(t5.prototype=Object.create(Qg.prototype)).point=function(t,e){Qg.prototype.point.call(this,e,t)};function n5(t){this._context=t}n5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function fre(t){return new Qg(t)}function dre(t){return new t5(t)}function r5(t){this._context=t}r5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YD(t),i=YD(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function hre(t){return new r5(t)}function bv(t,e){this._context=t,this._t=e}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pre(t){return new bv(t,.5)}function mre(t){return new bv(t,0)}function gre(t){return new bv(t,1)}function Jl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Cx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yre(t,e){return t[e]}function vre(t){const e=[];return e.key=t,e}function bre(){var t=Vt([]),e=Cx,n=Jl,r=yre;function i(o){var a=Array.from(t.apply(this,arguments),vre),u,c=a.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(a[u][f]=[0,+r(p,a[u].key,f,o)]).data=p;for(u=0,h=Fw(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Vt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Vt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Cx:typeof o=="function"?o:Vt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Jl,i):n},i}function _re(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Jl(t,e)}}function Ere(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Jl(t,e)}}function Tre(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,f=0;u<a;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,E=(p-g)/2,x=0;x<u;++x){var w=t[e[x]],S=w[r][1]||0,P=w[r-1][1]||0;E+=S-P}c+=p,f+=E*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Jl(t,e)}}var W_={},J_={},WD;function xre(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(J_)),J_}var X_={},JD;function i5(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(X_)),X_}var Q_={},XD;function zw(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Q_)),Q_}var Z_={},eE={},QD;function Sre(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(eE)),eE}var ZD;function qw(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sre(),n=zw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<a;){const p=i[u];f?p==="\\"&&u+1<a?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,u++}return c&&o.push(c),o}t.toPath=r})(Z_)),Z_}var eO;function Hw(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xre(),n=i5(),r=zw(),i=qw();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return a(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function a(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=o})(W_)),W_}var tE,tO;function wre(){return tO||(tO=1,tE=Hw().get),tE}var Are=wre();const Xl=Ho(Are);var Cre=4;function Aa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cre,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function on(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,a)=>{var u=n[a-1];return typeof u=="string"?i+u+o:u!==void 0?i+Aa(u)+o:i+o},"")}var or=t=>t===0?0:t>0?1:-1,Fo=t=>typeof t=="number"&&t!=+t,Ql=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!Fo(t),jo=t=>Ve(t)||typeof t=="string",Ire=0,dh=t=>{var e=++Ire;return"".concat(t||"").concat(e)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var o;if(Ql(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Fo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},o5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Rn(t,e,n){return Ve(t)&&Ve(e)?Aa(t+n*(e-t)):e}function Pre(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Xl(r,e))===n)}var Gn=t=>t===null||typeof t>"u",jh=t=>Gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Po(t){return t!=null}function af(){}var Rre=["type","size","sizeType"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ore(t,e){if(t==null)return{};var n,r,i=kre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s5={symbolCircle:jw,symbolCross:Wne,symbolDiamond:Xne,symbolSquare:Qne,symbolStar:nre,symbolTriangle:rre,symbolWye:ore},Lre=Math.PI/180,Vre=t=>{var e="symbol".concat(jh(t));return s5[e]||jw},Ure=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Lre;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Bre=(t,e)=>{s5["symbol".concat(jh(t))]=e},Gw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Ore(t,Rre),o=rO(rO({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var u=()=>{var g=Vre(a),E=sre().type(g).size(Ure(n,r,a)),x=E();if(x!==null)return x},{className:c,cx:f,cy:h}=o,p=Ai(o);return Ve(f)&&Ve(h)&&Ve(n)?A.createElement("path",Ix({},p,{className:At("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};Gw.registerSymbol=Bre;var a5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Fre=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Lw(i)&&(r[i]=(o=>n[i](n,o)))}),r},jre=(t,e,n)=>r=>(t(e,n,r),null),zh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Lw(i)&&typeof o=="function"&&(r||(r={}),r[i]=jre(o,e,n))}),r};function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return(e=Hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ar(t,e){var n=zre({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,Jre={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Xre(t){var{data:e,iconType:n,inactiveColor:r}=t,i=gi/2,o=gi/6,a=gi/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var f;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:gi,y2:i,className:"recharts-legend-icon"})}if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(gi,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var h=$re({},e);return delete h.legendIcon,A.cloneElement(e.legendIcon,h)}return A.createElement(Gw,{fill:u,cx:i,cy:i,size:gi,sizeType:"diameter",type:c})}function Qre(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=t,u={x:0,y:0,width:gi,height:gi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||i,E=At({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?o:h.color,w=g?g(h.value,h,p):h.value;return A.createElement("li",Zg({className:E,style:c,key:"legend-item-".concat(p)},zh(t,h,p)),A.createElement(Vw,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(w," legend icon")},A.createElement(Xre,{data:h,iconType:a,inactiveColor:o})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w))})}var Zre=t=>{var e=ar(t,Jre),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:o},A.createElement(Qre,Zg({},e,{payload:n})))},nE={},rE={},sO;function eie(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a,o,n);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e})(rE)),rE}var iE={},aO;function tie(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(iE)),iE}var oE={},lO;function l5(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(oE)),oE}var sE={},aE={},lE={},uO;function nie(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(lE)),lE}var cO;function $w(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nie();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(aE)),aE}var uE={},fO;function rie(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(uE)),uE}var dO;function iie(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=rie();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(sE)),sE}var cE={},fE={},hO;function oie(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(fE)),fE}var dE={},hE={},pE={},mE={},pO;function u5(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(mE)),mE}var gE={},mO;function c5(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(gE)),gE}var yE={},gO;function f5(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(yE)),yE}var yO;function sie(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u5(),n=c5(),r=f5();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function E(x,w,S,P,k,D){const B=g(x,w,S,P,k,D);return B!==void 0?!!B:o(x,w,E,D)},new Map)}function o(h,p,g,E){if(p===h)return!0;switch(typeof p){case"object":return a(h,p,g,E);case"function":return Object.keys(p).length>0?o(h,{...p},g,E):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function a(h,p,g,E){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,E);if(p instanceof Map)return u(h,p,g,E);if(p instanceof Set)return f(h,p,g,E);const x=Object.keys(p);if(h==null||n.isPrimitive(h))return x.length===0;if(x.length===0)return!0;if(E!=null&&E.has(p))return E.get(p)===h;E==null||E.set(p,h);try{for(let w=0;w<x.length;w++){const S=x[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!g(h[S],p[S],S,h,p,E))return!1}return!0}finally{E==null||E.delete(p)}}function u(h,p,g,E){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,w]of p.entries()){const S=h.get(x);if(g(S,w,x,h,p,E)===!1)return!1}return!0}function c(h,p,g,E){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let w=0;w<p.length;w++){const S=p[w];let P=!1;for(let k=0;k<h.length;k++){if(x.has(k))continue;const D=h[k];let B=!1;if(g(D,S,w,h,p,E)&&(B=!0),B){x.add(k),P=!0;break}}if(!P)return!1}return!0}function f(h,p,g,E){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,E):!1}t.isMatchWith=i,t.isSetMatch=f})(pE)),pE}var vO;function d5(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sie();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(hE)),hE}var vE={},bE={},_E={},bO;function aie(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(_E)),_E}var EE={},_O;function Kw(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(EE)),EE}var TE={},EO;function h5(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",E="[object Object]",x="[object Error]",w="[object DataView]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",D="[object Uint32Array]",B="[object BigUint64Array]",F="[object Int8Array]",U="[object Int16Array]",M="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=x,t.float32ArrayTag=V,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=U,t.int32ArrayTag=M,t.int8ArrayTag=F,t.mapTag=c,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=k,t.uint32ArrayTag=D,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=P})(TE)),TE}var xE={},TO;function lie(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(xE)),xE}var xO;function p5(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aie(),n=Kw(),r=h5(),i=c5(),o=lie();function a(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,E=new Map,x=void 0){const w=x==null?void 0:x(h,p,g,E);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const S=new Array(h.length);E.set(h,S);for(let P=0;P<h.length;P++)S[P]=u(h[P],P,g,E,x);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;E.set(h,S);for(const[P,k]of h)S.set(P,u(k,P,g,E,x));return S}if(h instanceof Set){const S=new Set;E.set(h,S);for(const P of h)S.add(u(P,void 0,g,E,x));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,S);for(let P=0;P<h.length;P++)S[P]=u(h[P],P,g,E,x);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,S),c(S,h,g,E,x),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return E.set(h,S),c(S,h,g,E,x),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return E.set(h,S),c(S,h,g,E,x),S}if(h instanceof Error){const S=new h.constructor;return E.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,c(S,h,g,E,x),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return E.set(h,S),c(S,h,g,E,x),S}if(h instanceof Number){const S=new Number(h.valueOf());return E.set(h,S),c(S,h,g,E,x),S}if(h instanceof String){const S=new String(h.valueOf());return E.set(h,S),c(S,h,g,E,x),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return E.set(h,S),c(S,h,g,E,x),S}return h}function c(h,p,g=h,E,x){const w=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<w.length;S++){const P=w[S],k=Object.getOwnPropertyDescriptor(h,P);(k==null||k.writable)&&(h[P]=u(p[P],P,g,E,x))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c})(bE)),bE}var SO;function uie(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(vE)),vE}var wO;function cie(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=uie();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(dE)),dE}var SE={},wE={},AE={},AO;function fie(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p5(),n=Kw(),r=h5();function i(o,a){return e.cloneDeepWith(o,(u,c,f,h)=>{const p=a==null?void 0:a(u,c,f,h);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),e.copyProperties(g,o,f,h),g}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(g,o),g}case r.argumentsTag:{const g={};return e.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(AE)),AE}var CO;function die(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fie();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(wE)),wE}var CE={},IE={},IO;function m5(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(IE)),IE}var PE={},PO;function hie(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(PE)),PE}var RO;function pie(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=m5(),r=hie(),i=qw();function o(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=a;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=o})(CE)),CE}var MO;function mie(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=zw(),r=die(),i=Hw(),o=pie();function a(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a})(SE)),SE}var NO;function gie(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=oie(),r=cie(),i=mie();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(cE)),cE}var DO;function yie(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eie(),n=tie(),r=l5(),i=iie(),o=gie();function a(u,c=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(c),1)):[]}t.uniqBy=a})(nE)),nE}var RE,OO;function vie(){return OO||(OO=1,RE=yie().uniqBy),RE}var bie=vie();const kO=Ho(bie);function g5(t,e,n){return e===!0?kO(t,n):typeof e=="function"?kO(t,e):t}var ME={exports:{}},NE={},DE={exports:{}},OE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function _ie(){if(LO)return OE;LO=1;var t=Zc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(p,g){var E=g(),x=r({inst:{value:E,getSnapshot:g}}),w=x[0].inst,S=x[1];return o(function(){w.value=E,w.getSnapshot=g,c(w)&&S({inst:w})},[p,E,g]),i(function(){return c(w)&&S({inst:w}),p(function(){c(w)&&S({inst:w})})},[p]),a(E),E}function c(p){var g=p.getSnapshot;p=p.value;try{var E=g();return!n(p,E)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return OE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,OE}var VO;function Eie(){return VO||(VO=1,DE.exports=_ie()),DE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO;function Tie(){if(UO)return NE;UO=1;var t=Zc(),e=Eie();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return NE.useSyncExternalStoreWithSelector=function(f,h,p,g,E){var x=o(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=u(function(){function P(U){if(!k){if(k=!0,D=U,U=g(U),E!==void 0&&w.hasValue){var M=w.value;if(E(M,U))return B=M}return B=U}if(M=B,r(D,U))return M;var O=g(U);return E!==void 0&&E(M,O)?(D=U,M):(D=U,B=O)}var k=!1,D,B,F=p===void 0?null:p;return[function(){return P(h())},F===null?void 0:function(){return P(F())}]},[h,p,g,E]);var S=i(f,x[0],x[1]);return a(function(){w.hasValue=!0,w.value=S},[S]),c(S),S},NE}var BO;function xie(){return BO||(BO=1,ME.exports=Tie()),ME.exports}var Sie=xie(),Yw=A.createContext(null),wie=t=>t,Ft=()=>{var t=A.useContext(Yw);return t?t.store.dispatch:wie},Eg=()=>{},Aie=()=>Eg,Cie=(t,e)=>t===e;function Le(t){var e=A.useContext(Yw),n=A.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Eg,[e,t]);return Sie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Aie,e?e.store.getState:Eg,e?e.store.getState:Eg,n,Cie)}function Iie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Pie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Rie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FO=t=>Array.isArray(t)?t:[t];function Mie(t){const e=Array.isArray(t[0])?t[0]:t;return Rie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Nie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Die=class{constructor(t){this.value=t}deref(){return this.value}},Oie=typeof WeakRef<"u"?WeakRef:Die,kie=0,jO=1;function Gm(){return{s:kie,v:void 0,o:null,p:null}}function y5(t,e={}){let n=Gm();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var p;let u=n;const{length:c}=arguments;for(let g=0,E=c;g<E;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(x);S===void 0?(u=Gm(),w.set(x,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(x);S===void 0?(u=Gm(),w.set(x,u)):u=S}}const f=u;let h;if(u.s===jO)h=u.v;else if(h=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Oie(h):h}return f.s=jO,f.v=h,h}return a.clearCache=()=>{n=Gm(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Lie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),Iie(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:E=y5,argsMemoizeOptions:x=[]}=h,w=FO(g),S=FO(x),P=Mie(i),k=p(function(){return o++,f.apply(null,arguments)},...w),D=E(function(){a++;const F=Nie(P,arguments);return u=k.apply(null,F),u},...S);return Object.assign(D,{resultFunc:f,memoizedResultFunc:k,dependencies:P,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var re=Lie(y5),Vie=Object.assign((t,e=re)=>{Pie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>Vie}),kE={},LE={},VE={},zO;function Uie(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(VE)),VE}var UE={},BE={},qO;function v5(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(BE)),BE}var HO;function Bie(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(UE)),UE}var GO;function Fie(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uie(),n=Bie(),r=qw();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const f=(E,x)=>{let w=E;for(let S=0;S<x.length&&w!=null;++S)w=w[x[S]];return w},h=(E,x)=>x==null||E==null?x:typeof E=="object"&&"key"in E?Object.hasOwn(x,E.key)?x[E.key]:f(x,E.path):typeof E=="function"?E(x):Array.isArray(E)?f(x,E):typeof x=="object"?x[E]:x,p=a.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:p.map(x=>h(x,E))})).slice().sort((E,x)=>{for(let w=0;w<p.length;w++){const S=e.compareValues(E.criteria[w],x.criteria[w],u[w]);if(S!==0)return S}return 0}).map(E=>E.original)}t.orderBy=i})(LE)),LE}var FE={},$O;function jie(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e})(FE)),FE}var jE={},KO;function b5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m5(),n=$w(),r=u5(),i=f5();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],a):!1}t.isIterateeCall=o})(jE)),jE}var YO;function zie(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fie(),n=jie(),r=b5();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(kE)),kE}var zE,WO;function qie(){return WO||(WO=1,zE=zie().sortBy),zE}var Hie=qie();const _v=Ho(Hie);var _5=t=>t.legend.settings,Gie=t=>t.legend.size,$ie=t=>t.legend.payload,Kie=re([$ie,_5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_v(r,n):r});function Yie(){return Le(Kie)}var $m=1;function E5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>$m||Math.abs(a.left-e.left)>$m||Math.abs(a.top-e.top)>$m||Math.abs(a.width-e.width)>$m)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Wie=typeof Symbol=="function"&&Symbol.observable||"@@observable",JO=Wie,qE=()=>Math.random().toString(36).substring(7).split("").join("."),Jie={INIT:`@@redux/INIT${qE()}`,REPLACE:`@@redux/REPLACE${qE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qE()}`},ey=Jie;function Ww(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function T5(t,e,n){if(typeof t!="function")throw new Error(er(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(er(1));return n(T5)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function f(){a===o&&(a=new Map,o.forEach((S,P)=>{a.set(P,S)}))}function h(){if(c)throw new Error(er(3));return i}function p(S){if(typeof S!="function")throw new Error(er(4));if(c)throw new Error(er(5));let P=!0;f();const k=u++;return a.set(k,S),function(){if(P){if(c)throw new Error(er(6));P=!1,f(),a.delete(k),o=null}}}function g(S){if(!Ww(S))throw new Error(er(7));if(typeof S.type>"u")throw new Error(er(8));if(typeof S.type!="string")throw new Error(er(17));if(c)throw new Error(er(9));try{c=!0,i=r(i,S)}finally{c=!1}return(o=a).forEach(k=>{k()}),S}function E(S){if(typeof S!="function")throw new Error(er(10));r=S,g({type:ey.REPLACE})}function x(){const S=p;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(er(11));function k(){const B=P;B.next&&B.next(h())}return k(),{unsubscribe:S(k)}},[JO](){return this}}}return g({type:ey.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:E,[JO]:x}}function Xie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ey.INIT})>"u")throw new Error(er(12));if(typeof n(void 0,{type:ey.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function x5(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Xie(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],E=a[p],x=g(E,u);if(typeof x>"u")throw u&&u.type,new Error(er(14));f[p]=x,c=c||x!==E}return c=c||r.length!==Object.keys(a).length,c?f:a}}function ty(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Qie(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(er(15))};const a={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(a));return o=ty(...u)(i.dispatch),{...i,dispatch:o}}}function S5(t){return Ww(t)&&"type"in t&&typeof t.type=="string"}var w5=Symbol.for("immer-nothing"),XO=Symbol.for("immer-draftable"),Cr=Symbol.for("immer-state");function Hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Jr=Object,Fc=Jr.getPrototypeOf,ny="constructor",Ev="prototype",Px="configurable",ry="enumerable",Tg="writable",hh="value",Es=t=>!!t&&!!t[Cr];function Zi(t){var e;return t?A5(t)||xv(t)||!!t[XO]||!!((e=t[ny])!=null&&e[XO])||Sv(t)||wv(t):!1}var Zie=Jr[Ev][ny].toString(),QO=new WeakMap;function A5(t){if(!t||!Jw(t))return!1;const e=Fc(t);if(e===null||e===Jr[Ev])return!0;const n=Jr.hasOwnProperty.call(e,ny)&&e[ny];if(n===Object)return!0;if(!fc(n))return!1;let r=QO.get(n);return r===void 0&&(r=Function.toString.call(n),QO.set(n,r)),r===Zie}function Tv(t,e,n=!0){qh(t)===0?(n?Reflect.ownKeys(t):Jr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function qh(t){const e=t[Cr];return e?e.type_:xv(t)?1:Sv(t)?2:wv(t)?3:0}var ZO=(t,e,n=qh(t))=>n===2?t.has(e):Jr[Ev].hasOwnProperty.call(t,e),Rx=(t,e,n=qh(t))=>n===2?t.get(e):t[e],iy=(t,e,n,r=qh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function eoe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var xv=Array.isArray,Sv=t=>t instanceof Map,wv=t=>t instanceof Set,Jw=t=>typeof t=="object",fc=t=>typeof t=="function",HE=t=>typeof t=="boolean";function toe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ps=t=>t.copy_||t.base_,Xw=t=>t.modified_?t.copy_:t.base_;function Mx(t,e){if(Sv(t))return new Map(t);if(wv(t))return new Set(t);if(xv(t))return Array[Ev].slice.call(t);const n=A5(t);if(e===!0||e==="class_only"&&!n){const r=Jr.getOwnPropertyDescriptors(t);delete r[Cr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u[Tg]===!1&&(u[Tg]=!0,u[Px]=!0),(u.get||u.set)&&(r[a]={[Px]:!0,[Tg]:!0,[ry]:u[ry],[hh]:t[a]})}return Jr.create(Fc(t),r)}else{const r=Fc(t);if(r!==null&&n)return{...t};const i=Jr.create(r);return Jr.assign(i,t)}}function Qw(t,e=!1){return Av(t)||Es(t)||!Zi(t)||(qh(t)>1&&Jr.defineProperties(t,{set:Km,add:Km,clear:Km,delete:Km}),Jr.freeze(t),e&&Tv(t,(n,r)=>{Qw(r,!0)},!1)),t}function noe(){Hi(2)}var Km={[hh]:noe};function Av(t){return t===null||!Jw(t)?!0:Jr.isFrozen(t)}var oy="MapSet",Nx="Patches",e2="ArrayMethods",C5={};function Zl(t){const e=C5[t];return e||Hi(0,t),e}var t2=t=>!!C5[t],ph,I5=()=>ph,roe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:t2(oy)?Zl(oy):void 0,arrayMethodsPlugin_:t2(e2)?Zl(e2):void 0});function n2(t,e){e&&(t.patchPlugin_=Zl(Nx),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Dx(t){Ox(t),t.drafts_.forEach(ioe),t.drafts_=null}function Ox(t){t===ph&&(ph=t.parent_)}var r2=t=>ph=roe(ph,t);function ioe(t){const e=t[Cr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function i2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Cr].modified_&&(Dx(e),Hi(4)),Zi(t)&&(t=o2(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Cr].base_,t,e)}else t=o2(e,n);return ooe(e,t,!0),Dx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==w5?t:void 0}function o2(t,e){if(Av(e))return e;const n=e[Cr];if(!n)return sy(e,t.handledSet_,t);if(!Cv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);M5(n,t)}return n.copy_}function ooe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qw(e,n)}function P5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Cv=(t,e)=>t.scope_===e,soe=[];function R5(t,e,n,r){const i=ps(t),o=t.type_;if(r!==void 0&&Rx(i,r,o)===e){iy(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Tv(i,(c,f)=>{if(Es(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const a=t.draftLocations_.get(e)??soe;for(const u of a)iy(i,u,n,o)}function aoe(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Cv(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const a=Xw(o);R5(t,o.draft_??o,a,n),M5(o,i)})}function M5(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}P5(t)}}function loe(t,e,n){const{scope_:r}=t;if(Es(n)){const i=n[Cr];Cv(i,r)&&i.callbacks_.push(function(){xg(t);const a=Xw(i);R5(t,n,a,e)})}else Zi(n)&&t.callbacks_.push(function(){const o=ps(t);t.type_===3?o.has(n)&&sy(n,r.handledSet_,r):Rx(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&sy(Rx(t.copy_,e,t.type_),r.handledSet_,r)})}function sy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Es(t)||e.has(t)||!Zi(t)||Av(t)||(e.add(t),Tv(t,(r,i)=>{if(Es(i)){const o=i[Cr];if(Cv(o,n)){const a=Xw(o);iy(t,r,a,t.type_),P5(o)}}else Zi(i)&&sy(i,e,n)})),t}function uoe(t,e){const n=xv(t),r={type_:n?1:0,scope_:e?e.scope_:I5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=ay;n&&(i=[r],o=mh);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,[u,r]}var ay={get(t,e){if(e===Cr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ps(t);if(!ZO(i,e,t.type_))return coe(t,i,e);const o=i[e];if(t.finalized_||!Zi(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&toe(e))return o;if(o===GE(t.base_,e)){xg(t);const a=t.type_===1?+e:e,u=Lx(t.scope_,o,t,a);return t.copy_[a]=u}return o},has(t,e){return e in ps(t)},ownKeys(t){return Reflect.ownKeys(ps(t))},set(t,e,n){const r=N5(ps(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=GE(ps(t),e),o=i==null?void 0:i[Cr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(eoe(n,i)&&(n!==void 0||ZO(t.base_,e,t.type_)))return!0;xg(t),kx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),loe(t,e,n)),!0},deleteProperty(t,e){return xg(t),GE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),kx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ps(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Tg]:!0,[Px]:t.type_!==1||e!=="length",[ry]:r[ry],[hh]:n[e]}},defineProperty(){Hi(11)},getPrototypeOf(t){return Fc(t.base_)},setPrototypeOf(){Hi(12)}},mh={};for(let t in ay){let e=ay[t];mh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}mh.deleteProperty=function(t,e){return mh.set.call(this,t,e,void 0)};mh.set=function(t,e,n){return ay.set.call(this,t[0],e,n,t[0])};function GE(t,e){const n=t[Cr];return(n?ps(n):t)[e]}function coe(t,e,n){var i;const r=N5(e,n);return r?hh in r?r[hh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function N5(t,e){if(!(e in t))return;let n=Fc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fc(n)}}function kx(t){t.modified_||(t.modified_=!0,t.parent_&&kx(t.parent_))}function xg(t){t.copy_||(t.assigned_=new Map,t.copy_=Mx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var foe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(fc(n)&&!fc(r)){const a=r;r=n;const u=this;return function(f=a,...h){return u.produce(f,p=>r.call(this,p,...h))}}fc(r)||Hi(6),i!==void 0&&!fc(i)&&Hi(7);let o;if(Zi(n)){const a=r2(this),u=Lx(a,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?Dx(a):Ox(a)}return n2(a,i),i2(o,a)}else if(!n||!Jw(n)){if(o=r(n),o===void 0&&(o=n),o===w5&&(o=void 0),this.autoFreeze_&&Qw(o,!0),i){const a=[],u=[];Zl(Nx).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:u}),i(a,u)}return o}else Hi(1,n)},this.produceWithPatches=(n,r)=>{if(fc(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},HE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),HE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),HE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zi(e)||Hi(8),Es(e)&&(e=Xi(e));const n=r2(this),r=Lx(n,e,void 0);return r[Cr].isManual_=!0,Ox(n),r}finishDraft(e,n){const r=e&&e[Cr];(!r||!r.isManual_)&&Hi(9);const{scope_:i}=r;return n2(i,n),i2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Zl(Nx).applyPatches_;return Es(e)?i(e,n):this.produce(e,o=>i(o,n))}};function Lx(t,e,n,r){const[i,o]=Sv(e)?Zl(oy).proxyMap_(e,n):wv(e)?Zl(oy).proxySet_(e,n):uoe(e,n);return((n==null?void 0:n.scope_)??I5()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?aoe(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function Xi(t){return Es(t)||Hi(10,t),D5(t)}function D5(t){if(!Zi(t)||Av(t))return t;const e=t[Cr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Mx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Mx(t,!0);return Tv(n,(i,o)=>{iy(n,i,D5(o))},r),e&&(e.finalized_=!1),n}var doe=new foe,O5=doe.produce;function k5(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var hoe=k5(),poe=k5,moe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ty:ty.apply(null,arguments)};function Ci(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>S5(r)&&r.type===t,n}var L5=class Fd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fd.prototype)}static get[Symbol.species](){return Fd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fd(...e[0].concat(this)):new Fd(...e.concat(this))}};function s2(t){return Zi(t)?O5(t,()=>{}):t}function Ym(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function goe(t){return typeof t=="boolean"}var yoe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new L5;return n&&(goe(n)?a.push(hoe):a.push(poe(n.extraArgument))),a},V5="RTK_autoBatch",Wt=()=>t=>({payload:t,meta:{[V5]:!0}}),a2=t=>e=>{setTimeout(e,t)},U5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a2(10):t.type==="callback"?t.queueNotification:a2(t.timeout),f=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[V5]),o=!i,o&&(a||(a=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},voe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new L5(t);return r&&i.push(U5(typeof r=="object"?r:void 0)),i};function boe(t){const e=yoe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Ww(n))u=x5(n);else throw new Error(Xr(1));let c;typeof r=="function"?c=r(e):c=e();let f=ty;i&&(f=moe({trace:!1,...typeof i=="object"&&i}));const h=Qie(...c),p=voe(h);let g=typeof a=="function"?a(p):p();const E=f(...g);return T5(u,o,E)}function B5(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Xr(28));if(u in e)throw new Error(Xr(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function _oe(t){return typeof t=="function"}function Eoe(t,e){let[n,r,i]=B5(e),o;if(_oe(t))o=()=>s2(t());else{const u=s2(t);o=()=>u}function a(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Es(h)){const E=p(h,c);return E===void 0?h:E}else{if(Zi(h))return O5(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return a.getInitialState=o,a}var Toe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xoe=(t=21)=>{let e="",n=t;for(;n--;)e+=Toe[Math.random()*64|0];return e},Soe=Symbol.for("rtk-slice-createasyncthunk");function woe(t,e){return`${t}/${e}`}function Aoe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Soe];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Xr(11));const u=(typeof i.reducers=="function"?i.reducers(Ioe()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,F){const U=typeof B=="string"?B:B.type;if(!U)throw new Error(Xr(12));if(U in f.sliceCaseReducersByType)throw new Error(Xr(13));return f.sliceCaseReducersByType[U]=F,h},addMatcher(B,F){return f.sliceMatchers.push({matcher:B,reducer:F}),h},exposeAction(B,F){return f.actionCreators[B]=F,h},exposeCaseReducer(B,F){return f.sliceCaseReducersByName[B]=F,h}};c.forEach(B=>{const F=u[B],U={reducerName:B,type:woe(o,B),createNotation:typeof i.reducers=="function"};Roe(F)?Noe(U,F,h,e):Poe(U,F,h)});function p(){const[B={},F=[],U=void 0]=typeof i.extraReducers=="function"?B5(i.extraReducers):[i.extraReducers],M={...B,...f.sliceCaseReducersByType};return Eoe(i.initialState,O=>{for(let V in M)O.addCase(V,M[V]);for(let V of f.sliceMatchers)O.addMatcher(V.matcher,V.reducer);for(let V of F)O.addMatcher(V.matcher,V.reducer);U&&O.addDefaultCase(U)})}const g=B=>B,E=new Map,x=new WeakMap;let w;function S(B,F){return w||(w=p()),w(B,F)}function P(){return w||(w=p()),w.getInitialState()}function k(B,F=!1){function U(O){let V=O[B];return typeof V>"u"&&F&&(V=Ym(x,U,P)),V}function M(O=g){const V=Ym(E,F,()=>new WeakMap);return Ym(V,O,()=>{const z={};for(const[q,H]of Object.entries(i.selectors??{}))z[q]=Coe(H,O,()=>Ym(x,O,P),F);return z})}return{reducerPath:B,getSelectors:M,get selectors(){return M(U)},selectSlice:U}}const D={name:o,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:P,...k(a),injectInto(B,{reducerPath:F,...U}={}){const M=F??a;return B.inject({reducerPath:M,reducer:S},U),{...D,...k(M,!0)}}};return D}}function Coe(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var Ur=Aoe();function Ioe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Poe({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!Moe(r))throw new Error(Xr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Ci(t,a):Ci(t))}function Roe(t){return t._reducerDefinitionType==="asyncThunk"}function Moe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Noe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xr(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,o,h);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:a||Wm,pending:u||Wm,rejected:c||Wm,settled:f||Wm})}function Wm(){}var Doe="task",F5="listener",j5="completed",Zw="cancelled",Ooe=`task-${Zw}`,koe=`task-${j5}`,Vx=`${F5}-${Zw}`,Loe=`${F5}-${j5}`,Iv=class{constructor(t){b_(this,"name","TaskAbortError");b_(this,"message");this.code=t,this.message=`${Doe} ${Zw} (reason: ${t})`}},eA=(t,e)=>{if(typeof t!="function")throw new TypeError(Xr(32))},ly=()=>{},z5=(t,e=ly)=>(t.catch(e),t),q5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Hl=t=>{if(t.aborted)throw new Iv(t.reason)};function H5(t,e){let n=ly;return new Promise((r,i)=>{const o=()=>i(new Iv(t.reason));if(t.aborted){o();return}n=q5(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ly})}var Voe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Iv?"cancelled":"rejected",error:n}}finally{e==null||e()}},uy=t=>e=>z5(H5(t,e).then(n=>(Hl(t),n))),G5=t=>{const e=uy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Mc}=Object,l2={},Pv="listenerMiddleware",Uoe=(t,e)=>{const n=r=>q5(t,()=>r.abort(t.reason));return(r,i)=>{eA(r);const o=new AbortController;n(o);const a=Voe(async()=>{Hl(t),Hl(o.signal);const u=await r({pause:uy(o.signal),delay:G5(o.signal),signal:o.signal});return Hl(o.signal),u},()=>o.abort(koe));return i!=null&&i.autoJoin&&e.push(a.catch(ly)),{result:uy(t)(a),cancel(){o.abort(Ooe)}}}},Boe=(t,e)=>{const n=async(r,i)=>{Hl(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await H5(e,Promise.race(u));return Hl(e),c}finally{o()}};return(r,i)=>z5(n(r,i))},$5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ci(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xr(21));return eA(o),{predicate:i,type:e,effect:o}},K5=Mc(t=>{const{type:e,predicate:n,effect:r}=$5(t);return{id:xoe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xr(22))}}},{withTypes:()=>K5}),u2=(t,e)=>{const{type:n,effect:r,predicate:i}=$5(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Ux=t=>{t.pending.forEach(e=>{e.abort(Vx)})},Foe=(t,e)=>()=>{for(const n of e.keys())Ux(n);t.clear()},c2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Y5=Mc(Ci(`${Pv}/add`),{withTypes:()=>Y5}),joe=Ci(`${Pv}/removeAll`),W5=Mc(Ci(`${Pv}/remove`),{withTypes:()=>W5}),zoe=(...t)=>{console.error(`${Pv}/error`,...t)},Hh=(t={})=>{const e=new Map,n=new Map,r=E=>{const x=n.get(E)??0;n.set(E,x+1)},i=E=>{const x=n.get(E)??1;x===1?n.delete(E):n.set(E,x-1)},{extra:o,onError:a=zoe}=t;eA(a);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),x=>{E.unsubscribe(),x!=null&&x.cancelActive&&Ux(E)}),c=E=>{const x=u2(e,E)??K5(E);return u(x)};Mc(c,{withTypes:()=>c});const f=E=>{const x=u2(e,E);return x&&(x.unsubscribe(),E.cancelActive&&Ux(x)),!!x};Mc(f,{withTypes:()=>f});const h=async(E,x,w,S)=>{const P=new AbortController,k=Boe(c,P.signal),D=[];try{E.pending.add(P),r(E),await Promise.resolve(E.effect(x,Mc({},w,{getOriginalState:S,condition:(B,F)=>k(B,F).then(Boolean),take:k,delay:G5(P.signal),pause:uy(P.signal),extra:o,signal:P.signal,fork:Uoe(P.signal,D),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((B,F,U)=>{B!==P&&(B.abort(Vx),U.delete(B))})},cancel:()=>{P.abort(Vx),E.pending.delete(P)},throwIfCancelled:()=>{Hl(P.signal)}})))}catch(B){B instanceof Iv||c2(a,B,{raisedBy:"effect"})}finally{await Promise.all(D),P.abort(Loe),i(E),E.pending.delete(P)}},p=Foe(e,n);return{middleware:E=>x=>w=>{if(!S5(w))return x(w);if(Y5.match(w))return c(w.payload);if(joe.match(w)){p();return}if(W5.match(w))return f(w.payload);let S=E.getState();const P=()=>{if(S===l2)throw new Error(Xr(23));return S};let k;try{if(k=x(w),e.size>0){const D=E.getState(),B=Array.from(e.values());for(const F of B){let U=!1;try{U=F.predicate(w,D,S)}catch(M){U=!1,c2(a,M,{raisedBy:"predicate"})}U&&h(F,w,E,P)}}}finally{S=l2}return k},startListening:c,stopListening:f,clearListeners:p}};function Xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},J5=Ur({name:"chartLayout",initialState:qoe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Hoe,setLayout:Goe,setChartSize:$oe,setScale:Koe}=J5.actions,Yoe=J5.reducer;function X5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vt(t){return Number.isFinite(t)}function Va(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e,n){return Gn(t)||Gn(e)?n:jo(e)?Xl(t,e,n):typeof e=="function"?e(t):n}var Qoe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&Ve(t[o]))return xc(xc({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&Ve(t[a]))return xc(xc({},t),{},{[a]:t[a]+(i||0)})}return t},Ka=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Zoe=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},ese=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,u=0;u<n;++u){var c=t[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=Fo(h)?p:h;g>=0?(f[0]=o,o+=g,f[1]=o):(f[0]=a,a+=g,f[1]=a)}}}},tse=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var u=t[a],c=u==null?void 0:u[i];if(c!=null){var f=Fo(c[1])?c[0]:c[1];f>=0?(c[0]=o,o+=f,c[1]=o):(c[0]=0,c[1]=0)}}}},nse={sign:ese,expand:_re,none:Jl,silhouette:Ere,wiggle:Tre,positive:tse},rse=(t,e,n)=>{var r,i=(r=nse[n])!==null&&r!==void 0?r:Jl,o=bre().keys(e).value((u,c)=>Number(Gt(u,c,0))).order(Cx).offset(i),a=o(t);return a.forEach((u,c)=>{u.forEach((f,h)=>{var p=Gt(t[h],e[c],0);Array.isArray(p)&&p.length===2&&Ve(p[0])&&Ve(p[1])&&(f[0]=p[0],f[1]=p[1])})}),a};function ise(t){return t==null?void 0:String(t)}var d2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var u=Gt(o,e.dataKey,e.scale.domain()[a]);if(Gn(u))return null;var c=e.scale.map(u);return Ve(c)?c-i/2+r:null},ose=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},sse=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},ase=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],lse=(t,e,n)=>{if(t!=null)return ase(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:a}=o,u=a.reduce((c,f)=>{var h=X5(f,e,n),p=sse(h);return!vt(p[0])||!vt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_v(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],f=i[a-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function m2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return xc(xc({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Rv(t,e){if(t)return String(t);if(typeof e=="string")return e}var use=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},cse=(t,e)=>e==="centric"?t.angle:t.radius,Ds=t=>t.layout.width,Os=t=>t.layout.height,fse=t=>t.layout.scale,Q5=t=>t.layout.margin,Mv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Nv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Z5="data-recharts-item-index",eF="data-recharts-item-id",Gh=60;function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return(e=hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=pse(t,"string");return typeof e=="symbol"?e:e+""}function pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mse=t=>t.brush.height;function gse(t){var e=Nv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gh;return n+i}return n},0)}function yse(t){var e=Nv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gh;return n+i}return n},0)}function vse(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function bse(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var On=re([Ds,Os,Q5,mse,gse,yse,vse,bse,_5,Gie],(t,e,n,r,i,o,a,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+a,bottom:(n.bottom||0)+u},g=Jm(Jm({},p),h),E=g.bottom;g.bottom+=r,g=Qoe(g,c,f);var x=t-g.left-g.right,w=e-g.top-g.bottom;return Jm(Jm({brushBottom:E},g),{},{width:Math.max(x,0),height:Math.max(w,0)})}),_se=re(On,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),tA=re(Ds,Os,(t,e)=>({x:0,y:0,width:t,height:e})),Ese=A.createContext(null),Zr=()=>A.useContext(Ese)!=null,Dv=t=>t.brush,Ov=re([Dv,On,Q5],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),$E={},KE={},YE={},y2;function Tse(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},p=()=>{f&&h(),w()};let g=null;const E=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},x=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{x(),a=void 0,u=null},S=()=>{h()},P=function(...k){if(i!=null&&i.aborted)return;a=this,u=k;const D=g==null;E(),c&&D&&h()};return P.schedule=E,P.cancel=w,P.flush=S,i==null||i.addEventListener("abort",w,{once:!0}),P}t.debounce=e})(YE)),YE}var v2;function xse(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tse();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);a&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),E=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},x=()=>(g.flush(),h);return E.cancel=g.cancel,E.flush=x,E}t.debounce=n})(KE)),KE}var b2;function Sse(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xse();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})($E)),$E}var WE,_2;function wse(){return _2||(_2=1,WE=Sse().throttle),WE}var Ase=wse();const Cse=Ho(Ase);var E2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Ro={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},tF=(t,e,n)=>{var{width:r=Ro.width,height:i=Ro.height,aspect:o,maxHeight:a}=n,u=Ql(r)?t:Number(r),c=Ql(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:u,calculatedHeight:c}},Ise={width:0,height:0,overflow:"visible"},Pse={width:0,overflowX:"visible"},Rse={height:0,overflowY:"visible"},Mse={},Nse=t=>{var{width:e,height:n}=t,r=Ql(e),i=Ql(n);return r&&i?Ise:r?Pse:i?Rse:Mse};function Dse(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i=Ro.width,o=Ro.height):i===void 0?i=r&&r>0?void 0:Ro.width:o===void 0&&(o=r&&r>0?void 0:Ro.height),{width:i,height:o}}function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(null,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e,n){return(e=kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nF=A.createContext(Ro.initialDimension);function Vse(t){return Va(t.width)&&Va(t.height)}function rF(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Vse(i)?A.createElement(nF.Provider,{value:i},e):null}var nA=()=>A.useContext(nF),Use=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ro.initialDimension,width:i,height:o,minWidth:a=Ro.minWidth,minHeight:u,maxHeight:c,children:f,debounce:h=Ro.debounce,id:p,className:g,onResize:E,style:x={}}=t,w=A.useRef(null),S=A.useRef();S.current=E,A.useImperativeHandle(e,()=>w.current);var[P,k]=A.useState({containerWidth:r.width,containerHeight:r.height}),D=A.useCallback((O,V)=>{k(z=>{var q=Math.round(O),H=Math.round(V);return z.containerWidth===q&&z.containerHeight===H?z:{containerWidth:q,containerHeight:H}})},[]);A.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return af;var O=H=>{var $,ve=H[0];if(ve!=null){var{width:Ee,height:X}=ve.contentRect;D(Ee,X),($=S.current)===null||$===void 0||$.call(S,Ee,X)}};h>0&&(O=Cse(O,h,{trailing:!0,leading:!1}));var V=new ResizeObserver(O),{width:z,height:q}=w.current.getBoundingClientRect();return D(z,q),V.observe(w.current),()=>{V.disconnect()}},[D,h]);var{containerWidth:B,containerHeight:F}=P;E2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:M}=tF(B,F,{width:i,height:o,aspect:n,maxHeight:c});return E2(U!=null&&U>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,M,i,o,a,u,n),A.createElement("div",{id:p?"".concat(p):void 0,className:At("recharts-responsive-container",g),style:x2(x2({},x),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:w},A.createElement("div",{style:Nse({width:i,height:o})},A.createElement(rF,{width:U,height:M},f)))}),fy=A.forwardRef((t,e)=>{var n=nA();if(Va(n.width)&&Va(n.height))return t.children;var{width:r,height:i}=Dse({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=tF(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(o)&&Ve(a)?A.createElement(rF,{width:o,height:a},t.children):A.createElement(Use,Bx({},t,{width:r,height:i,ref:e}))});function rA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var kv=()=>{var t,e=Zr(),n=Le(_se),r=Le(Ov),i=(t=Le(Dv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Bse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Fse=()=>{var t;return(t=Le(On))!==null&&t!==void 0?t:Bse},iF=()=>Le(Ds),oF=()=>Le(Os),jse=()=>Le(t=>t.layout.margin),Et=t=>t.layout.layoutType,lf=()=>Le(Et),sF=()=>{var t=lf();if(t==="horizontal"||t==="vertical")return t},aF=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},zse=()=>{var t=lf();return t!==void 0},$h=t=>{var e=Ft(),n=Zr(),{width:r,height:i}=t,o=nA(),a=r,u=i;return o&&(a=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&Va(a)&&Va(u)&&e($oe({width:a,height:u}))},[e,n,a,u]),null},lF=Symbol.for("immer-nothing"),S2=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gh=Object.getPrototypeOf;function jc(t){return!!t&&!!t[Qr]}function eu(t){var e;return t?uF(t)||Array.isArray(t)||!!t[S2]||!!((e=t.constructor)!=null&&e[S2])||Kh(t)||Vv(t):!1}var qse=Object.prototype.constructor.toString(),w2=new WeakMap;function uF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=w2.get(n);return r===void 0&&(r=Function.toString.call(n),w2.set(n,r)),r===qse}function dy(t,e,n=!0){Lv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lv(t){const e=t[Qr];return e?e.type_:Array.isArray(t)?1:Kh(t)?2:Vv(t)?3:0}function Fx(t,e){return Lv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function cF(t,e,n){const r=Lv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Hse(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kh(t){return t instanceof Map}function Vv(t){return t instanceof Set}function Dl(t){return t.copy_||t.base_}function jx(t,e){if(Kh(t))return new Map(t);if(Vv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=uF(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(gh(t),r)}else{const r=gh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function iA(t,e=!1){return Uv(t)||jc(t)||!eu(t)||(Lv(t)>1&&Object.defineProperties(t,{set:Xm,add:Xm,clear:Xm,delete:Xm}),Object.freeze(t),e&&Object.values(t).forEach(n=>iA(n,!0))),t}function Gse(){Gi(2)}var Xm={value:Gse};function Uv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $se={};function tu(t){const e=$se[t];return e||Gi(0,t),e}var yh;function fF(){return yh}function Kse(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A2(t,e){e&&(tu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zx(t){qx(t),t.drafts_.forEach(Yse),t.drafts_=null}function qx(t){t===yh&&(yh=t.parent_)}function C2(t){return yh=Kse(yh,t)}function Yse(t){const e=t[Qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qr].modified_&&(zx(e),Gi(4)),eu(t)&&(t=hy(e,t),e.parent_||py(e,t)),e.patches_&&tu("Patches").generateReplacementPatches_(n[Qr].base_,t,e.patches_,e.inversePatches_)):t=hy(e,n,[]),zx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lF?t:void 0}function hy(t,e,n){if(Uv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Qr];if(!i)return dy(e,(o,a)=>P2(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return py(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,u=!1;i.type_===3&&(a=new Set(o),o.clear(),u=!0),dy(a,(c,f)=>P2(t,i,o,c,f,n,u),r),py(t,o,!1),n&&t.patches_&&tu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function P2(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const u=Uv(i);if(!(u&&!a)){if(jc(i)){const c=o&&e&&e.type_!==3&&!Fx(e.assigned_,r)?o.concat(r):void 0,f=hy(t,i,c);if(cF(n,r,f),jc(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(eu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;hy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Kh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&py(t,i)}}}function py(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&iA(e,n)}function Wse(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:fF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=oA;n&&(i=[r],o=vh);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var oA={get(t,e){if(e===Qr)return t;const n=Dl(t);if(!Fx(n,e))return Jse(t,n,e);const r=n[e];return t.finalized_||!eu(r)?r:r===JE(t.base_,e)?(XE(t),t.copy_[e]=Gx(r,t)):r},has(t,e){return e in Dl(t)},ownKeys(t){return Reflect.ownKeys(Dl(t))},set(t,e,n){const r=dF(Dl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=JE(Dl(t),e),o=i==null?void 0:i[Qr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Hse(n,i)&&(n!==void 0||Fx(t.base_,e)))return!0;XE(t),Hx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return JE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,XE(t),Hx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Dl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Gi(11)},getPrototypeOf(t){return gh(t.base_)},setPrototypeOf(){Gi(12)}},vh={};dy(oA,(t,e)=>{vh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vh.deleteProperty=function(t,e){return vh.set.call(this,t,e,void 0)};vh.set=function(t,e,n){return oA.set.call(this,t[0],e,n,t[0])};function JE(t,e){const n=t[Qr];return(n?Dl(n):t)[e]}function Jse(t,e,n){var i;const r=dF(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function dF(t,e){if(!(e in t))return;let n=gh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gh(n)}}function Hx(t){t.modified_||(t.modified_=!0,t.parent_&&Hx(t.parent_))}function XE(t){t.copy_||(t.copy_=jx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xse=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...f){return a.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Gi(6),r!==void 0&&typeof r!="function"&&Gi(7);let i;if(eu(e)){const o=C2(this),a=Gx(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?zx(o):qx(o)}return A2(o,r),I2(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===lF&&(i=void 0),this.autoFreeze_&&iA(i,!0),r){const o=[],a=[];tu("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Gi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){eu(t)||Gi(8),jc(t)&&(t=Qse(t));const e=C2(this),n=Gx(t,void 0);return n[Qr].isManual_=!0,qx(e),n}finishDraft(t,e){const n=t&&t[Qr];(!n||!n.isManual_)&&Gi(9);const{scope_:r}=n;return A2(r,e),I2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=tu("Patches").applyPatches_;return jc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Gx(t,e){const n=Kh(t)?tu("MapSet").proxyMap_(t,e):Vv(t)?tu("MapSet").proxySet_(t,e):Wse(t,e);return(e?e.scope_:fF()).drafts_.push(n),n}function Qse(t){return jc(t)||Gi(10,t),hF(t)}function hF(t){if(!eu(t)||Uv(t))return t;const e=t[Qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=jx(t,!0);return dy(n,(i,o)=>{cF(n,i,hF(o))},r),e&&(e.finalized_=!1),n}var Zse=new Xse;Zse.produce;var eae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},pF=Ur({name:"legend",initialState:eae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Wt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Xi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Wt()},removeLegendPayload:{reducer(t,e){var n=Xi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Wt()}}}),{setLegendSize:R2,setLegendSettings:tae,addLegendPayload:mF,replaceLegendPayload:gF,removeLegendPayload:yF}=pF.actions,nae=pF.reducer,rae=["contextPayload"];function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(null,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var n,r,i=lae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uae(t){return t.value}function cae(t){var{contextPayload:e}=t,n=aae(t,rae),r=g5(e,t.payloadUniqBy,uae),i=zc(zc({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(Zre,i)}function fae(t,e,n,r,i,o){var{layout:a,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),zc(zc({},f),h)}function dae(t){var e=Ft();return A.useEffect(()=>{e(tae(t))},[e,t]),null}function hae(t){var e=Ft();return A.useEffect(()=>(e(R2(t)),()=>{e(R2({width:0,height:0}))}),[e,t]),null}function pae(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var mae={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function vF(t){var e=ar(t,mae),n=Yie(),r=qne(),i=jse(),{width:o,height:a,wrapperStyle:u,portal:c}=e,[f,h]=E5([n]),p=iF(),g=oF();if(p==null||g==null)return null;var E=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=pae(e.layout,a,o,E),w=c?u:zc(zc({position:"absolute",width:(x==null?void 0:x.width)||o||"auto",height:(x==null?void 0:x.height)||a||"auto"},fae(u,e,i,p,g,f)),u),S=c??r;if(S==null||n==null)return null;var P=A.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},A.createElement(dae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&A.createElement(hae,{width:f.width,height:f.height}),A.createElement(cae,$x({},e,x,{margin:i,chartWidth:p,chartHeight:g,contextPayload:n})));return Uw.createPortal(P,S)}vF.displayName="Legend";function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(null,arguments)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bae(t){return Array.isArray(t)&&jo(t[0])&&jo(t[1])?t.join(" ~ "):t}var oc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},_ae=t=>{var{separator:e=oc.separator,contentStyle:n,itemStyle:r,labelStyle:i=oc.labelStyle,payload:o,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=oc.accessibilityLayer}=t,E=()=>{if(o&&o.length){var F={padding:0,margin:0},U=(u?_v(o,u):o).map((M,O)=>{if(M.type==="none")return null;var V=M.formatter||a||bae,{value:z,name:q}=M,H=z,$=q;if(V){var ve=V(z,q,M,O,o);if(Array.isArray(ve))[H,$]=ve;else if(ve!=null)H=ve;else return null}var Ee=Id(Id({},oc.itemStyle),{},{color:M.color||oc.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Ee},jo($)?A.createElement("span",{className:"recharts-tooltip-item-name"},$):null,jo($)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:F},U)}return null},x=Id(Id({},oc.contentStyle),n),w=Id({margin:0},i),S=!Gn(h),P=S?h:"",k=At("recharts-default-tooltip",c),D=At("recharts-tooltip-label",f);S&&p&&o!==void 0&&o!==null&&(P=p(h,o));var B=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Kx({className:k,style:x},B),A.createElement("p",{className:D,style:w},A.isValidElement(P)?P:"".concat(P)),E())},Pd="recharts-tooltip-wrapper",Eae={visibility:"hidden"};function Tae(t){var{coordinate:e,translateX:n,translateY:r}=t;return At(Pd,{["".concat(Pd,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Pd,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Pd,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Pd,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function D2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&Ve(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?h:p;var g=c[r];if(g==null)return 0;if(a[r]){var E=h,x=g;return E<x?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var w=p+u,S=g+f;return w>S?Math.max(h,g):Math.max(p,g)}function xae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Sae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:u,useTranslate3d:c,viewBox:f}=t,h,p,g;return u.height>0&&u.width>0&&n?(p=D2({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=D2({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=xae({translateX:p,translateY:g,useTranslate3d:c})):h=Eae,{cssProperties:h,cssClasses:Tae({translateX:p,translateY:g,coordinate:n})}}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yx(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=Aae(t,"string");return typeof e=="symbol"?e:e+""}function Aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cae extends A.PureComponent{constructor(){super(...arguments),Yx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:E,wrapperStyle:x,lastBoundingBox:w,innerRef:S,hasPortalFromProps:P}=this.props,k=typeof f=="number"?f:f.x,D=typeof f=="number"?f:f.y,{cssClasses:B,cssProperties:F}=Sae({allowEscapeViewBox:n,coordinate:a,offsetLeft:k,offsetTop:D,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:E}),U=P?{}:Qm(Qm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Qm(Qm({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:M,ref:S},o)}}var bF=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(null,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2={curveBasisClosed:lre,curveBasisOpen:ure,curveBasis:are,curveBumpX:Kne,curveBumpY:Yne,curveLinearClosed:cre,curveLinear:vv,curveMonotoneX:fre,curveMonotoneY:dre,curveNatural:hre,curveStep:pre,curveStepAfter:gre,curveStepBefore:mre},my=t=>vt(t.x)&&vt(t.y),U2=t=>t.base!=null&&my(t.base)&&my(t),Rd=t=>t.x,Md=t=>t.y,Mae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(jh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=V2["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return V2[n]||vv},B2={connectNulls:!1,type:"linear"},Nae=t=>{var{type:e=B2.type,points:n=[],baseLine:r,layout:i,connectNulls:o=B2.connectNulls}=t,a=Mae(e,i),u=o?n.filter(my):n;if(Array.isArray(r)){var c,f=n.map((x,w)=>L2(L2({},x),{},{base:r[w]}));i==="vertical"?c=Hm().y(Md).x1(Rd).x0(x=>x.base.x):c=Hm().x(Rd).y1(Md).y0(x=>x.base.y);var h=c.defined(U2).curve(a),p=o?f.filter(U2):f;return h(p)}var g;i==="vertical"&&Ve(r)?g=Hm().y(Md).x1(Rd).x0(r):Ve(r)?g=Hm().x(Rd).y1(Md).y0(r):g=KB().x(Rd).y(Md);var E=g.defined(my).curve(a);return E(u)},sA=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=lf();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?Nae(a):r;return A.createElement("path",Wx({},Bo(t),Fre(t),{className:At("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Dae=["x","y","top","left","width","height","className"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uae(t,e){if(t==null)return{};var n,r,i=Bae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fae=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),jae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,c=Uae(t,Dae),f=Oae({x:e,y:n,top:r,left:i,width:o,height:a},c);return!Ve(e)||!Ve(n)||!Ve(o)||!Ve(a)||!Ve(r)||!Ve(i)?null:A.createElement("path",Jx({},Ai(f),{className:At("recharts-cross",u),d:Fae(e,n,o,a,r,i)}))};function zae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_F=(t,e,n)=>t.map(r=>"".concat($ae(r)," ").concat(e,"ms ").concat(n)).join(","),Kae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bh=(t,e)=>Object.keys(e).reduce((n,r)=>z2(z2({},n),{},{[r]:t(r,e[r])}),{});function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return(e=Wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Jae(t,"string");return typeof e=="symbol"?e:e+""}function Jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gy=(t,e,n)=>t+(e-t)*n,Xx=t=>{var{from:e,to:n}=t;return e!==n},EF=(t,e,n)=>{var r=bh((i,o)=>{if(Xx(o)){var[a,u]=t(o.from,o.to,o.velocity);return Mn(Mn({},o),{},{from:a,velocity:u})}return o},e);return n<1?bh((i,o)=>Xx(o)&&r[i]!=null?Mn(Mn({},o),{},{velocity:gy(o.velocity,r[i].velocity,n),from:gy(o.from,r[i].from,n)}):o,e):EF(t,r,n-1)};function Xae(t,e,n,r,i,o){var a,u=r.reduce((g,E)=>Mn(Mn({},g),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),c=()=>bh((g,E)=>E.from,u),f=()=>!Object.values(u).filter(Xx).length,h=null,p=g=>{a||(a=g);var E=g-a,x=E/n.dt;u=EF(n,u,x),i(Mn(Mn(Mn({},t),e),c())),a=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function Qae(t,e,n,r,i,o,a){var u=null,c=i.reduce((p,g)=>{var E=t[g],x=e[g];return E==null||x==null?p:Mn(Mn({},p),{},{[g]:[E,x]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,E=bh((w,S)=>gy(...S,n(g)),c);if(o(Mn(Mn(Mn({},t),e),E)),g<1)u=a.setTimeout(h);else{var x=bh((w,S)=>gy(...S,n(1)),c);o(Mn(Mn(Mn({},t),e),x))}};return()=>(u=a.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const Zae=(t,e,n,r,i,o)=>{var a=Kae(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?Xae(t,e,n,a,i,o):Qae(t,e,n,r,a,i,o)};var yy=1e-4,TF=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],xF=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),H2=(t,e)=>n=>{var r=TF(t,e);return xF(r,n)},ele=(t,e)=>n=>{var r=TF(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return xF(i,n)},tle=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},nle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=tle(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},rle=(t,e,n,r)=>{var i=H2(t,n),o=H2(e,r),a=ele(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var E=i(p)-h,x=a(p);if(Math.abs(E-h)<yy||x<yy)return o(p);p=u(p-E/x)}return o(p)};return c.isStepper=!1,c},G2=function(){return rle(...nle(...arguments))},ile=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var f=-(a-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+a;return Math.abs(g-u)<yy&&Math.abs(p)<yy?[u,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},ole=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G2(t);case"spring":return ile();default:if(t.split("(")[0]==="cubic-bezier")return G2(t)}return typeof t=="function"?t:null};function sle(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class ale{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function lle(){return sle(new ale)}var ule=A.createContext(lle);function cle(t,e){var n=A.useContext(ule);return A.useMemo(()=>e??n(t),[t,e,n])}var fle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bv={isSsr:fle()},dle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$2={t:0},QE={t:1};function Fv(t){var e=ar(t,dle),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!Bv.isSsr:n,p=cle(e.animationId,e.animationManager),[g,E]=A.useState(h?$2:QE),x=A.useRef(null);return A.useEffect(()=>{h||E(QE)},[h]),A.useEffect(()=>{if(!h||!r)return af;var w=Zae($2,QE,ole(o),i,E,p.getTimeoutController()),S=()=>{x.current=w()};return p.start([c,a,S,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[h,r,i,o,a,c,u,p]),f(g.t)}function jv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(dh(e)),r=A.useRef(t);return r.current!==t&&(n.current=dh(e),r.current=t),n.current}var hle=["radius"],ple=["radius"],K2,Y2,W2,J2,X2,Q2,Z2,ek,tk,nk;function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(null,arguments)}function ok(t,e){if(t==null)return{};var n,r,i=vle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function So(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sk=(t,e,n,r,i)=>{var o=Aa(n),a=Aa(r),u=Math.min(Math.abs(o)/2,Math.abs(a)/2),c=a>=0?1:-1,f=o>=0?1:-1,h=a>=0&&o>=0||a<0&&o<0?1:0,p;if(u>0&&Array.isArray(i)){for(var g=[0,0,0,0],E=0,x=4;E<x;E++){var w,S=(w=i[E])!==null&&w!==void 0?w:0;g[E]=S>u?u:S}p=on(K2||(K2=So(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=on(Y2||(Y2=So(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=on(W2||(W2=So(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=on(J2||(J2=So(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=on(X2||(X2=So(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=on(Q2||(Q2=So(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=on(Z2||(Z2=So(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=on(ek||(ek=So(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var P=Math.min(u,i);p=on(tk||(tk=So(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*P,P,P,h,t+f*P,e,t+n-f*P,e,P,P,h,t+n,e+c*P,t+n,e+r-c*P,P,P,h,t+n-f*P,e+r,t+f*P,e+r,P,P,h,t,e+r-c*P)}else p=on(nk||(nk=So(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},ak={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SF=t=>{var e=ar(t,ak),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:o,y:a,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:E,isAnimationActive:x,isUpdateAnimationActive:w}=e,S=A.useRef(u),P=A.useRef(c),k=A.useRef(o),D=A.useRef(a),B=A.useMemo(()=>({x:o,y:a,width:u,height:c,radius:f}),[o,a,u,c,f]),F=jv(B,"rectangle-");if(o!==+o||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var U=At("recharts-rectangle",h);if(!w){var M=Ai(e),{radius:O}=M,V=ok(M,hle);return A.createElement("path",vy({},V,{x:Aa(o),y:Aa(a),width:Aa(u),height:Aa(c),radius:typeof f=="number"?f:void 0,className:U,d:sk(o,a,u,c,f)}))}var z=S.current,q=P.current,H=k.current,$=D.current,ve="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),X=_F(["strokeDasharray"],g,typeof p=="string"?p:ak.animationEasing);return A.createElement(Fv,{animationId:F,key:F,canBegin:r>0,duration:g,easing:p,isActive:w,begin:E},ie=>{var fe=Rn(z,u,ie),Te=Rn(q,c,ie),W=Rn(H,o,ie),L=Rn($,a,ie);n.current&&(S.current=fe,P.current=Te,k.current=W,D.current=L);var K;x?ie>0?K={transition:X,strokeDasharray:Ee}:K={strokeDasharray:ve}:K={strokeDasharray:Ee};var Z=Ai(e),{radius:ae}=Z,ge=ok(Z,ple);return A.createElement("path",vy({},ge,{radius:typeof f=="number"?f:void 0,className:U,d:sk(W,L,fe,Te,f),ref:n,style:ik(ik({},K),e.style)}))})};function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var by=Math.PI/180,Tle=t=>t*180/Math.PI,Sn=(t,e,n,r)=>({x:t+Math.cos(-by*r)*n,y:e+Math.sin(-by*r)*n}),wF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xle=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Sle=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=xle({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Tle(c),angleInRadian:c}},wle=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Ale=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},Cle=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Sle({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:f}=wle(e),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?uk(uk({},e),{},{radius:i,angle:Ale(h,e)}):null};function AF(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Sn(e,n,r,i),u=Sn(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var ck,fk,dk,hk,pk,mk,gk;function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(null,arguments)}function Bl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ile=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,f=u*(a?1:-1)+r,h=Math.asin(u/f)/by,p=c?i:i+o*h,g=Sn(e,n,f,p),E=Sn(e,n,r,p),x=c?i-o*h:i,w=Sn(e,n,f*Math.cos(h*by),x);return{center:g,circleTangency:E,lineTangency:w,theta:h}},CF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=Ile(o,a),c=o+u,f=Sn(e,n,i,o),h=Sn(e,n,i,c),p=on(ck||(ck=Bl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>c),h.x,h.y);if(r>0){var g=Sn(e,n,r,o),E=Sn(e,n,r,c);p+=on(fk||(fk=Bl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),E.x,E.y,r,r,+(Math.abs(u)>180),+(o<=c),g.x,g.y)}else p+=on(dk||(dk=Bl(["L ",","," Z"])),e,n);return p},Ple=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=or(f-c),{circleTangency:p,lineTangency:g,theta:E}=Zm({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:x,lineTangency:w,theta:S}=Zm({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),P=u?Math.abs(c-f):Math.abs(c-f)-E-S;if(P<0)return a?on(hk||(hk=Bl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):CF({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var k=on(pk||(pk=Bl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(P>180),+(h<0),x.x,x.y,o,o,+(h<0),w.x,w.y);if(r>0){var{circleTangency:D,lineTangency:B,theta:F}=Zm({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:U,lineTangency:M,theta:O}=Zm({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),V=u?Math.abs(c-f):Math.abs(c-f)-F-O;if(V<0&&o===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=on(mk||(mk=Bl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,o,o,+(h<0),U.x,U.y,r,r,+(V>180),+(h>0),D.x,D.y,o,o,+(h<0),B.x,B.y)}else k+=on(gk||(gk=Bl(["L",",","Z"])),e,n);return k},Rle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IF=t=>{var e=ar(t,Rle),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(o<i||f===h)return null;var g=At("recharts-sector",p),E=o-i,x=gr(a,E,0,!0),w;return x>0&&Math.abs(f-h)<360?w=Ple({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,E/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):w=CF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),A.createElement("path",Qx({},Ai(e),{className:g,d:w}))};function Mle(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(a5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:u}=e,c=Sn(r,i,o,u),f=Sn(r,i,a,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return AF(e)}}var ZE={},eT={},tT={},yk;function Nle(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(tT)),tT}var vk;function Dle(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nle();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(eT)),eT}var bk;function Ole(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b5(),n=Dle();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=a;return c}t.range=r})(ZE)),ZE}var nT,_k;function kle(){return _k||(_k=1,nT=Ole().range),nT}var Lle=kle();const PF=Ho(Lle);function Ia(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aA(t){let e,n,r;t.length!==2?(e=Ia,n=(u,c)=>Ia(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ia||t===Vle?t:Ule,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:a,right:o}}function Ule(){return 0}function RF(t){return t===null?NaN:+t}function*Ble(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fle=aA(Ia),Yh=Fle.right;aA(RF).center;class Ek extends Map{constructor(e,n=qle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Tk(this,e))}has(e){return super.has(Tk(this,e))}set(e,n){return super.set(jle(this,e),n)}delete(e){return super.delete(zle(this,e))}}function Tk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hle(t=Ia){if(t===Ia)return MF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function MF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gle=Math.sqrt(50),$le=Math.sqrt(10),Kle=Math.sqrt(2);function _y(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Gle?10:o>=$le?5:o>=Kle?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?_y(t,e,n*2):[u,c,f]}function Zx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?_y(e,t,n):_y(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function eS(t,e,n){return e=+e,t=+t,n=+n,_y(t,e,n)[2]}function tS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?eS(e,t,n):eS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Sk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?MF:Hle(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),E=Math.max(n,Math.floor(e-f*p/c+g)),x=Math.min(r,Math.floor(e+(c-f)*p/c+g));NF(t,e,E,x,i)}const o=t[e];let a=n,u=r;for(Nd(t,n,e),i(t[r],o)>0&&Nd(t,n,r);a<u;){for(Nd(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Nd(t,n,u):(++u,Nd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Nd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yle(t,e,n){if(t=Float64Array.from(Ble(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Sk(t);if(e>=1)return xk(t);var r,i=(r-1)*e,o=Math.floor(i),a=xk(NF(t,o).subarray(0,o+1)),u=Sk(t.subarray(o+1));return a+(u-a)*(i-o)}}function Wle(t,e,n=RF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Jle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nS=Symbol("implicit");function lA(){var t=new Ek,e=[],n=[],r=nS;function i(o){let a=t.get(o);if(a===void 0){if(r!==nS)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ek;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lA(e,n).unknown(r)},Pi.apply(i,arguments),i}function uA(){var t=lA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,E=i<r,x=E?i:r,w=E?r:i;o=(w-x)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),x+=(w-x-o*(g-c))*h,a=o*(1-c),u&&(x=Math.round(x),a=Math.round(a));var S=Jle(g).map(function(P){return x+o*P});return n(E?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return uA(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Pi.apply(p(),arguments)}function DF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DF(e())},t}function Xle(){return DF(uA.apply(null,arguments).paddingInner(1))}function cA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function OF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wh(){}var _h=.7,Ey=1/_h,Nc="\\s*([+-]?\\d+)\\s*",Eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qle=/^#([0-9a-f]{3,8})$/,Zle=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),eue=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),tue=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${Eh}\\)$`),nue=new RegExp(`^rgba\\(${Do},${Do},${Do},${Eh}\\)$`),rue=new RegExp(`^hsl\\(${Eh},${Do},${Do}\\)$`),iue=new RegExp(`^hsla\\(${Eh},${Do},${Do},${Eh}\\)$`),wk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cA(Wh,Th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ak,formatHex:Ak,formatHex8:oue,formatHsl:sue,formatRgb:Ck,toString:Ck});function Ak(){return this.rgb().formatHex()}function oue(){return this.rgb().formatHex8()}function sue(){return kF(this).formatHsl()}function Ck(){return this.rgb().formatRgb()}function Th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qle.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ik(e):n===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?eg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?eg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zle.exec(t))?new Vr(e[1],e[2],e[3],1):(e=eue.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tue.exec(t))?eg(e[1],e[2],e[3],e[4]):(e=nue.exec(t))?eg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rue.exec(t))?Mk(e[1],e[2]/100,e[3]/100,1):(e=iue.exec(t))?Mk(e[1],e[2]/100,e[3]/100,e[4]):wk.hasOwnProperty(t)?Ik(wk[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function Ik(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function eg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vr(t,e,n,r)}function aue(t){return t instanceof Wh||(t=Th(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function rS(t,e,n,r){return arguments.length===1?aue(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cA(Vr,rS,OF(Wh,{brighter(t){return t=t==null?Ey:Math.pow(Ey,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(Gl(this.r),Gl(this.g),Gl(this.b),Ty(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pk,formatHex:Pk,formatHex8:lue,formatRgb:Rk,toString:Rk}));function Pk(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function lue(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rk(){const t=Ty(this.opacity);return`${t===1?"rgb(":"rgba("}${Gl(this.r)}, ${Gl(this.g)}, ${Gl(this.b)}${t===1?")":`, ${t})`}`}function Ty(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fl(t){return t=Gl(t),(t<16?"0":"")+t.toString(16)}function Mk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $i(t,e,n,r)}function kF(t){if(t instanceof $i)return new $i(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=Th(t)),!t)return new $i;if(t instanceof $i)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new $i(a,u,c,t.opacity)}function uue(t,e,n,r){return arguments.length===1?kF(t):new $i(t,e,n,r??1)}function $i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cA($i,uue,OF(Wh,{brighter(t){return t=t==null?Ey:Math.pow(Ey,t),new $i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new $i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vr(rT(t>=240?t-240:t+120,i,r),rT(t,i,r),rT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $i(Nk(this.h),tg(this.s),tg(this.l),Ty(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ty(this.opacity);return`${t===1?"hsl(":"hsla("}${Nk(this.h)}, ${tg(this.s)*100}%, ${tg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Nk(t){return t=(t||0)%360,t<0?t+360:t}function tg(t){return Math.max(0,Math.min(1,t||0))}function rT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fA=t=>()=>t;function cue(t,e){return function(n){return t+n*e}}function fue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function due(t){return(t=+t)==1?LF:function(e,n){return n-e?fue(e,n,t):fA(isNaN(e)?n:e)}}function LF(t,e){var n=e-t;return n?cue(t,n):fA(isNaN(t)?e:t)}const Dk=(function t(e){var n=due(e);function r(i,o){var a=n((i=rS(i)).r,(o=rS(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=LF(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function hue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function pue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=uf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function gue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yue(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=uf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var iS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iT=new RegExp(iS.source,"g");function vue(t){return function(){return t}}function bue(t){return function(e){return t(e)+""}}function _ue(t,e){var n=iS.lastIndex=iT.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=iS.exec(t))&&(i=iT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:xy(r,i)})),n=iT.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?bue(c[0].x):vue(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function uf(t,e){var n=typeof e,r;return e==null||n==="boolean"?fA(e):(n==="number"?xy:n==="string"?(r=Th(e))?(e=r,Dk):_ue:e instanceof Th?Dk:e instanceof Date?gue:pue(e)?hue:Array.isArray(e)?mue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yue:xy)(t,e)}function dA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Eue(t,e){e===void 0&&(e=t,t=uf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function Tue(t){return function(){return t}}function Sy(t){return+t}var Ok=[0,1];function Sr(t){return t}function oS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Tue(isNaN(e)?NaN:.5)}function xue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Sue(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=oS(i,r),o=n(a,o)):(r=oS(r,i),o=n(o,a)),function(u){return o(r(u))}}function wue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=oS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=Yh(t,u,1,r)-1;return o[c](i[c](u))}}function Jh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zv(){var t=Ok,e=Ok,n=uf,r,i,o,a=Sr,u,c,f;function h(){var g=Math.min(t.length,e.length);return a!==Sr&&(a=xue(t[0],t[g-1])),u=g>2?wue:Sue,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=u(e,t.map(r),xy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Sy),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=dA,h()},p.clamp=function(g){return arguments.length?(a=g?!0:Sr,h()):a!==Sr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,E){return r=g,i=E,h()}}function hA(){return zv()(Sr,Sr)}function Aue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wy(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qc(t){return t=wy(Math.abs(t)),t?t[1]:NaN}function Cue(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Iue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xh(t){if(!(e=Pue.exec(t)))throw new Error("invalid format: "+t);var e;return new pA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xh.prototype=pA.prototype;function pA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ay;function Mue(t,e){var n=wy(t,e);if(!n)return Ay=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Ay=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wy(t,Math.max(0,e+o-1))[0]}function kk(t,e){var n=wy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Lk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Aue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kk(t*100,e),r:kk,s:Mue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Uk=Array.prototype.map,Bk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nue(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:Cue(Uk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Vk:Iue(Uk.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=xh(p);var E=p.fill,x=p.align,w=p.sign,S=p.symbol,P=p.zero,k=p.width,D=p.comma,B=p.precision,F=p.trim,U=p.type;U==="n"?(D=!0,U="g"):Lk[U]||(B===void 0&&(B=12),F=!0,U="g"),(P||E==="0"&&x==="=")&&(P=!0,E="0",x="=");var M=(g&&g.prefix!==void 0?g.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():""),O=(S==="$"?r:/[%p]/.test(U)?a:"")+(g&&g.suffix!==void 0?g.suffix:""),V=Lk[U],z=/[defgprs%]/.test(U);B=B===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function q(H){var $=M,ve=O,Ee,X,ie;if(U==="c")ve=V(H)+ve,H="";else{H=+H;var fe=H<0||1/H<0;if(H=isNaN(H)?c:V(Math.abs(H),B),F&&(H=Rue(H)),fe&&+H==0&&w!=="+"&&(fe=!1),$=(fe?w==="("?w:u:w==="-"||w==="("?"":w)+$,ve=(U==="s"&&!isNaN(H)&&Ay!==void 0?Bk[8+Ay/3]:"")+ve+(fe&&w==="("?")":""),z){for(Ee=-1,X=H.length;++Ee<X;)if(ie=H.charCodeAt(Ee),48>ie||ie>57){ve=(ie===46?i+H.slice(Ee+1):H.slice(Ee))+ve,H=H.slice(0,Ee);break}}}D&&!P&&(H=e(H,1/0));var Te=$.length+H.length+ve.length,W=Te<k?new Array(k-Te+1).join(E):"";switch(D&&P&&(H=e(W+H,W.length?k-ve.length:1/0),W=""),x){case"<":H=$+H+ve+W;break;case"=":H=$+W+H+ve;break;case"^":H=W.slice(0,Te=W.length>>1)+$+H+ve+W.slice(Te);break;default:H=W+$+H+ve;break}return o(H)}return q.toString=function(){return p+""},q}function h(p,g){var E=Math.max(-8,Math.min(8,Math.floor(qc(g)/3)))*3,x=Math.pow(10,-E),w=f((p=xh(p),p.type="f",p),{suffix:Bk[8+E/3]});return function(S){return w(x*S)}}return{format:f,formatPrefix:h}}var ng,mA,VF;Due({thousands:",",grouping:[3],currency:["$",""]});function Due(t){return ng=Nue(t),mA=ng.format,VF=ng.formatPrefix,ng}function Oue(t){return Math.max(0,-qc(Math.abs(t)))}function kue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qc(e)/3)))*3-qc(Math.abs(t)))}function Lue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qc(e)-qc(t))+1}function UF(t,e,n,r){var i=tS(t,e,n),o;switch(r=xh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=kue(i,a))&&(r.precision=o),VF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Lue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Oue(i))&&(r.precision=o-(r.type==="%")*2);break}}return mA(r)}function Ya(t){var e=t.domain;return t.ticks=function(n){var r=e();return Zx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return UF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,h=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=eS(a,u,n),f===c)return r[i]=a,r[o]=u,e(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function BF(){var t=hA();return t.copy=function(){return Jh(t,BF())},Pi.apply(t,arguments),Ya(t)}function FF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return FF(t).unknown(e)},t=arguments.length?Array.from(t,Sy):[0,1],Ya(n)}function jF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Fk(t){return Math.log(t)}function jk(t){return Math.exp(t)}function Vue(t){return-Math.log(-t)}function Uue(t){return-Math.exp(-t)}function Bue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fue(t){return t===10?Bue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zk(t){return(e,n)=>-t(-e,n)}function gA(t){const e=t(Fk,jk),n=e.domain;let r=10,i,o;function a(){return i=jue(r),o=Fue(r),n()[0]<0?(i=zk(i),o=zk(o),t(Vue,Uue)):t(Fk,jk),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),E=i(h),x,w;const S=u==null?10:+u;let P=[];if(!(r%1)&&E-g<S){if(g=Math.floor(g),E=Math.ceil(E),f>0){for(;g<=E;++g)for(x=1;x<r;++x)if(w=g<0?x/o(-g):x*o(g),!(w<f)){if(w>h)break;P.push(w)}}else for(;g<=E;++g)for(x=r-1;x>=1;--x)if(w=g>0?x/o(-g):x*o(g),!(w<f)){if(w>h)break;P.push(w)}P.length*2<S&&(P=Zx(f,h,S))}else P=Zx(g,E,Math.min(E-g,S)).map(o);return p?P.reverse():P},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=xh(c)).precision==null&&(c.trim=!0),c=mA(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(jF(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function zF(){const t=gA(zv()).domain([1,10]);return t.copy=()=>Jh(t,zF()).base(t.base()),Pi.apply(t,arguments),t}function qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yA(t){var e=1,n=t(qk(e),Hk(e));return n.constant=function(r){return arguments.length?t(qk(e=+r),Hk(e)):e},Ya(n)}function qF(){var t=yA(zv());return t.copy=function(){return Jh(t,qF()).constant(t.constant())},Pi.apply(t,arguments)}function Gk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function que(t){return t<0?-t*t:t*t}function vA(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(zue,que):t(Gk(n),Gk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ya(e)}function bA(){var t=vA(zv());return t.copy=function(){return Jh(t,bA()).exponent(t.exponent())},Pi.apply(t,arguments),t}function Hue(){return bA.apply(null,arguments).exponent(.5)}function $k(t){return Math.sign(t)*t*t}function Gue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HF(){var t=hA(),e=[0,1],n=!1,r;function i(o){var a=Gue(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert($k(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sy)).map($k)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),Ya(i)}function GF(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=Wle(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Yh(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ia),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GF().domain(t).range(e).unknown(r)},Pi.apply(o,arguments)}function $F(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Yh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return $F().domain([t,e]).range(i).unknown(o)},Pi.apply(Ya(a),arguments)}function KF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Yh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return KF().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const oT=new Date,sT=new Date;function kn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<a);return c},i.filter=o=>kn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(oT.setTime(+o),sT.setTime(+a),t(oT),t(sT),Math.floor(n(oT,sT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cy=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cy);Cy.range;const gs=1e3,Ei=gs*60,ys=Ei*60,Ts=ys*24,_A=Ts*7,Kk=Ts*30,aT=Ts*365,jl=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCSeconds());jl.range;const EA=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getMinutes());EA.range;const TA=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCMinutes());TA.range;const xA=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs-t.getMinutes()*Ei)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getHours());xA.range;const SA=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCHours());SA.range;const Xh=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/Ts,t=>t.getDate()-1);Xh.range;const qv=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);qv.range;const YF=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));YF.range;function cu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/_A)}const Hv=cu(0),Iy=cu(1),$ue=cu(2),Kue=cu(3),Hc=cu(4),Yue=cu(5),Wue=cu(6);Hv.range;Iy.range;$ue.range;Kue.range;Hc.range;Yue.range;Wue.range;function fu(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_A)}const Gv=fu(0),Py=fu(1),Jue=fu(2),Xue=fu(3),Gc=fu(4),Que=fu(5),Zue=fu(6);Gv.range;Py.range;Jue.range;Xue.range;Gc.range;Que.range;Zue.range;const wA=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wA.range;const AA=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AA.range;const xs=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xs.range;const Ss=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ss.range;function WF(t,e,n,r,i,o){const a=[[jl,1,gs],[jl,5,5*gs],[jl,15,15*gs],[jl,30,30*gs],[o,1,Ei],[o,5,5*Ei],[o,15,15*Ei],[o,30,30*Ei],[i,1,ys],[i,3,3*ys],[i,6,6*ys],[i,12,12*ys],[r,1,Ts],[r,2,2*Ts],[n,1,_A],[e,1,Kk],[e,3,3*Kk],[t,1,aT]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const E=p&&typeof p.range=="function"?p:c(f,h,p),x=E?E.range(f,+h+1):[];return g?x.reverse():x}function c(f,h,p){const g=Math.abs(h-f)/p,E=aA(([,,S])=>S).right(a,g);if(E===a.length)return t.every(tS(f/aT,h/aT,p));if(E===0)return Cy.every(Math.max(tS(f,h,p),1));const[x,w]=a[g/a[E-1][2]<a[E][2]/g?E-1:E];return x.every(w)}return[u,c]}const[ece,tce]=WF(Ss,AA,Gv,YF,SA,TA),[nce,rce]=WF(xs,wA,Hv,Xh,xA,EA);function lT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ice(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=Od(i),h=kd(i),p=Od(o),g=kd(o),E=Od(a),x=kd(a),w=Od(u),S=kd(u),P=Od(c),k=kd(c),D={a:ie,A:fe,b:Te,B:W,c:null,d:Zk,e:Zk,f:Cce,g:Vce,G:Bce,H:Sce,I:wce,j:Ace,L:JF,m:Ice,M:Pce,p:L,q:K,Q:nL,s:rL,S:Rce,u:Mce,U:Nce,V:Dce,w:Oce,W:kce,x:null,X:null,y:Lce,Y:Uce,Z:Fce,"%":tL},B={a:Z,A:ae,b:ge,B:_e,c:null,d:eL,e:eL,f:Hce,g:efe,G:nfe,H:jce,I:zce,j:qce,L:QF,m:Gce,M:$ce,p:be,q:Me,Q:nL,s:rL,S:Kce,u:Yce,U:Wce,V:Jce,w:Xce,W:Qce,x:null,X:null,y:Zce,Y:tfe,Z:rfe,"%":tL},F={a:z,A:q,b:H,B:$,c:ve,d:Xk,e:Xk,f:_ce,g:Jk,G:Wk,H:Qk,I:Qk,j:gce,L:bce,m:mce,M:yce,p:V,q:pce,Q:Tce,s:xce,S:vce,u:uce,U:cce,V:fce,w:lce,W:dce,x:Ee,X,y:Jk,Y:Wk,Z:hce,"%":Ece};D.x=U(n,D),D.X=U(r,D),D.c=U(e,D),B.x=U(n,B),B.X=U(r,B),B.c=U(e,B);function U(oe,Ce){return function(Pe){var de=[],$e=-1,we=0,et=oe.length,st,Nt,hn;for(Pe instanceof Date||(Pe=new Date(+Pe));++$e<et;)oe.charCodeAt($e)===37&&(de.push(oe.slice(we,$e)),(Nt=Yk[st=oe.charAt(++$e)])!=null?st=oe.charAt(++$e):Nt=st==="e"?" ":"0",(hn=Ce[st])&&(st=hn(Pe,Nt)),de.push(st),we=$e+1);return de.push(oe.slice(we,$e)),de.join("")}}function M(oe,Ce){return function(Pe){var de=Dd(1900,void 0,1),$e=O(de,oe,Pe+="",0),we,et;if($e!=Pe.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ce&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(we=uT(Dd(de.y,0,1)),et=we.getUTCDay(),we=et>4||et===0?Py.ceil(we):Py(we),we=qv.offset(we,(de.V-1)*7),de.y=we.getUTCFullYear(),de.m=we.getUTCMonth(),de.d=we.getUTCDate()+(de.w+6)%7):(we=lT(Dd(de.y,0,1)),et=we.getDay(),we=et>4||et===0?Iy.ceil(we):Iy(we),we=Xh.offset(we,(de.V-1)*7),de.y=we.getFullYear(),de.m=we.getMonth(),de.d=we.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),et="Z"in de?uT(Dd(de.y,0,1)).getUTCDay():lT(Dd(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(et+5)%7:de.w+de.U*7-(et+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,uT(de)):lT(de)}}function O(oe,Ce,Pe,de){for(var $e=0,we=Ce.length,et=Pe.length,st,Nt;$e<we;){if(de>=et)return-1;if(st=Ce.charCodeAt($e++),st===37){if(st=Ce.charAt($e++),Nt=F[st in Yk?Ce.charAt($e++):st],!Nt||(de=Nt(oe,Pe,de))<0)return-1}else if(st!=Pe.charCodeAt(de++))return-1}return de}function V(oe,Ce,Pe){var de=f.exec(Ce.slice(Pe));return de?(oe.p=h.get(de[0].toLowerCase()),Pe+de[0].length):-1}function z(oe,Ce,Pe){var de=E.exec(Ce.slice(Pe));return de?(oe.w=x.get(de[0].toLowerCase()),Pe+de[0].length):-1}function q(oe,Ce,Pe){var de=p.exec(Ce.slice(Pe));return de?(oe.w=g.get(de[0].toLowerCase()),Pe+de[0].length):-1}function H(oe,Ce,Pe){var de=P.exec(Ce.slice(Pe));return de?(oe.m=k.get(de[0].toLowerCase()),Pe+de[0].length):-1}function $(oe,Ce,Pe){var de=w.exec(Ce.slice(Pe));return de?(oe.m=S.get(de[0].toLowerCase()),Pe+de[0].length):-1}function ve(oe,Ce,Pe){return O(oe,e,Ce,Pe)}function Ee(oe,Ce,Pe){return O(oe,n,Ce,Pe)}function X(oe,Ce,Pe){return O(oe,r,Ce,Pe)}function ie(oe){return a[oe.getDay()]}function fe(oe){return o[oe.getDay()]}function Te(oe){return c[oe.getMonth()]}function W(oe){return u[oe.getMonth()]}function L(oe){return i[+(oe.getHours()>=12)]}function K(oe){return 1+~~(oe.getMonth()/3)}function Z(oe){return a[oe.getUTCDay()]}function ae(oe){return o[oe.getUTCDay()]}function ge(oe){return c[oe.getUTCMonth()]}function _e(oe){return u[oe.getUTCMonth()]}function be(oe){return i[+(oe.getUTCHours()>=12)]}function Me(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ce=U(oe+="",D);return Ce.toString=function(){return oe},Ce},parse:function(oe){var Ce=M(oe+="",!1);return Ce.toString=function(){return oe},Ce},utcFormat:function(oe){var Ce=U(oe+="",B);return Ce.toString=function(){return oe},Ce},utcParse:function(oe){var Ce=M(oe+="",!0);return Ce.toString=function(){return oe},Ce}}}var Yk={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,oce=/^%/,sce=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ace(t){return t.replace(sce,"\\$&")}function Od(t){return new RegExp("^(?:"+t.map(ace).join("|")+")","i")}function kd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lce(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uce(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=Kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hce(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pce(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Xk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gce(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qk(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vce(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bce(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ce(t,e,n){var r=Kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ece(t,e,n){var r=oce.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Tce(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xce(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Zk(t,e){return mt(t.getDate(),e,2)}function Sce(t,e){return mt(t.getHours(),e,2)}function wce(t,e){return mt(t.getHours()%12||12,e,2)}function Ace(t,e){return mt(1+Xh.count(xs(t),t),e,3)}function JF(t,e){return mt(t.getMilliseconds(),e,3)}function Cce(t,e){return JF(t,e)+"000"}function Ice(t,e){return mt(t.getMonth()+1,e,2)}function Pce(t,e){return mt(t.getMinutes(),e,2)}function Rce(t,e){return mt(t.getSeconds(),e,2)}function Mce(t){var e=t.getDay();return e===0?7:e}function Nce(t,e){return mt(Hv.count(xs(t)-1,t),e,2)}function XF(t){var e=t.getDay();return e>=4||e===0?Hc(t):Hc.ceil(t)}function Dce(t,e){return t=XF(t),mt(Hc.count(xs(t),t)+(xs(t).getDay()===4),e,2)}function Oce(t){return t.getDay()}function kce(t,e){return mt(Iy.count(xs(t)-1,t),e,2)}function Lce(t,e){return mt(t.getFullYear()%100,e,2)}function Vce(t,e){return t=XF(t),mt(t.getFullYear()%100,e,2)}function Uce(t,e){return mt(t.getFullYear()%1e4,e,4)}function Bce(t,e){var n=t.getDay();return t=n>=4||n===0?Hc(t):Hc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Fce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function eL(t,e){return mt(t.getUTCDate(),e,2)}function jce(t,e){return mt(t.getUTCHours(),e,2)}function zce(t,e){return mt(t.getUTCHours()%12||12,e,2)}function qce(t,e){return mt(1+qv.count(Ss(t),t),e,3)}function QF(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Hce(t,e){return QF(t,e)+"000"}function Gce(t,e){return mt(t.getUTCMonth()+1,e,2)}function $ce(t,e){return mt(t.getUTCMinutes(),e,2)}function Kce(t,e){return mt(t.getUTCSeconds(),e,2)}function Yce(t){var e=t.getUTCDay();return e===0?7:e}function Wce(t,e){return mt(Gv.count(Ss(t)-1,t),e,2)}function ZF(t){var e=t.getUTCDay();return e>=4||e===0?Gc(t):Gc.ceil(t)}function Jce(t,e){return t=ZF(t),mt(Gc.count(Ss(t),t)+(Ss(t).getUTCDay()===4),e,2)}function Xce(t){return t.getUTCDay()}function Qce(t,e){return mt(Py.count(Ss(t)-1,t),e,2)}function Zce(t,e){return mt(t.getUTCFullYear()%100,e,2)}function efe(t,e){return t=ZF(t),mt(t.getUTCFullYear()%100,e,2)}function tfe(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function nfe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gc(t):Gc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function rfe(){return"+0000"}function tL(){return"%"}function nL(t){return+t}function rL(t){return Math.floor(+t/1e3)}var sc,e6,t6;ife({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ife(t){return sc=ice(t),e6=sc.format,sc.parse,t6=sc.utcFormat,sc.utcParse,sc}function ofe(t){return new Date(t)}function sfe(t){return t instanceof Date?+t:+new Date(+t)}function CA(t,e,n,r,i,o,a,u,c,f){var h=hA(),p=h.invert,g=h.domain,E=f(".%L"),x=f(":%S"),w=f("%I:%M"),S=f("%I %p"),P=f("%a %d"),k=f("%b %d"),D=f("%B"),B=f("%Y");function F(U){return(c(U)<U?E:u(U)<U?x:a(U)<U?w:o(U)<U?S:r(U)<U?i(U)<U?P:k:n(U)<U?D:B)(U)}return h.invert=function(U){return new Date(p(U))},h.domain=function(U){return arguments.length?g(Array.from(U,sfe)):g().map(ofe)},h.ticks=function(U){var M=g();return t(M[0],M[M.length-1],U??10)},h.tickFormat=function(U,M){return M==null?F:f(M)},h.nice=function(U){var M=g();return(!U||typeof U.range!="function")&&(U=e(M[0],M[M.length-1],U??10)),U?g(jF(M,U)):h},h.copy=function(){return Jh(h,CA(t,e,n,r,i,o,a,u,c,f))},h}function afe(){return Pi.apply(CA(nce,rce,xs,wA,Hv,Xh,xA,EA,jl,e6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lfe(){return Pi.apply(CA(ece,tce,Ss,AA,Gv,qv,SA,TA,jl,t6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $v(){var t=0,e=1,n,r,i,o,a=Sr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(g){var E,x;return arguments.length?([E,x]=g,a=p(E,x),f):[a(0),a(1)]}}return f.range=h(uf),f.rangeRound=h(dA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Wa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function n6(){var t=Ya($v()(Sr));return t.copy=function(){return Wa(t,n6())},ks.apply(t,arguments)}function r6(){var t=gA($v()).domain([1,10]);return t.copy=function(){return Wa(t,r6()).base(t.base())},ks.apply(t,arguments)}function i6(){var t=yA($v());return t.copy=function(){return Wa(t,i6()).constant(t.constant())},ks.apply(t,arguments)}function IA(){var t=vA($v());return t.copy=function(){return Wa(t,IA()).exponent(t.exponent())},ks.apply(t,arguments)}function ufe(){return IA.apply(null,arguments).exponent(.5)}function o6(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Yh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ia),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Yle(t,o/r))},n.copy=function(){return o6(e).domain(t)},ks.apply(n,arguments)}function Kv(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,f=Sr,h,p=!1,g;function E(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-o)*(r*w<r*o?u:c),f(p?Math.max(0,Math.min(1,w)):w))}E.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(w){return arguments.length?(p=!!w,E):p},E.interpolator=function(w){return arguments.length?(f=w,E):f};function x(w){return function(S){var P,k,D;return arguments.length?([P,k,D]=S,f=Eue(w,[P,k,D]),E):[f(0),f(.5),f(1)]}}return E.range=x(uf),E.rangeRound=x(dA),E.unknown=function(w){return arguments.length?(g=w,E):g},function(w){return h=w,i=w(t),o=w(e),a=w(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E}}function s6(){var t=Ya(Kv()(Sr));return t.copy=function(){return Wa(t,s6())},ks.apply(t,arguments)}function a6(){var t=gA(Kv()).domain([.1,1,10]);return t.copy=function(){return Wa(t,a6()).base(t.base())},ks.apply(t,arguments)}function l6(){var t=yA(Kv());return t.copy=function(){return Wa(t,l6()).constant(t.constant())},ks.apply(t,arguments)}function PA(){var t=vA(Kv());return t.copy=function(){return Wa(t,PA()).exponent(t.exponent())},ks.apply(t,arguments)}function cfe(){return PA.apply(null,arguments).exponent(.5)}const jd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uA,scaleDiverging:s6,scaleDivergingLog:a6,scaleDivergingPow:PA,scaleDivergingSqrt:cfe,scaleDivergingSymlog:l6,scaleIdentity:FF,scaleImplicit:nS,scaleLinear:BF,scaleLog:zF,scaleOrdinal:lA,scalePoint:Xle,scalePow:bA,scaleQuantile:GF,scaleQuantize:$F,scaleRadial:HF,scaleSequential:n6,scaleSequentialLog:r6,scaleSequentialPow:IA,scaleSequentialQuantile:o6,scaleSequentialSqrt:ufe,scaleSequentialSymlog:i6,scaleSqrt:Hue,scaleSymlog:qF,scaleThreshold:KF,scaleTime:afe,scaleUtc:lfe,tickFormat:UF},Symbol.toStringTag,{value:"Module"}));var Ls=t=>t.chartData,Yv=re([Ls],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),u6=(t,e,n,r)=>r?Yv(t):Ls(t),ffe=(t,e,n)=>n?Yv(t):Ls(t);function ws(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vt(e)&&vt(n))return!0}return!1}function iL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function c6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(ws(a))return a}}function dfe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ws(r))return iL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ve(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&h2.test(i)){var c=h2.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var f=+c[1];a=e[0]-f}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ve(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&p2.test(o)){var h=p2.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[a,u];if(ws(g))return e==null?g:iL(g,e,n)}}}var cf=1e9,hfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MA,Jt=!0,Ii="[DecimalError] ",$l=Ii+"Invalid argument: ",RA=Ii+"Exponent out of range: ",ff=Math.floor,Ol=Math.pow,pfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,qn=1e7,qt=7,f6=9007199254740991,Ry=ff(f6/qt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return vs(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return kt(vs(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return An(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wr))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(Wr)?new r(0):(Jt=!1,e=vs(Sh(n,o),Sh(t,o),o),Jt=!0,kt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p6(e,t):d6(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ii+"NaN");return n.s?(Jt=!1,e=vs(n,t,0,1).times(t),Jt=!0,n.minus(e)):kt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return h6(this)};Ne.naturalLogarithm=Ne.ln=function(){return Sh(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d6(e,t):p6(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($l+t);if(e=An(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ii+"NaN")}for(t=An(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Mo(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ff((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(vs(u,o,a+2)).times(.5),Mo(o.d).slice(0,a)===(e=Mo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(kt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Jt=!0,kt(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,o,a,u,c,f,h=this,p=h.constructor,g=h.d,E=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=E.length,c<f&&(o=g,g=E,E=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+E[r]*g[i-r-1]+e,o[i--]=u%qn|0,e=u/qn|0;o[i]=(o[i]+e)%qn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Jt?kt(t,p.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zo(t,0,cf),e===void 0?e=r.rounding:zo(e,0,8),kt(n,t+An(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nu(r,!0):(zo(t,0,cf),e===void 0?e=i.rounding:zo(e,0,8),r=kt(new i(r),t+1,e),n=nu(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?nu(i):(zo(t,0,cf),e===void 0?e=o.rounding:zo(e,0,8),r=kt(new o(i),t+An(i)+1,e),n=nu(r.abs(),!1,t+An(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return kt(new e(t),An(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Wr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ii+"Infinity");return u}if(u.eq(Wr))return u;if(r=c.precision,t.eq(Wr))return kt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=f6){for(i=new c(Wr),e=Math.ceil(r/qt+4),Jt=!1;n%2&&(i=i.times(u),sL(i.d,e)),n=ff(n/2),n!==0;)u=u.times(u),sL(u.d,e);return Jt=!0,t.s<0?new c(Wr).div(i):kt(i,r)}}else if(o<0)throw Error(Ii+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(Sh(u,r+f)),Jt=!0,i=h6(i),i.s=o,i};Ne.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=An(i),r=nu(i,n<=o.toExpNeg||n>=o.toExpPos)):(zo(t,1,cf),e===void 0?e=o.rounding:zo(e,0,8),i=kt(new o(i),t,e),n=An(i),r=nu(i,t<=n||n<=o.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zo(t,1,cf),e===void 0?e=r.rounding:zo(e,0,8)),kt(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=An(t),n=t.constructor;return nu(t,e<=n.toExpNeg||e>=n.toExpPos)};function d6(t,e){var n,r,i,o,a,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Jt?kt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=a,u=c.length),a=Math.ceil(p/qt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/qn|0,c[o]%=qn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Jt?kt(e,p):e}function zo(t,e,n){if(t!==~~t||t<e||t>n)throw Error($l+t)}function Mo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(o+=Ea(n)),o+=r;a=t[e],r=a+"",n=qt-r.length,n&&(o+=Ea(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var vs=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%qn|0,a=o/qn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*qn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,f,h,p,g,E,x,w,S,P,k,D,B,F,U,M,O,V=r.constructor,z=r.s==i.s?1:-1,q=r.d,H=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Ii+"Division by zero");for(c=r.e-i.e,M=H.length,F=q.length,E=new V(z),x=E.d=[],f=0;H[f]==(q[f]||0);)++f;if(H[f]>(q[f]||0)&&--c,o==null?k=o=V.precision:a?k=o+(An(r)-An(i))+1:k=o,k<0)return new V(0);if(k=k/qt+2|0,f=0,M==1)for(h=0,H=H[0],k++;(f<F||h)&&k--;f++)D=h*qn+(q[f]||0),x[f]=D/H|0,h=D%H|0;else{for(h=qn/(H[0]+1)|0,h>1&&(H=t(H,h),q=t(q,h),M=H.length,F=q.length),B=M,w=q.slice(0,M),S=w.length;S<M;)w[S++]=0;O=H.slice(),O.unshift(0),U=H[0],H[1]>=qn/2&&++U;do h=0,u=e(H,w,M,S),u<0?(P=w[0],M!=S&&(P=P*qn+(w[1]||0)),h=P/U|0,h>1?(h>=qn&&(h=qn-1),p=t(H,h),g=p.length,S=w.length,u=e(p,w,g,S),u==1&&(h--,n(p,M<g?O:H,g))):(h==0&&(u=h=1),p=H.slice()),g=p.length,g<S&&p.unshift(0),n(w,p,S),u==-1&&(S=w.length,u=e(H,w,M,S),u<1&&(h++,n(w,M<S?O:H,S))),S=w.length):u===0&&(h++,w=[0]),x[f++]=h,u&&w[0]?w[S++]=q[B]||0:(w=[q[B]],S=1);while((B++<F||w[0]!==void 0)&&k--)}return x[0]||x.shift(),E.e=c,kt(E,a?o+An(E)+1:o)}})();function h6(t,e){var n,r,i,o,a,u,c=0,f=0,h=t.constructor,p=h.precision;if(An(t)>16)throw Error(RA+An(t));if(!t.s)return new h(Wr);for(Jt=!1,u=p,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(Ol(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Wr),h.precision=u;;){if(i=kt(i.times(t),u),n=n.times(++c),a=o.plus(vs(i,n,u)),Mo(a.d).slice(0,u)===Mo(o.d).slice(0,u)){for(;f--;)o=kt(o.times(o),u);return h.precision=p,e==null?(Jt=!0,kt(o,p)):o}o=a}}function An(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function cT(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return kt(new t(t.LN10),e)}function Ea(t){for(var e="";t--;)e+="0";return e}function Sh(t,e){var n,r,i,o,a,u,c,f,h,p=1,g=10,E=t,x=E.d,w=E.constructor,S=w.precision;if(E.s<1)throw Error(Ii+(E.s?"NaN":"-Infinity"));if(E.eq(Wr))return new w(0);if(e==null?(Jt=!1,f=S):f=e,E.eq(10))return e==null&&(Jt=!0),cT(w,f);if(f+=g,w.precision=f,n=Mo(x),r=n.charAt(0),o=An(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=Mo(E.d),r=n.charAt(0),p++;o=An(E),r>1?(E=new w("0."+n),o++):E=new w(r+"."+n.slice(1))}else return c=cT(w,f+2,S).times(o+""),E=Sh(new w(r+"."+n.slice(1)),f-g).plus(c),w.precision=S,e==null?(Jt=!0,kt(E,S)):E;for(u=a=E=vs(E.minus(Wr),E.plus(Wr),f),h=kt(E.times(E),f),i=3;;){if(a=kt(a.times(h),f),c=u.plus(vs(a,new w(i),f)),Mo(c.d).slice(0,f)===Mo(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(cT(w,f+2,S).times(o+""))),u=vs(u,new w(p),f),w.precision=S,e==null?(Jt=!0,kt(u,S)):u;u=c,i+=2}}function oL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ff(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Ry||t.e<-Ry))throw Error(RA+n)}else t.s=0,t.e=0,t.d=[0];return t}function kt(t,e,n){var r,i,o,a,u,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=qt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/qt),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=qt,i=r-qt+a}if(n!==void 0&&(o=Ol(10,a-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ol(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=An(t),p.length=1,e=e-o-1,p[0]=Ol(10,(qt-e%qt)%qt),t.e=ff(-e/qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ol(10,qt-r),p[h]=i>0?(f/Ol(10,a-i)%Ol(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==qn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=qn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Jt&&(t.e>Ry||t.e<-Ry))throw Error(RA+An(t));return t}function p6(t,e){var n,r,i,o,a,u,c,f,h,p,g=t.constructor,E=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Jt?kt(e,E):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(E/qt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=qn-1;--c[o],c[i]+=qn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Jt?kt(e,E):e):new g(0)}function nu(t,e,n){var r,i=An(t),o=Mo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ea(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ea(-i-1)+o,n&&(r=n-a)>0&&(o+=Ea(r))):i>=a?(o+=Ea(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ea(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ea(r))),t.s<0?"-"+o:o}function sL(t,e){if(t.length>e)return t.length=e,!0}function m6(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($l+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return oL(a,o.toString())}else if(typeof o!="string")throw Error($l+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,pfe.test(o))oL(a,o);else throw Error($l+o)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m6,i.config=i.set=mfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mfe(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,r,i=["precision",1,cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ff(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($l+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($l+n+": "+r);return this}var MA=m6(hfe);Wr=new MA(1);const wt=MA;function g6(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function y6(t,e,n){for(var r=new wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var v6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},b6=(t,e,n)=>{if(t.lte(0))return new wt(0);var r=g6(t.toNumber()),i=new wt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new wt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new wt(c.toNumber()):new wt(Math.ceil(c.toNumber()))},gfe=(t,e,n)=>{var r=new wt(1),i=new wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new wt(10).pow(g6(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));for(var a=Math.floor((e-1)/2),u=[],c=0;c<e;c++)u.push(i.add(new wt(c-a).mul(r)).toNumber());return u},_6=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=b6(new wt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new wt(0):(u=new wt(e).add(n).div(2),u=u.sub(new wt(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),f=Math.ceil(new wt(n).sub(u).div(a).toNumber()),h=c+f+1;return h>r?_6(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:a,tickMin:u.sub(new wt(c).mul(a)),tickMax:u.add(new wt(f).mul(a))})},yfe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[u,c]=v6([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?f.reverse():f}if(u===c)return gfe(u,i,o);var{step:h,tickMin:p,tickMax:g}=_6(u,c,a,o,0),E=y6(p,g.add(new wt(.1).mul(h)),h);return n>r?E.reverse():E},vfe=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=v6([r,i]);if(a===-1/0||u===1/0)return[r,i];if(a===u)return[a];var c=Math.max(n,2),f=b6(new wt(u).sub(a).div(c-1),o,0),h=[...y6(new wt(a),new wt(u),f),u];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},E6=t=>t.rootProps.maxBarSize,bfe=t=>t.rootProps.barGap,T6=t=>t.rootProps.barCategoryGap,_fe=t=>t.rootProps.barSize,Qh=t=>t.rootProps.stackOffset,x6=t=>t.rootProps.reverseStackOrder,NA=t=>t.options.chartName,DA=t=>t.rootProps.syncId,S6=t=>t.rootProps.syncMethod,OA=t=>t.options.eventEmitter,mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Il={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},wo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Wv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Jv(t,e,n){if(n!=="auto")return n;if(t!=null)return Ka(t,e)?"category":"number"}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){Efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=xfe(t,"string");return typeof e=="symbol"?e:e+""}function xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lL={allowDataOverflow:Il.allowDataOverflow,allowDecimals:Il.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Il.angleAxisId,includeHidden:!1,name:void 0,reversed:Il.reversed,scale:Il.scale,tick:Il.tick,tickCount:void 0,ticks:void 0,type:Il.type,unit:void 0},uL={allowDataOverflow:wo.allowDataOverflow,allowDecimals:wo.allowDecimals,allowDuplicatedCategory:wo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wo.radiusAxisId,includeHidden:wo.includeHidden,name:void 0,reversed:wo.reversed,scale:wo.scale,tick:wo.tick,tickCount:wo.tickCount,ticks:void 0,type:wo.type,unit:void 0},Sfe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},kA=re([Sfe,aF],(t,e)=>{var n;if(t!=null)return t;var r=(n=Jv(e,"angleAxis",lL.type))!==null&&n!==void 0?n:"category";return My(My({},lL),{},{type:r})}),wfe=(t,e)=>t.polarAxis.radiusAxis[e],LA=re([wfe,aF],(t,e)=>{var n;if(t!=null)return t;var r=(n=Jv(e,"radiusAxis",uL.type))!==null&&n!==void 0?n:"category";return My(My({},uL),{},{type:r})}),Xv=t=>t.polarOptions,VA=re([Ds,Os,On],wF),w6=re([Xv,VA],(t,e)=>{if(t!=null)return gr(t.innerRadius,e,0)}),A6=re([Xv,VA],(t,e)=>{if(t!=null)return gr(t.outerRadius,e,e*.8)}),Afe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},C6=re([Xv],Afe);re([kA,C6],Wv);var I6=re([VA,w6,A6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([LA,I6],Wv);var P6=re([Et,Xv,w6,A6,Ds,Os],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:f}=e;return{cx:gr(a,i,i/2),cy:gr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Zt=(t,e)=>e,Zh=(t,e,n)=>n;function UA(t){return t==null?void 0:t.id}function R6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=UA(u);f.forEach((p,g)=>{var E=o==null||i?g:String(Gt(p,o,null)),x=Gt(p,u.dataKey,0),w;a.has(E)?w=a.get(E):w={},Object.assign(w,{[h]:x}),a.set(E,w)})}}),Array.from(a.values())}function Qv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Zv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function e0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Cfe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Yn=t=>{var e=Et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},df=t=>t.tooltip.settings.axisId;function Ife(t){if(t in jd)return jd[t]();var e="scale".concat(jh(t));if(e in jd)return jd[e]()}function cL(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],u=i[1];return a<=u?o>=a&&o<=u:o>=u&&o<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,a)=>{var u=t(o);if(u!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":u+=c/2;break;case"end":u+=c;break}}return u}}}}function fL(t,e,n){if(typeof t=="function")return cL(t.copy().domain(e).range(n));if(t!=null){var r=Ife(t);if(r!=null)return r.domain(e).range(n),cL(r)}}var M6=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ws(e)){for(var n,r,i=0;i<e.length;i++){var o=e[i];vt(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pfe(t,e,n){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sS=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},N6=(t,e)=>t.cartesianAxis.xAxis[e],Vs=(t,e)=>{var n=N6(t,e);return n??jn},zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gh},D6=(t,e)=>t.cartesianAxis.yAxis[e],Us=(t,e)=>{var n=D6(t,e);return n??zn},Nfe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Nfe},an=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);case"zAxis":return BA(t,n);case"angleAxis":return kA(t,n);case"radiusAxis":return LA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Dfe=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hf=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return Us(t,n);case"angleAxis":return kA(t,n);case"radiusAxis":return LA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},O6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function FA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var jA=t=>t.graphicalItems.cartesianItems,Ofe=re([Zt,Zh],FA),zA=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ep=re([jA,an,Ofe],zA,{memoizeOptions:{resultEqualityCheck:e0}}),k6=re([ep],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Qv)),L6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kfe=re([ep],L6),qA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Lfe=re([ep],qA,{memoizeOptions:{resultEqualityCheck:e0}}),HA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},GA=re([Lfe,u6],HA),$A=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Gt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Gt(i,r)}))):t.map(r=>({value:r})),t0=re([GA,an,ep],$A);function V6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sg(t){if(jo(t)||t instanceof Date){var e=Number(t);if(vt(e))return e}}function hL(t){if(Array.isArray(t)){var e=[Sg(t[0]),Sg(t[1])];return ws(e)?e:void 0}var n=Sg(t);if(n!=null)return[n,n]}function As(t){return t.map(Sg).filter(Po)}function Vfe(t,e,n){return!n||typeof e!="number"||Fo(e)?[]:n.length?As(n.flatMap(r=>{var i=Gt(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!vt(o)||!vt(a)))return[e-o,e+a]})):[]}var Ln=t=>{var e=Yn(t),n=df(t);return hf(t,e,n)},tp=re([Ln],t=>t==null?void 0:t.dataKey),Ufe=re([k6,u6,Ln],R6),U6=(t,e,n,r)=>{var i={},o=e.reduce((a,u)=>{if(u.stackId==null)return a;var c=a[u.stackId];return c==null&&(c=[]),c.push(u),a[u.stackId]=c,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[u,c]=a,f=r?[...c].reverse():c,h=f.map(UA);return[u,{stackedData:rse(t,h,n),graphicalItems:f}]}))},aS=re([Ufe,k6,Qh,x6],U6),B6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=lse(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Bfe=re([an],t=>t.allowDataOverflow),KA=t=>{var e;if(t==null||!("domain"in t))return sS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=As(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:sS},YA=re([an],KA),WA=re([YA,Bfe],c6),Ffe=re([aS,Ls,Zt,WA],B6,{memoizeOptions:{resultEqualityCheck:Zv}}),n0=t=>t.errorBars,jfe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>V6(n,r)),Dy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},JA=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(P=>V6(i,P)),g=Gt(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),E=Vfe(u,g,p);if(E.length>=2){var x=Math.min(...E),w=Math.max(...E);(o==null||x<o)&&(o=x),(a==null||w>a)&&(a=w)}var S=hL(g);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),a=a==null?S[1]:Math.max(a,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=hL(Gt(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),vt(o)&&vt(a))return[o,a]},zfe=re([GA,an,kfe,n0,Zt],JA,{memoizeOptions:{resultEqualityCheck:Zv}});function qfe(t){var{value:e}=t;if(jo(e)||e instanceof Date)return e}var Hfe=(t,e,n)=>{var r=t.map(qfe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&o5(r))?PF(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},F6=t=>t.referenceElements.dots,pf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Gfe=re([F6,Zt,Zh],pf),j6=t=>t.referenceElements.areas,$fe=re([j6,Zt,Zh],pf),z6=t=>t.referenceElements.lines,Kfe=re([z6,Zt,Zh],pf),q6=(t,e)=>{if(t!=null){var n=As(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Yfe=re(Gfe,Zt,q6),H6=(t,e)=>{if(t!=null){var n=As(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wfe=re([$fe,Zt],H6);function Jfe(t){var e;if(t.x!=null)return As([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:As(n)}function Xfe(t){var e;if(t.y!=null)return As([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:As(n)}var G6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Jfe(r):Xfe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qfe=re([Kfe,Zt],G6),Zfe=re(Yfe,Qfe,Wfe,(t,e,n)=>Dy(t,n,e)),XA=(t,e,n,r,i,o,a,u)=>{if(n!=null)return n;var c=a==="vertical"&&u==="xAxis"||a==="horizontal"&&u==="yAxis",f=c?Dy(r,o,i):Dy(o,i);return dfe(e,f,t.allowDataOverflow)},ede=re([an,YA,WA,Ffe,zfe,Zfe,Et,Zt],XA,{memoizeOptions:{resultEqualityCheck:Zv}}),tde=[0,1],QA=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,f=Ka(e,o);if(f&&u==null){var h;return PF(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Hfe(r,t,f):i==="expand"?tde:a}},ZA=re([an,Et,GA,t0,Qh,Zt,ede],QA);function nde(t){return t in jd}var $6=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(jh(r));return nde(o)?o:"point"}}},Ja=re([an,O6,NA],$6);function e1(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?fL(t.scale,n,r):fL(e,n,r)}var t1=(t,e,n)=>{var r=KA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ws(t))return yfe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ws(t))return vfe(t,e.tickCount,e.allowDecimals)}},n1=re([ZA,hf,Ja],t1),r1=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ws(e)&&Array.isArray(n)&&n.length>0){var i,o,a=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,u),Math.max(c,f)]}return e},rde=re([an,ZA,n1,Zt],r1),ide=re(t0,an,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(As(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/a}}),K6=re(ide,Et,T6,On,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!vt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=gr(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),ode=(t,e,n)=>{var r=Vs(t,e);return r==null||typeof r.padding!="string"?0:K6(t,"xAxis",e,n,r.padding)},sde=(t,e,n)=>{var r=Us(t,e);return r==null||typeof r.padding!="string"?0:K6(t,"yAxis",e,n,r.padding)},ade=re(Vs,ode,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lde=re(Us,sde,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ude=re([On,ade,Ov,Dv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),cde=re([On,Et,lde,Ov,Dv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),np=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ude(t,n,r);case"yAxis":return cde(t,n,r);case"zAxis":return(i=BA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return C6(t);case"radiusAxis":return I6(t,n);default:return}},Y6=re([an,np],Wv),fde=re([Ja,rde],M6),r0=re([an,Ja,fde,Y6],e1);re([ep,n0,Zt],jfe);function W6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var i0=(t,e)=>e,o0=(t,e,n)=>n,dde=re(Mv,i0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(W6)),hde=re(Nv,i0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(W6)),J6=(t,e)=>({width:t.width,height:e.height}),pde=(t,e)=>{var n=typeof e.width=="number"?e.width:Gh;return{width:n,height:t.height}},X6=re(On,Vs,J6),mde=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gde=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},yde=re(Os,On,dde,i0,o0,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=J6(e,u);a==null&&(a=mde(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(f)*c.height,a+=(f?-1:1)*c.height}),o}),vde=re(Ds,On,hde,i0,o0,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=pde(e,u);a==null&&(a=gde(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(f)*c.width,a+=(f?-1:1)*c.width}),o}),bde=(t,e)=>{var n=Vs(t,e);if(n!=null)return yde(t,n.orientation,n.mirror)},_de=re([On,Vs,bde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ede=(t,e)=>{var n=Us(t,e);if(n!=null)return vde(t,n.orientation,n.mirror)},Tde=re([On,Us,Ede,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Q6=re(On,Us,(t,e)=>{var n=typeof e.width=="number"?e.width:Gh;return{width:n,height:t.height}}),pL=(t,e,n)=>{switch(e){case"xAxis":return X6(t,n).width;case"yAxis":return Q6(t,n).height;default:return}},Z6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=Ka(t,r),c=e.map(f=>f.value);if(a&&u&&o==="category"&&i&&o5(c))return c}},i1=re([Et,t0,an,Zt],Z6),ej=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Ka(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},o1=re([Et,t0,hf,Zt],ej);re([Et,Dfe,Ja,r0,i1,o1,np,n1,Zt],(t,e,n,r,i,o,a,u,c)=>{if(e!=null){var f=Ka(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:a,realScaleType:n,scale:r}}});var xde=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var f=Ka(t,c),{type:h,ticks:p,tickCount:g}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/E:0;x=c==="angleAxis"&&o!=null&&o.length>=2?or(o[0]-o[1])*2*x:x;var w=p||i;return w?w.map((S,P)=>{var k=a?a.indexOf(S):S,D=r.map(k);return vt(D)?{index:P,coordinate:D+x,value:S,offset:x}:null}).filter(Po):f&&u?u.map((S,P)=>{var k=r.map(S);return vt(k)?{coordinate:k+x,value:S,index:P,offset:x}:null}).filter(Po):r.ticks?r.ticks(g).map((S,P)=>{var k=r.map(S);return vt(k)?{coordinate:k+x,value:S,index:P,offset:x}:null}).filter(Po):r.domain().map((S,P)=>{var k=r.map(S);return vt(k)?{coordinate:k+x,value:a?a[S]:S,index:P,offset:x}:null}).filter(Po)}},tj=re([Et,hf,Ja,r0,n1,np,i1,o1,Zt],xde),Sde=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ka(t,a),{tickCount:c}=e,f=0;return f=a==="angleAxis"&&(r==null?void 0:r.length)>=2?or(r[0]-r[1])*2*f:f,u&&o?o.map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Po):n.ticks?n.ticks(c).map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Po):n.domain().map((h,p)=>{var g=n.map(h);return vt(g)?{coordinate:g+f,value:i?i[h]:h,index:p,offset:f}:null}).filter(Po)}},$c=re([Et,hf,r0,np,i1,o1,Zt],Sde),Kc=re(an,r0,(t,e)=>{if(!(t==null||e==null))return Ny(Ny({},t),{},{scale:e})}),wde=re([an,Ja,ZA,Y6],e1);re((t,e,n)=>BA(t,n),wde,(t,e)=>{if(!(t==null||e==null))return Ny(Ny({},t),{},{scale:e})});var Ade=re([Et,Mv,Nv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nj=t=>t.options.defaultTooltipEventType,rj=t=>t.options.validateTooltipEventTypes;function ij(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function s1(t,e){var n=nj(t),r=rj(t);return ij(e,n,r)}function Cde(t){return Le(e=>s1(e,t))}var oj=(t,e)=>{var n,r=Number(e);if(!(Fo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ide=t=>t.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Pde={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sj=Ur({name:"tooltip",initialState:Pde,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Wt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Xi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Wt()},removeTooltipEntrySettings:{reducer(t,e){var n=Xi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Wt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Rde,replaceTooltipEntrySettings:Mde,removeTooltipEntrySettings:Nde,setTooltipSettingsState:Dde,setActiveMouseOverItemIndex:aj,mouseLeaveItem:Ode,mouseLeaveChart:lj,setActiveClickItemIndex:kde,setMouseOverAxisIndex:uj,setMouseClickAxisIndex:Lde,setSyncInteraction:lS,setKeyboardInteraction:uS}=sj.actions,Vde=sj.reducer;function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){Ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jde(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zde(t){return t.index!=null}var cj=(t,e,n,r)=>{if(e==null)return xa;var i=jde(t,e,n);if(i==null)return xa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(zde(i)){if(o)return rg(rg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rg(rg({},xa),{},{coordinate:i.coordinate})};function qde(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Hde(t,e){var n=qde(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function Gde(t,e,n){if(n==null||e==null)return!0;var r=Gt(t,e);return r==null||!ws(n)?!0:Hde(r,n)}var a1=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!vt(o))return i;var a=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(a,Math.min(o,u)),f=e[c];return f==null||Gde(f,n,r)?String(c):null},fj=(t,e,n,r,i,o,a)=>{if(o!=null){var u=a[0],c=u==null?void 0:u.getPosition(o);if(c!=null)return c;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},dj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},hj=t=>t.options.tooltipPayloadSearcher,mf=t=>t.tooltip;function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){$de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e,n){return(e=Kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Yde(t,"string");return typeof e=="symbol"?e:e+""}function Yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wde(t,e){return t??e}var pj=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,E)=>{var x,{dataDefinedOnItem:w,settings:S}=E,P=Wde(w,u),k=Array.isArray(P)?X5(P,f,h):P,D=(x=S==null?void 0:S.dataKey)!==null&&x!==void 0?x:r,B=S==null?void 0:S.nameKey,F;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?F=Pre(k,r,i):F=o(k,e,c,B),Array.isArray(F))F.forEach(M=>{var O=yL(yL({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(m2({tooltipEntrySettings:O,dataKey:M.dataKey,payload:M.payload,value:Gt(M.payload,M.dataKey),name:M.name}))});else{var U;g.push(m2({tooltipEntrySettings:S,dataKey:D,payload:F,value:Gt(F,D),name:(U=Gt(F,B))!==null&&U!==void 0?U:S==null?void 0:S.name}))}return g},p)}},l1=re([Ln,O6,NA],$6),Jde=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xde=re([Yn,df],FA),gf=re([Jde,Ln,Xde],zA,{memoizeOptions:{resultEqualityCheck:e0}}),Qde=re([gf],t=>t.filter(Qv)),Zde=re([gf],qA,{memoizeOptions:{resultEqualityCheck:e0}}),yf=re([Zde,Ls],HA),ehe=re([Qde,Ls,Ln],R6),u1=re([yf,Ln,gf],$A),mj=re([Ln],KA),the=re([Ln],t=>t.allowDataOverflow),gj=re([mj,the],c6),nhe=re([gf],t=>t.filter(Qv)),rhe=re([ehe,nhe,Qh,x6],U6),ihe=re([rhe,Ls,Yn,gj],B6),ohe=re([gf],L6),she=re([yf,Ln,ohe,n0,Yn],JA,{memoizeOptions:{resultEqualityCheck:Zv}}),ahe=re([F6,Yn,df],pf),lhe=re([ahe,Yn],q6),uhe=re([j6,Yn,df],pf),che=re([uhe,Yn],H6),fhe=re([z6,Yn,df],pf),dhe=re([fhe,Yn],G6),hhe=re([lhe,dhe,che],Dy),phe=re([Ln,mj,gj,ihe,she,hhe,Et,Yn],XA),rp=re([Ln,Et,yf,u1,Qh,Yn,phe],QA),mhe=re([rp,Ln,l1],t1),ghe=re([Ln,rp,mhe,Yn],r1),yj=t=>{var e=Yn(t),n=df(t),r=!1;return np(t,e,n,r)},vj=re([Ln,yj],Wv),bj=re([Ln,l1,ghe,vj],e1),yhe=re([Et,u1,Ln,Yn],Z6),vhe=re([Et,u1,Ln,Yn],ej),bhe=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,f=Ka(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?or(i[0]-i[1])*2*p:p,f&&a?a.map((g,E)=>{var x=r.map(g);return vt(x)?{coordinate:x+p,value:g,index:E,offset:p}:null}).filter(Po):r.domain().map((g,E)=>{var x=r.map(g);return vt(x)?{coordinate:x+p,value:o?o[g]:g,index:E,offset:p}:null}).filter(Po)}}},Bs=re([Et,Ln,l1,bj,yj,yhe,vhe,Yn],bhe),c1=re([nj,rj,Ide],(t,e,n)=>ij(n.shared,t,e)),_j=t=>t.tooltip.settings.trigger,f1=t=>t.tooltip.settings.defaultIndex,ip=re([mf,c1,_j,f1],cj),ru=re([ip,yf,tp,rp],a1),Ej=re([Bs,ru],oj),d1=re([ip],t=>{if(t)return t.dataKey}),_he=re([ip],t=>{if(t)return t.graphicalItemId}),Tj=re([mf,c1,_j,f1],dj),Ehe=re([Ds,Os,Et,On,Bs,f1,Tj],fj),The=re([ip,Ehe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xhe=re([ip],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),She=re([Tj,ru,Ls,tp,Ej,hj,c1],pj);re([She],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ihe=()=>Le(Ln),Phe=()=>{var t=Ihe(),e=Le(Bs),n=Le(bj);return cy(!t||!n?void 0:bL(bL({},t),{},{scale:n}),e)};function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){Rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e,n){return(e=Mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dhe=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Ohe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return ac(ac(ac({},r),Sn(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return ac(ac(ac({},r),Sn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function khe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var xj=(t,e,n,r,i)=>{var o,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<a;u++){var c,f,h,p,g,E=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[a-1])===null||f===void 0?void 0:f.coordinate,x=(h=n[u])===null||h===void 0?void 0:h.coordinate,w=u>=a-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,S=void 0;if(!(E==null||x==null||w==null))if(or(x-E)!==or(w-x)){var P=[];if(or(w-x)===or(i[1]-i[0])){S=w;var k=x+i[1]-i[0];P[0]=Math.min(k,(k+E)/2),P[1]=Math.max(k,(k+E)/2)}else{S=E;var D=w+i[1]-i[0];P[0]=Math.min(x,(D+x)/2),P[1]=Math.max(x,(D+x)/2)}var B=[Math.min(x,(S+x)/2),Math.max(x,(S+x)/2)];if(t>B[0]&&t<=B[1]||t>=P[0]&&t<=P[1]){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}else{var U=Math.min(E,w),M=Math.max(E,w);if(t>(U+x)/2&&t<=(M+x)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var V=0;V<a;V++){var z=e[V];if(z!=null){var q=e[V+1],H=e[V-1];if(V===0&&q!=null&&t<=(z.coordinate+q.coordinate)/2||V===a-1&&H!=null&&t>(z.coordinate+H.coordinate)/2||V>0&&V<a-1&&H!=null&&q!=null&&t>(z.coordinate+H.coordinate)/2&&t<=(z.coordinate+q.coordinate)/2)return z.index}}return-1},Lhe=()=>Le(NA),h1=(t,e)=>e,Sj=(t,e,n)=>n,p1=(t,e,n,r)=>r,Vhe=re(Bs,t=>_v(t,e=>e.coordinate)),m1=re([mf,h1,Sj,p1],cj),g1=re([m1,yf,tp,rp],a1),Uhe=(t,e,n)=>{if(e!=null){var r=mf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},wj=re([mf,h1,Sj,p1],dj),Oy=re([Ds,Os,Et,On,Bs,p1,wj],fj),Bhe=re([m1,Oy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Aj=re([Bs,g1],oj),Fhe=re([wj,g1,Ls,tp,Aj,hj,h1],pj),jhe=re([m1,g1],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),zhe=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&khe(t,a)){var u=use(t,e),c=xj(u,o,i,n,r),f=Dhe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},qhe=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var u=Cle(t,n);if(u){var c=cse(u,e),f=xj(c,a,o,r,i),h=Ohe(e,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},Hhe=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?zhe(t,e,r,i,o,a,u):qhe(t,e,n,r,i,o,a)},Ghe=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),$he=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(mr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Cfe}});function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return(e=Yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yhe(t){var e=Whe(t,"string");return typeof e=="symbol"?e:e+""}function Whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jhe={},Xhe={zIndexMap:Object.values(mr).reduce((t,e)=>TL(TL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Jhe)},Qhe=new Set(Object.values(mr));function Zhe(t){return Qhe.has(t)}var Cj=Ur({name:"zIndex",initialState:Xhe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Zhe(n)&&delete t.zIndexMap[n])},prepare:Wt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Wt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Wt()}}}),{registerZIndexPortal:epe,unregisterZIndexPortal:tpe,registerZIndexPortalElement:npe,unregisterZIndexPortalElement:rpe}=Cj.actions,ipe=Cj.reducer;function Go(t){var{zIndex:e,children:n}=t,r=zse(),i=r&&e!==void 0&&e!==0,o=Zr(),a=Ft();A.useLayoutEffect(()=>i?(a(epe({zIndex:e})),()=>{a(tpe({zIndex:e}))}):af,[a,e,i]);var u=Le(c=>Ghe(c,e,o));return i?u?Uw.createPortal(n,u):null:n}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(null,arguments)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function upe(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,E=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var x,w,S;if(h==="ScatterChart")x=p,w=jae,S=mr.cursorLine;else if(h==="BarChart")x=zae(u,p,o,a),w=SF,S=mr.cursorRectangle;else if(u==="radial"&&a5(p)){var{cx:P,cy:k,radius:D,startAngle:B,endAngle:F}=AF(p);x={cx:P,cy:k,startAngle:B,endAngle:F,innerRadius:D,outerRadius:D},w=IF,S=mr.cursorLine}else x={points:Mle(u,p,o)},w=sA,S=mr.cursorLine;var U=typeof c=="object"&&"className"in c?c.className:void 0,M=ig(ig(ig(ig({stroke:"#ccc",pointerEvents:"none"},o),x),fh(c)),{},{payload:g,payloadIndex:E,className:At("recharts-tooltip-cursor",U)});return A.createElement(Go,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},A.createElement(lpe,{cursor:c,cursorComp:w,cursorProps:M}))}function cpe(t){var e=Phe(),n=Fse(),r=lf(),i=Lhe();return e==null||n==null||r==null||i==null?null:A.createElement(upe,cS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Ij=A.createContext(null),fpe=()=>A.useContext(Ij),fT={exports:{}},SL;function dpe(){return SL||(SL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,p||c,g),x=n?n+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],E]:c._events[x].push(E):(c._events[x]=E,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,E=p.length,x=new Array(E);g<E;g++)x[g]=p[g].fn;return x},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,E,x){var w=n?n+f:f;if(!this._events[w])return!1;var S=this._events[w],P=arguments.length,k,D;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),P){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,E),!0;case 6:return S.fn.call(S.context,h,p,g,E,x),!0}for(D=1,k=new Array(P-1);D<P;D++)k[D-1]=arguments[D];S.fn.apply(S.context,k)}else{var B=S.length,F;for(D=0;D<B;D++)switch(S[D].once&&this.removeListener(f,S[D].fn,void 0,!0),P){case 1:S[D].fn.call(S[D].context);break;case 2:S[D].fn.call(S[D].context,h);break;case 3:S[D].fn.call(S[D].context,h,p);break;case 4:S[D].fn.call(S[D].context,h,p,g);break;default:if(!k)for(F=1,k=new Array(P-1);F<P;F++)k[F-1]=arguments[F];S[D].fn.apply(S[D].context,k)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var E=n?n+f:f;if(!this._events[E])return this;if(!h)return a(this,E),this;var x=this._events[E];if(x.fn)x.fn===h&&(!g||x.once)&&(!p||x.context===p)&&a(this,E);else{for(var w=0,S=[],P=x.length;w<P;w++)(x[w].fn!==h||g&&!x[w].once||p&&x[w].context!==p)&&S.push(x[w]);S.length?this._events[E]=S.length===1?S[0]:S:a(this,E)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(fT)),fT.exports}var hpe=dpe();const ppe=Ho(hpe);var wh=new ppe,fS="recharts.syncEvent.tooltip",wL="recharts.syncEvent.brush",Pj=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Fo(n))return t[n]}},mpe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Rj=Ur({name:"options",initialState:mpe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gpe=Rj.reducer,{createEventEmitter:ype}=Rj.actions;function vpe(t){return t.tooltip.syncInteraction}var bpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Mj=Ur({name:"chartData",initialState:bpe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AL,setDataStartEndIndexes:_pe,setComputedData:Lwe}=Mj.actions,Epe=Mj.reducer,Tpe=["x","y"];function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xpe(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=wpe(t,"string");return typeof e=="symbol"?e:e+""}function wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ape(t,e){if(t==null)return{};var n,r,i=Cpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ipe(){var t=Le(DA),e=Le(OA),n=Ft(),r=Le(S6),i=Le(Bs),o=lf(),a=kv(),u=Le(c=>c.rootProps.className);A.useEffect(()=>{if(t==null)return af;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(a&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x,y:w}=E,S=Ape(E,Tpe),{x:P,y:k,width:D,height:B}=h.payload.sourceViewBox,F=lc(lc({},S),{},{x:a.x+(D?(x-P)/D:0)*a.width,y:a.y+(B?(w-k)/B:0)*a.height});n(lc(lc({},h),{},{payload:lc(lc({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var U;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,M);U=i[O]}else r==="value"&&(U=i.find(X=>String(X.value)===h.payload.label));var{coordinate:V}=h.payload;if(U==null||h.payload.active===!1||V==null||a==null){n(lS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:q}=V,H=Math.min(z,a.x+a.width),$=Math.min(q,a.y+a.height),ve={x:o==="horizontal"?U.coordinate:H,y:o==="horizontal"?$:U.coordinate},Ee=lS({active:h.payload.active,coordinate:ve,dataKey:h.payload.dataKey,index:String(U.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Ee)}}};return wh.on(fS,c),()=>{wh.off(fS,c)}},[u,n,e,t,r,i,o,a])}function Ppe(){var t=Le(DA),e=Le(OA),n=Ft();A.useEffect(()=>{if(t==null)return af;var r=(i,o,a)=>{e!==a&&t===i&&n(_pe(o))};return wh.on(wL,r),()=>{wh.off(wL,r)}},[n,e,t])}function Rpe(){var t=Ft();A.useEffect(()=>{t(ype())},[t]),Ipe(),Ppe()}function Mpe(t,e,n,r,i,o){var a=Le(E=>Uhe(E,t,e)),u=Le(OA),c=Le(DA),f=Le(S6),h=Le(vpe),p=h==null?void 0:h.active,g=kv();A.useEffect(()=>{if(!p&&c!=null&&u!=null){var E=lS({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});wh.emit(fS,c,E,u)}},[p,n,a,i,r,u,c,f,o,g])}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return(e=Dpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dpe(t){var e=Ope(t,"string");return typeof e=="symbol"?e:e+""}function Ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kpe(t){return t.dataKey}function Lpe(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(_ae,e)}var RL=[],Vpe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ky(t){var e,n,r=ar(t,Vpe),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:E,reverseDirection:x,useTranslate3d:w,wrapperStyle:S,cursor:P,shared:k,trigger:D,defaultIndex:B,portal:F,axisId:U}=r,M=Ft(),O=typeof B=="number"?String(B):B;A.useEffect(()=>{M(Dde({shared:k,trigger:D,axisId:U,active:i,defaultIndex:O}))},[M,k,D,U,i,O]);var V=kv(),z=bF(),q=Cde(k),{activeIndex:H,isActive:$}=(e=Le(be=>jhe(be,q,D,O)))!==null&&e!==void 0?e:{},ve=Le(be=>Fhe(be,q,D,O)),Ee=Le(be=>Aj(be,q,D,O)),X=Le(be=>Bhe(be,q,D,O)),ie=ve,fe=fpe(),Te=(n=i??$)!==null&&n!==void 0?n:!1,[W,L]=E5([ie,Te]),K=q==="axis"?Ee:void 0;Mpe(q,D,X,K,H,Te);var Z=F??fe;if(Z==null||V==null||q==null)return null;var ae=ie??RL;Te||(ae=RL),f&&ae.length&&(ae=g5(ae.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),g,kpe));var ge=ae.length>0,_e=A.createElement(Cae,{allowEscapeViewBox:o,animationDuration:a,animationEasing:u,isAnimationActive:h,active:Te,coordinate:X,hasPayload:ge,offset:p,position:E,reverseDirection:x,useTranslate3d:w,viewBox:V,wrapperStyle:S,lastBoundingBox:W,innerRef:L,hasPortalFromProps:!!F},Lpe(c,PL(PL({},r),{},{payload:ae,label:K,active:Te,activeIndex:H,coordinate:X,accessibilityLayer:z})));return A.createElement(A.Fragment,null,Uw.createPortal(_e,Z),Te&&A.createElement(cpe,{cursor:P,tooltipEventType:q,coordinate:X,payload:ae,index:H}))}var Pa=t=>null;Pa.displayName="Cell";function Upe(t,e,n){return(e=Bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=Fpe(t,"string");return typeof e=="symbol"?e:e+""}function Fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jpe{constructor(e){Upe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return(e=Hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hpe(t){var e=Gpe(t,"string");return typeof e=="symbol"?e:e+""}function Gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $pe={cacheSize:2e3,enableCache:!0},Nj=zpe({},$pe),NL=new jpe(Nj.cacheSize),Kpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DL="recharts_measurement_span";function Ype(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var OL=(t,e)=>{try{var n=document.getElementById(DL);n||(n=document.createElement("span"),n.setAttribute("id",DL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Kpe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Qd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Bv.isSsr)return{width:0,height:0};if(!Nj.enableCache)return OL(e,n);var r=Ype(e,n),i=NL.get(r);if(i)return i;var o=OL(e,n);return NL.set(r,o),o},Dj;function Wpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eme={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tme=["cm","mm","pt","pc","in","Q","px"];function nme(t){return tme.includes(t)}var Sc="NaN";function rme(t,e){return t*eme[e]}class nr{static parse(e){var n,[,r,i]=(n=Zpe.exec(e))!==null&&n!==void 0?n:[];return r==null?nr.NaN:new nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Fo(e)&&(this.unit=""),n!==""&&!Qpe.test(n)&&(this.num=NaN,this.unit=""),nme(n)&&(this.num=rme(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fo(this.num)}}Dj=nr;Wpe(nr,"NaN",new Dj(NaN,""));function Oj(t){if(t==null||t.includes(Sc))return Sc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=kL.exec(e))!==null&&n!==void 0?n:[],a=nr.parse(r??""),u=nr.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return Sc;e=e.replace(kL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=LL.exec(e))!==null&&f!==void 0?f:[],E=nr.parse(h??""),x=nr.parse(g??""),w=p==="+"?E.add(x):E.subtract(x);if(w.isNaN())return Sc;e=e.replace(LL,w.toString())}return e}var VL=/\(([^()]*)\)/;function ime(t){for(var e=t,n;(n=VL.exec(e))!=null;){var[,r]=n;e=e.replace(VL,Oj(r))}return e}function ome(t){var e=t.replace(/\s+/g,"");return e=ime(e),e=Oj(e),e}function sme(t){try{return ome(t)}catch{return Sc}}function dT(t){var e=sme(t.slice(5,-1));return e===Sc?"":e}var ame=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lme=["dx","dy","angle","className","breakAll"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function UL(t,e){if(t==null)return{};var n,r,i=ume(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ume(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kj=/[ \f\n\r\t\v\u2028\u2029]+/,Lj=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gn(e)||(n?i=e.toString().split(""):i=e.toString().split(kj));var o=i.map(u=>({word:u,width:Qd(u,r).width})),a=n?0:Qd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function cme(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Vj=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(a),c.width+=u+n;else{var f={words:[a],width:u};i.push(f)}return i},[]),Uj=t=>t.reduce((e,n)=>e.width>n.width?e:n),fme="",BL=(t,e,n,r,i,o,a,u)=>{var c=t.slice(0,e),f=Lj({breakAll:n,style:r,children:c+fme});if(!f)return[!1,[]];var h=Vj(f.wordsWithComputedWidth,o,a,u),p=h.length>i||Uj(h).width>Number(o);return[p,h]},dme=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,f=Ve(o),h=String(a),p=Vj(e,r,n,i);if(!f||i)return p;var g=p.length>o||Uj(p).width>Number(r);if(!g)return p;for(var E=0,x=h.length-1,w=0,S;E<=x&&w<=h.length-1;){var P=Math.floor((E+x)/2),k=P-1,[D,B]=BL(h,k,c,u,o,r,n,i),[F]=BL(h,P,c,u,o,r,n,i);if(!D&&!F&&(E=P+1),D&&F&&(x=P-1),!D&&F){S=B;break}w++}return S||p},FL=t=>{var e=Gn(t)?[]:t.toString().split(kj);return[{words:e,width:void 0}]},hme=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Bv.isSsr){var u,c,f=Lj({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return FL(r);return dme({breakAll:o,children:r,maxLines:a,style:i},u,c,e,!!n)}return FL(r)},Bj="#808080",pme={angle:0,breakAll:!1,capHeight:"0.71em",fill:Bj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},s0=A.forwardRef((t,e)=>{var n=ar(t,pme),{x:r,y:i,lineHeight:o,capHeight:a,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=UL(n,ame),g=A.useMemo(()=>hme({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:E,dy:x,angle:w,className:S,breakAll:P}=p,k=UL(p,lme);if(!jo(r)||!jo(i)||g.length===0)return null;var D=Number(r)+(Ve(E)?E:0),B=Number(i)+(Ve(x)?x:0);if(!vt(D)||!vt(B))return null;var F;switch(h){case"start":F=dT("calc(".concat(a,")"));break;case"middle":F=dT("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:F=dT("calc(".concat(g.length-1," * -").concat(o,")"));break}var U=[],M=g[0];if(c&&M!=null){var O=M.width,{width:V}=p;U.push("scale(".concat(Ve(V)&&Ve(O)?V/O:1,")"))}return w&&U.push("rotate(".concat(w,", ").concat(D,", ").concat(B,")")),U.length&&(k.transform=U.join(" ")),A.createElement("text",dS({},Ai(k),{ref:e,x:D,y:B,className:At("recharts-text",S),textAnchor:f,fill:u.includes("url")?Bj:u}),g.map((z,q)=>{var H=z.words.join(P?"":" ");return A.createElement("tspan",{x:D,dy:q===0?F:o,key:"".concat(H,"-").concat(q)},H)}))});s0.displayName="Text";function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vme=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:o,y:a,height:u,upperWidth:c,lowerWidth:f}=rA(e),h=o,p=o+(c-f)/2,g=(h+p)/2,E=(c+f)/2,x=h+c/2,w=u>=0?1:-1,S=w*r,P=w>0?"end":"start",k=w>0?"start":"end",D=c>=0?1:-1,B=D*r,F=D>0?"end":"start",U=D>0?"start":"end",M=i;if(n==="top"){var O={x:h+c/2,y:a-S,horizontalAnchor:"middle",verticalAnchor:P};return M&&(O.height=Math.max(a-M.y,0),O.width=c),O}if(n==="bottom"){var V={x:p+f/2,y:a+u+S,horizontalAnchor:"middle",verticalAnchor:k};return M&&(V.height=Math.max(M.y+M.height-(a+u),0),V.width=f),V}if(n==="left"){var z={x:g-B,y:a+u/2,horizontalAnchor:F,verticalAnchor:"middle"};return M&&(z.width=Math.max(z.x-M.x,0),z.height=u),z}if(n==="right"){var q={x:g+E+B,y:a+u/2,horizontalAnchor:U,verticalAnchor:"middle"};return M&&(q.width=Math.max(M.x+M.width-q.x,0),q.height=u),q}var H=M?{width:E,height:u}:{};return n==="insideLeft"?Ao({x:g+B,y:a+u/2,horizontalAnchor:U,verticalAnchor:"middle"},H):n==="insideRight"?Ao({x:g+E-B,y:a+u/2,horizontalAnchor:F,verticalAnchor:"middle"},H):n==="insideTop"?Ao({x:h+c/2,y:a+S,horizontalAnchor:"middle",verticalAnchor:k},H):n==="insideBottom"?Ao({x:p+f/2,y:a+u-S,horizontalAnchor:"middle",verticalAnchor:P},H):n==="insideTopLeft"?Ao({x:h+B,y:a+S,horizontalAnchor:U,verticalAnchor:k},H):n==="insideTopRight"?Ao({x:h+c-B,y:a+S,horizontalAnchor:F,verticalAnchor:k},H):n==="insideBottomLeft"?Ao({x:p+B,y:a+u-S,horizontalAnchor:U,verticalAnchor:P},H):n==="insideBottomRight"?Ao({x:p+f-B,y:a+u-S,horizontalAnchor:F,verticalAnchor:P},H):n&&typeof n=="object"&&(Ve(n.x)||Ql(n.x))&&(Ve(n.y)||Ql(n.y))?Ao({x:o+gr(n.x,E),y:a+gr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},H):Ao({x,y:a+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},bme=["labelRef"],_me=["content"];function zL(t,e){if(t==null)return{};var n,r,i=Eme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return(e=xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=Sme(t,"string");return typeof e=="symbol"?e:e+""}function Sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(null,arguments)}var Fj=A.createContext(null),wme=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:u}=t,c=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return A.createElement(Fj.Provider,{value:c},u)},jj=()=>{var t=A.useContext(Fj),e=kv();return t||(e?rA(e):void 0)},Ame=A.createContext(null),Cme=()=>{var t=A.useContext(Ame),e=Le(P6);return t||e},Ime=t=>{var{value:e,formatter:n}=t,r=Gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},y1=t=>t!=null&&typeof t=="function",Pme=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Rme=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:E}=i,x=(f+h)/2,w=Pme(p,g),S=w>=0?1:-1,P,k;switch(e){case"insideStart":P=p+S*o,k=E;break;case"insideEnd":P=g-S*o,k=!E;break;case"end":P=g+S*o,k=E;break;default:throw new Error("Unsupported position ".concat(e))}k=w<=0?k:!k;var D=Sn(u,c,x,P),B=Sn(u,c,x,P+(k?1:-1)*359),F="M".concat(D.x,",").concat(D.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(B.x,",").concat(B.y),U=Gn(t.id)?dh("recharts-radial-line-"):t.id;return A.createElement("text",ms({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:U,d:F})),A.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Mme=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=Sn(r,i,a+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+a)/2,{x:E,y:x}=Sn(r,i,g,f);return{x:E,y:x,textAnchor:"middle",verticalAnchor:"middle"}},wg=t=>t!=null&&"cx"in t&&Ve(t.cx),Nme={angle:0,offset:5,zIndex:mr.label,position:"middle",textBreakAll:!1};function Dme(t){if(!wg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ta(t){var e=ar(t,Nme),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:u,className:c="",textBreakAll:f,labelRef:h}=e,p=Cme(),g=jj(),E=i==="center"?g:p??g,x,w,S;n==null?x=E:wg(n)?x=n:x=rA(n);var P=Dme(x);if(!x||Gn(o)&&Gn(a)&&!A.isValidElement(u)&&typeof u!="function")return null;var k=zd(zd({},e),{},{viewBox:x});if(A.isValidElement(u)){var{labelRef:D}=k,B=zL(k,bme);return A.cloneElement(u,B)}if(typeof u=="function"){var{content:F}=k,U=zL(k,_me);if(w=A.createElement(u,U),A.isValidElement(w))return w}else w=Ime(e);var M=Ai(e);if(wg(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Rme(e,i,w,M,x);S=Mme(x,e.offset,e.position)}else{if(!P)return null;var O=vme({viewBox:P,position:i,offset:e.offset,parentViewBox:wg(r)?void 0:r});S=zd(zd({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return A.createElement(Go,{zIndex:e.zIndex},A.createElement(s0,ms({ref:h,className:At("recharts-label",c)},M,S,{textAnchor:cme(M.textAnchor)?M.textAnchor:S.textAnchor,breakAll:f}),w))}Ta.displayName="Label";var Ome=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Ta,ms({key:"label-implicit"},r)):jo(t)?A.createElement(Ta,ms({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Ta?A.cloneElement(t,zd({key:"label-implicit"},r)):A.createElement(Ta,ms({key:"label-implicit",content:t},r)):y1(t)?A.createElement(Ta,ms({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Ta,ms({},t,{key:"label-implicit"},r)):null};function kme(t){var{label:e,labelRef:n}=t,r=jj();return Ome(e,r,n)||null}var hT={},pT={},HL;function Lme(){return HL||(HL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(pT)),pT}var mT={},GL;function Vme(){return GL||(GL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(mT)),mT}var $L;function Ume(){return $L||($L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lme(),n=Vme(),r=$w();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(hT)),hT}var gT,KL;function Bme(){return KL||(KL=1,gT=Ume().last),gT}var Fme=Bme();const jme=Ho(Fme);var zme=["valueAccessor"],qme=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(null,arguments)}function YL(t,e){if(t==null)return{};var n,r,i=Hme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gme=t=>Array.isArray(t.value)?jme(t.value):t.value,zj=A.createContext(void 0),$me=zj.Provider,qj=A.createContext(void 0),Kme=qj.Provider;function Yme(){return A.useContext(zj)}function Wme(){return A.useContext(qj)}function Ag(t){var{valueAccessor:e=Gme}=t,n=YL(t,zme),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:u}=n,c=YL(n,qme),f=Yme(),h=Wme(),p=f||h;return!p||!p.length?null:A.createElement(Go,{zIndex:u??mr.label},A.createElement(Ar,{className:"recharts-label-list"},p.map((g,E)=>{var x,w=Gn(r)?e(g,E):Gt(g.payload,r),S=Gn(o)?{}:{id:"".concat(o,"-").concat(E)};return A.createElement(Ta,Ly({key:"label-".concat(E)},Ai(g),c,S,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:a,viewBox:g.viewBox,index:E,zIndex:0}))})))}Ag.displayName="LabelList";function Hj(t){var{label:e}=t;return e?e===!0?A.createElement(Ag,{key:"labelList-implicit"}):A.isValidElement(e)||y1(e)?A.createElement(Ag,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(Ag,Ly({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Gj=t=>t.graphicalItems.polarItems,Jme=re([Zt,Zh],FA),a0=re([Gj,an,Jme],zA),Xme=re([a0],qA),l0=re([Xme,Yv],HA),Qme=re([l0,an,a0],$A);re([l0,an,a0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=Gt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Gt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var WL=()=>{},Zme=re([l0,an,a0,n0,Zt],JA),ege=re([an,YA,WA,WL,Zme,WL,Et,Zt],XA),$j=re([an,Et,l0,Qme,Qh,Zt,ege],QA),tge=re([$j,hf,Ja],t1),nge=re([an,$j,tge,Zt],r1);re([Ja,nge],M6);var rge={radiusAxis:{},angleAxis:{}},Kj=Ur({name:"polarAxis",initialState:rge,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Vwe,removeRadiusAxis:Uwe,addAngleAxis:Bwe,removeAngleAxis:Fwe}=Kj.actions,ige=Kj.reducer;function Yj(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return(e=sge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t){var e=age(t,"string");return typeof e=="symbol"?e:e+""}function age(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=(t,e)=>e,v1=re([Gj,lge],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),uge=[],b1=(t,e,n)=>(n==null?void 0:n.length)===0?uge:n,Wj=re([Yv,v1,b1],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>XL(XL({},e.presentationProps),o.props))),i!=null)return i}}),cge=re([Wj,v1,b1],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,a=Gt(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Rv(a,e.dataKey),color:u,payload:r,type:e.legendType}})}),fge=re([Wj,v1,b1,On],(t,e,n,r)=>{if(!(e==null||t==null))return pye({offset:r,pieSettings:e,displayedData:t,cells:n})}),yT={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL;function dge(){if(QL)return Mt;QL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function x(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case n:case i:case r:case c:case f:case g:return w;default:switch(w=w&&w.$$typeof,w){case a:case u:case p:case h:return w;case o:return w;default:return S}}case e:return S}}}return Mt.ContextConsumer=o,Mt.ContextProvider=a,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=p,Mt.Memo=h,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=c,Mt.SuspenseList=f,Mt.isContextConsumer=function(w){return x(w)===o},Mt.isContextProvider=function(w){return x(w)===a},Mt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Mt.isForwardRef=function(w){return x(w)===u},Mt.isFragment=function(w){return x(w)===n},Mt.isLazy=function(w){return x(w)===p},Mt.isMemo=function(w){return x(w)===h},Mt.isPortal=function(w){return x(w)===e},Mt.isProfiler=function(w){return x(w)===i},Mt.isStrictMode=function(w){return x(w)===r},Mt.isSuspense=function(w){return x(w)===c},Mt.isSuspenseList=function(w){return x(w)===f},Mt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===a||w.$$typeof===o||w.$$typeof===u||w.$$typeof===E||w.getModuleId!==void 0)},Mt.typeOf=x,Mt}var ZL;function hge(){return ZL||(ZL=1,yT.exports=dge()),yT.exports}var pge=hge(),eV=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tV=null,vT=null,Jj=t=>{if(t===tV&&Array.isArray(vT))return vT;var e=[];return A.Children.forEach(t,n=>{Gn(n)||(pge.isFragment(n)?e=e.concat(Jj(n.props.children)):e.push(n))}),vT=e,tV=t,e};function _1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>eV(i)):r=[eV(e)],Jj(t).forEach(i=>{var o=Xl(i,"type.displayName")||Xl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var bT={},nV;function mge(){return nV||(nV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(bT)),bT}var _T,rV;function gge(){return rV||(rV=1,_T=mge().isPlainObject),_T}var yge=gge();const vge=Ho(yge);var iV,oV,sV,aV,lV;function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){bge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e,n){return(e=_ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ge(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}function Ld(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fV=(t,e,n,r,i)=>{var o=n-r,a;return a=on(iV||(iV=Ld(["M ",",",""])),t,e),a+=on(oV||(oV=Ld(["L ",",",""])),t+n,e),a+=on(sV||(sV=Ld(["L ",",",""])),t+n-o/2,e+i),a+=on(aV||(aV=Ld(["L ",",",""])),t+n-o/2-r,e+i),a+=on(lV||(lV=Ld(["L ",","," Z"])),t,e),a},Tge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xge=t=>{var e=ar(t,Tge),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=A.useRef(null),[E,x]=A.useState(-1),w=A.useRef(i),S=A.useRef(o),P=A.useRef(a),k=A.useRef(n),D=A.useRef(r),B=jv(t,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ve=g.current.getTotalLength();ve&&x(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var F=At("recharts-trapezoid",u);if(!p)return A.createElement("g",null,A.createElement("path",Vy({},Ai(e),{className:F,d:fV(n,r,i,o,a)})));var U=w.current,M=S.current,O=P.current,V=k.current,z=D.current,q="0px ".concat(E===-1?1:E,"px"),H="".concat(E,"px 0px"),$=_F(["strokeDasharray"],f,c);return A.createElement(Fv,{animationId:B,key:B,canBegin:E>0,duration:f,easing:c,isActive:p,begin:h},ve=>{var Ee=Rn(U,i,ve),X=Rn(M,o,ve),ie=Rn(O,a,ve),fe=Rn(V,n,ve),Te=Rn(z,r,ve);g.current&&(w.current=Ee,S.current=X,P.current=ie,k.current=fe,D.current=Te);var W=ve>0?{transition:$,strokeDasharray:H}:{strokeDasharray:q};return A.createElement("path",Vy({},Ai(e),{className:F,d:fV(fe,Te,Ee,X,ie),ref:g,style:cV(cV({},W),e.style)}))})},Sge=["option","shapeType","activeClassName"];function wge(t,e){if(t==null)return{};var n,r,i=Age(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return(e=Ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rge(t,e){return Uy(Uy({},e),t)}function Mge(t,e){return t==="symbols"}function hV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(SF,n);case"trapezoid":return A.createElement(xge,n);case"sector":return A.createElement(IF,n);case"symbols":if(Mge(e))return A.createElement(Gw,n);break;case"curve":return A.createElement(sA,n);default:return null}}function Nge(t){return A.isValidElement(t)?t.props:t}function Xj(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=wge(t,Sge),o;if(A.isValidElement(e))o=A.cloneElement(e,Uy(Uy({},i),Nge(e)));else if(typeof e=="function")o=e(i,i.index);else if(vge(e)&&typeof e!="boolean"){var a=Rge(e,i);o=A.createElement(hV,{shapeType:n,elementProps:a})}else{var u=i;o=A.createElement(hV,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(Ar,{className:r},o):o}var E1=(t,e,n)=>{var r=Ft();return(i,o)=>a=>{t==null||t(i,o,a),r(aj({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},T1=t=>{var e=Ft();return(n,r)=>i=>{t==null||t(n,r,i),e(Ode())}},x1=(t,e,n)=>{var r=Ft();return(i,o)=>a=>{t==null||t(i,o,a),r(kde({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Qj(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=Zr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Rde(e)):i.current!==e&&n(Mde({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Nde(i.current)),i.current=null)},[n]),null}function Dge(t){var{legendPayload:e}=t,n=Ft(),r=Zr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(mF(e)):i.current!==e&&n(gF({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(yF(i.current)),i.current=null)},[n]),null}function Oge(t){var{legendPayload:e}=t,n=Ft(),r=Le(Et),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(mF(e)):i.current!==e&&n(gF({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(yF(i.current)),i.current=null)},[n]),null}var ET,kge=()=>{var[t]=A.useState(()=>dh("uid-"));return t},Lge=(ET=oG.useId)!==null&&ET!==void 0?ET:kge;function Vge(t,e){var n=Lge();return e||(t?"".concat(t,"-").concat(n):n)}var Uge=A.createContext(void 0),Zj=t=>{var{id:e,type:n,children:r}=t,i=Vge("recharts-".concat(n),e);return A.createElement(Uge.Provider,{value:i},r(i))},Bge={cartesianItems:[],polarItems:[]},ez=Ur({name:"graphicalItems",initialState:Bge,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Wt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Xi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Wt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Xi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Wt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Wt()},removePolarGraphicalItem:{reducer(t,e){var n=Xi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Wt()}}}),{addCartesianGraphicalItem:Fge,replaceCartesianGraphicalItem:jge,removeCartesianGraphicalItem:zge,addPolarGraphicalItem:qge,removePolarGraphicalItem:Hge}=ez.actions,Gge=ez.reducer,$ge=t=>{var e=Ft(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Fge(t)):n.current!==t&&e(jge({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(zge(n.current)),n.current=null)},[e]),null},Kge=A.memo($ge);function Yge(t){var e=Ft();return A.useLayoutEffect(()=>(e(qge(t)),()=>{e(Hge(t))}),[e,t]),null}var Wge=["key"],Jge=["onMouseEnter","onClick","onMouseLeave"],Xge=["id"],Qge=["id"];function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){Zge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zge(t,e,n){return(e=eye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return typeof e=="symbol"?e:e+""}function tye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(null,arguments)}function u0(t,e){if(t==null)return{};var n,r,i=nye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rye(t){var e=A.useMemo(()=>_1(t.children,Pa),[t.children]),n=Le(r=>cge(r,t.id,e));return n==null?null:A.createElement(Oge,{legendPayload:n})}var iye=A.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:u,hide:c,tooltipType:f,id:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),getPosition:g=>{var E;return(E=r[Number(g)])===null||E===void 0?void 0:E.tooltipPosition},settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:Rv(u,e),hide:c,type:f,color:a,unit:"",graphicalItemId:h}};return A.createElement(Qj,{tooltipEntrySettings:p})}),oye=(t,e)=>t>e?"start":t<e?"end":"middle",sye=(t,e,n)=>gr(typeof e=="function"?e(t):e,n,n*.8),aye=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,u=wF(o,a),c=i+gr(t.cx,o,o/2),f=r+gr(t.cy,a,a/2),h=gr(t.innerRadius,u,0),p=sye(n,t.outerRadius,u),g=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},lye=(t,e)=>{var n=or(e-t),r=Math.min(Math.abs(e-t),360);return n*r},uye=(t,e)=>{if(A.isValidElement(t))return A.cloneElement(t,e);if(typeof t=="function")return t(e);var n=At("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=u0(e,Wge);return A.createElement(sA,Ua({},i,{type:"linear",className:n}))},cye=(t,e,n)=>{if(A.isValidElement(t))return A.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),A.isValidElement(r)))return r;var i=At("recharts-pie-label-text",Yj(t));return A.createElement(s0,Ua({},e,{alignmentBaseline:"middle",className:i}),r)};function fye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var u=Bo(n),c=fh(i),f=fh(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,E)=>{var x=(g.startAngle+g.endAngle)/2,w=Sn(g.cx,g.cy,g.outerRadius+h,x),S=sn(sn(sn(sn({},u),g),{},{stroke:"none"},c),{},{index:E,textAnchor:oye(w.x,g.cx)},w),P=sn(sn(sn(sn({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:E,points:[Sn(g.cx,g.cy,g.outerRadius,x),w],key:"line"});return A.createElement(Go,{zIndex:mr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(E)},A.createElement(Ar,null,o&&uye(o,P),cye(i,S,Gt(g,a))))});return A.createElement(Ar,{className:"recharts-pie-labels"},p)}function dye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(Hj,{label:i}):A.createElement(fye,{sectors:e,props:n,showLabels:r})}function hye(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:a}=t,u=Le(ru),c=Le(d1),f=Le(_he),{onMouseEnter:h,onClick:p,onMouseLeave:g}=i,E=u0(i,Jge),x=E1(h,i.dataKey,a),w=T1(g),S=x1(p,i.dataKey,a);return e==null||e.length===0?null:A.createElement(A.Fragment,null,e.map((P,k)=>{if((P==null?void 0:P.startAngle)===0&&(P==null?void 0:P.endAngle)===0&&e.length!==1)return null;var D=f==null||f===a,B=String(k)===u&&(c==null||i.dataKey===c)&&D,F=u?r:null,U=n&&B?n:F,M=sn(sn({},P),{},{stroke:P.stroke,tabIndex:-1,[Z5]:k,[eF]:a});return A.createElement(Ar,Ua({key:"sector-".concat(P==null?void 0:P.startAngle,"-").concat(P==null?void 0:P.endAngle,"-").concat(P.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},zh(E,P,k),{onMouseEnter:x(P,k),onMouseLeave:w(P,k),onClick:S(P,k)}),A.createElement(Xj,Ua({option:o??U,index:k,shapeType:"sector",isActive:B},M)))}))}function pye(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),E=lye(u,c),x=Math.abs(E),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(U=>Gt(U,f,0)!==0).length,P=(x>=360?S:S-1)*w,k=x-S*g-P,D=r.reduce((U,M)=>{var O=Gt(M,f,0);return U+(Ve(O)?O:0)},0),B;if(D>0){var F;B=r.map((U,M)=>{var O=Gt(U,f,0),V=Gt(U,h,M),z=aye(n,o,U),q=(Ve(O)?O:0)/D,H,$=sn(sn({},U),i&&i[M]&&i[M].props);M?H=F.endAngle+or(E)*w*(O!==0?1:0):H=u;var ve=H+or(E)*((O!==0?g:0)+q*k),Ee=(H+ve)/2,X=(z.innerRadius+z.outerRadius)/2,ie=[{name:V,value:O,payload:$,dataKey:f,type:p,graphicalItemId:n.id}],fe=Sn(z.cx,z.cy,X,Ee);return F=sn(sn(sn(sn({},n.presentationProps),{},{percent:q,cornerRadius:typeof a=="string"?parseFloat(a):a,name:V,tooltipPayload:ie,midAngle:Ee,middleRadius:X,tooltipPosition:fe},$),z),{},{value:O,dataKey:f,startAngle:H,endAngle:ve,payload:$,paddingAngle:or(E)*w}),F})}return B}function mye(t){var{showLabels:e,sectors:n,children:r}=t,i=A.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return A.createElement(Kme,{value:e?i:void 0},r)}function gye(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,E=jv(e,"recharts-pie-"),x=n.current,[w,S]=A.useState(!1),P=A.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),k=A.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return A.createElement(mye,{showLabels:!w,sectors:i},A.createElement(Fv,{animationId:E,begin:a,duration:u,isActive:o,easing:c,onAnimationStart:k,onAnimationEnd:P,key:E},D=>{var B,F=[],U=i&&i[0],M=(B=U==null?void 0:U.startAngle)!==null&&B!==void 0?B:0;return i==null||i.forEach((O,V)=>{var z=x&&x[V],q=V>0?Xl(O,"paddingAngle",0):0;if(z){var H=Rn(z.endAngle-z.startAngle,O.endAngle-O.startAngle,D),$=sn(sn({},O),{},{startAngle:M+q,endAngle:M+H+q});F.push($),M=$.endAngle}else{var{endAngle:ve,startAngle:Ee}=O,X=Rn(0,ve-Ee,D),ie=sn(sn({},O),{},{startAngle:M+q,endAngle:M+X+q});F.push(ie),M=ie.endAngle}}),n.current=F,A.createElement(Ar,null,A.createElement(hye,{sectors:F,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),A.createElement(dye,{showLabels:!w,sectors:i,props:e}),e.children)}var yye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mr.area};function vye(t){var{id:e}=t,n=u0(t,Xge),{hide:r,className:i,rootTabIndex:o}=t,a=A.useMemo(()=>_1(t.children,Pa),[t.children]),u=Le(h=>fge(h,e,a)),c=A.useRef(null),f=At("recharts-pie",i);return r||u==null?(c.current=null,A.createElement(Ar,{tabIndex:o,className:f})):A.createElement(Go,{zIndex:t.zIndex},A.createElement(iye,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),A.createElement(Ar,{tabIndex:o,className:f},A.createElement(gye,{props:sn(sn({},n),{},{sectors:u}),previousSectorsRef:c,id:e})))}function S1(t){var e=ar(t,yye),{id:n}=e,r=u0(e,Qge),i=Bo(r);return A.createElement(Zj,{id:n,type:"pie"},o=>A.createElement(A.Fragment,null,A.createElement(Yge,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),A.createElement(rye,Ua({},r,{id:o})),A.createElement(vye,Ua({},r,{id:o}))))}S1.displayName="Pie";function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){bye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bye(t,e,n){return(e=_ye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ye(t){var e=Eye(t,"string");return typeof e=="symbol"?e:e+""}function Eye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tz=0,Tye={xAxis:{},yAxis:{},zAxis:{}},nz=Ur({name:"cartesianAxis",initialState:Tye,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Wt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Wt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Wt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Wt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Wt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Wt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Wt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Wt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Wt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...a,r].slice(-3);t.yAxis[n]=gV(gV({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:xye,replaceXAxis:Sye,removeXAxis:wye,addYAxis:Aye,replaceYAxis:Cye,removeYAxis:Iye,addZAxis:jwe,replaceZAxis:zwe,removeZAxis:qwe,updateYAxisWidth:Pye}=nz.actions,Rye=nz.reducer,Mye=re([On],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Nye=re([Mye,Ds,Os],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),rz=()=>Le(Nye),yV=(t,e,n)=>{var r=n??t;if(!Gn(r))return gr(r,e,0)},Dye=(t,e,n)=>{var r={},i=t.filter(Qv),o=t.filter(f=>f.stackId==null),a=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},r),u=Object.entries(a).map(f=>{var h,[p,g]=f,E=g.map(w=>w.dataKey),x=yV(e,n,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:E,barSize:x}}),c=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=yV(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){Oye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oye(t,e,n){return(e=kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kye(t){var e=Lye(t,"string");return typeof e=="symbol"?e:e+""}function Lye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vye(t,e,n,r,i){var o,a=r.length;if(!(a<1)){var u=gr(t,n,0,!0),c,f=[];if(vt((o=r[0])===null||o===void 0?void 0:o.barSize)){var h=!1,p=n/a,g=r.reduce((k,D)=>k+(D.barSize||0),0);g+=(a-1)*u,g>=n&&(g-=(a-1)*u,u=0),g>=n&&p>0&&(h=!0,p*=.9,g=a*p);var E=(n-g)/2>>0,x={offset:E-u,size:0};c=r.reduce((k,D)=>{var B,F={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:x.offset+x.size+u,size:h?p:(B=D.barSize)!==null&&B!==void 0?B:0}},U=[...k,F];return x=F.position,U},f)}else{var w=gr(e,n,0,!0);n-2*w-(a-1)*u<=0&&(u=0);var S=(n-2*w-(a-1)*u)/a;S>1&&(S>>=0);var P=vt(i)?Math.min(S,i):S;c=r.reduce((k,D,B)=>[...k,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:w+(S+u)*B+(S-P)/2,size:P}}],f)}return c}}var Uye=(t,e,n,r,i,o,a)=>{var u=Gn(a)?e:a,c=Vye(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(f=>og(og({},f),{},{position:og(og({},f.position),{},{offset:f.position.offset-i/2})}))),c},Bye=(t,e)=>{var n=UA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},Fye=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function jye(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&vt(t.zIndex)?t.zIndex:e}var iz=t=>{var{chartData:e}=t,n=Ft(),r=Zr();return A.useEffect(()=>r?()=>{}:(n(AL(e)),()=>{n(AL(void 0))}),[e,n,r]),null},bV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oz=Ur({name:"brush",initialState:bV,reducers:{setBrushSettings(t,e){return e.payload==null?bV:e.payload}}}),{setBrushSettings:Hwe}=oz.actions,zye=oz.reducer;function qye(t){return(t%180+180)%180}var Hye=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qye(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Gye={dots:[],areas:[],lines:[]},sz=Ur({name:"referenceElements",initialState:Gye,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Xi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Xi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Xi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Gwe,removeDot:$we,addArea:Kwe,removeArea:Ywe,addLine:Wwe,removeLine:Jwe}=sz.actions,$ye=sz.reducer,Kye=A.createContext(void 0),Yye=t=>{var{children:e}=t,[n]=A.useState("".concat(dh("recharts"),"-clip")),r=rz();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return A.createElement(Kye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function az(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Wye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hye(r,n)}function Jye(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Ah(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Xye(t,e){return az(t,e+1)}function Qye(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,f=1,h=a,p=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:az(r,f)};var w=c,S,P=()=>(S===void 0&&(S=n(x,w)),S),k=x.coordinate,D=c===0||Ah(t,k,P,h,u);D||(c=0,h=a,f+=1),D&&(h=k+t*(P()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function Zye(t,e,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:u,end:c}=e,f=1;f<=a;f++){for(var h=(a-1)%f,p=u,g=!0,E=function(){var B=r[w];if(B==null)return 0;var F=w,U,M=()=>(U===void 0&&(U=n(B,F)),U),O=B.coordinate,V=w===h||Ah(t,O,M,p,c);if(!V)return g=!1,1;V&&(p=O+t*(M()/2+i))},x,w=h;w<a&&(x=E(),!(x!==0&&x===1));w+=f);if(g){for(var S=[],P=h;P<a;P+=f){var k=r[P];k!=null&&S.push(k)}return S}}return[]}function _V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_V(Object(n),!0).forEach(function(r){eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eve(t,e,n){return(e=tve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return typeof e=="symbol"?e:e+""}function nve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rve(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,f=function(g){var E=o[g];if(E==null)return 1;var x=E,w,S=()=>(w===void 0&&(w=n(E,g)),w);if(g===a-1){var P=t*(x.coordinate+t*S()/2-c);o[g]=x=cr(cr({},x),{},{tickCoord:P>0?x.coordinate-P*t:x.coordinate})}else o[g]=x=cr(cr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Ah(t,x.tickCoord,S,u,c);k&&(c=x.tickCoord-t*(S()/2+i),o[g]=cr(cr({},x),{},{isShow:!0}))}},h=a-1;h>=0;h--)f(h);return o}function ive(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:f}=e;if(o){var h=r[u-1];if(h!=null){var p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);if(a[u-1]=h=cr(cr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var E=Ah(t,h.tickCoord,()=>p,c,f);E&&(f=h.tickCoord-t*(p/2+i),a[u-1]=cr(cr({},h),{},{isShow:!0}))}}}for(var x=o?u-1:u,w=function(k){var D=a[k];if(D==null)return 1;var B=D,F,U=()=>(F===void 0&&(F=n(D,k)),F);if(k===0){var M=t*(B.coordinate-t*U()/2-c);a[k]=B=cr(cr({},B),{},{tickCoord:M<0?B.coordinate-M*t:B.coordinate})}else a[k]=B=cr(cr({},B),{},{tickCoord:B.coordinate});if(B.tickCoord!=null){var O=Ah(t,B.tickCoord,U,c,f);O&&(c=B.tickCoord+t*(U()/2+i),a[k]=cr(cr({},B),{},{isShow:!0}))}},S=0;S<x;S++)w(S);return a}function ove(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ve(c)||Bv.isSsr){var g;return(g=Xye(i,Ve(c)?c:0))!==null&&g!==void 0?g:[]}var E=[],x=u==="top"||u==="bottom"?"width":"height",w=h&&x==="width"?Qd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(F,U)=>{var M=typeof f=="function"?f(F.value,U):F.value;return x==="width"?Wye(Qd(M,{fontSize:e,letterSpacing:n}),w,p):Qd(M,{fontSize:e,letterSpacing:n})[x]},P=i[0],k=i[1],D=i.length>=2&&P!=null&&k!=null?or(k.coordinate-P.coordinate):1,B=Jye(o,D,x);return c==="equidistantPreserveStart"?Qye(D,B,S,i,a):c==="equidistantPreserveEnd"?Zye(D,B,S,i,a):(c==="preserveStart"||c==="preserveStartEnd"?E=ive(D,B,S,i,a,c==="preserveStartEnd"):E=rve(D,B,S,i,a),E.filter(F=>F.isShow))}var sve=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>a&&(a=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=a+c+u+(n?r:0);return Math.round(f)}return 0},ave=["axisLine","width","height","className","hide","ticks","axisType"];function lve(t,e){if(t==null)return{};var n,r,i=uve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(null,arguments)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e,n){return(e=fve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fve(t){var e=dve(t,"string");return typeof e=="symbol"?e:e+""}function dve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mr.axis};function hve(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=nn(nn(nn({},c),Bo(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!a||o==="bottom"&&a);f=nn(nn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(o==="left"&&!a||o==="right"&&a);f=nn(nn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",iu({},f,{className:At("recharts-cartesian-axis-line",Xl(u,"className"))}))}function pve(t,e,n,r,i,o,a,u,c){var f,h,p,g,E,x,w=u?-1:1,S=t.tickSize||a,P=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,g=n+ +!u*i,p=g-w*S,x=p-w*c,E=P;break;case"left":p=g=t.coordinate,h=e+ +!u*r,f=h-w*S,E=f-w*c,x=P;break;case"right":p=g=t.coordinate,h=e+ +u*r,f=h+w*S,E=f+w*c,x=P;break;default:f=h=t.coordinate,g=n+ +u*i,p=g+w*S,x=p+w*c,E=P;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:E,y:x}}}function mve(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function gve(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yve(t){var{option:e,tickProps:n,value:r}=t,i,o=At(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,nn(nn({},n),{},{className:o}));else if(typeof e=="function")i=e(nn(nn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=At(a,Yj(e))),i=A.createElement(s0,iu({},n,{className:a}),r)}return i}var vve=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:E,width:x,height:w,tickSize:S,tickMargin:P,fontSize:k,letterSpacing:D,getTicksConfig:B,events:F,axisType:U}=t,M=ove(nn(nn({},B),{},{ticks:n}),k,D),O=mve(h,p),V=gve(h,p),z=Bo(B),q=fh(r),H={};typeof i=="object"&&(H=i);var $=nn(nn({},z),{},{fill:"none"},H),ve=M.map(ie=>nn({entry:ie},pve(ie,g,E,x,w,h,S,p,P))),Ee=ve.map(ie=>{var{entry:fe,line:Te}=ie;return A.createElement(Ar,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&A.createElement("line",iu({},$,Te,{className:At("recharts-cartesian-axis-tick-line",Xl(i,"className"))})))}),X=ve.map((ie,fe)=>{var Te,W,{entry:L,tick:K}=ie,Z=nn(nn(nn(nn({verticalAnchor:V},z),{},{textAnchor:O,stroke:"none",fill:o},K),{},{index:fe,payload:L,visibleTicksCount:M.length,tickFormatter:a,padding:c},f),{},{angle:(Te=(W=f==null?void 0:f.angle)!==null&&W!==void 0?W:z.angle)!==null&&Te!==void 0?Te:0}),ae=nn(nn({},Z),q);return A.createElement(Ar,iu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},zh(F,L,fe)),r&&A.createElement(yve,{option:r,tickProps:ae,value:"".concat(typeof a=="function"?a(L.value,fe):L.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},X.length>0&&A.createElement(Go,{zIndex:mr.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},X)),Ee.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},Ee))}),bve=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:u,axisType:c}=t,f=lve(t,ave),[h,p]=A.useState(""),[g,E]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return sve({ticks:x.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=A.useCallback(S=>{if(S){var P=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=P;var k=P[0];if(k){var D=window.getComputedStyle(k),B=D.fontSize,F=D.letterSpacing;(B!==h||F!==g)&&(p(B),E(F))}}},[h,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Go,{zIndex:t.zIndex},A.createElement(Ar,{className:At("recharts-cartesian-axis",o)},A.createElement(hve,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Bo(t)}),A.createElement(vve,{ref:w,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(wme,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(kme,{label:t.label,labelRef:t.labelRef}),t.children)))}),w1=A.forwardRef((t,e)=>{var n=ar(t,Kl);return A.createElement(bve,iu({},n,{ref:e}))});w1.displayName="CartesianAxis";var _ve={},lz=Ur({name:"errorBars",initialState:_ve,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Xwe,replaceErrorBar:Qwe,removeErrorBar:Zwe}=lz.actions,Eve=lz.reducer,Tve=["children"];function xve(t,e){if(t==null)return{};var n,r,i=Sve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ave=A.createContext(wve);function Cve(t){var{children:e}=t,n=xve(t,Tve);return A.createElement(Ave.Provider,{value:n},e)}function uz(t,e){var n,r,i=Le(f=>Vs(f,t)),o=Le(f=>Us(f,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zn.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function Ive(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=rz(),{needClipX:o,needClipY:a,needClip:u}=uz(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?c:c-h/2,y:a?f:f-p/2,width:o?h:h*2,height:a?p:p*2}))}var TT={exports:{}},xT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV;function Pve(){if(TV)return xT;TV=1;var t=Zc();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return xT.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var E=i(null);if(E.current===null){var x={hasValue:!1,value:null};E.current=x}else x=E.current;E=a(function(){function S(F){if(!P){if(P=!0,k=F,F=p(F),g!==void 0&&x.hasValue){var U=x.value;if(g(U,F))return D=U}return D=F}if(U=D,n(k,F))return U;var M=p(F);return g!==void 0&&g(U,M)?(k=F,U):(k=F,D=M)}var P=!1,k,D,B=h===void 0?null:h;return[function(){return S(f())},B===null?void 0:function(){return S(B())}]},[f,h,p,g]);var w=r(c,E[0],E[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),u(w),w},xT}var xV;function Rve(){return xV||(xV=1,TT.exports=Pve()),TT.exports}Rve();function Mve(t){t()}function Nve(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mve(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var SV={notify(){},get:()=>[]};function Dve(t,e){let n,r=SV,i=0,o=!1;function a(w){h();const S=r.subscribe(w);let P=!1;return()=>{P||(P=!0,S(),p())}}function u(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=Nve())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SV)}function g(){o||(o=!0,h())}function E(){o&&(o=!1,p())}const x={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:E,getListeners:()=>r};return x}var Ove=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kve=Ove(),Lve=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vve=Lve(),Uve=()=>kve||Vve?A.useLayoutEffect:A.useEffect,Bve=Uve();function wV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Fve(t,e){if(wV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!wV(t[n[i]],e[n[i]]))return!1;return!0}var ST=Symbol.for("react-redux-context"),wT=typeof globalThis<"u"?globalThis:{};function jve(){if(!A.createContext)return{};const t=wT[ST]??(wT[ST]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var zve=jve();function qve(t){const{children:e,context:n,serverState:r,store:i}=t,o=A.useMemo(()=>{const c=Dve(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);Bve(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||zve;return A.createElement(u.Provider,{value:o},e)}var Hve=qve,Gve=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function $ve(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function A1(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Gve.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Fve(t[r],e[r]))return!1}else if(!$ve(t[r],e[r]))return!1;return!0}function du(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:tz}function hu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:tz}var Kve="Invariant failed";function Yve(t,e){throw new Error(Kve)}function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(null,arguments)}function By(t){return A.createElement(Xj,hS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Wve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var o=Ve(r)||Gn(r);return o?e(r,i):(o||Yve(),n)}},Jve=(t,e,n)=>n,Xve=(t,e)=>e,op=re([jA,Xve],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Qve=re([op],t=>t==null?void 0:t.maxBarSize),Zve=(t,e,n,r)=>r,e0e=re([Et,jA,du,hu,Jve],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),t0e=(t,e,n)=>{var r=Et(t),i=du(t,e),o=hu(t,e);if(!(i==null||o==null))return r==="horizontal"?aS(t,"yAxis",o,n):aS(t,"xAxis",i,n)},n0e=(t,e)=>{var n=Et(t),r=du(t,e),i=hu(t,e);if(!(r==null||i==null))return n==="horizontal"?pL(t,"xAxis",r):pL(t,"yAxis",i)},r0e=re([e0e,_fe,n0e],Dye),i0e=(t,e,n)=>{var r,i,o=op(t,e);if(o==null)return 0;var a=du(t,e),u=hu(t,e);if(a==null||u==null)return 0;var c=Et(t),f=E6(t),{maxBarSize:h}=o,p=Gn(h)?f:h,g,E;return c==="horizontal"?(g=Kc(t,"xAxis",a,n),E=$c(t,"xAxis",a,n)):(g=Kc(t,"yAxis",u,n),E=$c(t,"yAxis",u,n)),(r=(i=cy(g,E,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},cz=(t,e,n)=>{var r=Et(t),i=du(t,e),o=hu(t,e);if(!(i==null||o==null)){var a,u;return r==="horizontal"?(a=Kc(t,"xAxis",i,n),u=$c(t,"xAxis",i,n)):(a=Kc(t,"yAxis",o,n),u=$c(t,"yAxis",o,n)),cy(a,u)}},o0e=re([r0e,E6,bfe,T6,i0e,cz,Qve],Uye),s0e=(t,e,n)=>{var r=du(t,e);if(r!=null)return Kc(t,"xAxis",r,n)},a0e=(t,e,n)=>{var r=hu(t,e);if(r!=null)return Kc(t,"yAxis",r,n)},l0e=(t,e,n)=>{var r=du(t,e);if(r!=null)return $c(t,"xAxis",r,n)},u0e=(t,e,n)=>{var r=hu(t,e);if(r!=null)return $c(t,"yAxis",r,n)},c0e=re([o0e,op],Fye),f0e=re([t0e,op],Bye),d0e=re([On,tA,s0e,a0e,l0e,u0e,c0e,Et,ffe,cz,f0e,op,Zve],(t,e,n,r,i,o,a,u,c,f,h,p,g)=>{var{chartData:E,dataStartIndex:x,dataEndIndex:w}=c;if(!(p==null||a==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:S}=p,P;if(S!=null&&S.length>0?P=S:P=E==null?void 0:E.slice(x,w+1),P!=null)return F0e({layout:u,barSettings:p,pos:a,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:P,offset:t,cells:g,dataStartIndex:x})}}),h0e=["index"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(null,arguments)}function p0e(t,e){if(t==null)return{};var n,r,i=m0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fz=A.createContext(void 0),g0e=t=>{var e=A.useContext(fz);if(e!=null)return e.stackId;if(t!=null)return ise(t)},y0e=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),v0e=t=>{var e=A.useContext(fz);if(e!=null){var{stackId:n}=e;return"url(#".concat(y0e(n,t),")")}},dz=t=>{var{index:e}=t,n=p0e(t,h0e),r=v0e(e);return A.createElement(Ar,pS({className:"recharts-bar-stack-layer",clipPath:r},n))},b0e=["onMouseEnter","onMouseLeave","onClick"],_0e=["value","background","tooltipPosition"],E0e=["id"],T0e=["onMouseEnter","onClick","onMouseLeave"];function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){x0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e,n){return(e=S0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0e(t){var e=w0e(t,"string");return typeof e=="symbol"?e:e+""}function w0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(t,e){if(t==null)return{};var n,r,i=A0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function A0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C0e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Rv(n,e),payload:t}]},I0e=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:u,tooltipType:c,id:f}=t,h={dataDefinedOnItem:void 0,getPosition:af,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Rv(o,e),hide:a,type:c,color:i,unit:u,graphicalItemId:f}};return A.createElement(Qj,{tooltipEntrySettings:h})});function P0e(t){var e=Le(ru),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:u,onClick:c}=o,f=Fy(o,b0e),h=E1(a,r,o.id),p=T1(u),g=x1(c,r,o.id);if(!i||n==null)return null;var E=fh(i);return A.createElement(Go,{zIndex:jye(i,mr.barBackground)},n.map((x,w)=>{var{value:S,background:P,tooltipPosition:k}=x,D=Fy(x,_0e);if(!P)return null;var B=h(x,w),F=p(x,w),U=g(x,w),M=Er(Er(Er(Er(Er({option:i,isActive:String(w)===e},D),{},{fill:"#eee"},P),E),zh(f,x,w)),{},{onMouseEnter:B,onMouseLeave:F,onClick:U,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return A.createElement(By,Cs({key:"background-bar-".concat(w)},M))}))}function R0e(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Er(Er({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return A.createElement($me,{value:e?i:void 0},n)}function M0e(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,u=Le(ru),c=Le(d1),f=n&&String(o)===u&&(c==null||a===c),h=f?n:e;return f?A.createElement(Go,{zIndex:mr.activeBar},A.createElement(dz,{index:o},A.createElement(By,Cs({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:a})))):A.createElement(By,Cs({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:a}))}function N0e(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return A.createElement(By,Cs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function D0e(t){var e,{data:n,props:r}=t,i=(e=Bo(r))!==null&&e!==void 0?e:{},{id:o}=i,a=Fy(i,E0e),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,E=Fy(r,T0e),x=E1(h,c,o),w=T1(g),S=x1(p,c,o);return n?A.createElement(A.Fragment,null,n.map((P,k)=>A.createElement(dz,Cs({index:k,key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(k),className:"recharts-bar-rectangle"},zh(E,P,k),{onMouseEnter:x(P,k),onMouseLeave:w(P,k),onClick:S(P,k)}),f?A.createElement(M0e,{shape:u,activeBar:f,baseProps:a,entry:P,index:k,dataKey:c}):A.createElement(N0e,{shape:u,baseProps:a,entry:P,index:k,dataKey:c})))):null}function O0e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,g=jv(e,"recharts-bar-"),[E,x]=A.useState(!1),w=!E,S=A.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),P=A.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return A.createElement(R0e,{showLabels:w,rects:r},A.createElement(Fv,{animationId:g,begin:a,duration:u,isActive:o,easing:c,onAnimationEnd:S,onAnimationStart:P,key:g},k=>{var D=k===1?r:r==null?void 0:r.map((B,F)=>{var U=p&&p[F];if(U)return Er(Er({},B),{},{x:Rn(U.x,B.x,k),y:Rn(U.y,B.y,k),width:Rn(U.width,B.width,k),height:Rn(U.height,B.height,k)});if(i==="horizontal"){var M=Rn(0,B.height,k),O=Rn(B.stackedBarStart,B.y,k);return Er(Er({},B),{},{y:O,height:M})}var V=Rn(0,B.width,k),z=Rn(B.stackedBarStart,B.x,k);return Er(Er({},B),{},{width:V,x:z})});return k>0&&(n.current=D??null),D==null?null:A.createElement(Ar,null,A.createElement(D0e,{props:e,data:D}))}),A.createElement(Hj,{label:e.label}),e.children)}function k0e(t){var e=A.useRef(null);return A.createElement(O0e,{previousRectanglesRef:e,props:t})}var hz=0,L0e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Gt(t,e)}};class V0e extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=At("recharts-bar",i),p=f;return A.createElement(Ar,{className:h,id:f},u&&A.createElement("defs",null,A.createElement(Ive,{clipPathId:p,xAxisId:o,yAxisId:a})),A.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(P0e,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),A.createElement(k0e,this.props)))}}var U0e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hz,xAxisId:0,yAxisId:0,zIndex:mr.bar};function B0e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=uz(e,n),g=lf(),E=Zr(),x=_1(t.children,Pa),w=Le(k=>d0e(k,t.id,E,x));if(g!=="vertical"&&g!=="horizontal")return null;var S,P=w==null?void 0:w[0];return P==null||P.height==null||P.width==null?S=0:S=g==="vertical"?P.height/2:P.width/2,A.createElement(Cve,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:L0e,errorBarOffset:S},A.createElement(V0e,Cs({},t,{layout:g,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function F0e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:E,parentViewBox:x,dataStartIndex:w}=t,S=e==="horizontal"?u:a,P=h?S.scale.domain():null,k=ose({numericAxis:S}),D=S.scale.map(k);return p.map((B,F)=>{var U,M,O,V,z,q;if(h){var H=h[F+w];if(H==null)return null;U=Zoe(H,P)}else U=Gt(B,n),Array.isArray(U)||(U=[k,U]);var $=Wve(r,hz)(U[1],F);if(e==="horizontal"){var ve,Ee=u.scale.map(U[0]),X=u.scale.map(U[1]);if(Ee==null||X==null)return null;M=d2({axis:a,ticks:c,bandSize:o,offset:i.offset,entry:B,index:F}),O=(ve=X??Ee)!==null&&ve!==void 0?ve:void 0,V=i.size;var ie=Ee-X;if(z=Fo(ie)?0:ie,q={x:M,y:g.top,width:V,height:g.height},Math.abs($)>0&&Math.abs(z)<Math.abs($)){var fe=or(z||$)*(Math.abs($)-Math.abs(z));O-=fe,z+=fe}}else{var Te=a.scale.map(U[0]),W=a.scale.map(U[1]);if(Te==null||W==null)return null;if(M=Te,O=d2({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:B,index:F}),V=W-Te,z=i.size,q={x:g.left,y:O,width:g.width,height:z},Math.abs($)>0&&Math.abs(V)<Math.abs($)){var L=or(V||$)*(Math.abs($)-Math.abs(V));V+=L}}if(M==null||O==null||V==null||z==null)return null;var K=Er(Er({},B),{},{stackedBarStart:D,x:M,y:O,width:V,height:z,value:h?U:U[1],payload:B,background:q,tooltipPosition:{x:M+V/2,y:O+z/2},parentViewBox:x},E&&E[F]&&E[F].props);return K}).filter(Boolean)}function j0e(t){var e=ar(t,U0e),n=g0e(e.stackId),r=Zr();return A.createElement(Zj,{id:e.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Dge,{legendPayload:C0e(e)}),A.createElement(I0e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),A.createElement(Kge,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),A.createElement(Go,{zIndex:e.zIndex},A.createElement(B0e,Cs({},e,{id:i})))))}var C1=A.memo(j0e,A1);C1.displayName="Bar";var z0e=["domain","range"],q0e=["domain","range"];function CV(t,e){if(t==null)return{};var n,r,i=H0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function pz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=CV(t,z0e),{domain:o,range:a}=e,u=CV(e,q0e);return!IV(n,o)||!IV(r,a)?!1:A1(i,u)}var G0e=["type"],$0e=["dangerouslySetInnerHTML","ticks","scale"],K0e=["id","scale"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return(e=W0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:e+""}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gS(t,e){if(t==null)return{};var n,r,i=X0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function X0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Q0e(t){var e=Ft(),n=A.useRef(null),r=sF(),{type:i}=t,o=gS(t,G0e),a=Jv(r,"xAxis",i),u=A.useMemo(()=>{if(a!=null)return RV(RV({},o),{},{type:a})},[o,a]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?e(xye(u)):n.current!==u&&e(Sye({prev:n.current,next:u})),n.current=u)},[u,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(wye(n.current)),n.current=null)},[e]),null}var Z0e=t=>{var{xAxisId:e,className:n}=t,r=Le(tA),i=Zr(),o="xAxis",a=Le(P=>tj(P,o,e,i)),u=Le(P=>X6(P,e)),c=Le(P=>_de(P,e)),f=Le(P=>N6(P,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=t,E=gS(t,$0e),{id:x,scale:w}=f,S=gS(f,K0e);return A.createElement(w1,mS({},E,S,{x:c.x,y:c.y,width:u.width,height:u.height,className:At("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},ebe={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:Kl.axisLine,height:jn.height,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,label:!1,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:Kl.tickLine,tickSize:Kl.tickSize,type:jn.type,xAxisId:0},tbe=t=>{var e=ar(t,ebe);return A.createElement(A.Fragment,null,A.createElement(Q0e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(Z0e,e))},I1=A.memo(tbe,pz);I1.displayName="XAxis";var nbe=["type"],rbe=["dangerouslySetInnerHTML","ticks","scale"],ibe=["id","scale"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(null,arguments)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function obe(t,e,n){return(e=sbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t){var e=abe(t,"string");return typeof e=="symbol"?e:e+""}function abe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vS(t,e){if(t==null)return{};var n,r,i=lbe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ube(t){var e=Ft(),n=A.useRef(null),r=sF(),{type:i}=t,o=vS(t,nbe),a=Jv(r,"yAxis",i),u=A.useMemo(()=>{if(a!=null)return NV(NV({},o),{},{type:a})},[a,o]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Aye(u)):n.current!==u&&e(Cye({prev:n.current,next:u})),n.current=u)},[u,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Iye(n.current)),n.current=null)},[e]),null}function cbe(t){var{yAxisId:e,className:n,width:r,label:i}=t,o=A.useRef(null),a=A.useRef(null),u=Le(tA),c=Zr(),f=Ft(),h="yAxis",p=Le(U=>Q6(U,e)),g=Le(U=>Tde(U,e)),E=Le(U=>tj(U,h,e,c)),x=Le(U=>D6(U,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!p||y1(i)||A.isValidElement(i)||x==null)){var U=o.current;if(U){var M=U.getCalculatedWidth();Math.round(p.width)!==Math.round(M)&&f(Pye({id:e,width:M}))}}},[E,p,f,i,e,r,x]),p==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:S,scale:P}=t,k=vS(t,rbe),{id:D,scale:B}=x,F=vS(x,ibe);return A.createElement(w1,yS({},k,F,{ref:o,labelRef:a,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:At("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:E,axisType:h}))}var fbe={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,angle:zn.angle,axisLine:Kl.axisLine,hide:!1,includeHidden:zn.includeHidden,interval:zn.interval,label:!1,minTickGap:zn.minTickGap,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,tickLine:Kl.tickLine,tickSize:Kl.tickSize,type:zn.type,width:zn.width,yAxisId:0},dbe=t=>{var e=ar(t,fbe);return A.createElement(A.Fragment,null,A.createElement(ube,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(cbe,e))},P1=A.memo(dbe,pz);P1.displayName="YAxis";var hbe=(t,e)=>e,R1=re([hbe,Et,P6,Yn,vj,Bs,Vhe,On],Hhe),M1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},mz=Ci("mouseClick"),gz=Hh();gz.startListening({actionCreator:mz,effect:(t,e)=>{var n=t.payload,r=R1(e.getState(),M1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Lde({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var bS=Ci("mouseMove"),yz=Hh(),sg=null;yz.startListening({actionCreator:bS,effect:(t,e)=>{var n=t.payload;sg!==null&&cancelAnimationFrame(sg);var r=M1(n);sg=requestAnimationFrame(()=>{var i=e.getState(),o=s1(i,i.tooltip.settings.shared);if(o==="axis"){var a=R1(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(uj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(lj())}sg=null})}});function pbe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var DV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vz=Ur({name:"rootProps",initialState:DV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:DV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),mbe=vz.reducer,{updateOptions:gbe}=vz.actions,ybe=null,vbe={updatePolarOptions:(t,e)=>e.payload},bz=Ur({name:"polarOptions",initialState:ybe,reducers:vbe}),{updatePolarOptions:bbe}=bz.actions,_be=bz.reducer,_z=Ci("keyDown"),Ez=Ci("focus"),N1=Hh();N1.startListening({actionCreator:_z,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=a1(i,yf(n),tp(n),rp(n)),u=a==null?-1:Number(a);if(!(!Number.isFinite(u)||u<0)){var c=Bs(n);if(o==="Enter"){var f=Oy(n,"axis","hover",String(i.index));e.dispatch(uS({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=Ade(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,E=u+g*p;if(!(c==null||E>=c.length||E<0)){var x=Oy(n,"axis","hover",String(E));e.dispatch(uS({active:!0,activeIndex:E.toString(),activeCoordinate:x}))}}}}}});N1.startListening({actionCreator:Ez,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Oy(n,"axis","hover",String(o));e.dispatch(uS({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var mi=Ci("externalEvent"),Tz=Hh(),AT=new Map;Tz.startListening({actionCreator:mi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=AT.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:The(u),activeDataKey:d1(u),activeIndex:ru(u),activeLabel:Ej(u),activeTooltipIndex:ru(u),isTooltipActive:xhe(u)};n(c,r)}finally{AT.delete(i)}});AT.set(i,a)}}});var Ebe=re([mf],t=>t.tooltipItemPayloads),Tbe=re([Ebe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),xz=Ci("touchMove"),Sz=Hh();Sz.startListening({actionCreator:xz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=s1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=R1(r,M1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(uj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Z5),p=(u=f.getAttribute(eF))!==null&&u!==void 0?u:void 0,g=gf(r).find(w=>w.id===p);if(h==null||g==null||p==null)return;var{dataKey:E}=g,x=Tbe(r,h,p);e.dispatch(aj({activeDataKey:E,activeIndex:h,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var xbe=x5({brush:zye,cartesianAxis:Rye,chartData:Epe,errorBars:Eve,graphicalItems:Gge,layout:Yoe,legend:nae,options:gpe,polarAxis:ige,polarOptions:_be,referenceElements:$ye,rootProps:mbe,tooltip:Vde,zIndex:ipe}),Sbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return boe({reducer:xbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([gz.middleware,yz.middleware,N1.middleware,Tz.middleware,Sz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(U5({type:"raf"}))},devTools:{serialize:{replacer:pbe},name:"recharts-".concat(n)}})};function wz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Zr(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=Sbe(e,r));var a=Yw;return A.createElement(Hve,{context:a,store:o.current},n)}function wbe(t){var{layout:e,margin:n}=t,r=Ft(),i=Zr();return A.useEffect(()=>{i||(r(Goe(e)),r(Hoe(n)))},[r,i,e,n]),null}var Az=A.memo(wbe,A1);function Cz(t){var e=Ft();return A.useEffect(()=>{e(gbe(t))},[e,t]),null}function OV(t){var{zIndex:e,isPanorama:n}=t,r=A.useRef(null),i=Ft();return A.useLayoutEffect(()=>(r.current&&i(npe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(rpe({zIndex:e,isPanorama:n}))}),[i,e,n]),A.createElement("g",{tabIndex:-1,ref:r})}function kV(t){var{children:e,isPanorama:n}=t,r=Le($he);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return A.createElement(A.Fragment,null,i.map(a=>A.createElement(OV,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>A.createElement(OV,{key:a,zIndex:a,isPanorama:n})))}var Abe=["children"];function Cbe(t,e){if(t==null)return{};var n,r,i=Ibe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ibe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}var Pbe={width:"100%",height:"100%",display:"block"},Rbe=A.forwardRef((t,e)=>{var n=iF(),r=oF(),i=bF();if(!Va(n)||!Va(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,f,h;return a!=null&&(typeof a.tabIndex=="number"?f=a.tabIndex:f=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0),A.createElement(Vw,jy({},a,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Pbe,ref:e}),o)}),Mbe=t=>{var{children:e}=t,n=Le(Ov);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return A.createElement(Vw,{width:r,height:i,x:a,y:o},e)},LV=A.forwardRef((t,e)=>{var{children:n}=t,r=Cbe(t,Abe),i=Zr();return i?A.createElement(Mbe,null,A.createElement(kV,{isPanorama:!0},n)):A.createElement(Rbe,jy({ref:e},r),A.createElement(kV,{isPanorama:!1},n))});function Nbe(){var t=Ft(),[e,n]=A.useState(null),r=Le(fse);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;vt(o)&&o!==r&&t(Koe(o))}},[e,t,r]),n}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){Obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Obe(t,e,n){return(e=kbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=Lbe(t,"string");return typeof e=="symbol"?e:e+""}function Lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(null,arguments)}var Vbe=()=>(Rpe(),null);function zy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ube=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[o,a]=A.useState({containerWidth:zy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:zy((r=t.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{a(p=>{var g=Math.round(f),E=Math.round(h);return p.containerWidth===g&&p.containerHeight===E?p:{containerWidth:g,containerHeight:E}})},[]),c=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=x=>{var w=x[0];if(w!=null){var{width:S,height:P}=w.contentRect;u(S,P)}},E=new ResizeObserver(g);E.observe(f),i.current=E}},[e,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement($h,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",Ra({ref:c},t)))}),Bbe=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=A.useState({containerWidth:zy(n),containerHeight:zy(r)}),a=A.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=A.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();a(f,h)}},[e,a]);return A.createElement(A.Fragment,null,A.createElement($h,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Ra({ref:u},t)))}),Fbe=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement($h,{width:n,height:r}),A.createElement("div",Ra({ref:e},t)))}),jbe=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?A.createElement(Bbe,Ra({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?A.createElement(Fbe,Ra({},t,{width:n,height:r,ref:e})):A.createElement(A.Fragment,null,A.createElement($h,{width:n,height:r}),A.createElement("div",Ra({ref:e},t)))});function zbe(t){return t?Ube:jbe}var qbe=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:E,onTouchMove:x,onTouchStart:w,style:S,width:P,responsive:k,dispatchTouchEvents:D=!0}=t,B=A.useRef(null),F=Ft(),[U,M]=A.useState(null),[O,V]=A.useState(null),z=Nbe(),q=nA(),H=(q==null?void 0:q.width)>0?q.width:P,$=(q==null?void 0:q.height)>0?q.height:i,ve=A.useCallback(oe=>{z(oe),typeof e=="function"&&e(oe),M(oe),V(oe),oe!=null&&(B.current=oe)},[z,e,M,V]),Ee=A.useCallback(oe=>{F(mz(oe)),F(mi({handler:o,reactEvent:oe}))},[F,o]),X=A.useCallback(oe=>{F(bS(oe)),F(mi({handler:f,reactEvent:oe}))},[F,f]),ie=A.useCallback(oe=>{F(lj()),F(mi({handler:h,reactEvent:oe}))},[F,h]),fe=A.useCallback(oe=>{F(bS(oe)),F(mi({handler:p,reactEvent:oe}))},[F,p]),Te=A.useCallback(()=>{F(Ez())},[F]),W=A.useCallback(oe=>{F(_z(oe.key))},[F]),L=A.useCallback(oe=>{F(mi({handler:a,reactEvent:oe}))},[F,a]),K=A.useCallback(oe=>{F(mi({handler:u,reactEvent:oe}))},[F,u]),Z=A.useCallback(oe=>{F(mi({handler:c,reactEvent:oe}))},[F,c]),ae=A.useCallback(oe=>{F(mi({handler:g,reactEvent:oe}))},[F,g]),ge=A.useCallback(oe=>{F(mi({handler:w,reactEvent:oe}))},[F,w]),_e=A.useCallback(oe=>{D&&F(xz(oe)),F(mi({handler:x,reactEvent:oe}))},[F,D,x]),be=A.useCallback(oe=>{F(mi({handler:E,reactEvent:oe}))},[F,E]),Me=zbe(k);return A.createElement(Ij.Provider,{value:U},A.createElement(jB.Provider,{value:O},A.createElement(Me,{width:H??(S==null?void 0:S.width),height:$??(S==null?void 0:S.height),className:At("recharts-wrapper",r),style:Dbe({position:"relative",cursor:"default",width:H,height:$},S),onClick:Ee,onContextMenu:L,onDoubleClick:K,onFocus:Te,onKeyDown:W,onMouseDown:Z,onMouseEnter:X,onMouseLeave:ie,onMouseMove:fe,onMouseUp:ae,onTouchEnd:be,onTouchMove:_e,onTouchStart:ge,ref:ve},A.createElement(Vbe,null),n)))}),Hbe=["width","height","responsive","children","className","style","compact","title","desc"];function Gbe(t,e){if(t==null)return{};var n,r,i=$be(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $be(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Iz=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:u,compact:c,title:f,desc:h}=t,p=Gbe(t,Hbe),g=Bo(p);return c?A.createElement(A.Fragment,null,A.createElement($h,{width:n,height:r}),A.createElement(LV,{otherAttributes:g,title:f,desc:h},o)):A.createElement(qbe,{className:a,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(LV,{otherAttributes:g,title:f,desc:h,ref:e},A.createElement(Yye,null,o)))});function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(null,arguments)}var Kbe={top:5,right:5,bottom:5,left:5},Ybe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kbe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wbe=A.forwardRef(function(e,n){var r,i=ar(e.categoricalChartProps,Ybe),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(wz,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},A.createElement(iz,{chartData:f.data}),A.createElement(Az,{layout:i.layout,margin:i.margin}),A.createElement(Cz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Iz,_S({},i,{ref:n})))}),Jbe=["axis","item"],Pz=A.forwardRef((t,e)=>A.createElement(Wbe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jbe,tooltipPayloadSearcher:Pj,categoricalChartProps:t,ref:e}));function Xbe(t){var e=Ft();return A.useEffect(()=>{e(bbe(t))},[e,t]),null}var Qbe=["layout"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(null,arguments)}function Zbe(t,e){if(t==null)return{};var n,r,i=e_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t_e={top:5,right:5,bottom:5,left:5},Rz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:t_e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},n_e=A.forwardRef(function(e,n){var r,i=ar(e.categoricalChartProps,Rz),{layout:o}=i,a=Zbe(i,Qbe),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(wz,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(iz,{chartData:i.data}),A.createElement(Az,{layout:o,margin:i.margin}),A.createElement(Cz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Xbe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(Iz,ES({},a,{ref:n})))});function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){r_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r_e(t,e,n){return(e=i_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i_e(t){var e=o_e(t,"string");return typeof e=="symbol"?e:e+""}function o_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s_e=["item"],a_e=BV(BV({},Rz),{},{layout:"centric",startAngle:0,endAngle:360}),Mz=A.forwardRef((t,e)=>{var n=ar(t,a_e);return A.createElement(n_e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:s_e,tooltipPayloadSearcher:Pj,categoricalChartProps:n,ref:e})});const l_e=({onStart:t,onClose:e,onTeacherLogin:n})=>{const[r,i]=A.useState(""),[o,a]=A.useState(""),[u,c]=A.useState(""),f=()=>{if(!r.trim()||!o.trim()){c("Please fill in all fields");return}t(r,o)};return I.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:[I.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-indigo-900 via-slate-900 to-purple-900 opacity-90"}),I.jsxs(xi.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10 border border-white/20 mx-4 md:mx-0 flex flex-col",children:[I.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center flex flex-col items-center",children:[I.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-slate-300 hover:text-slate-500 transition-colors",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsx("div",{className:"inline-block bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest mb-4 border border-blue-100",children:"Reading Challenge"}),I.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 tracking-tighter mb-1",children:"ENGLISH 10"}),I.jsx("h2",{className:"text-sm md:text-base font-bold text-slate-500 uppercase tracking-[0.2em] mb-4",children:"NEW WAYS TO LEARN"}),I.jsx("p",{className:"text-slate-400 text-sm font-medium max-w-[240px]",children:"Ready to explore new ways of learning English?"})]}),I.jsxs("div",{className:"px-8 pb-10 space-y-5",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),I.jsxs("div",{className:"relative group",children:[I.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-purple-500 transition-colors",children:I.jsx(sx,{size:18})}),I.jsx("input",{type:"text",value:r,onChange:h=>{i(h.target.value),c("")},placeholder:"Enter your name",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-purple-500 focus:ring-4 focus:ring-purple-50 outline-none transition-all text-sm font-bold text-slate-700"})]})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Class"}),I.jsxs("div",{className:"relative group",children:[I.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-purple-500 transition-colors",children:I.jsx(cv,{size:18})}),I.jsx("input",{type:"text",value:o,onChange:h=>{a(h.target.value),c("")},placeholder:"e.g. 10A1",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-purple-500 focus:ring-4 focus:ring-purple-50 outline-none transition-all text-sm font-bold text-slate-700"})]})]})]}),u&&I.jsx(xi.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-[11px] text-center font-bold bg-red-50 py-2 rounded-xl border border-red-100",children:u}),I.jsxs("div",{className:"space-y-4 pt-2",children:[I.jsxs("button",{onClick:f,className:"group w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-black py-4 rounded-2xl shadow-xl shadow-purple-200 hover:shadow-purple-300 hover:scale-[1.02] hover:brightness-110 transform active:scale-95 transition-all text-sm tracking-widest uppercase flex items-center justify-center gap-3",children:["START CHALLENGE",I.jsx(Bc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),I.jsxs("button",{onClick:n,className:"hidden md:flex w-full items-center justify-center gap-2 py-2 text-[11px] font-bold text-slate-400 hover:text-purple-600 transition-colors uppercase tracking-widest",children:[I.jsx(kY,{size:12}),"Teacher"]})]})]})]})]})},u_e=()=>{};var FV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c_e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Dz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,E=f&63;c||(E=64,a||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c_e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new f_e;const g=o<<2|u>>4;if(r.push(g),f!==64){const E=u<<4&240|f>>2;if(r.push(E),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d_e=function(t){const e=Nz(t);return Dz.encodeByteArray(e,!0)},qy=function(t){return d_e(t).replace(/\./g,"")},h_e=function(t){try{return Dz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_e=()=>p_e().__FIREBASE_DEFAULTS__,g_e=()=>{if(typeof process>"u"||typeof FV>"u")return;const t=FV.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y_e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h_e(t[1]);return e&&JSON.parse(e)},D1=()=>{try{return u_e()||m_e()||g_e()||y_e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v_e=t=>{var e,n;return(n=(e=D1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},b_e=t=>{const e=v_e(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Oz=()=>{var t;return(t=D1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E_e(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qy(JSON.stringify(n)),qy(JSON.stringify(a)),""].join(".")}const Zd={};function x_e(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zd))Zd[e]?t.emulator.push(e):t.prod.push(e);return t}function S_e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jV=!1;function w_e(t,e){if(typeof window>"u"||typeof document>"u"||!O1(window.location.host)||Zd[t]===e||Zd[t]||jV)return;Zd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=x_e().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{jV=!0,a()},g}function h(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=S_e(r),E=n("text"),x=document.getElementById(E)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),P=n("preprendIcon"),k=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;u(D),h(S,w);const B=f();c(k,P),D.append(k,x,S,B),document.body.appendChild(D)}o?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C_e(){var e;const t=(e=D1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I_e(){return!C_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P_e(){try{return typeof indexedDB=="object"}catch{return!1}}function R_e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_e="FirebaseError";class vf extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M_e,Object.setPrototypeOf(this,vf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kz.prototype.create)}}class kz{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?N_e(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new vf(i,u,r)}}function N_e(t,e){return t.replace(D_e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D_e=/\{\$([^}]+)}/g;function Hy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(zV(o)&&zV(a)){if(!Hy(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zV(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){return t&&t._delegate?t._delegate:t}class Ch{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new __e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L_e(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k_e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k_e(t){return t===kl?void 0:t}function L_e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O_e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const U_e={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},B_e=ct.INFO,F_e={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},j_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=F_e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lz{constructor(e){this.name=e,this._logLevel=B_e,this._logHandler=j_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const z_e=(t,e)=>e.some(n=>t instanceof n);let qV,HV;function q_e(){return qV||(qV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H_e(){return HV||(HV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vz=new WeakMap,TS=new WeakMap,Uz=new WeakMap,CT=new WeakMap,k1=new WeakMap;function G_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ma(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Vz.set(n,t)}).catch(()=>{}),k1.set(e,t),e}function $_e(t){if(TS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});TS.set(t,e)}let xS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K_e(t){xS=t(xS)}function Y_e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(IT(this),e,...n);return Uz.set(r,e.sort?e.sort():[e]),Ma(r)}:H_e().includes(t)?function(...e){return t.apply(IT(this),e),Ma(Vz.get(this))}:function(...e){return Ma(t.apply(IT(this),e))}}function W_e(t){return typeof t=="function"?Y_e(t):(t instanceof IDBTransaction&&$_e(t),z_e(t,q_e())?new Proxy(t,xS):t)}function Ma(t){if(t instanceof IDBRequest)return G_e(t);if(CT.has(t))return CT.get(t);const e=W_e(t);return e!==t&&(CT.set(t,e),k1.set(e,t)),e}const IT=t=>k1.get(t);function J_e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Ma(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ma(a.result),c.oldVersion,c.newVersion,Ma(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const X_e=["get","getKey","getAll","getAllKeys","count"],Q_e=["put","add","delete","clear"],PT=new Map;function GV(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(PT.get(e))return PT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Q_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X_e.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return PT.set(e,o),o}K_e(t=>({...t,get:(e,n,r)=>GV(e,n)||t.get(e,n,r),has:(e,n)=>!!GV(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eEe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eEe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SS="@firebase/app",$V="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Lz("@firebase/app"),tEe="@firebase/app-compat",nEe="@firebase/analytics-compat",rEe="@firebase/analytics",iEe="@firebase/app-check-compat",oEe="@firebase/app-check",sEe="@firebase/auth",aEe="@firebase/auth-compat",lEe="@firebase/database",uEe="@firebase/data-connect",cEe="@firebase/database-compat",fEe="@firebase/functions",dEe="@firebase/functions-compat",hEe="@firebase/installations",pEe="@firebase/installations-compat",mEe="@firebase/messaging",gEe="@firebase/messaging-compat",yEe="@firebase/performance",vEe="@firebase/performance-compat",bEe="@firebase/remote-config",_Ee="@firebase/remote-config-compat",EEe="@firebase/storage",TEe="@firebase/storage-compat",xEe="@firebase/firestore",SEe="@firebase/ai",wEe="@firebase/firestore-compat",AEe="firebase",CEe="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="[DEFAULT]",IEe={[SS]:"fire-core",[tEe]:"fire-core-compat",[rEe]:"fire-analytics",[nEe]:"fire-analytics-compat",[oEe]:"fire-app-check",[iEe]:"fire-app-check-compat",[sEe]:"fire-auth",[aEe]:"fire-auth-compat",[lEe]:"fire-rtdb",[uEe]:"fire-data-connect",[cEe]:"fire-rtdb-compat",[fEe]:"fire-fn",[dEe]:"fire-fn-compat",[hEe]:"fire-iid",[pEe]:"fire-iid-compat",[mEe]:"fire-fcm",[gEe]:"fire-fcm-compat",[yEe]:"fire-perf",[vEe]:"fire-perf-compat",[bEe]:"fire-rc",[_Ee]:"fire-rc-compat",[EEe]:"fire-gcs",[TEe]:"fire-gcs-compat",[xEe]:"fire-fst",[wEe]:"fire-fst-compat",[SEe]:"fire-vertex","fire-js":"fire-js",[AEe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map,PEe=new Map,AS=new Map;function KV(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $y(t){const e=t.name;if(AS.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;AS.set(e,t);for(const n of Gy.values())KV(n,t);for(const n of PEe.values())KV(n,t);return!0}function REe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function MEe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NEe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new kz("app","Firebase",NEe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DEe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ch("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OEe=CEe;function Bz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wS,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=Oz()),!n)throw Na.create("no-options");const o=Gy.get(i);if(o){if(Hy(n,o.options)&&Hy(r,o.config))return o;throw Na.create("duplicate-app",{appName:i})}const a=new V_e(i);for(const c of AS.values())a.addComponent(c);const u=new DEe(n,r,a);return Gy.set(i,u),u}function kEe(t=wS){const e=Gy.get(t);if(!e&&t===wS&&Oz())return Bz();if(!e)throw Na.create("no-app",{appName:t});return e}function Dc(t,e,n){let r=IEe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}$y(new Ch(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LEe="firebase-heartbeat-database",VEe=1,Ih="firebase-heartbeat-store";let RT=null;function Fz(){return RT||(RT=J_e(LEe,VEe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),RT}async function UEe(t){try{const n=(await Fz()).transaction(Ih),r=await n.objectStore(Ih).get(jz(t));return await n.done,r}catch(e){if(e instanceof vf)Is.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function YV(t,e){try{const r=(await Fz()).transaction(Ih,"readwrite");await r.objectStore(Ih).put(e,jz(t)),await r.done}catch(n){if(n instanceof vf)Is.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function jz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BEe=1024,FEe=30;class jEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WV();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FEe){const a=HEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WV(),{heartbeatsToSend:r,unsentEntries:i}=zEe(this._heartbeatsCache.heartbeats),o=qy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Is.warn(n),""}}}function WV(){return new Date().toISOString().substring(0,10)}function zEe(t,e=BEe){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),JV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P_e()?R_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UEe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JV(t){return qy(JSON.stringify({version:2,heartbeats:t})).length}function HEe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GEe(t){$y(new Ch("platform-logger",e=>new Z_e(e),"PRIVATE")),$y(new Ch("heartbeat",e=>new jEe(e),"PRIVATE")),Dc(SS,$V,t),Dc(SS,$V,"esm2020"),Dc("fire-js","")}GEe("");var $Ee="firebase",KEe="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc($Ee,KEe,"app");var XV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,zz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,O){function V(){}V.prototype=O.prototype,M.F=O.prototype,M.prototype=new V,M.prototype.constructor=M,M.D=function(z,q,H){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return O.prototype[q].apply(z,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,O,V){V||(V=0);const z=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)z[q]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(q=0;q<16;++q)z[q]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=M.g[0],V=M.g[1],q=M.g[2];let H=M.g[3],$;$=O+(H^V&(q^H))+z[0]+3614090360&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[1]+3905402710&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[2]+606105819&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[3]+3250441966&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[4]+4118548399&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[5]+1200080426&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[6]+2821735955&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[7]+4249261313&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[8]+1770035416&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[9]+2336552879&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[10]+4294925233&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[11]+2304563134&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(H^V&(q^H))+z[12]+1804603682&4294967295,O=V+($<<7&4294967295|$>>>25),$=H+(q^O&(V^q))+z[13]+4254626195&4294967295,H=O+($<<12&4294967295|$>>>20),$=q+(V^H&(O^V))+z[14]+2792965006&4294967295,q=H+($<<17&4294967295|$>>>15),$=V+(O^q&(H^O))+z[15]+1236535329&4294967295,V=q+($<<22&4294967295|$>>>10),$=O+(q^H&(V^q))+z[1]+4129170786&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[6]+3225465664&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[11]+643717713&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[0]+3921069994&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[5]+3593408605&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[10]+38016083&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[15]+3634488961&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[4]+3889429448&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[9]+568446438&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[14]+3275163606&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[3]+4107603335&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[8]+1163531501&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(q^H&(V^q))+z[13]+2850285829&4294967295,O=V+($<<5&4294967295|$>>>27),$=H+(V^q&(O^V))+z[2]+4243563512&4294967295,H=O+($<<9&4294967295|$>>>23),$=q+(O^V&(H^O))+z[7]+1735328473&4294967295,q=H+($<<14&4294967295|$>>>18),$=V+(H^O&(q^H))+z[12]+2368359562&4294967295,V=q+($<<20&4294967295|$>>>12),$=O+(V^q^H)+z[5]+4294588738&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[8]+2272392833&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[11]+1839030562&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[14]+4259657740&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[1]+2763975236&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[4]+1272893353&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[7]+4139469664&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[10]+3200236656&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[13]+681279174&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[0]+3936430074&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[3]+3572445317&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[6]+76029189&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(V^q^H)+z[9]+3654602809&4294967295,O=V+($<<4&4294967295|$>>>28),$=H+(O^V^q)+z[12]+3873151461&4294967295,H=O+($<<11&4294967295|$>>>21),$=q+(H^O^V)+z[15]+530742520&4294967295,q=H+($<<16&4294967295|$>>>16),$=V+(q^H^O)+z[2]+3299628645&4294967295,V=q+($<<23&4294967295|$>>>9),$=O+(q^(V|~H))+z[0]+4096336452&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[7]+1126891415&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[14]+2878612391&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[5]+4237533241&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[12]+1700485571&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[3]+2399980690&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[10]+4293915773&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[1]+2240044497&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[8]+1873313359&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[15]+4264355552&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[6]+2734768916&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[13]+1309151649&4294967295,V=q+($<<21&4294967295|$>>>11),$=O+(q^(V|~H))+z[4]+4149444226&4294967295,O=V+($<<6&4294967295|$>>>26),$=H+(V^(O|~q))+z[11]+3174756917&4294967295,H=O+($<<10&4294967295|$>>>22),$=q+(O^(H|~V))+z[2]+718787259&4294967295,q=H+($<<15&4294967295|$>>>17),$=V+(H^(q|~O))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+O&4294967295,M.g[1]=M.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,M.g[2]=M.g[2]+q&4294967295,M.g[3]=M.g[3]+H&4294967295}r.prototype.v=function(M,O){O===void 0&&(O=M.length);const V=O-this.blockSize,z=this.C;let q=this.h,H=0;for(;H<O;){if(q==0)for(;H<=V;)i(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<O;)if(z[q++]=M.charCodeAt(H++),q==this.blockSize){i(this,z),q=0;break}}else for(;H<O;)if(z[q++]=M[H++],q==this.blockSize){i(this,z),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var O=1;O<M.length-8;++O)M[O]=0;O=this.o*8;for(var V=M.length-8;V<M.length;++V)M[V]=O&255,O/=256;for(this.v(M),M=Array(16),O=0,V=0;V<4;++V)for(let z=0;z<32;z+=8)M[O++]=this.g[V]>>>z&255;return M};function o(M,O){var V=u;return Object.prototype.hasOwnProperty.call(V,M)?V[M]:V[M]=O(M)}function a(M,O){this.h=O;const V=[];let z=!0;for(let q=M.length-1;q>=0;q--){const H=M[q]|0;z&&H==O||(V[q]=H,z=!1)}this.g=V}var u={};function c(M){return-128<=M&&M<128?o(M,function(O){return new a([O|0],O<0?-1:0)}):new a([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return p;if(M<0)return S(f(-M));const O=[];let V=1;for(let z=0;M>=V;z++)O[z]=M/V|0,V*=4294967296;return new a(O,0)}function h(M,O){if(M.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(M.charAt(0)=="-")return S(h(M.substring(1),O));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let z=p;for(let H=0;H<M.length;H+=8){var q=Math.min(8,M.length-H);const $=parseInt(M.substring(H,H+q),O);q<8?(q=f(Math.pow(O,q)),z=z.j(q).add(f($))):(z=z.j(V),z=z.add(f($)))}return z}var p=c(0),g=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(w(this))return-S(this).m();let M=0,O=1;for(let V=0;V<this.g.length;V++){const z=this.i(V);M+=(z>=0?z:4294967296+z)*O,O*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(w(this))return"-"+S(this).toString(M);const O=f(Math.pow(M,6));var V=this;let z="";for(;;){const q=B(V,O).g;V=P(V,q.j(O));let H=((V.g.length>0?V.g[0]:V.h)>>>0).toString(M);if(V=q,x(V))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(let O=0;O<M.g.length;O++)if(M.g[O]!=0)return!1;return!0}function w(M){return M.h==-1}t.l=function(M){return M=P(this,M),w(M)?-1:x(M)?0:1};function S(M){const O=M.g.length,V=[];for(let z=0;z<O;z++)V[z]=~M.g[z];return new a(V,~M.h).add(g)}t.abs=function(){return w(this)?S(this):this},t.add=function(M){const O=Math.max(this.g.length,M.g.length),V=[];let z=0;for(let q=0;q<=O;q++){let H=z+(this.i(q)&65535)+(M.i(q)&65535),$=(H>>>16)+(this.i(q)>>>16)+(M.i(q)>>>16);z=$>>>16,H&=65535,$&=65535,V[q]=$<<16|H}return new a(V,V[V.length-1]&-2147483648?-1:0)};function P(M,O){return M.add(S(O))}t.j=function(M){if(x(this)||x(M))return p;if(w(this))return w(M)?S(this).j(S(M)):S(S(this).j(M));if(w(M))return S(this.j(S(M)));if(this.l(E)<0&&M.l(E)<0)return f(this.m()*M.m());const O=this.g.length+M.g.length,V=[];for(var z=0;z<2*O;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(let q=0;q<M.g.length;q++){const H=this.i(z)>>>16,$=this.i(z)&65535,ve=M.i(q)>>>16,Ee=M.i(q)&65535;V[2*z+2*q]+=$*Ee,k(V,2*z+2*q),V[2*z+2*q+1]+=H*Ee,k(V,2*z+2*q+1),V[2*z+2*q+1]+=$*ve,k(V,2*z+2*q+1),V[2*z+2*q+2]+=H*ve,k(V,2*z+2*q+2)}for(M=0;M<O;M++)V[M]=V[2*M+1]<<16|V[2*M];for(M=O;M<2*O;M++)V[M]=0;return new a(V,0)};function k(M,O){for(;(M[O]&65535)!=M[O];)M[O+1]+=M[O]>>>16,M[O]&=65535,O++}function D(M,O){this.g=M,this.h=O}function B(M,O){if(x(O))throw Error("division by zero");if(x(M))return new D(p,p);if(w(M))return O=B(S(M),O),new D(S(O.g),S(O.h));if(w(O))return O=B(M,S(O)),new D(S(O.g),O.h);if(M.g.length>30){if(w(M)||w(O))throw Error("slowDivide_ only works with positive integers.");for(var V=g,z=O;z.l(M)<=0;)V=F(V),z=F(z);var q=U(V,1),H=U(z,1);for(z=U(z,2),V=U(V,2);!x(z);){var $=H.add(z);$.l(M)<=0&&(q=q.add(V),H=$),z=U(z,1),V=U(V,1)}return O=P(M,q.j(O)),new D(q,O)}for(q=p;M.l(O)>=0;){for(V=Math.max(1,Math.floor(M.m()/O.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(V),$=H.j(O);w($)||$.l(M)>0;)V-=z,H=f(V),$=H.j(O);x(H)&&(H=g),q=q.add(H),M=P(M,$)}return new D(q,M)}t.B=function(M){return B(this,M).h},t.and=function(M){const O=Math.max(this.g.length,M.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)&M.i(z);return new a(V,this.h&M.h)},t.or=function(M){const O=Math.max(this.g.length,M.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)|M.i(z);return new a(V,this.h|M.h)},t.xor=function(M){const O=Math.max(this.g.length,M.g.length),V=[];for(let z=0;z<O;z++)V[z]=this.i(z)^M.i(z);return new a(V,this.h^M.h)};function F(M){const O=M.g.length+1,V=[];for(let z=0;z<O;z++)V[z]=M.i(z)<<1|M.i(z-1)>>>31;return new a(V,M.h)}function U(M,O){const V=O>>5;O%=32;const z=M.g.length-V,q=[];for(let H=0;H<z;H++)q[H]=O>0?M.i(H+V)>>>O|M.i(H+V+1)<<32-O:M.i(H+V);return new a(q,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zz=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Da=a}).apply(typeof XV<"u"?XV:typeof self<"u"?self:typeof window<"u"?window:{});var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qz,qd,Hz,Cg,CS,Gz,$z,Kz;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof ag=="object"&&ag];for(var C=0;C<b.length;++C){var N=b[C];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(b,C){if(C)e:{var N=r;b=b.split(".");for(var G=0;G<b.length-1;G++){var ee=b[G];if(!(ee in N))break e;N=N[ee]}b=b[b.length-1],G=N[b],C=C(G),C!=G&&C!=null&&e(N,b,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(C){var N=[],G;for(G in C)Object.prototype.hasOwnProperty.call(C,G)&&N.push([G,C[G]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(b){var C=typeof b;return C=="object"&&b!=null||C=="function"}function c(b,C,N){return b.call.apply(b.bind,arguments)}function f(b,C,N){return f=c,f.apply(null,arguments)}function h(b,C){var N=Array.prototype.slice.call(arguments,1);return function(){var G=N.slice();return G.push.apply(G,arguments),b.apply(this,G)}}function p(b,C){function N(){}N.prototype=C.prototype,b.Z=C.prototype,b.prototype=new N,b.prototype.constructor=b,b.Ob=function(G,ee,le){for(var xe=Array(arguments.length-2),We=2;We<arguments.length;We++)xe[We-2]=arguments[We];return C.prototype[ee].apply(G,xe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function E(b){const C=b.length;if(C>0){const N=Array(C);for(let G=0;G<C;G++)N[G]=b[G];return N}return[]}function x(b,C){for(let G=1;G<arguments.length;G++){const ee=arguments[G];var N=typeof ee;if(N=N!="object"?N:ee?Array.isArray(ee)?"array":N:"null",N=="array"||N=="object"&&typeof ee.length=="number"){N=b.length||0;const le=ee.length||0;b.length=N+le;for(let xe=0;xe<le;xe++)b[N+xe]=ee[xe]}else b.push(ee)}}class w{constructor(C,N){this.i=C,this.j=N,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(b){a.setTimeout(()=>{throw b},0)}function P(){var b=M;let C=null;return b.g&&(C=b.g,b.g=b.g.next,b.g||(b.h=null),C.next=null),C}class k{constructor(){this.h=this.g=null}add(C,N){const G=D.get();G.set(C,N),this.h?this.h.next=G:this.g=G,this.h=G}}var D=new w(()=>new B,b=>b.reset());class B{constructor(){this.next=this.g=this.h=null}set(C,N){this.h=C,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,M=new k,O=()=>{const b=Promise.resolve(void 0);F=()=>{b.then(V)}};function V(){for(var b;b=P();){try{b.h.call(b.g)}catch(N){S(N)}var C=D;C.j(b),C.h<100&&(C.h++,b.next=C.g,C.g=b)}U=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,C){this.type=b,this.g=this.target=C,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,C=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const N=()=>{};a.addEventListener("test",N,C),a.removeEventListener("test",N,C)}catch{}return b})();function $(b){return/^[\s\xa0]*$/.test(b)}function ve(b,C){q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,C)}p(ve,q),ve.prototype.init=function(b,C){const N=this.type=b.type,G=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=C,C=b.relatedTarget,C||(N=="mouseover"?C=b.fromElement:N=="mouseout"&&(C=b.toElement)),this.relatedTarget=C,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),X=0;function ie(b,C,N,G,ee){this.listener=b,this.proxy=null,this.src=C,this.type=N,this.capture=!!G,this.ha=ee,this.key=++X,this.da=this.fa=!1}function fe(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Te(b,C,N){for(const G in b)C.call(N,b[G],G,b)}function W(b,C){for(const N in b)C.call(void 0,b[N],N,b)}function L(b){const C={};for(const N in b)C[N]=b[N];return C}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(b,C){let N,G;for(let ee=1;ee<arguments.length;ee++){G=arguments[ee];for(N in G)b[N]=G[N];for(let le=0;le<K.length;le++)N=K[le],Object.prototype.hasOwnProperty.call(G,N)&&(b[N]=G[N])}}function ae(b){this.src=b,this.g={},this.h=0}ae.prototype.add=function(b,C,N,G,ee){const le=b.toString();b=this.g[le],b||(b=this.g[le]=[],this.h++);const xe=_e(b,C,G,ee);return xe>-1?(C=b[xe],N||(C.fa=!1)):(C=new ie(C,this.src,le,!!G,ee),C.fa=N,b.push(C)),C};function ge(b,C){const N=C.type;if(N in b.g){var G=b.g[N],ee=Array.prototype.indexOf.call(G,C,void 0),le;(le=ee>=0)&&Array.prototype.splice.call(G,ee,1),le&&(fe(C),b.g[N].length==0&&(delete b.g[N],b.h--))}}function _e(b,C,N,G){for(let ee=0;ee<b.length;++ee){const le=b[ee];if(!le.da&&le.listener==C&&le.capture==!!N&&le.ha==G)return ee}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Me={};function oe(b,C,N,G,ee){if(Array.isArray(C)){for(let le=0;le<C.length;le++)oe(b,C[le],N,G,ee);return null}return N=hn(N),b&&b[Ee]?b.J(C,N,u(G)?!!G.capture:!1,ee):Ce(b,C,N,!1,G,ee)}function Ce(b,C,N,G,ee,le){if(!C)throw Error("Invalid event type");const xe=u(ee)?!!ee.capture:!!ee;let We=st(b);if(We||(b[be]=We=new ae(b)),N=We.add(C,N,G,xe,le),N.proxy)return N;if(G=Pe(),N.proxy=G,G.src=b,G.listener=N,b.addEventListener)H||(ee=xe),ee===void 0&&(ee=!1),b.addEventListener(C.toString(),G,ee);else if(b.attachEvent)b.attachEvent(we(C.toString()),G);else if(b.addListener&&b.removeListener)b.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Pe(){function b(N){return C.call(b.src,b.listener,N)}const C=et;return b}function de(b,C,N,G,ee){if(Array.isArray(C))for(var le=0;le<C.length;le++)de(b,C[le],N,G,ee);else G=u(G)?!!G.capture:!!G,N=hn(N),b&&b[Ee]?(b=b.i,le=String(C).toString(),le in b.g&&(C=b.g[le],N=_e(C,N,G,ee),N>-1&&(fe(C[N]),Array.prototype.splice.call(C,N,1),C.length==0&&(delete b.g[le],b.h--)))):b&&(b=st(b))&&(C=b.g[C.toString()],b=-1,C&&(b=_e(C,N,G,ee)),(N=b>-1?C[b]:null)&&$e(N))}function $e(b){if(typeof b!="number"&&b&&!b.da){var C=b.src;if(C&&C[Ee])ge(C.i,b);else{var N=b.type,G=b.proxy;C.removeEventListener?C.removeEventListener(N,G,b.capture):C.detachEvent?C.detachEvent(we(N),G):C.addListener&&C.removeListener&&C.removeListener(G),(N=st(C))?(ge(N,b),N.h==0&&(N.src=null,C[be]=null)):fe(b)}}}function we(b){return b in Me?Me[b]:Me[b]="on"+b}function et(b,C){if(b.da)b=!0;else{C=new ve(C,this);const N=b.listener,G=b.ha||b.src;b.fa&&$e(b),b=N.call(G,C)}return b}function st(b){return b=b[be],b instanceof ae?b:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(b){return typeof b=="function"?b:(b[Nt]||(b[Nt]=function(C){return b.handleEvent(C)}),b[Nt])}function bt(){z.call(this),this.i=new ae(this),this.M=this,this.G=null}p(bt,z),bt.prototype[Ee]=!0,bt.prototype.removeEventListener=function(b,C,N,G){de(this,b,C,N,G)};function ft(b,C){var N,G=b.G;if(G)for(N=[];G;G=G.G)N.push(G);if(b=b.M,G=C.type||C,typeof C=="string")C=new q(C,b);else if(C instanceof q)C.target=C.target||b;else{var ee=C;C=new q(G,b),Z(C,ee)}ee=!0;let le,xe;if(N)for(xe=N.length-1;xe>=0;xe--)le=C.g=N[xe],ee=Ir(le,G,!0,C)&&ee;if(le=C.g=b,ee=Ir(le,G,!0,C)&&ee,ee=Ir(le,G,!1,C)&&ee,N)for(xe=0;xe<N.length;xe++)le=C.g=N[xe],ee=Ir(le,G,!1,C)&&ee}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var b=this.i;for(const C in b.g){const N=b.g[C];for(let G=0;G<N.length;G++)fe(N[G]);delete b.g[C],b.h--}}this.G=null},bt.prototype.J=function(b,C,N,G){return this.i.add(String(b),C,!1,N,G)},bt.prototype.K=function(b,C,N,G){return this.i.add(String(b),C,!0,N,G)};function Ir(b,C,N,G){if(C=b.i.g[String(C)],!C)return!0;C=C.concat();let ee=!0;for(let le=0;le<C.length;++le){const xe=C[le];if(xe&&!xe.da&&xe.capture==N){const We=xe.listener,un=xe.ha||xe.src;xe.fa&&ge(b.i,xe),ee=We.call(un,G)!==!1&&ee}}return ee&&!G.defaultPrevented}function Qa(b,C){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:a.setTimeout(b,C||0)}function ei(b){b.g=Qa(()=>{b.g=null,b.i&&(b.i=!1,ei(b))},b.l);const C=b.h;b.h=null,b.m.apply(null,C)}class ln extends z{constructor(C,N){super(),this.m=C,this.l=N,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ei(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(b){z.call(this),this.h=b,this.g={}}p(Ri,z);var ro=[];function $o(b){Te(b.g,function(C,N){this.g.hasOwnProperty(N)&&$e(C)},b),b.g={}}Ri.prototype.N=function(){Ri.Z.N.call(this),$o(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=a.JSON.stringify,Ko=a.JSON.parse,Yo=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function io(){}function Fs(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cn(){q.call(this,"d")}p(Cn,q);function yr(){q.call(this,"c")}p(yr,q);var $t={},Za=null;function js(){return Za=Za||new bt}$t.Ia="serverreachability";function vu(b){q.call(this,$t.Ia,b)}p(vu,q);function Se(b){const C=js();ft(C,new vu(C))}$t.STAT_EVENT="statevent";function qe(b,C){q.call(this,$t.STAT_EVENT,b),this.stat=C}p(qe,q);function je(b){const C=js();ft(C,new qe(C,b))}$t.Ja="timingevent";function at(b,C){q.call(this,$t.Ja,b),this.size=C}p(at,q);function tt(b,C){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},C)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function Mi(b,C,N,G,ee,le){b.info(function(){if(b.g)if(le){var xe="",We=le.split("&");for(let gt=0;gt<We.length;gt++){var un=We[gt].split("=");if(un.length>1){const Kt=un[0];un=un[1];const ii=Kt.split("_");xe=ii.length>=2&&ii[1]=="type"?xe+(Kt+"="+un+"&"):xe+(Kt+"=redacted&")}}}else xe=null;else xe=le;return"XMLHTTP REQ ("+G+") [attempt "+ee+"]: "+C+`
`+N+`
`+xe})}function fp(b,C,N,G,ee,le,xe){b.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ee+"]: "+C+`
`+N+`
`+le+" "+xe})}function oo(b,C,N,G){b.info(function(){return"XMLHTTP TEXT ("+C+"): "+S0(b,N)+(G?" "+G:"")})}function el(b,C){b.info(function(){return"TIMEOUT: "+C})}Dt.prototype.info=function(){};function S0(b,C){if(!b.g)return C;if(!C)return null;try{const le=JSON.parse(C);if(le){for(b=0;b<le.length;b++)if(Array.isArray(le[b])){var N=le[b];if(!(N.length<2)){var G=N[1];if(Array.isArray(G)&&!(G.length<1)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let xe=1;xe<G.length;xe++)G[xe]=""}}}}return Br(le)}catch{return C}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wf;function nl(){}p(nl,io),nl.prototype.g=function(){return new XMLHttpRequest},wf=new nl;function Wo(b){return encodeURIComponent(String(b))}function dp(b){var C=1;b=b.split(":");const N=[];for(;C>0&&b.length;)N.push(b.shift()),C--;return b.length&&N.push(b.join(":")),N}function Ni(b,C,N,G){this.j=b,this.i=C,this.l=N,this.S=G||1,this.V=new Ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var pn={},Un={};function so(b,C,N){b.M=1,b.A=rl(gn(C)),b.u=N,b.R=!0,bu(b,null)}function bu(b,C){b.F=Date.now(),ao(b),b.B=gn(b.A);var N=b.B,G=b.S;Array.isArray(G)||(G=[String(G)]),xu(N.i,"t",G),b.C=0,N=b.j.L,b.h=new Di,b.g=Cp(b.j,N?C:null,!b.u),b.P>0&&(b.O=new ln(f(b.Y,b,b.g),b.P)),C=b.V,N=b.g,G=b.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(ro[0]=ee.toString()),ee=ro);for(let le=0;le<ee.length;le++){const xe=oe(N,ee[le],G||C.handleEvent,!1,C.h||C);if(!xe)break;C.g[xe.key]=xe}C=b.J?L(b.J):{},b.u?(b.v||(b.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,C)):(b.v="GET",b.g.ea(b.B,b.v,null,C)),Se(),Mi(b.i,b.v,b.B,b.l,b.S,b.u)}Ni.prototype.ba=function(b){b=b.target;const C=this.O;C&&Li(b)==3?C.j():this.Y(b)},Ni.prototype.Y=function(b){try{if(b==this.g)e:{const We=Li(this.g),un=this.g.ya(),gt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Wn(this.g)))){this.K||We!=4||un==7||(un==8||gt<=0?Se(3):Se(2)),lo(this);var C=this.g.ca();this.X=C;var N=w0(this);if(this.o=C==200,fp(this.i,this.v,this.B,this.l,this.S,We,C),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ee=this.g;if((G=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(G)){var le=G;break t}}le=null}if(b=le)oo(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uo(this,b);else{this.o=!1,this.m=3,je(12),Fr(this),ti(this);break e}}if(this.R){b=!0;let Kt;for(;!this.K&&this.C<N.length;)if(Kt=pp(this,N),Kt==Un){We==4&&(this.m=4,je(14),b=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==pn){this.m=4,je(15),oo(this.i,this.l,N,"[Invalid Chunk]"),b=!1;break}else oo(this.i,this.l,Kt,null),uo(this,Kt);if(hp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||N.length!=0||this.h.h||(this.m=1,je(16),b=!1),this.o=this.o&&b,!b)oo(this.i,this.l,N,"[Invalid Chunked Response]"),Fr(this),ti(this);else if(N.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Ff(xe),xe.P=!0,je(11))}}else oo(this.i,this.l,N,null),uo(this,N);We==4&&Fr(this),this.o&&!this.K&&(We==4?xp(this.j,this):(this.o=!1,ao(this)))}else Xo(this.g),C==400&&N.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Fr(this),ti(this)}}}catch{}finally{}};function w0(b){if(!hp(b))return b.g.la();const C=Wn(b.g);if(C==="")return"";let N="";const G=C.length,ee=Li(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Fr(b),ti(b),"";b.h.i=new a.TextDecoder}for(let le=0;le<G;le++)b.h.h=!0,N+=b.h.i.decode(C[le],{stream:!(ee&&le==G-1)});return C.length=0,b.h.g+=N,b.C=0,b.h.g}function hp(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function pp(b,C){var N=b.C,G=C.indexOf(`
`,N);return G==-1?Un:(N=Number(C.substring(N,G)),isNaN(N)?pn:(G+=1,G+N>C.length?Un:(C=C.slice(G,G+N),b.C=G+N,C)))}Ni.prototype.cancel=function(){this.K=!0,Fr(this)};function ao(b){b.T=Date.now()+b.H,_u(b,b.H)}function _u(b,C){if(b.D!=null)throw Error("WatchDog timer not null");b.D=tt(f(b.aa,b),C)}function lo(b){b.D&&(a.clearTimeout(b.D),b.D=null)}Ni.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(el(this.i,this.B),this.M!=2&&(Se(),je(17)),Fr(this),this.m=2,ti(this)):_u(this,this.T-b)};function ti(b){b.j.I==0||b.K||xp(b.j,b)}function Fr(b){lo(b);var C=b.O;C&&typeof C.dispose=="function"&&C.dispose(),b.O=null,$o(b.V),b.g&&(C=b.g,b.g=null,C.abort(),C.dispose())}function uo(b,C){try{var N=b.j;if(N.I!=0&&(N.g==b||fo(N.h,b))){if(!b.L&&fo(N.h,b)&&N.I==3){try{var G=N.Ba.g.parse(C)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ee=G;if(ee[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<b.F)Iu(N),Ws(N);else break e;cl(N),je(18)}}else N.xa=ee[1],0<N.xa-N.K&&ee[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=tt(f(N.Va,N),6e3));co(N.h)<=1&&N.ta&&(N.ta=void 0)}else vo(N,11)}else if((b.L||N.g==b)&&Iu(N),!$(C))for(ee=N.Ba.g.parse(C),C=0;C<ee.length;C++){let gt=ee[C];const Kt=gt[0];if(!(Kt<=N.K))if(N.K=Kt,gt=gt[1],N.I==2)if(gt[0]=="c"){N.M=gt[1],N.ba=gt[2];const ii=gt[3];ii!=null&&(N.ka=ii,N.j.info("VER="+N.ka));const bo=gt[4];bo!=null&&(N.za=bo,N.j.info("SVER="+N.za));const Vi=gt[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(G=1.5*Vi,N.O=G,N.j.info("backChannelRequestTimeoutMs_="+G)),G=N;const Ui=b.g;if(Ui){const fl=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var le=G.h;le.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(If(le,le.h),le.h=null))}if(G.G){const Pu=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(G.wa=Pu,Tt(G.J,G.G,Pu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-b.F,N.j.info("Handshake RTT: "+N.T+"ms")),G=N;var xe=b;if(G.na=Ap(G,G.L?G.ba:null,G.W),xe.L){Pf(G.h,xe);var We=xe,un=G.O;un&&(We.H=un),We.D&&(lo(We),ao(We)),G.g=xe}else Ep(G);N.i.length>0&&yo(N)}else gt[0]!="stop"&&gt[0]!="close"||vo(N,7);else N.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?vo(N,7):Uf(N):gt[0]!="noop"&&N.l&&N.l.qa(gt),N.A=0)}}Se(4)}catch{}}var mn=class{constructor(b,C){this.g=b,this.map=C}};function Af(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cf(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function co(b){return b.h?1:b.g?b.g.size:0}function fo(b,C){return b.h?b.h==C:b.g?b.g.has(C):!1}function If(b,C){b.g?b.g.add(C):b.h=C}function Pf(b,C){b.h&&b.h==C?b.h=null:b.g&&b.g.has(C)&&b.g.delete(C)}Af.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Rf(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let C=b.i;for(const N of b.g.values())C=C.concat(N.G);return C}return E(b.i)}var mp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eu(b,C){if(b){b=b.split("&");for(let N=0;N<b.length;N++){const G=b[N].indexOf("=");let ee,le=null;G>=0?(ee=b[N].substring(0,G),le=b[N].substring(G+1)):ee=b[N],C(ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function jr(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;b instanceof jr?(this.l=b.l,Bn(this,b.j),this.o=b.o,this.g=b.g,zs(this,b.u),this.h=b.h,Mf(this,bp(b.i)),this.m=b.m):b&&(C=String(b).match(mp))?(this.l=!1,Bn(this,C[1]||"",!0),this.o=ho(C[2]||""),this.g=ho(C[3]||"",!0),zs(this,C[4]),this.h=ho(C[5]||"",!0),Mf(this,C[6]||"",!0),this.m=ho(C[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}jr.prototype.toString=function(){const b=[];var C=this.j;C&&b.push(il(C,Tu,!0),":");var N=this.g;return(N||C=="file")&&(b.push("//"),(C=this.o)&&b.push(il(C,Tu,!0),"@"),b.push(Wo(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&b.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&b.push("/"),b.push(il(N,N.charAt(0)=="/"?Nf:gp,!0))),(N=this.i.toString())&&b.push("?",N),(N=this.m)&&b.push("#",il(N,yp)),b.join("")},jr.prototype.resolve=function(b){const C=gn(this);let N=!!b.j;N?Bn(C,b.j):N=!!b.o,N?C.o=b.o:N=!!b.g,N?C.g=b.g:N=b.u!=null;var G=b.h;if(N)zs(C,b.u);else if(N=!!b.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ee=C.h.lastIndexOf("/");ee!=-1&&(G=C.h.slice(0,ee+1)+G)}if(ee=G,ee==".."||ee==".")G="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){G=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const le=[];for(let xe=0;xe<ee.length;){const We=ee[xe++];We=="."?G&&xe==ee.length&&le.push(""):We==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),G&&xe==ee.length&&le.push("")):(le.push(We),G=!0)}G=le.join("/")}else G=ee}return N?C.h=G:N=b.i.toString()!=="",N?Mf(C,bp(b.i)):N=!!b.m,N&&(C.m=b.m),C};function gn(b){return new jr(b)}function Bn(b,C,N){b.j=N?ho(C,!0):C,b.j&&(b.j=b.j.replace(/:$/,""))}function zs(b,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);b.u=C}else b.u=null}function Mf(b,C,N){C instanceof Hs?(b.i=C,Su(b.i,b.l)):(N||(C=il(C,qs)),b.i=new Hs(C,b.l))}function Tt(b,C,N){b.i.set(C,N)}function rl(b){return Tt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function ho(b,C){return b?C?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function il(b,C,N){return typeof b=="string"?(b=encodeURI(b).replace(C,Pr),N&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Pr(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Tu=/[#\/\?@]/g,gp=/[#\?:]/g,Nf=/[#\?]/g,qs=/[#\?@]/g,yp=/#/g;function Hs(b,C){this.h=this.g=null,this.i=b||null,this.j=!!C}function Rr(b){b.g||(b.g=new Map,b.h=0,b.i&&Eu(b.i,function(C,N){b.add(decodeURIComponent(C.replace(/\+/g," ")),N)}))}t=Hs.prototype,t.add=function(b,C){Rr(this),this.i=null,b=Gs(this,b);let N=this.g.get(b);return N||this.g.set(b,N=[]),N.push(C),this.h+=1,this};function vp(b,C){Rr(b),C=Gs(b,C),b.g.has(C)&&(b.i=null,b.h-=b.g.get(C).length,b.g.delete(C))}function Df(b,C){return Rr(b),C=Gs(b,C),b.g.has(C)}t.forEach=function(b,C){Rr(this),this.g.forEach(function(N,G){N.forEach(function(ee){b.call(C,ee,G,this)},this)},this)};function Of(b,C){Rr(b);let N=[];if(typeof C=="string")Df(b,C)&&(N=N.concat(b.g.get(Gs(b,C))));else for(b=Array.from(b.g.values()),C=0;C<b.length;C++)N=N.concat(b[C]);return N}t.set=function(b,C){return Rr(this),this.i=null,b=Gs(this,b),Df(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[C]),this.h+=1,this},t.get=function(b,C){return b?(b=Of(this,b),b.length>0?String(b[0]):C):C};function xu(b,C,N){vp(b,C),N.length>0&&(b.i=null,b.g.set(Gs(b,C),E(N)),b.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],C=Array.from(this.g.keys());for(let G=0;G<C.length;G++){var N=C[G];const ee=Wo(N);N=Of(this,N);for(let le=0;le<N.length;le++){let xe=ee;N[le]!==""&&(xe+="="+Wo(N[le])),b.push(xe)}}return this.i=b.join("&")};function bp(b){const C=new Hs;return C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),C}function Gs(b,C){return C=String(C),b.j&&(C=C.toLowerCase()),C}function Su(b,C){C&&!b.j&&(Rr(b),b.i=null,b.g.forEach(function(N,G){const ee=G.toLowerCase();G!=ee&&(vp(this,G),xu(this,ee,N))},b)),b.j=C}function Oi(b,C){const N=new Dt;if(a.Image){const G=new Image;G.onload=h(ni,N,"TestLoadImage: loaded",!0,C,G),G.onerror=h(ni,N,"TestLoadImage: error",!1,C,G),G.onabort=h(ni,N,"TestLoadImage: abort",!1,C,G),G.ontimeout=h(ni,N,"TestLoadImage: timeout",!1,C,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=b}else C(!1)}function kf(b,C){const N=new Dt,G=new AbortController,ee=setTimeout(()=>{G.abort(),ni(N,"TestPingServer: timeout",!1,C)},1e4);fetch(b,{signal:G.signal}).then(le=>{clearTimeout(ee),le.ok?ni(N,"TestPingServer: ok",!0,C):ni(N,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ee),ni(N,"TestPingServer: error",!1,C)})}function ni(b,C,N,G,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),G(N)}catch{}}function $s(){this.g=new Yo}function po(b){this.i=b.Sb||null,this.h=b.ab||!1}p(po,io),po.prototype.g=function(){return new ol(this.i,this.h)};function ol(b,C){bt.call(this),this.H=b,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ol,bt),t=ol.prototype,t.open=function(b,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=C,this.readyState=1,ki(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(C.body=b),(this.H||a).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wu(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function wu(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var C=b.value?b.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!b.done}))&&(this.response=this.responseText+=C)}b.done?Ks(this):ki(this),this.readyState==3&&wu(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Ks(this))},t.Na=function(b){this.g&&(this.response=b,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(b){b.readyState=4,b.l=null,b.j=null,b.B=null,ki(b)}t.setRequestHeader=function(b,C){this.A.append(b,C)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],C=this.h.entries();for(var N=C.next();!N.done;)N=N.value,b.push(N[0]+": "+N[1]),N=C.next();return b.join(`\r
`)};function ki(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ri(b){let C="";return Te(b,function(N,G){C+=G,C+=":",C+=N,C+=`\r
`}),C}function sl(b,C,N){e:{for(G in N){var G=!1;break e}G=!0}G||(N=ri(N),typeof b=="string"?N!=null&&Wo(N):Tt(b,C,N))}function Ct(b){bt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ct,bt);var mo=/^https?$/i,Lf=["POST","PUT"];t=Ct.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,C,N,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);C=C?C.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wf.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(C,String(b),!0),this.B=!1}catch(le){al(this,le);return}if(b=N||"",N=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ee in G)N.set(ee,G[ee]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const le of G.keys())N.set(le,G.get(le));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),ee=a.FormData&&b instanceof a.FormData,!(Array.prototype.indexOf.call(Lf,C,void 0)>=0)||G||ee||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,xe]of N)this.g.setRequestHeader(le,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(le){al(this,le)}};function al(b,C){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=C,b.o=5,Vf(b),Jo(b)}function Vf(b){b.A||(b.A=!0,ft(b,"complete"),ft(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ft(this,"complete"),ft(this,"abort"),Jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jo(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(b){if(b.h&&typeof o<"u"){if(b.v&&Li(b)==4)setTimeout(b.Ca.bind(b),0);else if(ft(b,"readystatechange"),Li(b)==4){b.h=!1;try{const le=b.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var N;if(!(N=C)){var G;if(G=le===0){let xe=String(b.D).match(mp)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),G=!mo.test(xe?xe.toLowerCase():"")}N=G}if(N)ft(b,"complete"),ft(b,"success");else{b.o=6;try{var ee=Li(b)>2?b.g.statusText:""}catch{ee=""}b.l=ee+" ["+b.ca()+"]",Vf(b)}}finally{Jo(b)}}}}function Jo(b,C){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const N=b.g;b.g=null,C||ft(b,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Li(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var C=this.g.responseText;return b&&C.indexOf(b)==0&&(C=C.substring(b.length)),Ko(C)}};function Wn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(b){const C={};b=(b.g&&Li(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<b.length;G++){if($(b[G]))continue;var N=dp(b[G]);const ee=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=C[ee]||[];C[ee]=le,le.push(N)}W(C,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(b,C,N){return N&&N.internalChannelParams&&N.internalChannelParams[b]||C}function Ys(b){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=go("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=go("baseRetryDelayMs",5e3,b),this.Za=go("retryDelaySeedMs",1e4,b),this.Ta=go("forwardChannelMaxRetries",2,b),this.va=go("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Af(b&&b.concurrentRequestLimit),this.Ba=new $s,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(b,C,N,G){je(0),this.W=b,this.H=C||{},N&&G!==void 0&&(this.H.OSID=N,this.H.OAID=G),this.F=this.X,this.J=Ap(this,null,this.W),yo(this)};function Uf(b){if(Au(b),b.I==3){var C=b.V++,N=gn(b.J);if(Tt(N,"SID",b.M),Tt(N,"RID",C),Tt(N,"TYPE","terminate"),ul(b,N),C=new Ni(b,b.j,C),C.M=2,C.A=rl(gn(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(C.A.toString(),"")}catch{}!N&&a.Image&&(new Image().src=C.A,N=!0),N||(C.g=Cp(C.j,null),C.g.ea(C.A)),C.F=Date.now(),ao(C)}wp(b)}function Ws(b){b.g&&(Ff(b),b.g.cancel(),b.g=null)}function Au(b){Ws(b),b.v&&(a.clearTimeout(b.v),b.v=null),Iu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&a.clearTimeout(b.m),b.m=null)}function yo(b){if(!Cf(b.h)&&!b.m){b.m=!0;var C=b.Ea;F||O(),U||(F(),U=!0),M.add(C,b),b.D=0}}function Cu(b,C){return co(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=C.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=tt(f(b.Ea,b,C),Sp(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const ee=new Ni(this,this.j,b);let le=this.o;if(this.U&&(le?(le=L(le),Z(le,this.U)):le=this.U),this.u!==null||this.R||(ee.J=le,le=null),this.S)e:{for(var C=0,N=0;N<this.i.length;N++){t:{var G=this.i[N];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(C+=G,C>4096){C=N;break e}if(C===4096||N===this.i.length-1){C=N+1;break e}}C=1e3}else C=1e3;C=_p(this,ee,C),N=gn(this.J),Tt(N,"RID",b),Tt(N,"CVER",22),this.G&&Tt(N,"X-HTTP-Session-Id",this.G),ul(this,N),le&&(this.R?C="headers="+Wo(ri(le))+"&"+C:this.u&&sl(N,this.u,le)),If(this.h,ee),this.Ra&&Tt(N,"TYPE","init"),this.S?(Tt(N,"$req",C),Tt(N,"SID","null"),ee.U=!0,so(ee,N,null)):so(ee,N,C),this.I=2}}else this.I==3&&(b?Bf(this,b):this.i.length==0||Cf(this.h)||Bf(this))};function Bf(b,C){var N;C?N=C.l:N=b.V++;const G=gn(b.J);Tt(G,"SID",b.M),Tt(G,"RID",N),Tt(G,"AID",b.K),ul(b,G),b.u&&b.o&&sl(G,b.u,b.o),N=new Ni(b,b.j,N,b.D+1),b.u===null&&(N.J=b.o),C&&(b.i=C.G.concat(b.i)),C=_p(b,N,1e3),N.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),If(b.h,N),so(N,G,C)}function ul(b,C){b.H&&Te(b.H,function(N,G){Tt(C,G,N)}),b.l&&Te({},function(N,G){Tt(C,G,N)})}function _p(b,C,N){N=Math.min(b.i.length,N);const G=b.l?f(b.l.Ka,b.l,b):null;e:{var ee=b.i;let We=-1;for(;;){const un=["count="+N];We==-1?N>0?(We=ee[0].g,un.push("ofs="+We)):We=0:un.push("ofs="+We);let gt=!0;for(let Kt=0;Kt<N;Kt++){var le=ee[Kt].g;const ii=ee[Kt].map;if(le-=We,le<0)We=Math.max(0,ee[Kt].g-100),gt=!1;else try{le="req"+le+"_"||"";try{var xe=ii instanceof Map?ii:Object.entries(ii);for(const[bo,Vi]of xe){let Ui=Vi;u(Vi)&&(Ui=Br(Vi)),un.push(le+bo+"="+encodeURIComponent(Ui))}}catch(bo){throw un.push(le+"type="+encodeURIComponent("_badmap")),bo}}catch{G&&G(ii)}}if(gt){xe=un.join("&");break e}}xe=void 0}return b=b.i.splice(0,N),C.G=b,xe}function Ep(b){if(!b.g&&!b.v){b.Y=1;var C=b.Da;F||O(),U||(F(),U=!0),M.add(C,b),b.A=0}}function cl(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=tt(f(b.Da,b),Sp(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Tp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=tt(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Ws(this),Tp(this))};function Ff(b){b.B!=null&&(a.clearTimeout(b.B),b.B=null)}function Tp(b){b.g=new Ni(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var C=gn(b.na);Tt(C,"RID","rpc"),Tt(C,"SID",b.M),Tt(C,"AID",b.K),Tt(C,"CI",b.F?"0":"1"),!b.F&&b.ia&&Tt(C,"TO",b.ia),Tt(C,"TYPE","xmlhttp"),ul(b,C),b.u&&b.o&&sl(C,b.u,b.o),b.O&&(b.g.H=b.O);var N=b.g;b=b.ba,N.M=1,N.A=rl(gn(C)),N.u=null,N.R=!0,bu(N,b)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),cl(this),je(19))};function Iu(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function xp(b,C){var N=null;if(b.g==C){Iu(b),Ff(b),b.g=null;var G=2}else if(fo(b.h,C))N=C.G,Pf(b.h,C),G=1;else return;if(b.I!=0){if(C.o)if(G==1){N=C.u?C.u.length:0,C=Date.now()-C.F;var ee=b.D;G=js(),ft(G,new at(G,N)),yo(b)}else Ep(b);else if(ee=C.m,ee==3||ee==0&&C.X>0||!(G==1&&Cu(b,C)||G==2&&cl(b)))switch(N&&N.length>0&&(C=b.h,C.i=C.i.concat(N)),ee){case 1:vo(b,5);break;case 4:vo(b,10);break;case 3:vo(b,6);break;default:vo(b,2)}}}function Sp(b,C){let N=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(N*=2),N*C}function vo(b,C){if(b.j.info("Error code "+C),C==2){var N=f(b.bb,b),G=b.Ua;const ee=!G;G=new jr(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bn(G,"https"),rl(G),ee?Oi(G.toString(),N):kf(G.toString(),N)}else je(2);b.I=0,b.l&&b.l.pa(C),wp(b),Au(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function wp(b){if(b.I=0,b.ja=[],b.l){const C=Rf(b.h);(C.length!=0||b.i.length!=0)&&(x(b.ja,C),x(b.ja,b.i),b.h.i.length=0,E(b.i),b.i.length=0),b.l.oa()}}function Ap(b,C,N){var G=N instanceof jr?gn(N):new jr(N);if(G.g!="")C&&(G.g=C+"."+G.g),zs(G,G.u);else{var ee=a.location;G=ee.protocol,C=C?C+"."+ee.hostname:ee.hostname,ee=+ee.port;const le=new jr(null);G&&Bn(le,G),C&&(le.g=C),ee&&zs(le,ee),N&&(le.h=N),G=le}return N=b.G,C=b.wa,N&&C&&Tt(G,N,C),Tt(G,"VER",b.ka),ul(b,G),G}function Cp(b,C,N){if(C&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=b.Aa&&!b.ma?new Ct(new po({ab:N})):new Ct(b.ma),C.Fa(b.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ip(){}t=Ip.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(b,C){return new vr(b,C)};function vr(b,C){bt.call(this),this.g=new Ys(C),this.l=b,this.h=C&&C.messageUrlParams||null,b=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(b?b["X-WebChannel-Content-Type"]=C.messageContentType:b={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(b?b["X-WebChannel-Client-Profile"]=C.sa:b={"X-WebChannel-Client-Profile":C.sa}),this.g.U=b,(b=C&&C.Qb)&&!$(b)&&(this.g.u=b),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!$(C)&&(this.g.G=C,b=this.h,b!==null&&C in b&&(b=this.h,C in b&&delete b[C])),this.j=new Qo(this)}p(vr,bt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Uf(this.g)},vr.prototype.o=function(b){var C=this.g;if(typeof b=="string"){var N={};N.__data__=b,b=N}else this.v&&(N={},N.__data__=Br(b),b=N);C.i.push(new mn(C.Ya++,b)),C.I==3&&yo(C)},vr.prototype.N=function(){this.g.l=null,delete this.j,Uf(this.g),delete this.g,vr.Z.N.call(this)};function Pp(b){Cn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var C=b.__sm__;if(C){e:{for(const N in C){b=N;break e}b=void 0}(this.i=b)&&(b=this.i,C=C!==null&&b in C?C[b]:void 0),this.data=C}else this.data=b}p(Pp,Cn);function Rp(){yr.call(this),this.status=1}p(Rp,yr);function Qo(b){this.g=b}p(Qo,Ip),Qo.prototype.ra=function(){ft(this.g,"a")},Qo.prototype.qa=function(b){ft(this.g,new Pp(b))},Qo.prototype.pa=function(b){ft(this.g,new Rp)},Qo.prototype.oa=function(){ft(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Kz=function(){return new Js},$z=function(){return js()},Gz=$t,CS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,Cg=tl,Sf.COMPLETE="complete",Hz=Sf,Fs.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,qd=Fs,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,qz=Ct}).apply(typeof ag<"u"?ag:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf="12.9.0";function YEe(t){bf=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Lz("@firebase/firestore");function dc(){return su.logLevel}function Re(t,...e){if(su.logLevel<=ct.DEBUG){const n=e.map(L1);su.debug(`Firestore (${bf}): ${t}`,...n)}}function Ps(t,...e){if(su.logLevel<=ct.ERROR){const n=e.map(L1);su.error(`Firestore (${bf}): ${t}`,...n)}}function au(t,...e){if(su.logLevel<=ct.WARN){const n=e.map(L1);su.warn(`Firestore (${bf}): ${t}`,...n)}}function L1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Yz(t,r,n)}function Yz(t,e,n){let r=`FIRESTORE (${bf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Yz(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends vf{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class JEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XEe{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yl,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yl)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new Wz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class QEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QEe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eTe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MEe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QV(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QV(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tTe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function IS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return MT(i)===MT(o)?it(i,o):MT(i)?1:-1}return it(t.length,e.length)}const nTe=55296,rTe=57343;function MT(t){const e=t.charCodeAt(0);return e>=nTe&&e<=rTe}function Yc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="__name__";class Io{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Io.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return it(e.length,n.length)}static compareSegments(e,n){const r=Io.isNumericId(e),i=Io.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Io.extractNumericId(e).compare(Io.extractNumericId(n)):IS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class Ut extends Io{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const iTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Io{construct(e,n,r){return new ir(e,n,r)}static isValidIdentifier(e){return iTe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZV}static keyField(){return new ir([ZV])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(n)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ut.fromString(e))}static fromName(e){return new Be(Ut.fromString(e).popFirst(5))}static empty(){return new Be(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t,e,n){if(!n)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oTe(t,e,n,r){if(e===!0&&r===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eU(t){if(!Be.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tU(t){if(Be.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xz(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function c0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Oc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c0(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function sp(t,e){if(!Xz(t))throw new Ie(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ie(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=-62135596800,rU=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rU);return new Ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nU)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rU}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sp(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:wn("string",Ht._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ht(0,0))}static max(){return new Ge(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function sTe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Ba(i,Be.empty(),e)}function aTe(t){return new Ba(t.readTime,t.key,Ph)}class Ba{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ba(Ge.min(),Be.empty(),Ph)}static max(){return new Ba(Ge.max(),Be.empty(),Ph)}}function lTe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uTe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==uTe)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{a[f]=h,++u,u===o&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function fTe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}f0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=-1;function d0(t){return t==null}function Ky(t){return t===0&&1/t==-1/0}function dTe(t){return typeof t=="number"&&Number.isInteger(t)&&!Ky(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="";function hTe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iU(e)),e=pTe(t.get(n),e);return iU(e)}function pTe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Qz:n+="";break;default:n+=o}}return n}function iU(t){return t+Qz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sU(this.data.getIterator())}getIteratorFrom(e){return new sU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class sU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new Dn(ir.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eq("Invalid base64 string: "+o):o}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const mTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=mTe.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="server_timestamp",nq="__type__",rq="__previous_value__",iq="__local_write_time__";function B1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nq])==null?void 0:r.stringValue)===tq}function h0(t){const e=t.mapValue.fields[rq];return B1(e)?h0(e):e}function Rh(t){const e=Fa(t.mapValue.fields[iq].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gTe{constructor(e,n,r,i,o,a,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const Yy="(default)";class Mh{constructor(e,n){this.projectId=e,this.database=n||Yy}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===Yy}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}function yTe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="__type__",vTe="__max__",ug={mapValue:{}},sq="__vector__",Wy="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B1(t)?4:_Te(t)?9007199254740991:bTe(t)?10:11:ze(28295,{value:t})}function qo(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Fa(i.timestampValue),u=Fa(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ja(i.bytesValue).isEqual(ja(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return dn(i.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return dn(i.integerValue)===dn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=dn(i.doubleValue),u=dn(o.doubleValue);return a===u?Ky(a)===Ky(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],qo);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(oU(a)!==oU(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!qo(a[c],u[c])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find((n=>qo(n,e)))!==void 0}function Wc(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=dn(o.integerValue||o.doubleValue),c=dn(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return aU(t.timestampValue,e.timestampValue);case 4:return aU(Rh(t),Rh(e));case 5:return IS(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=ja(o),c=ja(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=it(u[f],c[f]);if(h!==0)return h}return it(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=it(dn(o.latitude),dn(a.latitude));return u!==0?u:it(dn(o.longitude),dn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lU(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var g,E,x,w;const u=o.fields||{},c=a.fields||{},f=(g=u[Wy])==null?void 0:g.arrayValue,h=(E=c[Wy])==null?void 0:E.arrayValue,p=it(((x=f==null?void 0:f.values)==null?void 0:x.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return p!==0?p:lU(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===ug.mapValue&&a===ug.mapValue)return 0;if(o===ug.mapValue)return 1;if(a===ug.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=IS(c[p],h[p]);if(g!==0)return g;const E=Wc(u[c[p]],f[h[p]]);if(E!==0)return E}return it(c.length,h.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function aU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Fa(t),r=Fa(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function lU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Wc(n[i],r[i]);if(o)return o}return it(n.length,r.length)}function Jc(t){return PS(t)}function PS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=PS(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${PS(n.fields[a])}`;return i+"}"})(t.mapValue):ze(61005,{value:t})}function Ig(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=h0(t);return e?16+Ig(e):16;case 5:return 2*t.stringValue.length;case 6:return ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Ig(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pu(r.fields,((o,a)=>{i+=o.length+Ig(a)})),i})(t.mapValue);default:throw ze(13486,{value:t})}}function uU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function RS(t){return!!t&&"integerValue"in t}function F1(t){return!!t&&"arrayValue"in t}function cU(t){return!!t&&"nullValue"in t}function fU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pg(t){return!!t&&"mapValue"in t}function bTe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[oq])==null?void 0:r.stringValue)===sq}function eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eh(t.arrayValue.values[n]);return e}return{...t}}function _Te(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vTe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(n)}setAll(e){let n=ir.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=eh(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new vi(eh(this.value))}}function aq(t){const e=[];return pu(t.fields,((n,r)=>{const i=new ir([n]);if(Pg(r)){const o=aq(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Ki(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new dr(e,0,Ge.min(),Ge.min(),Ge.min(),vi.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,Ge.min(),Ge.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,Ge.min(),Ge.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.position=e,this.inclusive=n}}function dU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(a.referenceValue),n.key):r=Wc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ETe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{}class xn extends lq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xTe(e,n,r):n==="array-contains"?new ATe(e,r):n==="in"?new CTe(e,r):n==="not-in"?new ITe(e,r):n==="array-contains-any"?new PTe(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new STe(e,r):new wTe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class eo extends lq{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new eo(e,n)}matches(e){return uq(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uq(t){return t.op==="and"}function cq(t){return TTe(t)&&uq(t)}function TTe(t){for(const e of t.filters)if(e instanceof eo)return!1;return!0}function MS(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(cq(t))return t.filters.map((e=>MS(e))).join(",");{const e=t.filters.map((n=>MS(n))).join(",");return`${t.op}(${e})`}}function fq(t,e){return t instanceof xn?(function(r,i){return i instanceof xn&&r.op===i.op&&r.field.isEqual(i.field)&&qo(r.value,i.value)})(t,e):t instanceof eo?(function(r,i){return i instanceof eo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&fq(a,i.filters[u])),!0):!1})(t,e):void ze(19439)}function dq(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`})(t):t instanceof eo?(function(n){return n.op.toString()+" {"+n.getFilters().map(dq).join(" ,")+"}"})(t):"Filter"}class xTe extends xn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class STe extends xn{constructor(e,n){super(e,"in",n),this.keys=hq("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wTe extends xn{constructor(e,n){super(e,"not-in",n),this.keys=hq("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hq(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class ATe extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F1(n)&&Nh(n.arrayValue,this.value)}}class CTe extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class ITe extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class PTe extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RTe{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function pU(t,e=null,n=[],r=[],i=null,o=null,a=null){return new RTe(t,e,n,r,i,o,a)}function j1(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>MS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),d0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Jc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Jc(r))).join(",")),e.Te=n}return e.Te}function z1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ETe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hU(t.startAt,e.startAt)&&hU(t.endAt,e.endAt)}function NS(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MTe(t,e,n,r,i,o,a,u){return new Tf(t,e,n,r,i,o,a,u)}function q1(t){return new Tf(t)}function mU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NTe(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pq(t){return t.collectionGroup!==null}function th(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Dn(ir.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Dh(o,r))})),n.has(ir.keyField().canonicalString())||e.Ie.push(new Dh(ir.keyField(),r))}return e.Ie}function Oo(t){const e=Ye(t);return e.Ee||(e.Ee=DTe(e,th(t))),e.Ee}function DTe(t,e){if(t.limitType==="F")return pU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Dh(i.field,o)}));const n=t.endAt?new Jy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jy(t.startAt.position,t.startAt.inclusive):null;return pU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function DS(t,e){const n=t.filters.concat([e]);return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function OTe(t,e){const n=t.explicitOrderBy.concat([e]);return new Tf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Xy(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function p0(t,e){return z1(Oo(t),Oo(e))&&t.limitType===e.limitType}function mq(t){return`${j1(Oo(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dq(i))).join(", ")}]`),d0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Jc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Jc(i))).join(",")),`Target(${r})`})(Oo(t))}; limitType=${t.limitType})`}function m0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of th(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const f=dU(a,u,c);return a.inclusive?f<=0:f<0})(r.startAt,th(r),i)||r.endAt&&!(function(a,u,c){const f=dU(a,u,c);return a.inclusive?f>=0:f>0})(r.endAt,th(r),i))})(t,e)}function kTe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gq(t){return(e,n)=>{let r=!1;for(const i of th(t)){const o=LTe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LTe(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(o,a,u){const c=a.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Wc(c,f):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Zz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VTe=new Qt(Be.comparator);function Rs(){return VTe}const yq=new Qt(Be.comparator);function Hd(...t){let e=yq;for(const n of t)e=e.insert(n.key,n);return e}function vq(t){let e=yq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function zl(){return nh()}function bq(){return nh()}function nh(){return new mu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UTe=new Qt(Be.comparator),BTe=new Dn(Be.comparator);function ot(...t){let e=BTe;for(const n of t)e=e.add(n);return e}const FTe=new Dn(it);function jTe(){return FTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(e)?"-0":e}}function _q(t){return{integerValue:""+t}}function zTe(t,e){return dTe(e)?_q(e):H1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._=void 0}}function qTe(t,e,n){return t instanceof Qy?(function(i,o){const a={fields:{[nq]:{stringValue:tq},[iq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&B1(o)&&(o=h0(o)),o&&(a.fields[rq]=o),{mapValue:a}})(n,e):t instanceof Oh?Tq(t,e):t instanceof kh?xq(t,e):(function(i,o){const a=Eq(i,o),u=gU(a)+gU(i.Ae);return RS(a)&&RS(i.Ae)?_q(u):H1(i.serializer,u)})(t,e)}function HTe(t,e,n){return t instanceof Oh?Tq(t,e):t instanceof kh?xq(t,e):n}function Eq(t,e){return t instanceof Zy?(function(r){return RS(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Qy extends g0{}class Oh extends g0{constructor(e){super(),this.elements=e}}function Tq(t,e){const n=Sq(e);for(const r of t.elements)n.some((i=>qo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class kh extends g0{constructor(e){super(),this.elements=e}}function xq(t,e){let n=Sq(e);for(const r of t.elements)n=n.filter((i=>!qo(i,r)));return{arrayValue:{values:n}}}class Zy extends g0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gU(t){return dn(t.integerValue||t.doubleValue)}function Sq(t){return F1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GTe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Oh&&i instanceof Oh||r instanceof kh&&i instanceof kh?Yc(r.elements,i.elements,qo):r instanceof Zy&&i instanceof Zy?qo(r.Ae,i.Ae):r instanceof Qy&&i instanceof Qy})(t.transform,e.transform)}class $Te{constructor(e,n){this.version=e,this.transformResults=n}}class ko{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class y0{}function wq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new G1(t.key,ko.none()):new ap(t.key,t.data,ko.none());{const n=t.data,r=vi.empty();let i=new Dn(ir.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new gu(t.key,r,new Ki(i.toArray()),ko.none())}}function KTe(t,e,n){t instanceof ap?(function(i,o,a){const u=i.value.clone(),c=vU(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof gu?(function(i,o,a){if(!Rg(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=vU(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(Aq(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function rh(t,e,n,r){return t instanceof ap?(function(o,a,u,c){if(!Rg(o.precondition,a))return u;const f=o.value.clone(),h=bU(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof gu?(function(o,a,u,c){if(!Rg(o.precondition,a))return u;const f=bU(o.fieldTransforms,c,a),h=a.data;return h.setAll(Aq(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,a,u){return Rg(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function YTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Eq(r.transform,i||null);o!=null&&(n===null&&(n=vi.empty()),n.set(r.field,o))}return n||null}function yU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,((o,a)=>GTe(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ap extends y0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends y0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Aq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vU(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,HTe(a,u,n[i]))}return r}function bU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,qTe(o,a,e))}return r}class G1 extends y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WTe extends y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JTe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KTe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bq();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=wq(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,((n,r)=>yU(n,r)))&&Yc(this.baseMutations,e.baseMutations,((n,r)=>yU(n,r)))}}class $1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return UTe})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new $1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QTe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,ut;function ZTe(t){switch(t){case me.OK:return ze(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function Cq(t){if(t===void 0)return Ps("GRPC error has no .code"),me.UNKNOWN;switch(t){case En.OK:return me.OK;case En.CANCELLED:return me.CANCELLED;case En.UNKNOWN:return me.UNKNOWN;case En.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case En.INTERNAL:return me.INTERNAL;case En.UNAVAILABLE:return me.UNAVAILABLE;case En.UNAUTHENTICATED:return me.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case En.NOT_FOUND:return me.NOT_FOUND;case En.ALREADY_EXISTS:return me.ALREADY_EXISTS;case En.PERMISSION_DENIED:return me.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case En.ABORTED:return me.ABORTED;case En.OUT_OF_RANGE:return me.OUT_OF_RANGE;case En.UNIMPLEMENTED:return me.UNIMPLEMENTED;case En.DATA_LOSS:return me.DATA_LOSS;default:return ze(39323,{code:t})}}(ut=En||(En={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function exe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const txe=new Da([4294967295,4294967295],0);function _U(t){const e=exe().encode(t),n=new zz;return n.update(e),new Uint8Array(n.digest())}function EU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Da([n,r],0),new Da([i,o],0)]}class K1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gd(`Invalid padding: ${n}`);if(r<0)throw new Gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Da.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Da.fromNumber(r)));return i.compare(txe)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_U(e),[r,i]=EU(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new K1(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=_U(e),[r,i]=EU(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new v0(Ge.min(),i,new Qt(it),Rs(),ot())}}class lp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lp(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Iq{constructor(e,n){this.targetId=e,this.Ce=n}}class Pq{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TU{constructor(){this.ve=0,this.Fe=xU(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:o})}})),new lp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xU()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nxe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.He=cg(),this.Je=cg(),this.Ze=new Qt(it)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(NS(o))if(r===0){const a=new Be(o.path);this.et(n,a,dr.newNoDocument(a,Ge.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=ja(r).toUint8Array()}catch(c){if(c instanceof eq)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new K1(a,i,o)}catch(c){return au(c instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&NS(u.target)){const c=new Be(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,dr.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}}));let r=ot();this.Je.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new v0(e,n,this.Ze,this.je,r);return this.je=Rs(),this.He=cg(),this.Je=cg(),this.Ze=new Qt(it),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new TU,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Dn(it),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Dn(it),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TU),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cg(){return new Qt(Be.comparator)}function xU(){return new Qt(Be.comparator)}const rxe={asc:"ASCENDING",desc:"DESCENDING"},ixe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oxe={and:"AND",or:"OR"};class sxe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function OS(t,e){return t.useProto3Json||d0(e)?e:{value:e}}function ev(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function axe(t,e){return ev(t,e.toTimestamp())}function Lo(t){return _t(!!t,49232),Ge.fromTimestamp((function(n){const r=Fa(n);return new Ht(r.seconds,r.nanos)})(t))}function Y1(t,e){return kS(t,e).canonicalString()}function kS(t,e){const n=(function(i){return new Ut(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Mq(t){const e=Ut.fromString(t);return _t(Lq(e),10190,{key:e.toString()}),e}function LS(t,e){return Y1(t.databaseId,e.path)}function NT(t,e){const n=Mq(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(Dq(n))}function Nq(t,e){return Y1(t.databaseId,e)}function lxe(t){const e=Mq(t);return e.length===4?Ut.emptyPath():Dq(e)}function VS(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dq(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SU(t,e,n){return{name:LS(t,e),fields:n.value.mapValue.fields}}function uxe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(_t(h===void 0||typeof h=="string",58123),sr.fromBase64String(h||"")):(_t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),sr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(f){const h=f.code===void 0?me.UNKNOWN:Cq(f.code);return new Ie(h,f.message||"")})(a);n=new Pq(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=NT(t,r.document.name),o=Lo(r.document.updateTime),a=r.document.createTime?Lo(r.document.createTime):Ge.min(),u=new vi({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,o,a,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Mg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=NT(t,r.document),o=r.readTime?Lo(r.readTime):Ge.min(),a=dr.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Mg([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=NT(t,r.document),o=r.removedTargetIds||[];n=new Mg([],o,i,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new QTe(i,o),u=r.targetId;n=new Iq(u,a)}}return n}function cxe(t,e){let n;if(e instanceof ap)n={update:SU(t,e.key,e.value)};else if(e instanceof G1)n={delete:LS(t,e.key)};else if(e instanceof gu)n={update:SU(t,e.key,e.data),updateMask:bxe(e.fieldMask)};else{if(!(e instanceof WTe))return ze(16599,{dt:e.type});n={verify:LS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof Qy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zy)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw ze(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:axe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(t,e.precondition)),n}function fxe(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Lo(i.updateTime):Lo(o);return a.isEqual(Ge.min())&&(a=Lo(o)),new $Te(a,i.transformResults||[])})(n,e)))):[]}function dxe(t,e){return{documents:[Nq(t,e.path)]}}function hxe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nq(t,i);const o=(function(f){if(f.length!==0)return kq(eo.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:pc(g.field),direction:gxe(g.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=OS(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function pxe(t){let e=lxe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=Oq(p);return g instanceof eo&&cq(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(x){return new Dh(mc(x.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,d0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,E=p.values||[];return new Jy(E,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,E=p.values||[];return new Jy(E,g)})(n.endAt)),MTe(e,i,a,o,u,"F",c,f)}function mxe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Oq(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mc(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mc(n.unaryFilter.field);return xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mc(n.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mc(n.unaryFilter.field);return xn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(mc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return eo.create(n.compositeFilter.filters.map((r=>Oq(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function gxe(t){return rxe[t]}function yxe(t){return ixe[t]}function vxe(t){return oxe[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return ir.fromServerFormat(t.fieldPath)}function kq(t){return t instanceof xn?(function(n){if(n.op==="=="){if(fU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(cU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(cU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:yxe(n.op),value:n.value}}})(t):t instanceof eo?(function(n){const r=n.getFilters().map((i=>kq(i)));return r.length===1?r[0]:{compositeFilter:{op:vxe(n.op),filters:r}}})(t):ze(54877,{filter:t})}function bxe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Lq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Vq(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,i,o=Ge.min(),a=Ge.min(),u=sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(e){this.yt=e}}function Exe(t){const e=pxe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(){this.Sn=new xxe}addToCollectionParentIndex(e,n){return this.Sn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Ba.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class xxe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uq=41943040;class Lr{static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(Uq,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xc(0)}static ar(){return new Xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="LruGarbageCollector",Sxe=1048576;function CU([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class wxe{constructor(e){this.Pr=e,this.buffer=new Dn(CU),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Axe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Re(AU,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ef(n)?Re(AU,"Ignoring IndexedDB error during garbage collection: ",n):await _f(n)}await this.Ar(3e5)}))}}class Cxe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(f0.ce);const r=new wxe(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(wU)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wU):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),dc()<=ct.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function Ixe(t,e){return new Cxe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(){this.changes=new mu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mxe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&rh(r.mutation,i,Ki.empty(),Ht.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=zl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=Hd();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=zl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=Rs();const a=nh(),u=(function(){return nh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof gu)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),rh(h.mutation,f,h.mutation.getFieldMask(),Ht.now())):a.set(f.key,Ki.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>a.set(f,h))),n.forEach(((f,h)=>u.set(f,new Rxe(h,a.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=nh();let i=new Qt(((a,u)=>a-u)),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Ki.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||ot()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=bq();h.forEach((g=>{if(!o.has(g)){const E=wq(n.get(g),r.get(g));E!==null&&p.set(g,E),o=o.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ye.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return NTe(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ye.resolve(zl());let u=Ph,c=o;return a.next((f=>ye.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,ot()))).next((h=>({batchId:u,changes:vq(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Hd();return this.indexManager.getCollectionParents(e,o).next((u=>ye.forEach(u,(c=>{const f=(function(p,g){return new Tf(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,dr.newInvalidDocument(h)))}));let u=Hd();return a.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&rh(h.mutation,f,Ki.empty(),Ht.now()),m0(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ye.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Lo(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:Exe(i.bundledQuery),readTime:Lo(i.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dxe{constructor(){this.overlays=new Qt(Be.comparator),this.Lr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zl();return ye.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=zl(),o=n.length+1,a=new Be(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qt(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=zl(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=zl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return ye.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XTe(n,r));let o=this.Lr.get(n);o===void 0&&(o=ot(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.kr=new Dn(Hn.Kr),this.qr=new Dn(Hn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Hn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Be(new Ut([])),r=new Hn(n,e),i=new Hn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),o.push(a.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Be(new Ut([])),r=new Hn(n,e),i=new Hn(n,e+1);let o=ot();return this.qr.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new Hn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Be.comparator(e.key,n.key)||it(e.Hr,n.Hr)}static Ur(e,n){return it(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Dn(Hn.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JTe(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Jr=this.Jr.add(new Hn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ye.resolve(a)}lookupMutationBatch(e,n){return ye.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?U1:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(a=>{const u=this.Zr(a.Hr);o.push(u)})),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(it);return n.forEach((i=>{const o=new Hn(i,0),a=new Hn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],(u=>{r=r.add(u.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const a=new Hn(new Be(o),0);let u=new Dn(it);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),a),ye.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(n.mutations,(i=>{const o=new Hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Jr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rs();const a=n.path,u=new Be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||lTe(aTe(h),r)<=0||(i.has(h.key)||m0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ze(9500)}ni(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Vxe(this)}getSize(e){return ye.resolve(this.size)}}class Vxe extends Pxe{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxe{constructor(e){this.persistence=e,this.ri=new mu((n=>j1(n)),z1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new W1,this.targetCount=0,this.oi=Xc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ye.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.lr(n),ye.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ye.waitFor(o).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),ye.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this._i={},this.overlays={},this.ai=new f0(0),this.ui=!1,this.ui=!0,this.ci=new Oxe,this.referenceDelegate=e(this),this.li=new Uxe(this),this.indexManager=new Txe,this.remoteDocumentCache=(function(i){return new Lxe(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new _xe(n),this.Pi=new Nxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dxe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new kxe(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new Bxe(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Bxe extends cTe{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Ri=new W1,this.Ai=null}static Vi(e){return new J1(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const i=Be.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class tv{constructor(e,n){this.persistence=e,this.fi=new mu((r=>hTe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ixe(this,n)}static Vi(e,n){return new tv(e,n)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ye.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((u=>{u||(r++,o.removeEntry(a,Ge.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ig(e.data.value)),n}wr(e,n,r){return ye.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new X1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return I_e()?8:fTe(A_e())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new Fxe;return this.ys(e,n,a).next((u=>{if(o.result=u,this.As)return this.ws(e,n,a,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(dc()<=ct.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(dc()<=ct.DEBUG&&Re("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(dc()<=ct.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oo(n))):ye.resolve())}gs(e,n){if(mU(n))return ye.resolve(null);let r=Oo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Xy(n,null,"F"),r=Oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=ot(...o);return this.fs.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,a,c.readTime)?this.gs(e,Xy(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return mU(n)||i.isEqual(Ge.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?ye.resolve(null):(dc()<=ct.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.Ds(e,a,n,sTe(i,Ph)).next((u=>u)))}))}bs(e,n){let r=new Dn(gq(e));return n.forEach(((i,o)=>{m0(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return dc()<=ct.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",hc(n)),this.fs.getDocumentsMatchingQuery(e,n,Ba.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="LocalStore",zxe=3e8;class qxe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Qt(it),this.Fs=new mu((o=>j1(o)),z1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mxe(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Hxe(t,e,n,r){return new qxe(t,e,n,r)}async function Fq(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let c=ot();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:a,addedBatchIds:u})))}))}))}function Gxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,g=p.keys();let E=ye.resolve();return g.forEach((x=>{E=E.next((()=>h.getEntry(c,x))).next((w=>{const S=f.docVersions.get(x);_t(S!==null,48541),w.version.compareTo(S)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=ot();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jq(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $xe(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(sr.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),(function(w,S,P){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=zxe?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(g,E,h)&&u.push(n.li.updateTargetData(o,E))}));let c=Rs(),f=ot();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(Kxe(o,a,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Ge.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ye.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function Kxe(t,e,n){let r=ot(),i=ot();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=Rs();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Re(Q1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function Yxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=U1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Wxe(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ye.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new Ca(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function US(t,e,n){const r=Ye(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ef(a))throw a;Re(Q1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function IU(t,e,n){const r=Ye(t);let i=Ge.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=Ye(c),g=p.Fs.get(h);return g!==void 0?ye.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,a,Oo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?o:ot()))).next((u=>(Jxe(r,kTe(e),u),{documents:u,ks:o})))))}function Jxe(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class PU{constructor(){this.activeTargetIds=jTe()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xxe{constructor(){this.vo=new PU,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new PU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="ConnectivityMonitor";class MU{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Re(RU,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Re(RU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg=null;function BS(){return fg===null?fg=(function(){return 268435456+Math.round(2147483648*Math.random())})():fg++,"0x"+fg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="RestConnection",Zxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eSe{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Yy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=BS(),u=this.Qo(e,n.toUriEncodedString());Re(DT,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=O1(f);return this.zo(e,u,c,r,h).then((p=>(Re(DT,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw au(DT,`RPC '${e}' ${a} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=Zxe[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection",Vd=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class kc extends eSe{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!kc.c_){const e=$z();Vd(e,Gz.STAT_EVENT,(n=>{n.stat===CS.PROXY?Re(ur,"STAT_EVENT: detected buffering proxy"):n.stat===CS.NOPROXY&&Re(ur,"STAT_EVENT: detected no buffering proxy")})),kc.c_=!0}}zo(e,n,r,i,o){const a=BS();return new Promise(((u,c)=>{const f=new qz;f.setWithCredentials(!0),f.listenOnce(Hz.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cg.NO_ERROR:const p=f.getResponseJson();Re(ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),u(p);break;case Cg.TIMEOUT:Re(ur,`RPC '${e}' ${a} timed out`),c(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case Cg.HTTP_ERROR:const g=f.getStatus();if(Re(ur,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const w=(function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(k)>=0?k:me.UNKNOWN})(x.status);c(new Ie(w,x.message))}else c(new Ie(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Re(ur,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Re(ur,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=BS(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Re(ur,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=a.createWebChannel(f,u);this.I_(h);let p=!1,g=!1;const E=new tSe({Ho:x=>{g?Re(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(Re(ur,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Re(ur,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Jo:()=>h.close()});return Vd(h,qd.EventType.OPEN,(()=>{g||(Re(ur,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),Vd(h,qd.EventType.CLOSE,(()=>{g||(g=!0,Re(ur,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(h))})),Vd(h,qd.EventType.ERROR,(x=>{g||(g=!0,au(ur,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),E.o_(new Ie(me.UNAVAILABLE,"The operation could not be completed")))})),Vd(h,qd.EventType.MESSAGE,(x=>{var w;if(!g){const S=x.data[0];_t(!!S,16349);const P=S,k=(P==null?void 0:P.error)||((w=P[0])==null?void 0:w.error);if(k){Re(ur,`RPC '${e}' stream ${i} received error:`,k);const D=k.status;let B=(function(M){const O=En[M];if(O!==void 0)return Cq(O)})(D),F=k.message;D==="NOT_FOUND"&&F.includes("database")&&F.includes("does not exist")&&F.includes(this.databaseId.database)&&au(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=me.INTERNAL,F="Unknown error status: "+D+" with message "+k.message),g=!0,E.o_(new Ie(B,F)),h.close()}else Re(ur,`RPC '${e}' stream ${i} received:`,S),E.__(S)}})),kc.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Kz()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nSe(t){return new kc(t)}function OT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){return new sxe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kc.c_=!1;class zq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="PersistentStream";class qq{constructor(e,n,r,i,o,a,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(NU,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Re(NU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rSe extends qq{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uxe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?Lo(a.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=VS(this.serializer),n.addTarget=(function(o,a){let u;const c=a.target;if(u=NS(c)?{documents:dxe(o,c)}:{query:hxe(o,c).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Rq(o,a.resumeToken);const f=OS(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ge.min())>0){u.readTime=ev(o,a.snapshotVersion.toTimestamp());const f=OS(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=mxe(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=VS(this.serializer),n.removeTarget=e,this.K_(n)}}class iSe extends qq{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fxe(e.writeResults,e.commitTime),r=Lo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=VS(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>cxe(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oSe{}class sSe extends oSe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Wo(e,kS(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(me.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.jo(e,kS(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(me.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aSe(t,e,n,r){return new sSe(t,e,n,r)}class lSe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="RemoteStore";class uSe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{yu(this)&&(Re(lu,"Restarting streams for network reachability change."),await(async function(c){const f=Ye(c);f.Ea.add(4),await up(f),f.Va.set("Unknown"),f.Ea.delete(4),await _0(f)})(this))}))})),this.Va=new lSe(r,i)}}async function _0(t){if(yu(t))for(const e of t.Ra)await e(!0)}async function up(t){for(const e of t.Ra)await e(!1)}function Hq(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nC(n)?tC(n):xf(n).O_()&&eC(n,e))}function Z1(t,e){const n=Ye(t),r=xf(n);n.Ia.delete(e),r.O_()&&Gq(n,e),n.Ia.size===0&&(r.O_()?r.L_():yu(n)&&n.Va.set("Unknown"))}function eC(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xf(t).Z_(e)}function Gq(t,e){t.da.$e(e),xf(t).X_(e)}function tC(t){t.da=new nxe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xf(t).start(),t.Va.ua()}function nC(t){return yu(t)&&!xf(t).x_()&&t.Ia.size>0}function yu(t){return Ye(t).Ea.size===0}function $q(t){t.da=void 0}async function cSe(t){t.Va.set("Online")}async function fSe(t){t.Ia.forEach(((e,n)=>{eC(t,e)}))}async function dSe(t,e){$q(t),nC(t)?(t.Va.ha(e),tC(t)):t.Va.set("Unknown")}async function hSe(t,e,n){if(t.Va.set("Online"),e instanceof Pq&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Re(lu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nv(t,r)}else if(e instanceof Mg?t.da.Xe(e):e instanceof Iq?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await jq(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.da.Tt(a);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(sr.EMPTY_BYTE_STRING,h.snapshotVersion)),Gq(o,c);const p=new Ca(h.target,c,f,h.sequenceNumber);eC(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Re(lu,"Failed to raise snapshot:",r),await nv(t,r)}}async function nv(t,e,n){if(!Ef(e))throw e;t.Ea.add(1),await up(t),t.Va.set("Offline"),n||(n=()=>jq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(lu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _0(t)}))}function Kq(t,e){return e().catch((n=>nv(t,n,e)))}async function E0(t){const e=Ye(t),n=qa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:U1;for(;pSe(e);)try{const i=await Yxe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,mSe(e,i)}catch(i){await nv(e,i)}Yq(e)&&Wq(e)}function pSe(t){return yu(t)&&t.Ta.length<10}function mSe(t,e){t.Ta.push(e);const n=qa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Yq(t){return yu(t)&&!qa(t).x_()&&t.Ta.length>0}function Wq(t){qa(t).start()}async function gSe(t){qa(t).ra()}async function ySe(t){const e=qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function vSe(t,e,n){const r=t.Ta.shift(),i=$1.from(r,e,n);await Kq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await E0(t)}async function bSe(t,e){e&&qa(t).Y_&&await(async function(r,i){if((function(a){return ZTe(a)&&a!==me.ABORTED})(i.code)){const o=r.Ta.shift();qa(r).B_(),await Kq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await E0(r)}})(t,e),Yq(t)&&Wq(t)}async function DU(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Re(lu,"RemoteStore received new credentials");const r=yu(n);n.Ea.add(3),await up(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _0(n)}async function _Se(t,e){const n=Ye(t);e?(n.Ea.delete(2),await _0(n)):e||(n.Ea.add(2),await up(n),n.Va.set("Unknown"))}function xf(t){return t.ma||(t.ma=(function(n,r,i){const o=Ye(n);return o.sa(),new rSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:cSe.bind(null,t),Yo:fSe.bind(null,t),t_:dSe.bind(null,t),J_:hSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),nC(t)?tC(t):t.Va.set("Unknown")):(await t.ma.stop(),$q(t))}))),t.ma}function qa(t){return t.fa||(t.fa=(function(n,r,i){const o=Ye(n);return o.sa(),new iSe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gSe.bind(null,t),t_:bSe.bind(null,t),ta:ySe.bind(null,t),na:vSe.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await E0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(lu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new rC(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iC(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),Ef(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{static emptySet(e){return new Lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Hd(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.ga=new Qt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qc{constructor(e,n,r,i,o,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Qc(e,n,Lc.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TSe{constructor(){this.queries=kU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),o=i.queries;i.queries=kU(),o.forEach(((a,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Ie(me.ABORTED,"Firestore shutting down"))}}function kU(){return new mu((t=>mq(t)),p0)}async function xSe(t,e){const n=Ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new ESe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=iC(a,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&oC(n)}async function SSe(t,e){const n=Ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wSe(t,e){const n=Ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.ba)u.Fa(i)&&(r=!0);a.wa=i}}r&&oC(n)}function ASe(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function oC(t){t.Ca.forEach((e=>{e.next()}))}var FS,LU;(LU=FS||(FS={})).Ma="default",LU.Cache="cache";class CSe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.key=e}}class Xq{constructor(e){this.key=e}}class ISe{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=gq(e),this.tu=new Lc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new OU,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),E=m0(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;g&&E?g.data.isEqual(E.data)?x!==w&&(r.track({type:3,doc:E}),S=!0):this.su(g,E)||(r.track({type:2,doc:E}),S=!0,(c&&this.eu(E,c)>0||f&&this.eu(E,f)<0)&&(u=!0)):!g&&E?(r.track({type:0,doc:E}),S=!0):g&&!E&&(r.track({type:1,doc:g}),S=!0,(c||f)&&(u=!0)),S&&(E?(a=a.add(E),o=w?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,p)=>(function(E,x){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:S})}};return w(E)-w(x)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,a.length!==0||f?{snapshot:new Qc(this.query,e.tu,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OU,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Xq(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Jq(r))})),n}cu(e){this.Za=e.ks,this.Ya=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sC="SyncEngine";class PSe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RSe{constructor(e){this.key=e,this.hu=!1}}class MSe{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mu((u=>mq(u)),p0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Be.comparator),this.Au=new Map,this.Vu=new W1,this.du={},this.mu=new Map,this.fu=Xc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NSe(t,e,n=!0){const r=r9(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Qq(r,e,n,!0),i}async function DSe(t,e){const n=r9(t);await Qq(n,e,!0,!1)}async function Qq(t,e,n,r){const i=await Wxe(t.localStore,Oo(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await OSe(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Hq(t.remoteStore,i),u}async function OSe(t,e,n,r,i){t.pu=(p,g,E)=>(async function(w,S,P,k){let D=S.view.ru(P);D.Ss&&(D=await IU(w.localStore,S.query,!1).then((({documents:M})=>S.view.ru(M,D))));const B=k&&k.targetChanges.get(S.targetId),F=k&&k.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(D,w.isPrimaryClient,B,F);return UU(w,S.targetId,U.au),U.snapshot})(t,p,g,E);const o=await IU(t.localStore,e,!0),a=new ISe(e,o.ks),u=a.ru(o.documents),c=lp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);UU(t,n,f.au);const h=new PSe(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function kSe(t,e,n){const r=Ye(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!p0(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await US(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z1(r.remoteStore,i.targetId),jS(r,i.targetId)})).catch(_f)):(jS(r,i.targetId),await US(r.localStore,i.targetId,!0))}async function LSe(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z1(n.remoteStore,r.targetId))}async function VSe(t,e,n){const r=HSe(t);try{const i=await(function(a,u){const c=Ye(a),f=Ht.now(),h=u.reduce(((E,x)=>E.add(x.key)),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let x=Rs(),w=ot();return c.xs.getEntries(E,h).next((S=>{x=S,x.forEach(((P,k)=>{k.isValidDocument()||(w=w.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,x))).next((S=>{p=S;const P=[];for(const k of u){const D=YTe(k,p.get(k.key).overlayedDocument);D!=null&&P.push(new gu(k.key,D,aq(D.value.mapValue),ko.exists(!0)))}return c.mutationQueue.addMutationBatch(E,f,P,u)})).next((S=>{g=S;const P=S.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(E,S.batchId,P)}))})).then((()=>({batchId:g.batchId,changes:vq(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let f=a.du[a.currentUser.toKey()];f||(f=new Qt(it)),f=f.insert(u,c),a.du[a.currentUser.toKey()]=f})(r,i.batchId,n),await cp(r,i.changes),await E0(r.remoteStore)}catch(i){const o=iC(i,"Failed to persist write");n.reject(o)}}async function Zq(t,e){const n=Ye(t);try{const r=await $xe(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?_t(a.hu,14607):i.removedDocuments.size>0&&(_t(a.hu,42227),a.hu=!1))})),await cp(n,r,e)}catch(r){await _f(r)}}function VU(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=Ye(a);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(u)&&(f=!0)})),f&&oC(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function USe(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Qt(Be.comparator);a=a.insert(o,dr.newNoDocument(o,Ge.min()));const u=ot().add(o),c=new v0(Ge.min(),new Map,new Qt(it),a,u);await Zq(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),aC(r)}else await US(r.localStore,e,!1).then((()=>jS(r,e,n))).catch(_f)}async function BSe(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await Gxe(n.localStore,e);t9(n,r,null),e9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cp(n,i)}catch(i){await _f(i)}}async function FSe(t,e,n){const r=Ye(t);try{const i=await(function(a,u){const c=Ye(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(_t(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);t9(r,e,n),e9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cp(r,i)}catch(i){await _f(i)}}function e9(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function t9(t,e,n){const r=Ye(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function jS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||n9(t,r)}))}function n9(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Z1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),aC(t))}function UU(t,e,n){for(const r of n)r instanceof Jq?(t.Vu.addReference(r.key,e),jSe(t,r)):r instanceof Xq?(Re(sC,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||n9(t,r.key)):ze(19791,{wu:r})}function jSe(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Re(sC,"New document in limbo: "+n),t.Eu.add(r),aC(t))}function aC(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Ut.fromString(e)),r=t.fu.next();t.Au.set(r,new RSe(n)),t.Ru=t.Ru.insert(n,r),Hq(t.remoteStore,new Ca(Oo(q1(n.path)),r,"TargetPurposeLimboResolution",f0.ce))}}async function cp(t,e,n){const r=Ye(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=X1.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,f){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ye.forEach(f,(g=>ye.forEach(g.Ts,(E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E))).next((()=>ye.forEach(g.Is,(E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))))))}catch(p){if(!Ef(p))throw p;Re(Q1,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const E=h.vs.get(g),x=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(x);h.vs=h.vs.insert(g,w)}}})(r.localStore,o))}async function zSe(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Re(sC,"User change. New user:",e.toKey());const r=await Fq(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ie(me.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cp(n,r.Ns)}}function qSe(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function r9(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=USe.bind(null,e),e.Pu.J_=wSe.bind(null,e.eventManager),e.Pu.yu=ASe.bind(null,e.eventManager),e}function HSe(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FSe.bind(null,e),e}class rv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=b0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Hxe(this.persistence,new jxe,e.initialUser,this.serializer)}Cu(e){return new Bq(J1.Vi,this.serializer)}Du(e){return new Xxe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rv.provider={build:()=>new rv};class GSe extends rv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof tv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Axe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new Bq((r=>tv.Vi(r,n)),this.serializer)}}class zS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zSe.bind(null,this.syncEngine),await _Se(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TSe})()}createDatastore(e){const n=b0(e.databaseInfo.databaseId),r=nSe(e.databaseInfo);return aSe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new uSe(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>VU(this.syncEngine,n,0)),(function(){return MU.v()?new MU:new Qxe})())}createSyncEngine(e,n){return(function(i,o,a,u,c,f,h){const p=new MSe(i,o,a,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Ye(i);Re(lu,"RemoteStore shutting down."),o.Ea.add(5),await up(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zS.provider={build:()=>new zS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Se{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class KSe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=V1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Re(Ha,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Re(Ha,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kT(t,e){t.asyncQueue.verifyOperationInProgress(),Re(Ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Fq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YSe(t);Re(Ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>DU(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>DU(e.remoteStore,i))),t._onlineComponents=e}async function YSe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(Ha,"Using user provided OfflineComponentProvider");try{await kT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await kT(t,new rv)}}else Re(Ha,"Using default OfflineComponentProvider"),await kT(t,new GSe(void 0));return t._offlineComponents}async function i9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(Ha,"Using user provided OnlineComponentProvider"),await BU(t,t._uninitializedComponentsProvider._online)):(Re(Ha,"Using default OnlineComponentProvider"),await BU(t,new zS))),t._onlineComponents}function WSe(t){return i9(t).then((e=>e.syncEngine))}async function FU(t){const e=await i9(t),n=e.eventManager;return n.onListen=NSe.bind(null,e.syncEngine),n.onUnlisten=kSe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DSe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LSe.bind(null,e.syncEngine),n}function JSe(t,e,n,r){const i=new $Se(r),o=new CSe(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>xSe(await FU(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>SSe(await FU(t),o)))}}function XSe(t,e){const n=new Yl;return t.asyncQueue.enqueueAndForget((async()=>VSe(await WSe(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QSe="ComponentProvider",jU=new Map;function ZSe(t,e,n,r,i){return new gTe(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,o9(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="firestore.googleapis.com",zU=!0;class qU{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s9,this.ssl=zU}else this.host=e.host,this.ssl=e.ssl??zU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sxe)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oTe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o9(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WEe;switch(r.type){case"firstParty":return new ZEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jU.get(n);r&&(Re(QSe,"Removing Datastore"),jU.delete(n),r.terminate())})(this),Promise.resolve()}}function ewe(t,e,n,r={}){var f;t=Oc(t,T0);const i=O1(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(E_e(`https://${u}`),w_e("Firestore",!0)),o.host!==s9&&o.host!==u&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!Hy(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=fr.MOCK_USER;else{h=T_e(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ie(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fr(g)}t._authCredentials=new JEe(new Wz(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}toJSON(){return{type:Nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(sp(n,Nn._jsonSchema))return new Nn(e,r||null,new Be(Ut.fromString(n.referencePath)))}}Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:wn("string",Nn._jsonSchemaVersion),referencePath:wn("string")};class Oa extends Xa{constructor(e,n,r){super(e,n,q1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Be(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function lC(t,e,...n){if(t=ou(t),Jz("collection","path",e),t instanceof T0){const r=Ut.fromString(e,...n);return tU(r),new Oa(t,null,r)}{if(!(t instanceof Nn||t instanceof Oa))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return tU(r),new Oa(t.firestore,null,r)}}function a9(t,e,...n){if(t=ou(t),arguments.length===1&&(e=V1.newId()),Jz("doc","path",e),t instanceof T0){const r=Ut.fromString(e,...n);return eU(r),new Nn(t,null,new Be(r))}{if(!(t instanceof Nn||t instanceof Oa))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return eU(r),new Nn(t.firestore,t instanceof Oa?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="AsyncQueue";class GU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zq(this,"async_queue_retry"),this._c=()=>{const r=OT();r&&Re(HU,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=OT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=OT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ef(e))throw e;Re(HU,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",$U(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rC.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&ze(47125,{Pc:$U(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $U(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lh extends T0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GU(e),this._firestoreClient=void 0,await e}}}function twe(t,e){const n=typeof t=="object"?t:kEe(),r=typeof t=="string"?t:Yy,i=REe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=b_e("firestore");o&&ewe(i,...o)}return i}function l9(t){if(t._terminated)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nwe(t),t._firestoreClient}function nwe(t){var r,i,o,a;const e=t._freezeSettings(),n=ZSe(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KSe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(sr.fromBase64String(e))}catch(n){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sp(e,bi._jsonSchema))return bi.fromBase64String(e.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:wn("string",bi._jsonSchemaVersion),bytes:wn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vo._jsonSchemaVersion}}static fromJSON(e){if(sp(e,Vo._jsonSchema))return new Vo(e.latitude,e.longitude)}}Vo._jsonSchemaVersion="firestore/geoPoint/1.0",Vo._jsonSchema={type:wn("string",Vo._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sp(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qi(e.vectorValues);throw new Ie(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:wn("string",Qi._jsonSchemaVersion),vectorValues:wn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rwe=/^__.*__$/;class iwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ap(e,this.data,n,this.fieldTransforms)}}function f9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:t})}}class uC{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new uC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return iv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(f9(this.dataSource)&&rwe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class owe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||b0(e)}createContext(e,n,r,i=!1){return new uC({dataSource:e,methodName:n,targetDoc:r,path:ir.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d9(t){const e=t._freezeSettings(),n=b0(t._databaseId);return new owe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function swe(t,e,n,r,i,o={}){const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);m9("Data must be an object, but it was:",a,r);const u=h9(r,a);let c,f;if(o.merge)c=new Ki(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=x0(e,p,n);if(!a.contains(g))throw new Ie(me.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cwe(h,g)||h.push(g)}c=new Ki(h),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new iwe(new vi(u),c,f)}function awe(t,e,n,r=!1){return cC(n,t.createContext(r?4:3,e))}function cC(t,e){if(p9(t=ou(t)))return m9("Unsupported field value:",e,t),h9(t,e);if(t instanceof c9)return(function(r,i){if(!f9(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let c=cC(u,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ou(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zTe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ht.fromDate(r);return{timestampValue:ev(i.serializer,o)}}if(r instanceof Ht){const o=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(i.serializer,o)}}if(r instanceof Vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:Rq(i.serializer,r._byteString)};if(r instanceof Nn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qi)return(function(a,u){const c=a instanceof Qi?a.toArray():a;return{mapValue:{fields:{[oq]:{stringValue:sq},[Wy]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return H1(u.serializer,h)}))}}}}}})(r,i);if(Vq(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${c0(r)}`)})(t,e)}function h9(t,e){const n={};return Zz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,((r,i)=>{const o=cC(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function p9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof Vo||t instanceof bi||t instanceof Nn||t instanceof c9||t instanceof Qi||Vq(t))}function m9(t,e,n){if(!p9(n)||!Xz(n)){const r=c0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function x0(t,e,n){if((e=ou(e))instanceof u9)return e._internalPath;if(typeof e=="string")return uwe(t,e);throw iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const lwe=new RegExp("[~\\*/\\[\\]]");function uwe(t,e,n){if(e.search(lwe)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new u9(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iv(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ie(me.INVALID_ARGUMENT,u+t+c)}function cwe(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fwe{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Wy].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>dn(a.doubleValue)));return new Qi(n)}convertGeoPoint(e){return new Vo(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=h0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=Fa(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);_t(Lq(r),9688,{name:e});const i=new Mh(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||Ps(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9 extends fwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}const KU="@firebase/firestore",YU="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(x0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dwe extends y9{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fC{}class dC extends fC{}function v9(t,e,...n){let r=[];e instanceof fC&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((c=>c instanceof pC)).length,u=o.filter((c=>c instanceof hC)).length;if(a>1||a>0&&u>0)throw new Ie(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class hC extends dC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hC(e,n,r)}_apply(e){const n=this._parse(e);return b9(e._query,n),new Xa(e.firestore,e.converter,DS(e._query,n))}_parse(e){const n=d9(e.firestore);return(function(o,a,u,c,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XU(p,h);const x=[];for(const w of p)x.push(JU(c,o,w));g={arrayValue:{values:x}}}else g=JU(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XU(p,h),g=awe(u,a,p,h==="in"||h==="not-in");return xn.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pC extends fC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:eo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)b9(a,c),a=DS(a,c)})(e._query,n),new Xa(e.firestore,e.converter,DS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mC extends dC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mC(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(o,a)})(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,OTe(e._query,n))}}function qS(t,e="asc"){const n=e,r=x0("orderBy",t);return mC._create(r,n)}class gC extends dC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gC(e,n,r)}_apply(e){return new Xa(e.firestore,e.converter,Xy(e._query,this._limit,this._limitType))}}function pwe(t){return gC._create("limit",t,"F")}function JU(t,e,n){if(typeof(n=ou(n))=="string"){if(n==="")throw new Ie(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pq(e)&&n.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!Be.isDocumentKey(r))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uU(t,new Be(r))}if(n instanceof Nn)return uU(t,n._key);throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c0(n)}.`)}function XU(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b9(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mwe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class $d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wl extends y9{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wl._jsonSchema={type:wn("string",Wl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Ng extends Wl{data(e={}){return super.data(e)}}class Vc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ng(this._firestore,this._userDataWriter,r.key,r,new $d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new Ng(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Ng(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),h=a.indexOf(u.doc.key)),{type:gwe(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vc._jsonSchemaVersion="firestore/querySnapshot/1.0",Vc._jsonSchema={type:wn("string",Vc._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};function ywe(t){return E9(Oc(t.firestore,Lh),[new G1(t._key,ko.none())])}function vwe(t,e){const n=Oc(t.firestore,Lh),r=a9(t),i=mwe(t.converter,e),o=d9(t.firestore);return E9(n,[swe(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ko.exists(!1))]).then((()=>r))}function _9(t,...e){var f,h,p;t=ou(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WU(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WU(e[r])){const g=e[r];e[r]=(f=g.next)==null?void 0:f.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let o,a,u;if(t instanceof Nn)a=Oc(t.firestore,Lh),u=q1(t._key.path),o={next:g=>{e[r]&&e[r](bwe(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Oc(t,Xa);a=Oc(g.firestore,Lh),u=g._query;const E=new g9(a);o={next:x=>{e[r]&&e[r](new Vc(a,E,g,x))},error:e[r+1],complete:e[r+2]},hwe(t._query)}const c=l9(a);return JSe(c,u,i,o)}function E9(t,e){const n=l9(t);return XSe(n,e)}function bwe(t,e,n){const r=n.docs.get(e._key),i=new g9(t);return new Wl(t,i,e._key,r,new $d(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){YEe(OEe),$y(new Ch("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new Lh(new XEe(r.getProvider("auth-internal")),new eTe(a,r.getProvider("app-check-internal")),yTe(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Dc(KU,YU,e),Dc(KU,YU,"esm2020")})();const _we={apiKey:"AIzaSyAUmcuxm_Z6pk3TZ3QIWW1J-wGWJDv2T7Y",authDomain:"game10-22e63.firebaseapp.com",projectId:"game10-22e63",storageBucket:"game10-22e63.firebasestorage.app",messagingSenderId:"546602582151",appId:"1:546602582151:web:08c031d16303fea86bf822"},Ewe=Bz(_we),ov=twe(Ewe),LT={correct:"https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3",incorrect:"https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3",levelUp:"https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"},Twe=[{id:1,name:"Digital Spark",icon:I.jsx(cv,{size:20})},{id:2,name:"Smart Apps",icon:I.jsx(GY,{size:20})},{id:3,name:"Virtual Class",icon:I.jsx(DY,{size:20})},{id:4,name:"Cloud Library",icon:I.jsx(BY,{size:20})},{id:5,name:"Blended Learning",icon:I.jsx(mY,{size:20})},{id:6,name:"AI Assistant",icon:I.jsx(CY,{size:20})},{id:7,name:"Global Classroom",icon:I.jsx(vg,{size:20})},{id:8,name:"Innovation Lab",icon:I.jsx(wY,{size:20})}],xwe=[" Great start!"," Keep going!"," Smart move!"," Youre halfway there!"," Brilliant thinking!"," Strong understanding!"," Almost there!"," Outstanding performance!"],Swe=({onGameOver:t,onWin:e,isTeacherMode:n,onShowStats:r,onShowLeaderboard:i,onStartReview:o})=>{const[a,u]=A.useState(0),[c,f]=A.useState([]),[h,p]=A.useState(null),[g,E]=A.useState(null),[x,w]=A.useState(0),[S,P]=A.useState(420),[k,D]=A.useState({}),{isHighlighterActive:B,toggleHighlighter:F,addHighlight:U,clearHighlights:M,renderHighlightedText:O}=q3(),V="learning-quest-main",[z]=Cc(LT.correct),[q]=Cc(LT.incorrect),[H]=Cc(LT.levelUp);A.useEffect(()=>{const K=[...Ic];f(K)},[]),A.useEffect(()=>{if(S<=0){t();return}const K=setInterval(()=>{P(Z=>Z-1)},1e3);return()=>clearInterval(K)},[S,t]);const $=K=>{const Z=Math.floor(K/60),ae=K%60;return`${Z.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}`};A.useEffect(()=>{var K;n&&E(k[(K=c[a])==null?void 0:K.id]||null)},[a,n,c,k]);const ve=()=>{if(n){const K=c[a];E(K.correctAnswerId),p("correct"),D(Z=>({...Z,[K.id]:K.correctAnswerId}))}},Ee=K=>{if(!(!n&&h)&&(E(K),n)){const Z=c[a],ae=K===Z.correctAnswerId;p(ae?"correct":"incorrect"),D(ge=>({...ge,[Z.id]:K})),ae&&k[Z.id]!==K&&w(ge=>ge+10)}},X=()=>{if(!g||h)return;const K=c[a];D(Z=>({...Z,[K.id]:g})),g===K.correctAnswerId?(w(Z=>Z+10),p("correct")):p("incorrect")},ie=()=>{p(null),E(null),a<7?(n||H(),u(K=>K+1)):e(x,k)},fe=()=>{a>0&&(p(null),u(K=>K-1))},Te=()=>{a<7&&(p(null),u(K=>K+1))};if(c.length===0)return I.jsx("div",{children:"Loading..."});const W=c[a],L=W.options.length===3;return I.jsxs("div",{className:"flex flex-col h-[100dvh] bg-slate-50 overflow-hidden font-sans text-slate-800 antialiased",children:[I.jsxs("div",{className:"bg-[#0F172A] shadow-md z-30 sticky top-0 shrink-0 text-white py-3",children:[I.jsxs("div",{className:"p-4 pb-2 flex flex-col md:grid md:grid-cols-3 items-center gap-4 border-b border-white/10",children:[I.jsx("div",{className:"hidden md:block"}),I.jsxs("div",{className:"text-center w-full",children:[I.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight drop-shadow-md",children:"English 10  New Ways to Learn"}),I.jsx("p",{className:"text-emerald-100 text-sm font-medium uppercase tracking-wider",children:"Smart Learning Challenge"})]}),I.jsxs("div",{className:"flex justify-center md:justify-end w-full",children:[!n&&I.jsxs("div",{className:"flex items-center gap-3 bg-black/20 backdrop-blur-sm px-4 py-2 rounded-xl border border-white/10 shadow-inner w-fit",children:[I.jsx(xw,{size:20,className:"text-amber-300 animate-pulse"}),I.jsxs("div",{className:"flex flex-col items-end leading-none",children:[I.jsx("span",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-wider",children:"Time Left"}),I.jsx("span",{className:"text-xl font-mono font-bold text-white tabular-nums",children:$(S)})]})]}),n&&I.jsx("div",{className:"flex items-center gap-2 bg-emerald-500/30 px-4 py-2 rounded-xl border border-emerald-400/30",children:I.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-emerald-50",children:" Teacher Preview"})})]})]}),I.jsx("div",{className:"w-full overflow-x-auto no-scrollbar mask-gradient-x flex justify-center py-3 bg-black/5",children:I.jsx("div",{className:"flex items-center gap-4 md:gap-8 px-4 min-w-max",children:Twe.map((K,Z)=>{const ae=Z===a,ge=Z<a;return I.jsxs("div",{className:"flex flex-col items-center gap-2 group relative",children:[I.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-sm border-2
                                            ${ae?"bg-[#22D3EE] border-[#22D3EE] text-[#1E3A8A] scale-110 shadow-[0_0_15px_rgba(34,211,238,0.5)]":ge?"bg-[#A78BFA] border-[#A78BFA] text-white opacity-90":"bg-slate-200/10 border-white/10 text-slate-400"}
                                        `,children:yi.cloneElement(K.icon,{size:ae?24:20,strokeWidth:ae?2.5:2})}),I.jsx("div",{className:`hidden md:block text-[10px] uppercase font-bold tracking-wider transition-colors duration-300
                                        ${ae?"text-[#22D3EE]":ge?"text-indigo-200":"text-slate-400"}
                                    `,children:K.name}),I.jsx("div",{className:`md:hidden absolute -bottom-4 whitespace-nowrap text-[10px] font-bold tracking-wider transition-opacity duration-300
                                        ${ae?"opacity-100 text-[#22D3EE]":"opacity-0"}
                                    `,children:K.name})]},K.id)})})})]}),I.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden min-h-0 bg-slate-100 gap-4 md:gap-5 p-3 md:p-5",children:[I.jsxs("div",{className:"flex-1 md:w-[40%] bg-white rounded-2xl md:rounded-3xl border border-slate-200 overflow-hidden flex flex-col shadow-sm relative z-10 max-h-[60vh] md:max-h-[50vh]",children:[I.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-white border-b border-slate-100 shrink-0",children:[I.jsx("div",{className:"flex items-center gap-2 text-emerald-600 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:I.jsx("span",{className:"bg-emerald-50 px-2 py-1 rounded-md border border-emerald-100 italic",children:" Reading"})}),I.jsxs("div",{className:"flex items-center gap-2",children:[n&&I.jsxs("button",{onClick:()=>M(V),className:"p-1.5 rounded-lg transition-all flex items-center gap-2 text-[10px] md:text-xs font-bold bg-red-50 text-red-600 hover:bg-red-100 border border-red-100",title:"Clear All Highlights",children:[I.jsx(jY,{size:14,className:"md:w-3.5 md:h-3.5"}),I.jsx("span",{className:"hidden sm:inline",children:"Xa Highlight"})]}),I.jsxs("button",{onClick:F,className:`p-1.5 rounded-lg transition-all flex items-center gap-2 text-[10px] md:text-xs font-bold ${B?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[I.jsx(F3,{size:14,className:"md:w-3.5 md:h-3.5"}),I.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-5 md:p-5 prose prose-emerald max-w-none custom-scrollbar-thin",children:[H3.split(`
`).map((K,Z)=>K.startsWith("# ")?I.jsx("h1",{className:"text-xl md:text-3xl font-extrabold text-slate-900 mb-4 md:mb-6 leading-tight mt-0",children:K.replace("# ","")},Z):K.startsWith("**")?I.jsx("h3",{className:"text-base md:text-xl font-bold text-emerald-700 mt-4 md:mt-6 mb-2 md:mb-3",children:K.replaceAll("**","")},Z):I.jsx("p",{className:`mb-3 md:mb-4 text-[#334155] font-normal text-sm leading-[1.6] ${B?"cursor-text selection:bg-yellow-200":""}`,onMouseUp:()=>U(V,Z,K),onTouchEnd:()=>U(V,Z,K),children:O(K,V,Z)},Z)),I.jsx("div",{className:"h-4 md:h-8"})]})]}),I.jsxs("div",{className:"flex-1 md:w-[60%] relative z-20 overflow-hidden flex flex-col bg-white rounded-2xl md:rounded-3xl border border-slate-200 shadow-lg",children:[n&&I.jsxs("div",{className:"p-3 bg-emerald-600 text-white flex justify-between items-center shrink-0",children:[I.jsx("button",{onClick:fe,disabled:a===0,className:"p-2 hover:bg-white/20 rounded-lg disabled:opacity-30",children:I.jsx(B3,{size:20})}),I.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Question Control"}),I.jsx("button",{onClick:Te,disabled:a===7,className:"p-2 hover:bg-white/20 rounded-lg disabled:opacity-30",children:I.jsx(Bc,{size:20})})]}),I.jsx("div",{className:"flex-1 overflow-hidden p-3 space-y-2 custom-scrollbar-thin flex flex-col",children:I.jsx("div",{className:"max-w-2xl mx-auto flex flex-col h-full",children:h&&!n?I.jsxs(xi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 p-6",children:[I.jsx("div",{className:`inline-block p-4 rounded-full mb-4 shadow-lg ${h==="correct"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:h==="correct"?I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("polyline",{points:"20 6 9 17 4 12"})}):I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-12 md:h-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsx("h2",{className:"text-xl md:text-3xl font-black mb-2 text-white drop-shadow-md",children:h==="correct"?"Correct!":"Incorrect"}),I.jsx("p",{className:"text-emerald-50 mb-6 text-sm md:text-lg font-medium",children:h==="correct"?xwe[a]||"Great job!":" Incorrect. Please review the passage."}),I.jsx("button",{onClick:ie,className:"font-bold py-3 md:py-4 px-8 md:px-12 rounded-xl shadow-xl transition-all transform hover:scale-105 active:scale-95 text-base md:text-lg w-full md:w-auto text-[#1E3A8A] bg-white hover:bg-slate-100",children:"Next Stage"})]}):I.jsxs("div",{className:"flex flex-col h-full justify-start md:justify-center",children:[I.jsxs("div",{className:"mb-4 md:mb-8 text-slate-800",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsxs("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-emerald-200",children:["Stage ",a+1]}),n&&I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-emerald-200",children:"TEACHER PREVIEW"}),I.jsx("button",{onClick:ve,className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-widest border border-emerald-200 hover:bg-emerald-200 transition-colors",children:"Reveal Answer"})]})]}),I.jsx("h3",{className:"text-base md:text-lg font-bold leading-snug text-slate-900",children:W.question})]}),I.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-1 pb-8 md:pb-0",children:W.options.map(K=>{const Z=g===K.id,ae=K.id===W.correctAnswerId;let ge="border-slate-200",_e="bg-white hover:bg-slate-50",be="text-slate-700",Me="bg-slate-100 text-slate-500";return Z&&(n?ae?(_e="bg-emerald-50",ge="border-emerald-500 scale-[1.02]",be="text-emerald-900",Me="bg-emerald-500 text-white"):(_e="bg-red-50",ge="border-red-500 scale-[1.02]",be="text-red-900",Me="bg-red-500 text-white"):(_e="bg-[#F59E0B]",ge="border-[#F59E0B] scale-[1.02]",be="text-white",Me="bg-white/20 text-white")),I.jsxs("button",{disabled:!n&&h!==null,onClick:()=>Ee(K.id),className:`p-3 md:p-5 rounded-2xl border-2 text-left transition-all duration-200 flex items-center justify-start gap-4 group shadow-sm
                                                        ${_e} ${ge} ${be}
                                                    `,children:[I.jsx("span",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-sm shrink-0 transition-colors ${Me}`,children:K.id}),I.jsx("span",{className:"text-sm md:text-base font-medium",children:K.text}),n&&Z&&I.jsx("div",{className:"ml-auto",children:ae?I.jsx("div",{className:"bg-emerald-500 text-white p-1 rounded-full",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("polyline",{points:"20 6 9 17 4 12"})})}):I.jsx("div",{className:"bg-red-500 text-white p-1 rounded-full",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},K.id)})}),n?I.jsx("div",{className:"mt-8 flex gap-4",children:I.jsx("button",{onClick:ie,className:"flex-1 font-bold py-4 rounded-2xl shadow-lg transition-all transform hover:scale-[1.02] active:scale-95 text-lg bg-emerald-600 text-white hover:bg-emerald-700 uppercase tracking-wide",children:a===7?"View Results":"Submit & Continue"})}):g&&!h&&I.jsx("div",{className:"mt-8 flex justify-center",children:I.jsx("button",{onClick:X,className:"font-bold py-4 px-12 rounded-2xl shadow-xl transition-all transform hover:scale-[1.05] active:scale-95 text-lg bg-[#F59E0B] text-white hover:bg-[#D97706] border-b-4 border-amber-700 uppercase tracking-widest",children:"Check Answer"})})]})})})]})]}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
            `}})]})},wwe=({onPlayAgain:t,onBackToMap:e})=>I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:I.jsxs(xi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-slate-200 mx-4 md:mx-0",children:[I.jsx("div",{className:"text-5xl md:text-6xl mb-3 md:mb-4",children:""}),I.jsx("h2",{className:"text-xl md:text-2xl font-extrabold text-red-500 mb-2 uppercase",children:"INCORRECT"}),I.jsx("p",{className:"text-slate-600 mb-6 md:mb-8 font-medium text-sm md:text-base",children:"YOUR LEARNING JOURNEY STOPS HERE!"}),I.jsxs("div",{className:"space-y-3",children:[I.jsx("button",{onClick:t,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg transition-all",children:"PLAY AGAIN"}),I.jsx("button",{onClick:e,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-xl transition-all",children:"BACK TO MAP"})]})]})}),Awe=({name:t,score:e,completionTime:n,onPlayAgain:r,onLeaderboard:i})=>(A.useEffect(()=>{const a=Date.now()+3e3,u={startVelocity:30,spread:360,ticks:60,zIndex:60},c=(h,p)=>Math.random()*(p-h)+h,f=setInterval(function(){const h=a-Date.now();if(h<=0)return clearInterval(f);const p=50*(h/3e3);uh({...u,particleCount:p,origin:{x:c(.1,.3),y:Math.random()-.2}}),uh({...u,particleCount:p,origin:{x:c(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(f)},[]),I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-emerald-900/40 backdrop-blur-md",children:I.jsxs(xi.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.5},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 text-center p-6 md:p-8 border-4 border-yellow-400 mx-4 md:mx-0",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400"}),I.jsx("div",{className:"text-6xl md:text-7xl mb-4 md:mb-6 filter drop-shadow-lg",children:""}),I.jsx("h2",{className:"text-2xl md:text-3xl font-black text-indigo-800 mb-2 uppercase tracking-wide",children:"CONGRATULATIONS!"}),I.jsxs("p",{className:"text-slate-600 mb-4 md:mb-6 font-medium text-base md:text-lg",children:[I.jsx("span",{className:"font-bold text-indigo-600",children:t}),"  YOU HAVE MASTERED NEW WAYS TO LEARN!"]}),I.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 md:p-4 mb-4 md:mb-6 border border-emerald-100 grid grid-cols-2 gap-3 md:gap-4",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-emerald-500 font-bold uppercase mb-1",children:"SCORE"}),I.jsxs("p",{className:"text-3xl md:text-4xl font-black text-emerald-700",children:[e," ",I.jsx("span",{className:"text-base md:text-lg font-medium text-emerald-400",children:"/ 80"})]})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-emerald-500 font-bold uppercase mb-1",children:"TIME"}),I.jsxs("p",{className:"text-3xl md:text-4xl font-black text-emerald-700",children:[n," ",I.jsx("span",{className:"text-base md:text-lg font-medium",children:"s"})]})]})]}),I.jsx("div",{className:"mb-6 md:mb-8",children:I.jsx("div",{className:"inline-block bg-yellow-100 text-yellow-800 px-3 py-1.5 md:px-4 md:py-2 rounded-full font-bold text-xs md:text-sm border border-yellow-200 shadow-sm",children:" DIGITAL LEARNING CHAMPION"})}),I.jsxs("div",{className:"space-y-3",children:[I.jsx("button",{onClick:i,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 md:py-4 rounded-xl shadow-lg transition-transform hover:scale-[1.02] active:scale-95 uppercase tracking-wide text-sm md:text-base",children:"LEADERBOARD"}),I.jsx("button",{onClick:r,className:"w-full bg-white hover:bg-slate-50 text-slate-700 font-bold py-3 md:py-3 rounded-xl border-2 border-slate-200 transition-all uppercase text-sm md:text-base",children:"PLAY AGAIN"})]})]})})),Cwe=({onClose:t,isTeacherMode:e})=>{const[n,r]=A.useState([]),[i,o]=A.useState([]),[a,u]=A.useState(!1),[c,f]=A.useState([]),[h,p]=A.useState([]),[g,E]=A.useState({teamsJoined:0,completionRate:0,avgAccuracy:0,fastest80:0}),[x,w]=A.useState("connecting"),[S,P]=A.useState(null),k=async()=>{if(confirm("Are you sure you want to PERMANENTLY delete all leaderboard data for EVERYONE? This cannot be undone.")){localStorage.removeItem("leaderboardLEARNINGQUEST");try{const D=n.map(B=>B.id?ywe(a9(ov,"leaderboard",B.id)):Promise.resolve());await Promise.all(D),alert("Leaderboard has been reset for all users.")}catch(D){console.error("Error clearing leaderboard:",D),alert("Failed to clear some online records. Check console.")}r([]),u(!1)}};return A.useEffect(()=>{const D=v9(lC(ov,"leaderboard"),qS("score","desc"),qS("time","asc"),pwe(1e3)),B=_9(D,F=>{var M;w("connected"),P(null);const U=[];if(F.forEach(O=>{U.push({id:O.id,...O.data()})}),r(U.slice(0,10)),o(U),U.length>=999&&u(!0),U.length>0){const O=Ic.map((Ee,X)=>{const ie=U.filter(W=>{var L;return((L=W.selectedAnswers)==null?void 0:L[Ee.id])!==void 0}).length,fe=U.filter(W=>{var L;return((L=W.selectedAnswers)==null?void 0:L[Ee.id])===Ee.correctAnswerId}).length,Te=ie>0?Math.round(fe/ie*100):0;return{name:`Q${X+1}`,accuracy:Te,count:fe,total:ie}});f(O);const V=new Set(U.map(Ee=>Ee.className)).size,z=U.filter(Ee=>Ee.score>0).length,q=Math.round(U.reduce((Ee,X)=>Ee+(X.score||0),0)/U.length/80*100),H=((M=U.filter(Ee=>(Ee.score||0)>=64).sort((Ee,X)=>Ee.time-X.time)[0])==null?void 0:M.time)||0;E({teamsJoined:V,completionRate:Math.round(z/U.length*100),avgAccuracy:q,fastest80:H});const ve=Object.entries({"Fact Retrieval":["lq1","lq7"],Reference:["lq3"],Inference:["lq4","lq5","lq6"],"Detail/Scanning":["lq2","lq8"]}).map(([Ee,X])=>{let ie=0,fe=0;X.forEach(L=>{const K=Ic.find(Z=>Z.id===L);if(K){const Z=U.filter(ge=>{var _e;return((_e=ge.selectedAnswers)==null?void 0:_e[L])===K.correctAnswerId}).length,ae=U.filter(ge=>{var _e;return((_e=ge.selectedAnswers)==null?void 0:_e[L])!==void 0}).length;fe+=Z,ie+=ae}});const Te=ie>0?Math.round(fe/ie*100):0;return{name:Ee,value:Te,color:{"Fact Retrieval":"#34d399",Reference:"#818cf8",Inference:"#f472b6","Detail/Scanning":"#fbbf24"}[Ee]}});p(ve)}},F=>{console.error("Error getting leaderboard: ",F),w("error"),P(F.message);const U=localStorage.getItem("leaderboardLEARNINGQUEST");if(U){const M=JSON.parse(U),O=M.sort((V,z)=>{const q=V.score||0,H=z.score||0;return q!==H?H-q:V.time-z.time});r(O.slice(0,10)),M.length>=999&&u(!0)}});return()=>B()},[]),I.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-emerald-900/40 backdrop-blur-md",children:[I.jsxs(xi.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl w-full max-w-5xl overflow-hidden relative z-10 flex flex-col md:flex-row max-h-[90vh] md:max-h-[90vh] h-[90vh] md:h-auto",children:[I.jsxs("div",{className:"w-full md:w-2/3 bg-slate-50 p-4 md:p-8 flex flex-col gap-4 md:gap-6 overflow-y-auto shrink-0 md:shrink custom-scrollbar-thin",children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-xl md:text-2xl font-black text-emerald-900 mb-1",children:e?"Teacher Analytics Dashboard":"Class Performance"}),I.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Real-time statistics from all players"})]}),e&&I.jsx("div",{className:"flex gap-2",children:I.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] font-bold border border-emerald-200 uppercase tracking-widest",children:"Teacher View"})})]}),e?I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"  Class Snapshot"]}),I.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Classes Joined",value:g.teamsJoined,color:"emerald"},{label:"Completion %",value:`${g.completionRate}%`,color:"emerald"},{label:"Avg Accuracy",value:`${g.avgAccuracy}%`,color:"orange"},{label:"Fastest (80%)",value:g.fastest80>0?`${g.fastest80}s`:"-",color:"purple"}].map((D,B)=>I.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-2xl border border-slate-100 shadow-sm text-center lg:text-left",children:[I.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight mb-1",children:D.label}),I.jsx("div",{className:`text-xl md:text-2xl font-black text-${D.color}-600`,children:D.value})]},B))})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"  Question Insights"]}),I.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:c.map((D,B)=>{const F=D.accuracy===Math.min(...c.map(M=>M.accuracy))&&D.accuracy<100,U=D.accuracy<40?"bg-red-500":D.accuracy<70?"bg-amber-500":"bg-emerald-500";return I.jsxs("div",{className:"space-y-1.5 slice-in-q",style:{animationDelay:`${B*100}ms`},children:[I.jsxs("div",{className:"flex justify-between items-end",children:[I.jsxs("span",{className:"text-xs font-bold text-slate-600 flex items-center gap-2",children:[D.name,F&&I.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-1.5 py-0.5 rounded font-black tracking-widest uppercase",children:"Hardest"})]}),I.jsxs("span",{className:"text-[10px] font-mono font-bold text-slate-400",children:[I.jsxs("span",{className:"text-slate-800",children:[D.accuracy,"%"]})," (",D.count,"/",D.total,")"]})]}),I.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:I.jsx(xi.div,{initial:{width:0},animate:{width:`${D.accuracy}%`},transition:{duration:1,delay:.2+B*.1},className:`h-full ${U} rounded-full`})})]},B)})})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[I.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"  AI Reading Skills"]}),I.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:h.map((D,B)=>I.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-center",children:[I.jsxs("div",{className:"flex justify-between items-center mb-2",children:[I.jsx("span",{className:"text-xs font-bold text-slate-700",children:D.name}),I.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[D.value,"%"]})]}),I.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:I.jsx(xi.div,{initial:{width:0},animate:{width:`${D.value}%`},transition:{duration:1,delay:.5+B*.2},className:"h-full rounded-full",style:{backgroundColor:D.color}})})]},B))})]})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[I.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[I.jsx("div",{className:"w-1 h-5 md:h-6 bg-emerald-500 rounded-full"}),I.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Correct Answer Rate"})]}),I.jsx("div",{className:"h-40 md:h-48",children:I.jsx(fy,{width:"100%",height:"100%",children:I.jsxs(Pz,{data:c,children:[I.jsx(I1,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94a3b8"}}),I.jsx(P1,{hide:!0,domain:[0,100]}),I.jsx(ky,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"10px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:D=>[`${D}%`,"Accuracy"]}),I.jsx(C1,{dataKey:"accuracy",fill:"#10b981",radius:[4,4,0,0]})]})})})]}),I.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[I.jsx("div",{className:"w-1 h-5 md:h-6 bg-purple-500 rounded-full"}),I.jsx("h3",{className:"font-bold text-slate-700 text-sm md:text-base",children:"Skills Breakdown"})]}),I.jsx("div",{className:"h-40 md:h-48 flex items-center justify-center",children:I.jsx(fy,{width:"100%",height:"100%",children:I.jsxs(Mz,{children:[I.jsx(S1,{data:h,innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",stroke:"none",children:h.map((D,B)=>I.jsx(Pa,{fill:D.color},`cell-${B}`))}),I.jsx(ky,{}),I.jsx(vF,{iconType:"circle",layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[I.jsxs("div",{className:"bg-emerald-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-emerald-100 text-center md:text-left",children:[I.jsx("div",{className:"text-emerald-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Total Players"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-emerald-700",children:i.length})]}),I.jsxs("div",{className:"bg-emerald-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-emerald-100 text-center md:text-left",children:[I.jsx("div",{className:"text-emerald-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Fastest Time"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-emerald-700",children:i.length>0?i.sort((D,B)=>D.time-B.time)[0].time+"s":"-"})]}),I.jsxs("div",{className:"bg-orange-50 p-2 md:p-4 rounded-xl md:rounded-2xl border border-orange-100 text-center md:text-left",children:[I.jsx("div",{className:"text-orange-400 text-[8px] md:text-xs font-bold uppercase tracking-wider mb-1",children:"Completion Rate"}),I.jsx("div",{className:"text-xl md:text-3xl font-black text-orange-700",children:"100%"})]})]})]})]}),I.jsxs("div",{className:"w-full md:w-1/3 bg-white flex flex-col border-t md:border-t-0 md:border-l border-slate-100 shadow-xl z-20 flex-1 min-h-0",children:[I.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-600 to-teal-700 text-white shrink-0 relative",children:[I.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/70 hover:text-white bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),I.jsx("h2",{className:"text-xl font-black uppercase tracking-wider mb-1",children:"Leaderboard"}),I.jsx("p",{className:"text-emerald-100 text-xs font-bold opacity-80 mb-2",children:"TOP 10 PLAYERS"}),I.jsx("button",{onClick:k,className:"text-[10px] bg-red-500/20 hover:bg-red-500/40 text-red-200 px-2 py-1 rounded border border-red-500/30 transition-colors",children:"Reset Data"}),I.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[I.jsx("span",{className:`w-2 h-2 rounded-full ${x==="connected"?"bg-emerald-400":x==="connecting"?"bg-yellow-400 animate-pulse":"bg-red-500"}`}),I.jsx("span",{className:"text-[10px] font-mono opacity-80 uppercase tracking-widest",children:x==="connected"?"LIVE SYNC":x==="error"?"OFFLINE (LOCAL)":"CONNECTING..."})]}),S&&I.jsx("div",{className:"text-[9px] text-red-200 mt-1 max-w-[200px] leading-tight bg-red-900/50 p-1 rounded",children:S})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-0",children:[a&&I.jsx("div",{className:"bg-red-100 text-red-800 text-xs font-bold p-2 text-center",children:"FULL LEADERBOARD (999 people)."}),n.length===0?I.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-8 text-center",children:[I.jsx("div",{className:"text-4xl mb-2",children:""}),I.jsx("div",{className:"font-medium text-sm",children:"No records yet."}),I.jsx("div",{className:"text-xs opacity-70",children:"Be the first to join the hall of fame!"})]}):I.jsx("div",{className:"divide-y divide-slate-50",children:n.map((D,B)=>I.jsxs("div",{className:"flex items-center p-4 hover:bg-emerald-50/50 transition-colors group",children:[I.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-xs mr-3 shrink-0 shadow-sm
                                            ${B===0?"bg-yellow-400 text-yellow-900 ring-2 ring-yellow-200":B===1?"bg-slate-300 text-slate-700":B===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400 group-hover:bg-emerald-200 group-hover:text-emerald-700"}
                                        `,children:B+1}),I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("div",{className:"font-bold text-slate-700 truncate text-sm",children:D.name})}),I.jsxs("div",{className:"font-bold text-emerald-600 text-sm shrink-0",children:[D.score||0," pts"]}),I.jsxs("div",{className:"font-black text-emerald-600 text-sm shrink-0 bg-emerald-50 px-2 py-1 rounded",children:[D.time,"s"]})]},B))})]})]})]}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
                
                @keyframes sliceInQ {
                    from { opacity: 0; transform: translateX(-10px); }
                    to { opacity: 1; transform: translateX(0); }
                }
                .slice-in-q {
                    animation: sliceInQ 0.4s ease forwards;
                }
            `}})]})},Iwe=({onClose:t})=>{var E;const[e,n]=A.useState([]),[r,i]=A.useState(null),[o,a]=A.useState(0),[u,c]=A.useState(!0);A.useEffect(()=>{const x=v9(lC(ov,"leaderboard"),qS("name","asc")),w=_9(x,S=>{const P=S.docs.map(k=>k.data());n(P),c(!1)});return()=>w()},[]);const f=()=>{o<Ic.length-1&&a(x=>x+1)},h=()=>{o>0&&a(x=>x-1)},p=Ic[o],g=(E=r==null?void 0:r.selectedAnswers)==null?void 0:E[p.id];return I.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 flex flex-col h-screen overflow-hidden font-sans",children:[I.jsx("div",{className:"bg-white border-b border-slate-200 p-4 shrink-0 shadow-sm z-10",children:I.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:I.jsx(Ac,{size:24,className:"text-slate-400"})}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Review Student Work"}),I.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Teacher Dashboard  Analytics"})]})]}),I.jsx("div",{className:"flex flex-1 max-w-md gap-2",children:I.jsxs("div",{className:"relative flex-1",children:[I.jsxs("select",{onChange:x=>{const w=e.find(S=>`${S.name}-${S.date}`===x.target.value);i(w||null),a(0)},className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-emerald-500 appearance-none",children:[I.jsx("option",{value:"",children:"Select a Student..."}),e.map((x,w)=>I.jsxs("option",{value:`${x.name}-${x.date}`,children:[x.name," (",x.className,")  ",x.score,"/80  ",Math.floor(x.time/60),"m ",x.time%60,"s"]},w))]}),I.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:I.jsx(Bc,{size:16,className:"rotate-90"})})]})})]})}),I.jsx("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden min-h-0 bg-slate-100 gap-4 md:gap-5 p-4 md:p-6 lg:p-8",children:u?I.jsx("div",{className:"flex-1 flex items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):r?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex-1 bg-white rounded-2xl md:rounded-3xl border border-slate-200 overflow-hidden flex flex-col shadow-sm max-h-[40vh] md:max-h-full",children:[I.jsx("div",{className:"p-4 border-b border-slate-100 bg-white sticky top-0 shrink-0",children:I.jsx("p",{className:"text-[10px] uppercase font-black tracking-widest text-emerald-600",children:"Reading Context"})}),I.jsx("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 prose prose-emerald max-w-none custom-scrollbar-thin",children:H3.split(`
`).map((x,w)=>x.startsWith("# ")?I.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-4",children:x.replace("# ","")},w):x.startsWith("**")?I.jsx("h3",{className:"text-sm md:text-base font-bold text-emerald-700 mt-4 mb-2",children:x.replaceAll("**","")},w):I.jsx("p",{className:"mb-3 text-slate-600 text-sm md:text-base leading-relaxed",children:x},w))})]}),I.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-2xl md:rounded-3xl border border-slate-200 shadow-lg overflow-hidden",children:[I.jsxs("div",{className:"bg-emerald-600 p-4 text-white shrink-0",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:I.jsx(sx,{size:16})}),I.jsx("span",{className:"font-bold text-sm",children:r.name})]}),I.jsxs("div",{className:"flex gap-4 text-xs font-bold text-emerald-100",children:[I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(Sw,{size:14})," ",r.score,"/80"]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(xw,{size:14})," ",Math.floor(r.time/60),"m ",r.time%60,"s"]})]})]}),I.jsxs("div",{className:"flex justify-between items-center bg-black/10 px-3 py-2 rounded-xl text-xs font-bold border border-white/10 uppercase tracking-widest",children:["Question ",o+1," of 8",I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:h,disabled:o===0,className:"p-1 hover:bg-white/20 rounded disabled:opacity-30",children:I.jsx(B3,{size:16})}),I.jsx("button",{onClick:f,disabled:o===Ic.length-1,className:"p-1 hover:bg-white/20 rounded disabled:opacity-30",children:I.jsx(Bc,{size:16})})]})]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-5 md:p-8 custom-scrollbar-thin",children:[I.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-6",children:p.question}),I.jsx("div",{className:"space-y-3",children:p.options.map(x=>{const w=x.id===p.correctAnswerId,S=g===x.id;let P="border-slate-100",k="bg-slate-50";return w?(P="border-emerald-500",k="bg-emerald-50"):S&&!w&&(P="border-red-500",k="bg-red-50"),I.jsxs("div",{className:`p-4 rounded-2xl border-2 flex items-center gap-4 transition-all ${P} ${k}`,children:[I.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-sm shrink-0 
                                                    ${w?"bg-emerald-500 text-white":S?"bg-red-500 text-white":"bg-slate-200 text-slate-500"}`,children:x.id}),I.jsx("span",{className:`text-sm md:text-base font-medium flex-1 ${w?"text-emerald-900":S?"text-red-900":"text-slate-600"}`,children:x.text}),I.jsxs("div",{className:"flex items-center gap-2",children:[S&&I.jsx("span",{className:"bg-slate-900/5 px-2 py-0.5 rounded-md text-[9px] font-black tracking-tighter text-slate-400 uppercase",children:"Student"}),w&&I.jsx("div",{className:"bg-emerald-500 text-white p-1 rounded-full",children:I.jsx(Xd,{size:14})}),S&&!w&&I.jsx("div",{className:"bg-red-500 text-white p-1 rounded-full",children:I.jsx(WY,{size:14})})]})]},x.id)})}),!g&&I.jsxs("div",{className:"mt-8 p-4 bg-amber-50 border border-amber-100 rounded-2xl flex items-start gap-3",children:[I.jsx(j3,{className:"text-amber-500 shrink-0 mt-0.5",size:20}),I.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"No answer data available for this question. This might be from an older session or was skipped."})]})]})]})]}):I.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white rounded-3xl border border-dashed border-slate-300",children:[I.jsx("div",{className:"bg-emerald-50 p-6 rounded-full text-emerald-500 mb-4",children:I.jsx(sx,{size:48})}),I.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"No Student Selected"}),I.jsx("p",{className:"text-slate-500",children:"Pick a student from the dropdown to review their answers."})]})}),I.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar-thin::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
                .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
            `}})]})},QU=({isOpen:t,onClose:e,title:n,children:r})=>t?I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-300",children:[I.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-slate-50",children:[I.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n}),I.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:I.jsx(Ac,{size:24})})]}),I.jsx("div",{className:"p-6",children:r})]})}):null,Pwe=({points:t,streak:e,onOpenSettings:n,isTeacherMode:r,onReview:i,onLeaderboard:o,onExitTeacher:a,onTeacherLogin:u,settings:c})=>I.jsx("header",{className:"sticky top-0 z-40 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm",children:I.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"p-2 rounded-lg text-white bg-emerald-600",children:I.jsx(cv,{size:20})}),I.jsxs("div",{children:[I.jsx("span",{className:"font-bold text-slate-800 hidden sm:block",children:"Eng10: New Ways to Learn"}),r&&I.jsx("span",{className:"text-[10px] bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full font-bold ml-2 animate-pulse",children:" TEACHER MODE"})]})]}),I.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r?I.jsxs(I.Fragment,{children:[I.jsxs("button",{onClick:i,className:"px-3 py-1.5 bg-emerald-50 text-emerald-600 rounded-lg text-sm font-bold hover:bg-emerald-100 transition-colors flex items-center gap-1",children:[I.jsx(XY,{size:16})," Review"]}),I.jsxs("button",{onClick:o,className:"px-3 py-1.5 bg-amber-50 text-amber-600 rounded-lg text-sm font-bold hover:bg-amber-100 transition-colors flex items-center gap-1",children:[I.jsx(Sw,{size:16})," Rankings"]}),I.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-red-500 transition-colors",title:"Exit Teacher Mode",children:I.jsx(z3,{size:20})})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 text-amber-600 px-3 py-1 rounded-full border border-amber-100",children:[I.jsx("span",{className:"text-lg",children:""}),I.jsx("span",{className:"font-bold",children:e})]}),I.jsxs("div",{className:"flex items-center gap-1 bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full border border-emerald-100",children:[I.jsx(Tw,{size:18}),I.jsxs("span",{className:"font-bold",children:[t," pts"]})]})]}),I.jsx("div",{className:"flex items-center gap-2",children:I.jsx("button",{onClick:n,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors relative",children:I.jsx(qY,{size:20})})})]})]})});function Rwe(){const[t,e]=A.useState("home"),[n,r]=A.useState(sW),[i,o]=A.useState(aW),[a,u]=A.useState({apiKey:"",theme:"light",soundEnabled:!0,selectedModel:Ll[0]}),[c,f]=A.useState(null),[h,p]=A.useState(0),[g,E]=A.useState(!1),[x,w]=A.useState(!1),[S,P]=A.useState(!1),[k,D]=A.useState(!1),[B,F]=A.useState(null),[U,M]=A.useState(!1),[O,V]=A.useState([]),[z,q]=A.useState(""),[H,$]=A.useState(!1),[ve,Ee]=A.useState(null),[X,ie]=A.useState(!1),[fe,Te]=A.useState(null),[W,L]=A.useState("intro"),[K,Z]=A.useState(0),[ae,ge]=A.useState(!1),[_e,be]=A.useState({}),[Me,oe]=A.useState(!1),[Ce,Pe]=A.useState(""),[de,$e]=A.useState(!1),{isHighlighterActive:we,toggleHighlighter:et,addHighlight:st,renderHighlightedText:Nt}=q3(),[hn]=Cc(q_.correct),[bt]=Cc(q_.incorrect),[ft]=Cc(q_.levelUp),Ir=A.useRef(null);A.useEffect(()=>{const Se=localStorage.getItem("app_settings"),qe=localStorage.getItem("app_progress"),je=localStorage.getItem("app_passages");Se&&u(JSON.parse(Se)),qe&&o(JSON.parse(qe)),je&&r(JSON.parse(je))},[]),A.useEffect(()=>{Ir.current&&Ir.current.scrollIntoView({behavior:"smooth"})},[O,U]);const Qa=(Se,qe)=>{F({message:Se,type:qe}),setTimeout(()=>F(null),3e3)},ei=Se=>{u(Se),localStorage.setItem("app_settings",JSON.stringify(Se))},ln=(Se,qe)=>{const je={...i};je.totalPoints+=Se,je.totalQuestionsAnswered+=1;const at=1+Math.floor(Math.sqrt(je.totalPoints/100));at>(je.level||1)?(je.level=at,a.soundEnabled&&ft(),$(!0)):je.level=at,qe&&c&&(je.completedPassages.includes(c.passageId)||je.completedPassages.push(c.passageId)),o(je),localStorage.setItem("app_progress",JSON.stringify(je))},Ri=Se=>{f({passageId:Se,answers:{},score:0,startTime:Date.now(),isCompleted:!1}),p(0),E(!1),w(!1),e("learn")},ro=Se=>{if(!c)return;const qe=n.find(Mi=>Mi.id===c.passageId);if(!qe)return;const je=qe.questions[h],at=Se===je.correctAnswerId,tt={...c.answers,[je.id]:Se};let Dt=c.score;at?(Dt+=10,ln(10,!1),a.soundEnabled&&hn(),Ee("correct")):(a.soundEnabled&&bt(),Ee("incorrect")),setTimeout(()=>Ee(null),2e3),f({...c,answers:tt,score:Dt}),E(!0),w(!0)},$o=()=>{if(!c)return;const Se=n.find(qe=>qe.id===c.passageId);Se&&(h<Se.questions.length-1?(p(qe=>qe+1),E(!1),w(!1)):(f({...c,isCompleted:!0}),ln(0,!0)))},Br=async()=>{if(!z.trim()||!a.apiKey)return;const Se=z;V([...O,{role:"user",text:Se}]),q("");const qe=c?n.find(tt=>tt.id===c.passageId):null,je=qe?qe.content:"General inquiry about English reading comprehension.",at=new Dne(a.apiKey,a.selectedModel);try{const tt=await at.getTutorHelp(Se,je);V(Dt=>[...Dt,{role:"ai",text:tt}])}catch{V(Dt=>[...Dt,{role:"ai",text:"Error connecting to tutor."}])}},Ko=Se=>{if(!c)return;const qe=n.find(je=>je.id===c.passageId);qe&&st(c.passageId,Se,qe.content.split(`
`)[Se])},Yo=(Se,qe)=>{Te({name:Se,className:qe,startTime:Date.now()}),Z(0),be({}),ie(!1),L("playing")},io=()=>{L("gameover")},Fs=(Se,qe)=>{Z(Se),be(qe),L("win")},Vn=()=>{L("intro"),Te(null),ie(!0)},Cn=async()=>{if(!fe||ae)return;const Se=Math.round((Date.now()-fe.startTime)/1e3),qe=new Date().toISOString().slice(0,16).replace("T"," "),je={name:fe.name,className:fe.className,time:Se,score:K,date:qe,selectedAnswers:_e};try{await vwe(lC(ov,"leaderboard"),je)}catch(Dt){console.error("Firebase save error:",Dt)}const at=localStorage.getItem("leaderboardLEARNINGQUEST");let tt=at?JSON.parse(at):[];tt.length<999&&(tt.push(je),localStorage.setItem("leaderboardLEARNINGQUEST",JSON.stringify(tt)))},yr=()=>{oe(!0),Pe(""),$e(!1)},$t=()=>{Ce==="1234"?(ge(!0),oe(!1),Qa("Teacher Mode Activated","success")):($e(!0),setTimeout(()=>$e(!1),2e3))},Za=()=>{const Se=i.level||1,qe=100*Math.pow(Se-1,2),je=100*Math.pow(Se,2);return Math.min(100,Math.max(0,(i.totalPoints-qe)/(je-qe)*100)),I.jsx("div",{className:"space-y-4 md:space-y-8 animate-in slide-in-from-bottom-4 duration-500 pb-20 md:pb-0",children:I.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 rounded-2xl md:rounded-3xl p-6 md:p-10 text-white shadow-xl relative overflow-hidden flex flex-col items-center text-center",children:[I.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto",children:[I.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-md px-4 py-1.5 rounded-lg border border-white/30 text-white font-bold text-xs md:text-sm uppercase tracking-widest mb-4 md:mb-6",children:" SMART LEARNING CHALLENGE"}),I.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-2 md:mb-4 tracking-tight leading-tight",children:"English 10  New Ways to Learn"}),I.jsx("p",{className:"text-emerald-50 text-lg md:text-xl font-medium mb-6 md:mb-8",children:"Explore the future of education"}),I.jsxs("div",{className:"flex justify-center items-center gap-2 text-emerald-50 text-sm md:text-lg font-medium mb-8 md:mb-10",children:[I.jsx(xw,{size:20}),I.jsx("span",{children:"Time limit: 7 minutes"})]}),I.jsx("button",{onClick:()=>ie(!0),className:"bg-[#F59E0B] text-white px-8 py-4 md:px-12 md:py-5 rounded-2xl font-black text-lg md:text-xl shadow-lg hover:shadow-xl hover:bg-[#D97706] hover:scale-105 transition-all active:scale-95 flex items-center justify-center gap-3 mx-auto uppercase tracking-wide border-b-4 border-amber-700",children:" START CHALLENGE"})]}),I.jsx("div",{className:"absolute right-[-50px] top-[-50px] opacity-10 pointer-events-none rotate-12",children:I.jsx(vg,{size:400})}),I.jsx("div",{className:"absolute left-[-50px] bottom-[-50px] opacity-5 pointer-events-none -rotate-12",children:I.jsx(Sw,{size:300})})]})})},js=()=>{if(!c)return Za();const Se=n.find(at=>at.id===c.passageId);if(!Se)return null;if(c.isCompleted)return I.jsxs("div",{className:"max-w-2xl mx-auto text-center pt-12 animate-in zoom-in duration-300",children:[I.jsx("div",{className:"inline-block p-6 bg-emerald-100 rounded-full text-emerald-600 mb-6",children:I.jsx(Tw,{size:64})}),I.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Lesson Complete!"}),I.jsxs("p",{className:"text-slate-500 mb-8",children:["You scored ",I.jsx("span",{className:"font-bold text-emerald-600",children:c.score})," points."]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[I.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Accuracy"}),I.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(Object.keys(c.answers).filter(at=>{const tt=Se.questions.find(Dt=>Dt.id===at);return tt&&tt.correctAnswerId===c.answers[at]}).length/Se.questions.length*100),"%"]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[I.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Time"}),I.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round((Date.now()-c.startTime)/1e3/60)," min"]})]})]}),I.jsxs("div",{className:"flex gap-4 justify-center",children:[I.jsx("button",{onClick:()=>f(null),className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-xl font-bold hover:bg-slate-300 transition-colors",children:"Back to Home"}),I.jsx("button",{onClick:()=>Ri(Se.id),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:"Retry Lesson"})]})]});const qe=Se.questions[h],je=!!c.answers[qe.id];return I.jsxs("div",{className:"h-[calc(100vh-100px)] flex flex-row gap-2 md:gap-6 relative",children:[I.jsx(iW,{type:ve}),I.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden flex flex-col relative group",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 z-10"}),I.jsxs("div",{className:"p-2 md:p-4 bg-white/80 backdrop-blur-md border-b border-slate-100 flex justify-between items-center sticky top-0 z-10",children:[I.jsx("div",{className:"flex items-center gap-2",children:I.jsxs("h3",{className:"font-bold text-slate-800 truncate flex items-center gap-2 text-sm md:text-base",children:[I.jsx(cv,{size:18,className:"text-indigo-600"}),Se.title]})}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsxs("button",{onClick:et,className:`p-1.5 md:p-2 rounded-lg transition-all flex items-center gap-2 text-xs md:text-sm font-bold ${we?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-400 ring-offset-1":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,title:"Toggle Highlighter",children:[I.jsx(F3,{size:14}),I.jsx("span",{className:"hidden sm:inline",children:"Highlight"})]}),I.jsx("span",{className:"text-[10px] md:text-xs font-bold font-mono bg-indigo-50 text-indigo-600 px-2 py-1 md:px-3 md:py-1.5 rounded-full border border-indigo-100 uppercase tracking-wide hidden sm:inline-block",children:"Reading Passage"})]})]}),I.jsx("div",{className:"p-3 md:p-8 overflow-y-auto custom-scrollbar flex-1 prose prose-slate max-w-none prose-sm md:prose-lg prose-headings:text-indigo-900 prose-p:text-slate-800 prose-p:leading-loose font-medium",style:{backgroundImage:`
                linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.6)),
                url('/reading-bg.jpg.png?v=${Date.now()}')
              `,backgroundSize:"cover",backgroundPosition:"center"},children:Se.content.split(`
`).map((at,tt)=>I.jsx("p",{className:`mb-4 md:mb-6 text-slate-800 leading-relaxed md:leading-loose text-sm md:text-lg drop-shadow-sm ${we?"cursor-text selection:bg-red-200 selection:text-red-900":""}`,onMouseUp:()=>Ko(tt),onTouchEnd:()=>Ko(tt),children:Nt(at.replace(/^# /,"").trim(),c.passageId,tt)},tt))})]}),I.jsxs("div",{className:"flex-1 flex flex-col gap-2 md:gap-4 min-w-0",children:[I.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-3 md:p-6 flex-1 flex flex-col overflow-y-auto",children:[I.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-6",children:[I.jsxs("span",{className:"text-xs md:text-sm font-semibold text-slate-400",children:["Question ",h+1," of ",Se.questions.length]}),I.jsx("div",{className:"flex gap-1",children:Se.questions.map((at,tt)=>I.jsx("div",{className:`h-1.5 w-1.5 md:h-2 md:w-2 rounded-full ${tt===h?"bg-indigo-600":tt<h?"bg-indigo-200":"bg-slate-200"}`},tt))})]}),I.jsx("h3",{className:"text-base md:text-xl font-bold text-slate-800 mb-3 md:mb-6",children:qe.text}),I.jsx("div",{className:"space-y-2 md:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-1",children:qe.options.map(at=>{const tt=c.answers[qe.id]===at.id,Dt=at.id===qe.correctAnswerId;let Mi="w-full p-3 md:p-4 rounded-xl border-2 text-left transition-all duration-200 flex justify-between items-center text-sm md:text-base ";return g?Dt?Mi+="bg-emerald-50 border-emerald-500 text-emerald-700 ":tt&&!Dt?Mi+="bg-red-50 border-red-500 text-red-700 ":Mi+="bg-white border-slate-100 text-slate-400 opacity-50 ":Mi+="bg-white border-slate-100 hover:border-indigo-300 hover:bg-indigo-50 text-slate-700 ",I.jsxs("button",{onClick:()=>!je&&ro(at.id),disabled:je,className:Mi,children:[I.jsx("span",{className:"font-medium pr-2",children:at.text}),g&&Dt&&I.jsx(Xd,{size:16,className:"text-emerald-500 shrink-0"}),g&&tt&&!Dt&&I.jsx(Ac,{size:16,className:"text-red-500 shrink-0"})]},at.id)})}),g&&I.jsxs("div",{className:"mt-4 md:mt-6 animate-in slide-in-from-bottom-2",children:[x&&I.jsxs("div",{className:"bg-indigo-50 p-3 md:p-4 rounded-lg text-xs md:text-sm text-indigo-800 mb-3 md:mb-4 border border-indigo-100 max-h-32 overflow-y-auto custom-scrollbar",children:[I.jsxs("p",{className:"font-bold flex items-center gap-2 mb-1",children:[I.jsx(vg,{size:14})," Explanation:"]}),qe.explanation]}),I.jsx("button",{onClick:$o,className:"w-full bg-indigo-600 text-white py-2 md:py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-md text-sm md:text-base",children:h===Se.questions.length-1?"Finish Lesson":"Next Question"})]})]}),a.apiKey&&I.jsxs("button",{onClick:()=>M(!0),className:"bg-emerald-600 text-white p-3 md:p-4 rounded-xl shadow-lg flex items-center justify-between hover:bg-emerald-700 transition-colors",children:[I.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[I.jsx("div",{className:"bg-white/20 p-1.5 md:p-2 rounded-lg",children:I.jsx(cN,{size:16,className:"md:w-5 md:h-5"})}),I.jsxs("div",{className:"text-left",children:[I.jsx("div",{className:"font-bold text-xs md:text-sm",children:"Need help?"}),I.jsx("div",{className:"text-[10px] md:text-xs text-emerald-100 hidden sm:block",children:"Ask the AI Tutor about this text"})]})]}),I.jsx(Bc,{size:16,className:"md:w-5 md:h-5"})]})]})]})},vu=()=>I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in",children:[I.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[I.jsx(vY,{className:"text-blue-500"})," Performance"]}),I.jsx("div",{className:"h-64",children:I.jsx(fy,{width:"100%",height:"100%",children:I.jsxs(Pz,{data:[{name:"Mon",pts:20},{name:"Tue",pts:45},{name:"Wed",pts:30},{name:"Thu",pts:50},{name:"Fri",pts:i.totalPoints>50?i.totalPoints:55}],children:[I.jsx(I1,{dataKey:"name",fontSize:12,stroke:"#94a3b8"}),I.jsx(P1,{fontSize:12,stroke:"#94a3b8"}),I.jsx(ky,{}),I.jsx(C1,{dataKey:"pts",fill:"#4f46e5",radius:[4,4,0,0]})]})})})]}),I.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[I.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[I.jsx(vg,{className:"text-purple-500"})," Skills Breakdown"]}),I.jsx("div",{className:"h-64",children:I.jsx(fy,{width:"100%",height:"100%",children:I.jsxs(Mz,{children:[I.jsxs(S1,{data:[{name:"Vocabulary",value:400},{name:"Inference",value:300},{name:"Main Idea",value:300}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[I.jsx(Pa,{fill:"#60a5fa"}),I.jsx(Pa,{fill:"#34d399"}),I.jsx(Pa,{fill:"#f472b6"})]}),I.jsx(ky,{})]})})})]})]});return I.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-emerald-100 selection:text-emerald-900",children:[X&&I.jsx(l_e,{onStart:Yo,onClose:()=>ie(!1),onTeacherLogin:yr}),W==="playing"&&I.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:I.jsx(Swe,{onGameOver:io,onWin:Fs,isTeacherMode:ae})}),W==="gameover"&&I.jsx(wwe,{onPlayAgain:Vn,onBackToMap:()=>L("intro")}),W==="win"&&fe&&I.jsx(Awe,{name:fe.name,score:K,completionTime:Math.round((Date.now()-fe.startTime)/1e3),onPlayAgain:Vn,onLeaderboard:()=>{Cn(),L("leaderboard")}}),W==="leaderboard"&&I.jsx(Cwe,{onClose:Vn,isTeacherMode:ae}),W==="review"&&I.jsx(Iwe,{onClose:Vn}),I.jsx(Pwe,{points:i.totalPoints,streak:i.streakDays,onOpenSettings:()=>P(!0),isTeacherMode:ae,onReview:()=>L("review"),onLeaderboard:()=>L("leaderboard"),onExitTeacher:()=>{ge(!1),L("intro")},onTeacherLogin:yr,settings:a}),I.jsxs("div",{className:`transition-all ${W==="playing"?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[I.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[t==="home"&&Za(),t==="learn"&&js(),t==="stats"&&vu()]}),I.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 z-30 flex justify-around shadow-[0_-5px_15px_rgba(0,0,0,0.05)]",children:[I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"Level"}),I.jsx("span",{className:"text-emerald-600 font-bold",children:i.level})]}),I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"Streak"}),I.jsxs("span",{className:"text-orange-500 font-bold",children:[i.streakDays," "]})]}),I.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[I.jsx("span",{className:"text-xs font-bold",children:"PTS"}),I.jsx("span",{className:"text-emerald-500 font-bold",children:i.totalPoints})]})]})]}),U&&I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-white w-full max-w-lg h-[600px] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in slide-in-from-bottom-4 duration-300",children:[I.jsxs("div",{className:"bg-emerald-600 p-4 flex justify-between items-center text-white",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:I.jsx(cN,{size:20})}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold",children:"AI Tutor"}),I.jsx("p",{className:"text-xs text-emerald-100",children:"Ask about meanings, grammar, or summary"})]})]}),I.jsx("button",{onClick:()=>M(!1),className:"hover:bg-white/20 p-2 rounded-full transition-colors",children:I.jsx(Ac,{})})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[O.length===0&&I.jsxs("div",{className:"text-center text-slate-400 mt-10",children:[I.jsx("p",{children:" Hi! Im your AI Tutor."}),I.jsx("p",{className:"text-sm mt-2",children:"Ask me anything about the lesson!"})]}),O.map((Se,qe)=>I.jsx("div",{className:`flex ${Se.role==="user"?"justify-end":"justify-start"}`,children:I.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl ${Se.role==="user"?"bg-emerald-600 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 shadow-sm rounded-tl-none"}`,children:Se.text})},qe)),I.jsx("div",{ref:Ir})]}),I.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-2",children:[I.jsx("input",{value:z,onChange:Se=>q(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&Br(),placeholder:"Type your question...",className:"flex-1 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-slate-50"}),I.jsx("button",{onClick:Br,className:"bg-emerald-600 text-white p-3 rounded-xl hover:bg-emerald-700 transition-colors shadow-sm",children:I.jsx(Bc,{})})]})]})}),B&&I.jsxs("div",{className:`fixed top-24 right-4 z-50 px-6 py-3 rounded-xl shadow-xl text-white font-medium animate-in slide-in-from-right fade-in duration-300 flex items-center gap-2 ${B.type==="success"?"bg-emerald-500":"bg-red-500"}`,children:[B.type==="success"?I.jsx(Xd,{size:20}):I.jsx(Ac,{size:20}),B.message]}),I.jsx(QU,{isOpen:S,onClose:()=>P(!1),title:"Settings",children:I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"API Key (Gemini)"}),I.jsxs("div",{className:"relative group",children:[I.jsx(MY,{className:"absolute left-3 top-3 text-slate-400",size:16}),I.jsx("input",{type:"password",value:a.apiKey,onChange:Se=>ei({...a,apiKey:Se.target.value}),placeholder:"Enter your Google Gemini API Key",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none text-sm font-mono transition-all"})]}),I.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 flex items-center gap-1",children:[I.jsx(j3,{size:12,className:"text-emerald-500"}),I.jsxs("span",{children:["Ly API key ti ",I.jsx("a",{href:"https://aistudio.google.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 font-bold hover:underline",children:"Google AI Studio"})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"AI Model"}),I.jsx("div",{className:"space-y-2",children:Ll.map(Se=>I.jsxs("button",{onClick:()=>ei({...a,selectedModel:Se}),className:`w-full p-3 rounded-xl border-2 text-left transition-all flex justify-between items-center ${a.selectedModel===Se?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-100 bg-slate-50 text-slate-500 hover:border-slate-200"}`,children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-bold text-sm tracking-tight",children:Se}),I.jsx("span",{className:"text-[10px] opacity-70",children:Se==="gemini-3-flash-preview"?"Cn bng tc  v tr tu":Se==="gemini-3-pro-preview"?"Thng minh nht":"Nh gn & hiu qu"})]}),a.selectedModel===Se&&I.jsx(Xd,{size:16})]},Se))})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Theme"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>ei({...a,theme:"light"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${a.theme==="light"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Light"}),I.jsx("button",{onClick:()=>ei({...a,theme:"dark"}),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium transition-all ${a.theme==="dark"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Dark"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Sound Effects"}),I.jsx("button",{onClick:()=>ei({...a,soundEnabled:!a.soundEnabled}),className:`w-full py-2 px-4 rounded-lg border text-sm font-medium transition-all flex items-center justify-center gap-2 ${a.soundEnabled?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:a.soundEnabled?" Enabled":" Muted"})]}),I.jsx("div",{className:"pt-4 border-t border-slate-100",children:I.jsxs("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full py-2 px-4 rounded-lg border border-red-200 text-red-600 text-sm font-medium hover:bg-red-50 flex items-center justify-center gap-2",children:[I.jsx(z3,{size:16})," Reset All Progress"]})})]})}),I.jsx(oW,{isOpen:H,level:i.level,onClose:()=>$(!1)}),I.jsx(QU,{isOpen:Me,onClose:()=>oe(!1),title:"Teacher Verification",children:I.jsxs("div",{className:"space-y-4",children:[I.jsx("p",{className:"text-sm text-slate-500 font-medium text-center",children:"Enter your Teacher PIN to continue."}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("input",{type:"password",placeholder:"",value:Ce,onChange:Se=>{Pe(Se.target.value),$e(!1)},onKeyDown:Se=>Se.key==="Enter"&&$t(),className:`w-full bg-slate-50 border ${de?"border-red-500 focus:ring-red-500":"border-slate-200 focus:ring-indigo-500"} rounded-xl px-4 py-3 text-2xl font-black tracking-[0.5em] text-center outline-none focus:ring-2 transition-all`,autoFocus:!0}),de&&I.jsx(xi.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-xs text-red-500 font-bold text-center",children:"Incorrect PIN."})]}),I.jsx("button",{onClick:$t,className:"w-full bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 transition-colors shadow-lg active:scale-95 transform",children:"Unlock Mode"})]})})]})}const T9=document.getElementById("root");if(!T9)throw new Error("Could not find root element to mount to");const Mwe=dG.createRoot(T9);Mwe.render(I.jsx(yi.StrictMode,{children:I.jsx(Rwe,{})}));export{Dwe as c,Ho as g};
